!function(e){function t(t){for(var n,i,s=t[0],o=t[1],d=t[2],u=0,f=[];u<s.length;u++)i=s[u],Object.prototype.hasOwnProperty.call(l,i)&&l[i]&&f.push(l[i][0]),l[i]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);for(c&&c(t);f.length;)f.shift()();return r.push.apply(r,d||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],n=!0,s=1;s<a.length;s++){var o=a[s];0!==l[o]&&(n=!1)}n&&(r.splice(t--,1),e=i(i.s=a[0]))}return e}var n={},l={17:0},r=[];function i(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.e=function(e){var t=[],a=l[e];if(0!==a)if(a)t.push(a[2]);else{var n=new Promise((function(t,n){a=l[e]=[t,n]}));t.push(a[2]=n);var r,s=document.createElement("script");s.charset="utf-8",s.timeout=120,i.nc&&s.setAttribute("nonce",i.nc),s.src=function(e){return i.p+""+({}[e]||e)+".js"}(e);var o=new Error;r=function(t){s.onerror=s.onload=null,clearTimeout(d);var a=l[e];if(0!==a){if(a){var n=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;o.message="Loading chunk "+e+" failed.\n("+n+": "+r+")",o.name="ChunkLoadError",o.type=n,o.request=r,a[1](o)}l[e]=void 0}};var d=setTimeout((function(){r({type:"timeout",target:s})}),12e4);s.onerror=s.onload=r,document.head.appendChild(s)}return Promise.all(t)},i.m=e,i.c=n,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(a,n,function(t){return e[t]}.bind(null,n));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i.oe=function(e){throw console.error(e),e};var s=window.webpackJsonp=window.webpackJsonp||[],o=s.push.bind(s);s.push=t,s=s.slice();for(var d=0;d<s.length;d++)t(s[d]);var c=o;r.push([1959,0]),a()}({1959:function(e,t,a){a.p=function(){function e(e,t){if(window.$C&&window.$C.hasOwnProperty(e))return window.$C[e];if(void 0!==t)return t;throw new Error("getConfigValue - "+e+" not set, no default provided")}return function(){for(var t,a,n="",l=0,r=arguments.length;l<r;l++)(a=(t=arguments[l].toString()).length)>1&&"/"==t.charAt(a-1)&&(t=t.substring(0,a-1)),"/"!=t.charAt(0)?n+="/"+t:n+=t;if("/"!=n){var i=n.split("/"),s=i[1];if("static"==s||"modules"==s){var o=n.substring(s.length+2,n.length);n="/"+s,window.$C.BUILD_NUMBER&&(n+="/@"+window.$C.BUILD_NUMBER),window.$C.BUILD_PUSH_NUMBER&&(n+="."+window.$C.BUILD_PUSH_NUMBER),"app"==i[2]&&(n+=":"+e("APP_BUILD",0)),n+="/"+o}}var d=e("MRSPARKLE_ROOT_PATH","/"),c=e("LOCALE","en-US"),u="/"+c+n;return""==d||"/"==d?u:d+u}("/static/build/pages/enterprise")+"/"}(),a(1);var n=r(a("routers/Roles")),l=r(a("util/router_utils"));function r(e){return e&&e.__esModule?e:{default:e}}new n.default,l.default.start_backbone_history()},1972:function(e,t,a){(e.exports=a(3)(!1)).push([e.i,".resource-cg>[data-test=label]{white-space:nowrap}.resource-help{color:#6b7785}button[data-test-tab-id] [data-test=label]{font-size:1.05em;padding-bottom:.5em}.roles-menuLabel{display:inline-block}.roles-tableHelpText{padding-bottom:1em}.roles-resourcesInputs{max-width:5em}.roles-help-list{color:inherit;font-size:inherit;line-height:1.3em}.restrctionsMsg{margin-right:3em;margin-left:3em;padding-right:.5em}.roles-modal-thead>tr>th{vertical-align:middle}button[data-test-name=action-link]>div{text-overflow:ellipsis;overflow:hidden}[data-test-name=capabilities-table-head],[data-test-name=index-table-name],[data-test-name=inheritance-table-head-name],div span{-webkit-box-align:center;-ms-flex-align:center;align-items:center}",""])},314:function(e,t,a){e.exports=function(e){var t={};function a(n){if(t[n])return t[n].exports;var l=t[n]={i:n,l:!1,exports:{}};return e[n].call(l.exports,l,l.exports,a),l.l=!0,l.exports}return a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)a.d(n,l,function(t){return e[t]}.bind(null,l));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=110)}({0:function(e,t){e.exports=a(19)},1:function(e,t){e.exports=a(2)},110:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return P})),a.d(t,"Column",(function(){return x})),a.d(t,"Row",(function(){return R}));var n=a(2),l=a.n(n),r=a(1),i=a.n(r),s=a(34),o=a.n(s),d=a(4),c=a(3),u=a.n(c),f=a(0),h=u.a.div.withConfig({displayName:"ColumnStyles__Styled",componentId:"sc-1pchz98-0"})(["",";"],f.mixins.reset("block")),p=a(46);function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function b(e,t){if(null==e)return{};var a,n,l=function(e,t){if(null==e)return{};var a,n,l={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(l[a]=e[a]);return l}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(l[a]=e[a])}return l}var g={children:i.a.node,elementRef:i.a.oneOfType([i.a.func,i.a.object]),gutter:i.a.number,isFirstChild:i.a.bool,isLastChild:i.a.bool,span:i.a.number,style:i.a.object};function v(e){var t=e.children,a=e.elementRef,n=e.gutter,r=e.span,i=void 0===r?1:r,s=e.isFirstChild,o=e.isLastChild,c=e.style,u=b(e,["children","elementRef","gutter","span","isFirstChild","isLastChild","style"]),f=n?"calc((100% - ".concat(11*n,"px) * ").concat(i/12," + (").concat(n,"px * ").concat(i-1,"))"):"".concat(100/12*i,"%");Object(p.a)(n);var g={marginLeft:s?void 0:n/2,marginRight:o?void 0:n/2,flex:"".concat(i," ").concat(i," auto"),width:f};return l.a.createElement(h,m({"data-test":"column",ref:a,style:Object(d.defaults)({},c,g)},u),t)}v.propTypes=g;var x=v,_=u.a.div.withConfig({displayName:"RowStyles__Styled",componentId:"sc-121ntds-0"})(["",";flex-flow:row nowrap;&[data-align-items='start']{align-items:flex-start;}&[data-align-items='end']{align-items:flex-end;}&[data-align-items='center']{align-items:center;}&[data-align-items='stretch']{align-items:stretch;}"],f.mixins.reset("flex")),w=u.a.div.withConfig({displayName:"RowStyles__StyledDivider",componentId:"sc-121ntds-1"})(["border-left:1px solid ",";flex:0 0 1;align-self:stretch;"],Object(f.pick)({prisma:f.variables.neutral200,enterprise:{light:f.variables.gray92,dark:f.variables.gray60}}));function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function S(e,t){if(null==e)return{};var a,n,l=function(e,t){if(null==e)return{};var a,n,l={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(l[a]=e[a]);return l}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(l[a]=e[a])}return l}var E={alignItems:i.a.oneOf(["start","end","center","stretch"]),children:i.a.node,divider:i.a.bool,elementRef:i.a.oneOfType([i.a.func,i.a.object]),gutter:i.a.number,isFirstChild:i.a.bool,isLastChild:i.a.bool,style:i.a.object};function C(e){var t=e.alignItems,a=void 0===t?"stretch":t,r=e.children,i=e.divider,s=e.elementRef,o=e.gutter,c=e.isFirstChild,u=e.isLastChild,f=e.style,h=S(e,["alignItems","children","divider","elementRef","gutter","isFirstChild","isLastChild","style"]),m=Object(n.useCallback)((function(e,t){return Object(n.cloneElement)(e,{gutter:o,isFirstChild:0===t,isLastChild:t===n.Children.count(r)-1})}),[r,o]),b=Object(n.useCallback)((function(e,t,a,n){return e.push(t),i&&a<n.length-1&&e.push(l.a.createElement(w,{key:"".concat(a,"-divider")})),e}),[i]);Object(p.a)(o);var g={marginTop:c?void 0:o/2,marginBottom:u?void 0:o/2},v=n.Children.toArray(r).filter(n.isValidElement).map(m).reduce(b,[]);return l.a.createElement(_,y({style:Object(d.defaults)({},f,g),"data-align-items":a,"data-test":"row",ref:s},h),v)}C.propTypes=E;var R=C,T=u.a.div.withConfig({displayName:"ColumnLayoutStyles__Styled",componentId:"sc-3eatxz-0"})(["",";flex-direction:column;"],f.mixins.reset("flex")),O=u.a.div.withConfig({displayName:"ColumnLayoutStyles__StyledDivider",componentId:"sc-3eatxz-1"})(["border-top:1px solid ",";height:0;"],Object(f.pick)({prisma:f.variables.neutral200,enterprise:{light:f.variables.gray92,dark:f.variables.gray60}}));function I(){return(I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function F(e,t){if(null==e)return{};var a,n,l=function(e,t){if(null==e)return{};var a,n,l={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(l[a]=e[a]);return l}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(l[a]=e[a])}return l}var A={children:i.a.node,divider:i.a.oneOf(["none","vertical","horizontal"]),elementRef:i.a.oneOfType([i.a.func,i.a.object]),gutter:i.a.number};function k(e){var t=e.children,a=e.divider,r=void 0===a?"none":a,i=e.elementRef,s=e.gutter,d=F(e,["children","divider","elementRef","gutter"]),c=o()(),u=c.family,f=c.density,h=Object(n.useCallback)((function(e,a){var l=0===a,i=a===n.Children.count(t)-1,o=s;return void 0===o&&("prisma"===u?"compact"===f?o=16:"comfortable"===f&&(o=24):"enterprise"===u&&(o=30)),Object(n.cloneElement)(e,{gutter:o,divider:"vertical"===r,isFirstChild:l,isLastChild:i})}),[t,f,r,u,s]),p=Object(n.useCallback)((function(e,t,a,n){return e.push(t),"horizontal"===r&&a<n.length-1&&e.push(l.a.createElement(O,{key:"".concat(a,"-divider")})),e}),[r]),m=n.Children.toArray(t).filter(n.isValidElement).map(h).reduce(p,[]);return l.a.createElement(T,I({"data-test":"column-layout",ref:i},d),m)}k.propTypes=A,k.Row=R,k.Column=x;var P=k},2:function(e,t){e.exports=a(0)},3:function(e,t){e.exports=a(9)},34:function(e,t){e.exports=a(168)},4:function(e,t){e.exports=a(12)},46:function(e,t,a){"use strict";function n(e,t){if(null==e)throw new Error(null!=t?t:"Unexpected undefined or null")}a.d(t,"a",(function(){return n}))}})},487:function(e,t,a){e.exports=function(e){var t={};function a(n){if(t[n])return t[n].exports;var l=t[n]={i:n,l:!1,exports:{}};return e[n].call(l.exports,l,l.exports,a),l.l=!0,l.exports}return a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=5)}([function(e,t){e.exports=a(12)},function(e,t){e.exports=a(0)},function(e,t){e.exports=a(2)},function(e,t){e.exports=a(20)},function(e,t,a){var n=a(10);"string"==typeof n&&(n=[[e.i,n,""]]);a(12)(n,{});n.locals&&(e.exports=n.locals)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),l=(a.n(n),a(1)),r=a.n(l),i=a(2),s=a.n(i),o=a(6),d=a.n(o),c=a(7),u=a.n(c),f=a(3),h=a.n(f),p=a(8),m=(a.n(p),a(9)),b=(a.n(m),a(4)),g=a.n(b),v=a(13),x=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();window.gettext=window.gettext||function(e){return e};var _=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.getEntityData=function(e){var t=[],n=null;return Array.isArray(e)?n=e:(t.push(a.getTruncatedObj(e)),n=e.roles),n.forEach((function(e){t.push(a.getTruncatedObj(e))})),t},a.getTruncatedObj=function(e){return{name:e.name,capabilities:e.capabilities,imported_capabilities:e.imported_capabilities}},a.getFilteredCapabilities=function(){return a.state.capabilities.filter((function(e){return e.indexOf(a.state.activeFilter)>=0}))},a.handleActiveFilterChange=function(){var e=a.state.filter;a.setState({activeFilter:e.trim()})},a.handleChangeFilter=function(e,t){var n=t.value;a.setState({filter:n}),a.handleActiveFilterChange()},a.state={entities:[],capabilities:[],filter:"",activeFilter:"",errorMsg:""},a.handleActiveFilterChange=Object(n.debounce)(a.handleActiveFilterChange,500),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),x(t,[{key:"componentDidMount",value:function(){var e=this,t=[],a="roles"===this.props.entityType?m.getRole:m.getUser,n="roles"===this.props.entityType?1:2;t.push(Object(m.fetchCapabilities)()),t.push(a(this.props.entity,n)),Promise.all(t).then((function(t){var a=t[0].entry[0].content.capabilities,n=e.getEntityData(t[1]);e.setState({capabilities:a,entities:n})})).catch((function(t){e.setState({errorMsg:t.message})}))}},{key:"render",value:function(){var e=this.state.activeFilter,t=this.state.capabilities;if(""!==e&&(t=this.getFilteredCapabilities()),this.state.errorMsg.length>0){var a="roles"===this.props.entityType?gettext("Role"):gettext("User"),n=Object(p.sprintf)(gettext("%(entityType)s %(entity)s fetch failed. %(errorMsg)s"),{entityType:a,entity:this.props.entity,errorMsg:this.state.errorMsg});return r.a.createElement("div",{className:g.a.container,"data-test":"view-capabilities-view"},r.a.createElement(h.a,{type:"error"},n))}return r.a.createElement("div",{className:g.a.container,"data-test":"view-capabilities-view"},r.a.createElement("div",{className:g.a.matchManagerPage},r.a.createElement(d.a,{level:2,style:{fontSize:"16px"}},Object(p.sprintf)(gettext("View Capabilities for %(entity)s"),{entity:this.props.entity})),r.a.createElement(u.a,{inline:!0,appearance:"search",placeholder:gettext("Filter"),onChange:this.handleChangeFilter,value:this.state.filter,style:{margin:"5px 0px"},"data-test":"filter-text"})),r.a.createElement(v.a,{entities:this.state.entities,capabilities:t}))}}]),t}(l.Component);_.propTypes={entityType:s.a.oneOf(["roles","users"]),entity:s.a.string},_.defaultProps={entityType:"roles",entity:"admin"},t.default=_},function(e,t){e.exports=a(38)},function(e,t){e.exports=a(23)},function(e,t){e.exports=a(28)},function(e,t){e.exports=a(488)},function(e,t,a){(function(e){var t={enterprise:".tableContainer_ViewCapabilities__guid__55022f{display:inline}.matchManagerPage_ViewCapabilities__guid__55022f{background-color:#f2f5f4;padding-top:10px}.container_ViewCapabilities__guid__55022f{-webkit-animation:none 0s ease 0s 1 normal none running;animation:none 0s ease 0s 1 normal none running;-webkit-backface-visibility:visible;backface-visibility:visible;background:transparent none repeat 0 0/auto auto padding-box border-box scroll;border:medium none currentColor;border-collapse:separate;-webkit-border-image:none;border-image:none;border-radius:0;border-spacing:0;bottom:auto;box-shadow:none;box-sizing:content-box;caption-side:top;clear:none;clip:auto;color:#000;-webkit-columns:auto;columns:auto;-webkit-column-count:auto;column-count:auto;-webkit-column-fill:balance;column-fill:balance;-webkit-column-gap:normal;column-gap:normal;-webkit-column-rule:medium none currentColor;column-rule:medium none currentColor;-webkit-column-span:1;column-span:1;-webkit-column-width:auto;column-width:auto;content:normal;counter-increment:none;counter-reset:none;cursor:auto;direction:ltr;empty-cells:show;float:none;font-family:serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;line-height:normal;height:auto;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none;left:auto;letter-spacing:normal;list-style:disc outside none;margin:0;max-height:none;max-width:none;min-height:0;min-width:0;opacity:1;orphans:2;outline:medium none invert;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;-webkit-perspective:none;perspective:none;-webkit-perspective-origin:50% 50%;perspective-origin:50% 50%;position:static;right:auto;-moz-tab-size:8;tab-size:8;table-layout:auto;text-align:left;text-align-last:auto;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;top:auto;-webkit-transform:none;transform:none;-webkit-transform-origin:50% 50% 0;transform-origin:50% 50% 0;-webkit-transform-style:flat;transform-style:flat;-webkit-transition:none 0s ease 0s;transition:none 0s ease 0s;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:2;width:auto;word-spacing:normal;z-index:auto;font-family:Splunk Platform Sans,Proxima Nova,Roboto,Droid,Helvetica Neue,Helvetica,Arial,sans-serif;font-size:14px;line-height:20px;color:#3c444d;box-sizing:border-box;display:inline;border-width:1px;visibility:inherit;outline:medium none #00a4fd;display:inline-block;font-size:16px;margin:0 20px 10px;background-color:#fff;color:#5c6773}",lite:".tableContainer_ViewCapabilities__guid__55022f{display:inline}.matchManagerPage_ViewCapabilities__guid__55022f{background-color:#f2f5f4;padding-top:10px}.container_ViewCapabilities__guid__55022f{-webkit-animation:none 0s ease 0s 1 normal none running;animation:none 0s ease 0s 1 normal none running;-webkit-backface-visibility:visible;backface-visibility:visible;background:transparent none repeat 0 0/auto auto padding-box border-box scroll;border:medium none currentColor;border-collapse:separate;-webkit-border-image:none;border-image:none;border-radius:0;border-spacing:0;bottom:auto;box-shadow:none;box-sizing:content-box;caption-side:top;clear:none;clip:auto;color:#000;-webkit-columns:auto;columns:auto;-webkit-column-count:auto;column-count:auto;-webkit-column-fill:balance;column-fill:balance;-webkit-column-gap:normal;column-gap:normal;-webkit-column-rule:medium none currentColor;column-rule:medium none currentColor;-webkit-column-span:1;column-span:1;-webkit-column-width:auto;column-width:auto;content:normal;counter-increment:none;counter-reset:none;cursor:auto;direction:ltr;empty-cells:show;float:none;font-family:serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;line-height:normal;height:auto;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none;left:auto;letter-spacing:normal;list-style:disc outside none;margin:0;max-height:none;max-width:none;min-height:0;min-width:0;opacity:1;orphans:2;outline:medium none invert;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;-webkit-perspective:none;perspective:none;-webkit-perspective-origin:50% 50%;perspective-origin:50% 50%;position:static;right:auto;-moz-tab-size:8;tab-size:8;table-layout:auto;text-align:left;text-align-last:auto;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;top:auto;-webkit-transform:none;transform:none;-webkit-transform-origin:50% 50% 0;transform-origin:50% 50% 0;-webkit-transform-style:flat;transform-style:flat;-webkit-transition:none 0s ease 0s;transition:none 0s ease 0s;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:2;width:auto;word-spacing:normal;z-index:auto;font-family:Splunk Platform Sans,Proxima Nova,Roboto,Droid,Helvetica Neue,Helvetica,Arial,sans-serif;font-size:14px;line-height:20px;color:#3c444d;box-sizing:border-box;display:inline;border-width:1px;visibility:inherit;outline:medium none #00a4fd;display:inline-block;font-size:16px;margin:0 20px 10px;background-color:#fff;color:#5c6773}"},a={enterprise:{tableContainer:"tableContainer_ViewCapabilities__guid__55022f",matchManagerPage:"matchManagerPage_ViewCapabilities__guid__55022f",container:"container_ViewCapabilities__guid__55022f"},lite:{tableContainer:"tableContainer_ViewCapabilities__guid__55022f",matchManagerPage:"matchManagerPage_ViewCapabilities__guid__55022f",container:"container_ViewCapabilities__guid__55022f"}},n=window.__splunkd_partials__&&window.__splunkd_partials__["/services/server/info"]&&window.__splunkd_partials__["/services/server/info"].entry[0].content.product_type,l=window.__splunk_ui_theme__,r=window.$C&&window.$C.SPLUNK_UI_THEME,i="lite"===(l||r||n)?"lite":"enterprise";function s(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}var o=e.guid||s()+s()+s()+s();Object.keys(a[i]).forEach((function(e){var t=a[i][e];a[i][e]=t.replace(/_guid_/g,o)})),t[i]=t[i].replace(/_guid_/g,o),e.exports=[[e.i,t[i],""]],e.exports.locals=a[i],e.guid=o}).call(t,a(11)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){var a={},n=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}},l=n((function(){return/msie [6-9]\b/.test(self.navigator.userAgent.toLowerCase())})),r=n((function(){return document.head||document.getElementsByTagName("head")[0]})),i=null,s=0,o=[];function d(e,t){for(var n=0;n<e.length;n++){var l=e[n],r=a[l.id];if(r){r.refs++;for(var i=0;i<r.parts.length;i++)r.parts[i](l.parts[i]);for(;i<l.parts.length;i++)r.parts.push(p(l.parts[i],t))}else{var s=[];for(i=0;i<l.parts.length;i++)s.push(p(l.parts[i],t));a[l.id]={id:l.id,refs:1,parts:s}}}}function c(e){for(var t=[],a={},n=0;n<e.length;n++){var l=e[n],r=l[0],i={css:l[1],media:l[2],sourceMap:l[3]};a[r]?a[r].parts.push(i):t.push(a[r]={id:r,parts:[i]})}return t}function u(e,t){var a=r(),n=o[o.length-1];if("top"===e.insertAt)n?n.nextSibling?a.insertBefore(t,n.nextSibling):a.appendChild(t):a.insertBefore(t,a.firstChild),o.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");a.appendChild(t)}}function f(e){e.parentNode.removeChild(e);var t=o.indexOf(e);t>=0&&o.splice(t,1)}function h(e){var t=document.createElement("style");return t.type="text/css",u(e,t),t}function p(e,t){var a,n,l;if(t.singleton){var r=s++;a=i||(i=h(t)),n=g.bind(null,a,r,!1),l=g.bind(null,a,r,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(a=function(e){var t=document.createElement("link");return t.rel="stylesheet",u(e,t),t}(t),n=x.bind(null,a),l=function(){f(a),a.href&&URL.revokeObjectURL(a.href)}):(a=h(t),n=v.bind(null,a),l=function(){f(a)});return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else l()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");void 0===(t=t||{}).singleton&&(t.singleton=l()),void 0===t.insertAt&&(t.insertAt="bottom");var n=c(e);return d(n,t),function(e){for(var l=[],r=0;r<n.length;r++){var i=n[r];(s=a[i.id]).refs--,l.push(s)}e&&d(c(e),t);for(r=0;r<l.length;r++){var s;if(0===(s=l[r]).refs){for(var o=0;o<s.parts.length;o++)s.parts[o]();delete a[s.id]}}}};var m,b=(m=[],function(e,t){return m[e]=t,m.filter(Boolean).join("\n")});function g(e,t,a,n){var l=a?"":n.css;if(e.styleSheet)e.styleSheet.cssText=b(t,l);else{var r=document.createTextNode(l),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(r,i[t]):e.appendChild(r)}}function v(e,t){var a=t.css,n=t.media;if(n&&e.setAttribute("media",n),e.styleSheet)e.styleSheet.cssText=a;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(a))}}function x(e,t){var a=t.css,n=t.sourceMap;n&&(a+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */");var l=new Blob([a],{type:"text/css"}),r=e.href;e.href=URL.createObjectURL(l),r&&URL.revokeObjectURL(r)}},function(e,t,a){"use strict";var n=a(0),l=(a.n(n),a(1)),r=a.n(l),i=a(2),s=a.n(i),o=a(14),d=a.n(o),c=a(15),u=a.n(c),f=a(16),h=a.n(f),p=a(3),m=a.n(p),b=a(4),g=a.n(b),v=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();window.gettext=window.gettext||function(e){return e};var x=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.getTableCell=function(e,t){return e.capabilities.indexOf(t)>-1?r.a.createElement(d.a,{"data-test":"table-check",style:{color:"#006297"}}):e.imported_capabilities.indexOf(t)>-1?r.a.createElement(u.a,{"data-test":"table-circle-filled",style:{color:"#818d99",height:"0.4em"}}):null},a.handleTableSort=function(e,t){var n=t.sortKey,l="asc"===(a.state.sortKey===n?a.state.sortDir:"none")?"desc":"asc";a.setState({sortKey:n,sortDir:l})},a.state={sortKey:"capability",sortDir:"asc",isLoading:!0},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),v(t,[{key:"componentWillReceiveProps",value:function(){this.setState({isLoading:!1})}},{key:"render",value:function(){var e=this,t=this.props,a=t.entities,l=t.capabilities,i=this.state.sortDir,s=Object(n.clone)(l);if(s.sort((function(e,t){return"asc"===i?e>t?1:-1:t>e?1:-1})),s.length>0)return r.a.createElement("div",{className:g.a.tableContainer},r.a.createElement(h.a,{stripeRows:!0,"data-test":"capabilities-table",outerStyle:{border:"1px solid #e1e6eb",width:"960px"}},r.a.createElement(h.a.Head,null,r.a.createElement(h.a.HeadCell,{sortKey:"capability",onSort:this.handleTableSort,sortDir:"capability"===this.state.sortKey?this.state.sortDir:"none"},gettext("Name")),a.map((function(e){return r.a.createElement(h.a.HeadCell,{key:e.name,sortKey:e.name},e.name)}))),r.a.createElement(h.a.Body,null,s.map((function(t){return r.a.createElement(h.a.Row,{key:t,"data-test":"row-"+t},r.a.createElement(h.a.Cell,null,t),e.props.entities.map((function(a){return r.a.createElement(h.a.Cell,{"data-test":a.name+"-"+t+"-table-check",key:a.name+"-"+t},e.getTableCell(a,t))})))})))));if(this.state.isLoading)return null;var o=gettext("No capabilities found.");return r.a.createElement("div",{className:g.a.tableContainer},r.a.createElement(m.a,{type:"error"},o))}}]),t}(l.Component);x.propTypes={entities:s.a.array,capabilities:s.a.array},x.defaultProps={entities:[],capabilities:[]},t.a=x},function(e,t){e.exports=a(199)},function(e,t){e.exports=a(489)},function(e,t){e.exports=a(47)}])},488:function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.fetchCapabilities=function(){var t=(0,s.createRESTURL)("authorization/capabilities",{},{}),a=r.default.encode({output_mode:"json"});return e("".concat(t,"?").concat(a),i.defaultFetchInit).then((0,i.handleResponse)(200)).catch((0,i.handleError)("Failed to fetch capabilities."))},t.getChildrenObject=o,t.getRole=d,t.getUser=function(t,a){var n=(0,s.createRESTURL)("authentication/users/".concat(t),{},{}),o=r.default.encode({output_mode:"json"});return e("".concat(n,"?").concat(o),i.defaultFetchInit).then((0,i.handleResponse)(200)).then((function(e){var n=(0,l.find)(e.entry,(function(e){return e.name===t})).content,r=[];return n.roles.map((function(e){return r.push(d(e,a-1))})),Promise.all(r)})).catch((0,i.handleError)("Failed to fetch user results."))};var n,l=a(12),r=(n=a(35))&&n.__esModule?n:{default:n},i=a(34),s=a(26);function o(e,t){if(e.roles.length>0&&t>0){var a=[];return e.roles.map((function(e){return a.push(d(e,t-1))})),Promise.all(a).then((function(t){return Object.assign(e,{roles:t}),e}))}return Promise.resolve(e)}function d(t,a){var n=(0,s.createRESTURL)("authorization/roles/".concat(t),{},{}),d=r.default.encode({output_mode:"json"});return e("".concat(n,"?").concat(d),i.defaultFetchInit).then((0,i.handleResponse)(200)).then((function(e){var n=(0,l.find)(e.entry,(function(e){return e.name===t})).content;return o({name:t,type:"role",capabilities:n.capabilities,imported_capabilities:n.imported_capabilities,roles:n.imported_roles},a)})).catch((0,i.handleError)("Failed to fetch role results."))}}).call(this,a(31))},489:function(e,t,a){e.exports=function(e){var t={};function a(n){if(t[n])return t[n].exports;var l=t[n]={i:n,l:!1,exports:{}};return e[n].call(l.exports,l,l.exports,a),l.l=!0,l.exports}return a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)a.d(n,l,function(t){return e[t]}.bind(null,l));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=47)}({0:function(e,t){e.exports=a(0)},1:function(e,t){e.exports=a(7)},2:function(e,t){e.exports=a(21)},47:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return d}));var n=a(0),l=a.n(n),r=a(1),i=a(2),s=a.n(i);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function d(e){return l.a.createElement(s.a,o({screenReaderText:Object(r._)("Circle Filled")},e),l.a.createElement("path",{d:"M750 0C648.667 0 552 19 460 57s-172.667 91.667-242 161S95 368 57 460 0 648.667 0 750s19 198 57 290 91.667 172.667 161 242 150 123 242 161 188.667 57 290 57 198-19 290-57 172.667-91.667 242-161c68-70.667 121.333-152 160-244s58-188 58-288-19.333-196-58-288-92-173.333-160-244c-69.333-69.333-150-123-242-161S851.333 0 750 0z"}))}}})},490:function(e,t,a){e.exports=function(e){var t={};function a(n){if(t[n])return t[n].exports;var l=t[n]={i:n,l:!1,exports:{}};return e[n].call(l.exports,l,l.exports,a),l.l=!0,l.exports}return a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)a.d(n,l,function(t){return e[t]}.bind(null,l));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=46)}({0:function(e,t){e.exports=a(0)},1:function(e,t){e.exports=a(7)},2:function(e,t){e.exports=a(21)},46:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return d}));var n=a(0),l=a.n(n),r=a(1),i=a(2),s=a.n(i);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function d(e){return l.a.createElement(s.a,o({screenReaderText:Object(r._)("Circle")},e),l.a.createElement("path",{d:"M750 0C648.667 0 552 19 460 57s-172.667 91.667-242 161S95 368 57 460 0 648.667 0 750s19 198 57 290 91.667 172.667 161 242 150 123 242 161 188.667 57 290 57 198-19 290-57 172.667-91.667 242-161c68-70.667 121.333-152 160-244s58-188 58-288-19.333-196-58-288-92-173.333-160-244c-69.333-69.333-150-123-242-161S851.333 0 750 0zm0 184c76.667 0 149.5 14.333 218.5 43s129.833 69.333 182.5 122c51.333 53.333 91.667 114.667 121 184s44 141.667 44 217-14.667 147.667-44 217-69.667 130.667-121 184c-52.667 52.667-113.5 93.333-182.5 122s-141.833 43-218.5 43-149.5-14.333-218.5-43-129.833-69.333-182.5-122-93.333-113.5-122-182.5-43-141.833-43-218.5 14.333-149.5 43-218.5S296.333 401.667 349 349s113.5-93.333 182.5-122 141.833-43 218.5-43z"}))}}})},491:function(e,t,a){e.exports=function(e){var t={};function a(n){if(t[n])return t[n].exports;var l=t[n]={i:n,l:!1,exports:{}};return e[n].call(l.exports,l,l.exports,a),l.l=!0,l.exports}return a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)a.d(n,l,function(t){return e[t]}.bind(null,l));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=168)}({0:function(e,t){e.exports=a(0)},1:function(e,t){e.exports=a(7)},168:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return d}));var n=a(0),l=a.n(n),r=a(1),i=a(2),s=a.n(i);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function d(e){return l.a.createElement(s.a,o({screenReaderText:Object(r._)("Triangle Up"),viewBox:"0 0 1460 1480"},e),l.a.createElement("path",{d:"M11 1349c-7.333 16-11 31.333-11 46 0 24 8.5 44.167 25.5 60.5S65 1480 93 1480h1274c28 0 50.5-8.167 67.5-24.5s25.5-36.5 25.5-60.5c0-14.667-3.667-30-11-46L815 58c-18.667-38.667-47-58-85-58s-66.333 19.333-85 58L11 1349z"}))}},2:function(e,t){e.exports=a(21)}})},492:function(e,t,a){e.exports=function(e){var t={};function a(n){if(t[n])return t[n].exports;var l=t[n]={i:n,l:!1,exports:{}};return e[n].call(l.exports,l,l.exports,a),l.l=!0,l.exports}return a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)a.d(n,l,function(t){return e[t]}.bind(null,l));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=151)}({0:function(e,t){e.exports=a(0)},1:function(e,t){e.exports=a(7)},151:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return d}));var n=a(0),l=a.n(n),r=a(1),i=a(2),s=a.n(i);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function d(e){return l.a.createElement(s.a,o({screenReaderText:Object(r._)("Star"),viewBox:"0 0 1500 1498"},e),l.a.createElement("path",{d:"M976.35 507.662L811.46 47.968C800.8 15.988 780.146 0 749.5 0c-29.98 0-50.3 15.656-60.96 46.97L521.653 507.66c-7.328 16.655-19.986 24.983-37.974 24.983H70.953c-21.32 0-38.475 6.33-51.466 18.987C6.497 564.29 0 579.28 0 596.602c0 20.653 9.993 38.64 29.98 53.964l342.77 254.83c8.662 7.33 12.993 16.656 12.993 27.982 0 4.663-.333 7.994-1 9.993L257.83 1411.06c-2 6.662-2.998 13.657-2.998 20.985 0 19.32 6.662 35.31 19.987 47.968 13.324 12.66 29.314 18.32 47.968 16.99 15.99-1.333 28.98-6.663 38.974-15.99l364.756-271.82c7.328-5.995 15.323-8.993 23.984-8.993 9.993 0 18.32 2.998 24.983 8.994l358.76 269.82c9.994 9.327 22.986 14.657 38.975 15.99h4.997c17.32 0 32.31-6.163 44.97-18.488 12.658-12.325 18.987-27.482 18.987-45.47 0-6.662-1-13.658-2.998-20.986l-126.916-466.69c-.666-1.998-1-4.662-1-7.994 0-13.324 4.998-23.317 14.99-29.98l343.772-253.83c19.987-15.99 29.98-34.31 29.98-54.964 0-17.322-6.496-32.312-19.487-44.97-12.99-12.658-30.147-18.987-51.466-18.987h-413.724c-18.654 0-31.645-8.328-38.974-24.983z"}))}},2:function(e,t){e.exports=a(21)}})},493:function(e,t,a){(t=e.exports=a(3)(!1)).push([e.i,"body{--header-border-color:#c3cbd4}#viewIdx-heading{border-bottom:1px solid var(--header-border-color);margin-bottom:20px}#legend-dl{border:1px solid #c3cbd4;background-color:#fff;border-radius:3px;max-width:170px;padding:5px 9px}.spaceLeft{margin-left:5px}",""]),t.locals={whiteColor:"#fff"}},"models/access_control/IndexFieldValues":function(e,t,a){"use strict";a(1),Object.defineProperty(t,"__esModule",{value:!0});var n=s(a(60)),l=s(a(11)),r=s(a(13)),i=s(a(315));function s(e){return e&&e.__esModule?e:{default:e}}var o={indexList:[],count:250,valueFilter:"",fieldFilter:"",type:"",earliest_time:"-60s@s",latest_time:"now",isDefault:!1,cache:!0,cacheLimit:600},d=function(){function e(t){(0,l.default)(this,e),this.options=Object.assign({},o,t),this.valueSearchStr="",this.fieldSearchStr="",this.errorMsg=""}return(0,r.default)(e,[{key:"isValid",value:function(){return!(!this.options.indexList.length||!this.options.type)||(this.errorMsg="Index name(s) and index field name are required fields.",!1)}},{key:"clear",value:function(){this.options=Object.assign({},o),this.valueSearchStr="",this.errorMsg="",this.searchJob&&this.searchJob.cancel()}},{key:"createSearchJob",value:function(e){return i.default.create({search:e,earliest_time:this.options.earliest_time,latest_time:this.options.latest_time},{cache:this.options.cache,cacheLimit:this.options.cacheLimit})}},{key:"createIndexListStr",value:function(e){var t=[].concat((0,n.default)(this.options.indexList)),a=t.length?"index="+t.shift():"";return t.forEach((function(t){a+="value"===e?" OR index="+t:" index="+t})),a}},{key:"getFields",value:function(){return this.isValid()&&(this.fieldSearchStr="| walklex "+this.createIndexListStr("field")+" type=field",this.fieldSearchStr+=this.options.fieldFilter?" pattern="+this.options.fieldFilter+"*":"",this.fieldSearchStr+=' | where substr(field,0,1) != " " | stats count by field | sort '+this.options.count+" -count"),this.searchJob=this.createSearchJob(this.fieldSearchStr),this.searchJob}},{key:"getValues",value:function(){return this.isValid()&&(this.valueSearchStr="| tstats count where "+this.createIndexListStr("value")+" by "+this.options.type,this.valueSearchStr+=this.options.valueFilter?" | where match("+this.options.type+', "'+this.options.valueFilter+'")':"",this.valueSearchStr+=" | sort "+this.options.count+" -count | sort +"+this.options.type),this.searchJob=this.createSearchJob(this.valueSearchStr),this.searchJob}}]),e}();t.default=d,e.exports=t.default},"routers/Roles":function(e,t,a){"use strict";(function(n){a(1),Object.defineProperty(t,"__esModule",{value:!0});var l=w(a(10)),r=w(a(11)),i=w(a(13)),s=w(a(15)),o=w(a(16)),d=w(a(0)),c=w(a("shim/jquery")),u=w(a("util/react_render")),f=w(a("routers/Base")),h=w(a(35)),p=a(26),m=a(34),b=a(7),g=w(a("views/roles/Roles")),v=w(a("uri/route")),x=w(a("shim/splunk.util")),_=a("views/roles/Utils");function w(e){return e&&e.__esModule?e:{default:e}}var y=function(e){function t(){var e,a,i,o;(0,r.default)(this,t);for(var d=arguments.length,c=Array(d),u=0;u<d;u++)c[u]=arguments[u];return a=i=(0,s.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),i.trackEvent=function(e){e&&e.srchFilter&&e.name&&x.default.trackEvent({type:"roles.srchFilter",data:{eventCategory:"SrchFilterInRoles",eventAction:"CreateEditRole",eventLabel:"Search Filter in role - "+e.name,eventValue:e.srchFilter,context:"authorization/roles"}})},i.callDeleteRole=function(e){return n(e,(0,l.default)({},m.defaultFetchInit,{method:"DELETE"})).then((0,m.handleResponse)(200)).catch((0,m.handleError)((0,b._)("Unable to delete role.")))},i.callCreateRole=function(e){return n((0,p.createRESTURL)(_.ROLES_COLLECTION_PATH),(0,l.default)({},m.defaultFetchInit,{method:"POST",body:h.default.encode(e)})).then((0,m.handleResponse)(201)).then(i.trackEvent(e)).catch((0,m.handleError)((0,b._)("Unable to create role.")))},i.callEditRole=function(e,t){return n((0,p.createRESTURL)(_.ROLES_COLLECTION_PATH+"/"+encodeURIComponent(e)),(0,l.default)({},m.defaultFetchInit,{method:"POST",body:h.default.encode(t)})).then((0,m.handleResponse)(200)).then(i.trackEvent((0,l.default)({},t,{name:e}))).catch((0,m.handleError)((0,b._)("Unable to edit role.")))},i.fetchAllCapabilities=function(e){return n(e,(0,l.default)({},m.defaultFetchInit,{method:"GET"})).then((0,m.handleResponse)(200)).catch((0,m.handleError)((0,b._)("Unable to fetch capabilities.")))},i.fetchAllRoles=function(e){return n(e,(0,l.default)({},m.defaultFetchInit,{method:"GET"})).then((0,m.handleResponse)(200)).catch((0,m.handleError)((0,b._)("Unable to fetch roles.")))},i.fetchLocalIndexes=function(e){return n(e,(0,l.default)({},m.defaultFetchInit,{method:"GET"})).then((0,m.handleResponse)(200)).catch((0,m.handleError)((0,b._)("Unable to fetch local indexes.")))},i.fetchRemoteIndexes=function(e){return n(e,(0,l.default)({},m.defaultFetchInit,{method:"GET"})).then((0,m.handleResponse)([200,503])).catch((0,m.handleError)((0,b._)("Unable to fetch remote indexes.")))},o=a,(0,s.default)(i,o)}return(0,o.default)(t,e),(0,i.default)(t,[{key:"initialize",value:function(){for(var e,t=arguments.length,a=Array(t),n=0;n<t;n++)a[n]=arguments[n];(e=f.default.prototype.initialize).call.apply(e,[this].concat(a)),this.enableAppBar=!1,this.fetchAppLocals=!0,this.setPageTitle((0,b._)("Roles"))}},{key:"page",value:function(){for(var e,t=this,a=arguments.length,n=Array(a),l=0;l<a;l++)n[l]=arguments[l];(e=f.default.prototype.page).call.apply(e,[this].concat(n)),c.default.when(this.deferreds.pageViewRendered,this.deferreds.appLocals,this.deferreds.application,this.deferreds.serverInfo).done((function(){(0,c.default)(".preload").replaceWith(t.pageView.el);var e={objectsCollectionPath:_.ROLES_COLLECTION_PATH,capabilitiesListPath:_.CAPABILITIES_COLLECTION_PATH,apps:t.collection.appLocalsUnfiltered.models,callDeleteRole:t.callDeleteRole,callCreateRole:t.callCreateRole,callEditRole:t.callEditRole,fetchAllCapabilities:t.fetchAllCapabilities,fetchAllRoles:t.fetchAllRoles,fetchLocalIndexes:t.fetchLocalIndexes,fetchRemoteIndexes:t.fetchRemoteIndexes,learnMoreLink:v.default.docHelp(t.model.application.get("root"),t.model.application.get("locale"),"learnmore.security.searchfilter"),application:{root:t.model.application.get("root"),locale:t.model.application.get("locale"),app:t.model.application.get("app")}};(0,u.default)(d.default.createElement(g.default,e),(0,c.default)(".main-section-body")[0])}))}}]),t}(f.default);t.default=y,e.exports=t.default}).call(this,a(31))},"views/federated_search/FederatedSearch.constants":function(e,t,a){"use strict";a(1),Object.defineProperty(t,"__esModule",{value:!0}),t.AWS_REGIONS=t.TIME_FORMAT_OPTIONS=t.PROVIDER_TYPE=t.PROVIDER_MODE=void 0;var n=a(7);t.PROVIDER_MODE=Object.freeze({STANDARD:{label:(0,n._)("Standard"),value:"standard"},TRANSPARENT:{label:(0,n._)("Transparent"),value:"transparent"}}),t.PROVIDER_TYPE=Object.freeze({SPLUNK:{label:(0,n._)("Splunk"),value:"splunk"},AWS_S3:{label:(0,n._)("Amazon Web Services S3"),value:"aws_s3"}}),t.TIME_FORMAT_OPTIONS=Object.freeze([{label:(0,n._)("Unix timestamp (%s)"),value:"%s"},{label:(0,n._)("Java timestamp (%JT)"),value:"%JT"},{label:(0,n._)("Custom"),value:"custom"}]),t.AWS_REGIONS=Object.freeze([{value:"us-east-1",name:"US East (N. Virginia)"},{value:"us-east-2",name:"US East (Ohio)"},{value:"us-west-1",name:"US West (N. California)"},{value:"us-west-2",name:"US West (Oregon)"},{value:"ca-central-1",name:"Canada (Central)"},{value:"eu-central-1",name:"EU (Frankfurt)"},{value:"eu-west-1",name:"EU (Ireland)"},{value:"eu-west-2",name:"EU (London)"},{value:"eu-west-3",name:"EU (Paris)"},{value:"eu-north-1",name:"EU (Stockholm)"},{value:"ap-northeast-1",name:"Asia Pacific (Tokyo)"},{value:"ap-northeast-2",name:"Asia Pacific (Seoul)"},{value:"ap-south-1",name:"Asia Pacific (Mumbai)"},{value:"ap-southeast-1",name:"Asia Pacific (Singapore)"},{value:"ap-southeast-2",name:"Asia Pacific (Sydney)"},{value:"sa-east-1",name:"South America (Sao Paulo)"}])},"views/federated_search/FederatedUtils":function(e,t,a){"use strict";(function(e){a(1),Object.defineProperty(t,"__esModule",{value:!0}),t.fetchFederatedData=t.getFederatedUrl=t.FEDERATED_COLLECTION_PATH=void 0;var n=d(a(10));t.validateProviderName=function(e,t){if(!e)return(0,l._)("Federated Provider Name must be defined");if(!/^[a-zA-Z0-9]([a-zA-Z0-9_-]*)$/.test(e))return(0,l._)("Federated Provider Name may contain only letters, numbers, underscores, or hyphens. They must begin with a letter or number.");if(t.includes(e))return(0,l._)("A Federated Provider already exists with this name. Federated Provider Name must be unique");return null},t.isTransparentMode=function(e){return e===o.PROVIDER_MODE.TRANSPARENT.value};var l=a(7),r=d(a(35)),i=a(26),s=a(34),o=a("views/federated_search/FederatedSearch.constants");function d(e){return e&&e.__esModule?e:{default:e}}var c=t.FEDERATED_COLLECTION_PATH=(0,i.createRESTURL)("data/federated/settings/general");t.getFederatedUrl=function(){return(0,i.createRESTURL)(c+"?"+r.default.encode({output_mode:"json"}))},t.fetchFederatedData=function(t){return e(t,(0,n.default)({},s.defaultFetchInit,{method:"GET"})).then((0,s.handleResponse)([200])).catch((0,s.handleError)((0,l._)("Unable to fetch federated data.")))}}).call(this,a(31))},"views/roles/Roles":function(e,t,a){"use strict";a(1),Object.defineProperty(t,"__esModule",{value:!0});var n=v(a(10)),l=v(a(11)),r=v(a(13)),i=v(a(15)),s=v(a(285)),o=v(a(16)),d=v(a(512)),c=v(a(2)),u=a(7),f=v(a(179));a("views/roles/Roles.pcss");var h=v(a("views/roles/modals/AddEditRoles")),p=v(a("views/roles/modals/DeleteRole")),m=v(a("views/roles/modals/ViewCapabilities")),b=v(a("views/roles/modals/ViewIndexes")),g=a("views/roles/Utils");function v(e){return e&&e.__esModule?e:{default:e}}var x=["admin","user","power","can_delete","splunk-system-role"],_=function(e){function t(){return(0,l.default)(this,t),(0,i.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,o.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){(0,s.default)(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentDidMount",this).call(this),f.default.mark("Roles Managment Page - First meaningful paint",{timeout:0})}}]),t}(d.default);_.propTypes=(0,n.default)({},d.default.propTypes,{callDeleteRole:c.default.func.isRequired,callCreateRole:c.default.func.isRequired,callEditRole:c.default.func.isRequired,fetchAllCapabilities:c.default.func.isRequired,fetchAllRoles:c.default.func.isRequired,apps:c.default.arrayOf(c.default.shape({})).isRequired}),_.defaultProps=(0,n.default)({},d.default.defaultProps,{showAppColumn:!1,showOwnerColumn:!1,showAppFilter:!1,showOwnerFilter:!1,showSharingColumn:!1,showStatusColumn:!1,hasRowExpansion:!1,isSingleRowTableFilter:!0,objectNamePlural:(0,u._)("Roles"),objectNameSingular:(0,u._)("Role"),ModalNew:h.default,ModalEdit:h.default,ModalClone:h.default,idAttribute:"name",permissions:{read:!0,write:!0,canChangeStatus:!0,canCreate:!0,canClone:!0},customColumns:[{key:"native_capabilities",label:(0,u._)("Native capabilities"),content:function(e){return e.content.capabilities.length}},{key:"imported_capabilities",label:(0,u._)("Inherited capabilities"),content:function(e){return e.content.imported_capabilities.length}},{key:"defaultApp",label:(0,u._)("Default App"),sortKey:"defaultApp",content:function(e){return e.content.defaultApp}}],customActions:[{key:"viewCapabilities",label:(0,u._)("View Capabilities"),ModalToOpen:m.default},{key:"viewIndexes",label:(0,u._)("View Indexes"),ModalToOpen:b.default},{key:"delete_role",label:(0,u._)("Delete"),ModalToOpen:p.default,isVisible:function(e){return-1===x.indexOf(e.object.name)}}],getObjectsCollectionFetchData:function(e,t){var a=Object.assign({},{count:e.countPerPage,sort_key:e.sortKey,sort_dir:e.sortDirection,offset:e.offset,search:e.filterString?e.filterString.substring(0,g.MAX_FILTER_LENGTH):"",output_mode:"json"},t);return delete a.filterString,a}}),t.default=_,e.exports=t.default},"views/roles/Roles.pcss":function(e,t,a){var n=a(1972);"string"==typeof n&&(n=[[e.i,n,""]]);var l={sourceMap:!1,hmr:!0,transform:void 0,insertInto:void 0};a(4)(n,l);n.locals&&(e.exports=n.locals)},"views/roles/Utils":function(e,t,a){"use strict";a(1),Object.defineProperty(t,"__esModule",{value:!0}),t.WARN_MSG_CONTAINS_EQUALS=t.WARN_MSG_FIELD_COLLISION=t.DEFAULT_CONCAT_OPT=t.DEFAULT_TIMERANGE_LABEL=t.DEFAULT_TIMERANGE=t.MAX_FILTER_LENGTH=t.REMOTE_INDEXES_COLLECTION_PATH=t.LOCAL_INDEXES_COLLECTION_PATH=t.CAPABILITIES_COLLECTION_PATH=t.ROLES_COLLECTION_PATH=void 0;var n=u(a(60)),l=u(a(10));t.getAllowedIndexNamesFromRole=function(e){var t=[];e&&e.content&&(t=(0,i.union)(e.content.srchIndexesAllowed,e.content.imported_srchIndexesAllowed,e.content.srchIndexesDefault,e.content.imported_srchIndexesDefault));return t},t.getCapSource=b,t.createSearchJob=function(){return s.default.create({search:"| eventcount summarize=false index=* index=_* | dedup index | head 1000"})},t.createSpecificIndexesSearchJob=function(e){return s.default.create({search:"| eventcount summarize=false "+e.map((function(e){return"index="+e})).join(" ")+" | fields + index"})},t.getRolesWithSelection=function(e,t){return e&&e.map((function(e){return{name:e.name,filtered:!0,selected:t&&t.content&&t.content.imported_roles.indexOf(e.name)>-1,capabilities:e&&e.content&&e.content.capabilities&&e.content.imported_capabilities&&e.content.capabilities.concat(e.content.imported_capabilities),defIndLis:e&&e.content&&e.content.srchIndexesDefault&&e.content.imported_srchIndexesDefault&&e.content.srchIndexesDefault.concat(e.content.imported_srchIndexesDefault),incIndLis:e&&e.content&&e.content.srchIndexesAllowed&&e.content.imported_srchIndexesAllowed&&e.content.srchIndexesAllowed.concat(e.content.imported_srchIndexesAllowed)}}))},t.getImportedProps=function(e){var t=new Set,a=new Set,n=new Set;return e.forEach((function(e){e.selected&&((0,i.has)(e,"defIndLis")&&e.defIndLis.forEach((function(e){return t.add(e)})),(0,i.has)(e,"incIndLis")&&e.incIndLis.forEach((function(e){return a.add(e)})),e.capabilities.forEach((function(e){return n.add(e)})))})),{caps:n,ind:{def:t,inc:a}}},t.createWildcardRegex=g,t.updateCaps=function(e,t,a){return e.map((function(e){var n=(0,l.default)({},e);switch(n.isPreview=t.has(e.name),n.isPreview||"inherited"!==e.source||(n.source="",n.selected=!1),a){case"selected":n.filtered=n.isPreview||n.selected;break;case"unselected":n.filtered=!n.isPreview&&!n.selected;break;case"native":n.filtered=("native"===n.source||""===n.source)&&!n.isPreview&&n.selected;break;case"inherited":n.filtered=n.isPreview||"inherited"===n.source;break;default:n.filtered=!0}return n}))},t.selectCoveredIndexes=v,t.getIndexPreview=function(e,t,a){return t&&t.map((function(n){var r=(0,l.default)({},n);switch(r.isDefPreview=e.def.has(r.name),r.isIncPreview=e.inc.has(r.name),r.imported_srchAllowed=!!r.isIncPreview&&r.imported_srchAllowed,r.imported_srchDefault=!!r.isDefPreview&&r.imported_srchDefault,r.isWildcard&&(r=v(r,t)),a){case"selected":r.filtered=r.srchAllowed||r.srchDefault||r.imported_srchAllowed||r.imported_srchDefault||!!r.isIncPreview||!!r.isDefPreview;break;case"unselected":r.filtered=!(r.srchAllowed||r.srchDefault||r.imported_srchAllowed||r.imported_srchDefault||r.isIncPreview||r.isDefPreview);break;case"native":r.filtered=r.srchDefault||r.srchAllowed;break;case"inherited":r.filtered=r.imported_srchDefault||r.imported_srchAllowed||!!r.isIncPreview||!!r.isDefPreview;break;default:r.filtered=r.filtered}return r}))},t.getCapsWithSelection=function(e,t){return e&&e.map((function(e){return{name:e,filtered:!0,source:b(e,t),selected:t&&t.content&&(t.content.imported_capabilities.indexOf(e)>-1||t.content.capabilities.indexOf(e)>-1)||!1,isPreview:!1}}))},t.isWildcard=x,t.sortByKey=_,t.getSelectedIndexes=function(e,t){var a=e,l=[];t&&t.content&&(l=(0,i.union)(t.content.srchIndexesAllowed,t.content.imported_srchIndexesAllowed,t.content.srchIndexesDefault,t.content.imported_srchIndexesDefault))&&l.length&&(l=l.reduce((function(e,t){return"*"!==t&&"_*"!==t&&x(t)&&e.push({index:t,isWildcard:!0}),e}),[]));var r=[{index:"*",isWildcard:!0},{index:"_*",isWildcard:!0}].map((function(e){return w(e,a,t)}));return l=l.map((function(e){return w(e,a,t)})),a=a.map((function(e){return w(e,a,t)})),[].concat((0,n.default)(r),(0,n.default)(_([].concat((0,n.default)(l),(0,n.default)(a)),"name")))},t.getModalTitle=function(e){switch(e){case"new":return(0,r._)("New");case"edit":return(0,r._)("Edit");case"clone":return(0,r._)("Clone");default:return null}},t.getButtonLabel=function(e,t){if(e)return"new"===t?(0,r._)("Creating..."):(0,r._)("Saving...");return"new"===t?(0,r._)("Create"):(0,r._)("Save")},t.constructPostData=function(e,t){var a=t.resources,n=t.roles,l=t.selectedCaps,r=t.indexes,i=e;Object.keys(a).forEach((function(e){i[e]=a[e]}));var s=n.filter((function(e){return e.selected})),o=l.filter((function(e){return e.selected&&!e.isPreview&&"inherited"!==e.source})),d=r.filter((function(e){return e.srchDefault})),c=r.filter((function(e){return e.srchAllowed}));return i.imported_roles=s.length>0?s.map((function(e){return e.name})):"",i.capabilities=o.length>0?o.map((function(e){return e.name})):"",i.srchIndexesDefault=d.length>0?d.map((function(e){return e.name})):"",i.srchIndexesAllowed=c.length>0?c.map((function(e){return e.name})):"",i},t.rowRolesSelectionState=y,t.getDeleteRoleUrl=function(e){return(0,d.createRESTURL)(f+"/"+encodeURIComponent(e)+"?"+o.default.encode({output_mode:"json"}))},t.getCapabilitiesUrl=function(){return(0,d.createRESTURL)(h+"?"+o.default.encode({output_mode:"json"}))},t.getLocalIndexesUrl=function(){return(0,d.createRESTURL)(p+"?"+o.default.encode({count:0,output_mode:"json",datatype:"all"}))},t.getRemoteIndexesUrl=function(){return(0,d.createRESTURL)(m+"?"+o.default.encode({count:0,output_mode:"json"}))},t.getRolesUrl=function(){return(0,d.createRESTURL)(f+"?"+o.default.encode({count:-1,output_mode:"json"}))},t.toggleSelected=function(e,t){var a=t.name,n=t.type,l=void 0===n?null:n,r=(0,i.find)(e,{name:a});r&&(l?("srchDefault"===l&&!r[l]&&!r.srchAllowed||"srchAllowed"===l&&r[l]&&r.srchDefault?(r.srchDefault=!r.srchDefault,r.srchAllowed=!r.srchAllowed):r[l]=!r[l],r.isWildcard&&v(r,e)):r.selected=!r.selected);return e},t.toggleAll=function(e){var t="all"!==y(e);return e.map((function(e){return(0,l.default)({},e,{selected:t})}))},t.filterData=function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return e&&e.map((function(e){var r=(0,l.default)({},e);switch(a){case"selected":"roles"===t?r.filtered=e.selected:"selectedCaps"===t?r.filtered=e.isPreview||e.selected:"indexes"===t&&(r.filtered=e.srchAllowed||e.srchDefault||e.imported_srchAllowed||e.imported_srchDefault||!!e.isIncPreview||!!e.isDefPreview||!!(e.wildcard_srchAllowed&&e.wildcard_srchAllowed.length>0)||!!(e.wildcard_srchDefault&&e.wildcard_srchDefault.length>0));break;case"unselected":"roles"===t?r.filtered=!e.selected:"selectedCaps"===t?r.filtered=!e.isPreview&&!e.selected:"indexes"===t&&(r.filtered=!(e.srchAllowed||e.srchDefault||e.imported_srchAllowed||e.imported_srchDefault||e.isIncPreview||e.isDefPreview||e.wildcard_srchAllowed&&e.wildcard_srchAllowed.length>0||e.wildcard_srchDefault&&e.wildcard_srchDefault.length>0));break;case"native":"selectedCaps"===t?r.filtered=("native"===e.source||""===e.source)&&!e.isPreview&&e.selected:"indexes"===t&&(r.filtered=e.srchDefault||e.srchAllowed||!!(e.native_wildcards&&e.native_wildcards.length>0));break;case"inherited":"selectedCaps"===t?r.filtered=e.isPreview||"inherited"===e.source:"indexes"===t&&(r.filtered=e.imported_srchDefault||e.imported_srchAllowed||!!e.isIncPreview||!!e.isDefPreview||!!(e.inherited_wildcards&&e.inherited_wildcards.length>0));break;case"wildcards":r.filtered=!!e.isWildcard;break;case"name":r.filtered=-1!==e.name.indexOf(n);break;default:r.filtered=!0}return r}))},t.genSrchFilter=function(e,t,a,n){var l="";""!==e.trim()&&(l+=" "+t+" ");a&&0===n.length&&(l+=""+a);a&&n.length>0&&(l+=n.reduce((function(e,t,l){var r=e;return r+=a+"::"+t,l===n.length-1?r+=")":r+=" OR ",r}),"("));return l},t.getMenuLabel=function(e){return"Showing "+("uninherited"===e?"native":e)},t.hasEquals=function(e){return/(\w+)\s*(?:=)/.test(e)},t.hasFieldCollision=function(e,t){if(e&&t){return new RegExp((0,c.sprintf)("%(field)s\\s*(?:::|=)",{field:e.replace(/[*]/g,"\\$&")})).test(t)}return!1},t.scrollToRef=function(e){e&&e.scrollIntoView&&e.scrollIntoView(!1)},t.isValidIdxName=function(e){return/(^[a-z0-9*_]+)([a-z0-9*_-]*)$/.test(e)},t.getIndexTooltip=function(e,t){var a="";e["imported_"+t]?a=(0,r._)("This index is inherited"):e["wildcard_"+t]&&e["wildcard_"+t].length>0&&(a=(0,r._)((0,c.sprintf)("This index is matched by the selected wildcard(s): %(list)s%(count)s",{list:e["wildcard_"+t].slice(0,3).join(", "),count:e["wildcard_"+t].slice(3).length?(0,c.sprintf)("...(%s)",e["wildcard_"+t].slice(3).length):""})));return a};var r=a(7),i=a(12),s=u(a(315)),o=u(a(35)),d=a(26),c=a(28);function u(e){return e&&e.__esModule?e:{default:e}}var f=t.ROLES_COLLECTION_PATH=(0,d.createRESTURL)("authorization/roles"),h=t.CAPABILITIES_COLLECTION_PATH=(0,d.createRESTURL)("authorization/grantable_capabilities"),p=t.LOCAL_INDEXES_COLLECTION_PATH=(0,d.createRESTURL)("data/indexes"),m=t.REMOTE_INDEXES_COLLECTION_PATH=(0,d.createRESTURL)("data/distributed-indexes");t.MAX_FILTER_LENGTH=250,t.DEFAULT_TIMERANGE="-60s",t.DEFAULT_TIMERANGE_LABEL="60 seconds",t.DEFAULT_CONCAT_OPT="OR",t.WARN_MSG_FIELD_COLLISION='The indexed field "%(field)s" that you selected already exists in the SPL search filter. Confirm that the filter has no unintended conflicts in SPL.',t.WARN_MSG_CONTAINS_EQUALS='The SPL search filter contains search terms that use the "=" operator. For event data, this type of syntax is not secure, use the "::" operator instead. You can safely use "=" in search terms for metrics data.';function b(e,t){return t&&t.content?t.content.imported_capabilities&&t.content.imported_capabilities.indexOf(e)>-1?(0,r._)("inherited"):t.content.capabilities&&t.content.capabilities.indexOf(e)>-1?(0,r._)("native"):"":""}function g(e){return new RegExp((0,c.sprintf)("^%s$",e.replace(/\*/gi,"([\\w-*]*)")),"i")}function v(e,t,a){var n=g(e.name),l=e;return t.map((function(t){var r=t;(r.name=r.name||r.index,a&&r.isWildcard)&&(g(r.name).test(e.name)&&((r.srchDefault||r.imported_srchDefault||r.isDefPreview)&&(l.wildcard_srchDefault=[r.name].concat(l.wildcard_srchDefault||[])),(r.srchAllowed||r.imported_srchAllowed||r.isIncPreview)&&(l.wildcard_srchAllowed=[r.name].concat(l.wildcard_srchAllowed||[]))));return!n.test(r.name)||r.name===e.name||"*"===e.name.charAt(0)&&"_"===r.name.charAt(0)||(e.srchDefault||e.imported_srchDefault||e.isDefPreview?(!r.wildcard_srchDefault||r.wildcard_srchDefault.indexOf(e.name)<0)&&(r.wildcard_srchDefault=[e.name].concat(r.wildcard_srchDefault||[])):r.wildcard_srchDefault&&r.wildcard_srchDefault.indexOf(e.name)>-1&&r.wildcard_srchDefault.splice(r.wildcard_srchDefault.indexOf(e.name),1),e.srchAllowed||e.imported_srchAllowed||e.isIncPreview?(!r.wildcard_srchAllowed||r.wildcard_srchAllowed.indexOf(e.name)<0)&&(r.wildcard_srchAllowed=[e.name].concat(r.wildcard_srchAllowed||[])):r.wildcard_srchAllowed&&r.wildcard_srchAllowed.indexOf(e.name)>-1&&r.wildcard_srchAllowed.splice(r.wildcard_srchAllowed.indexOf(e.name),1),e.imported_srchDefault||e.imported_srchAllowed||e.isDefPreview||e.isIncPreview?(!r.inherited_wildcards||r.inherited_wildcards.indexOf(e.name)<0)&&(r.inherited_wildcards=[e.name].concat(r.inherited_wildcards||[])):r.inherited_wildcards&&r.inherited_wildcards.indexOf(e.name)>-1&&r.inherited_wildcards.splice(r.inherited_wildcards.indexOf(e.name),1),e.srchDefault||e.srchAllowed?(!r.native_wildcards||r.native_wildcards.indexOf(e.name)<0)&&(r.native_wildcards=[e.name].concat(r.native_wildcards||[])):r.native_wildcards&&r.native_wildcards.indexOf(e.name)>-1&&r.native_wildcards.splice(r.native_wildcards.indexOf(e.name),1)),r})),l}function x(e){return!!e&&/[*]/.test(e)}function _(e,t){return e&&e.length&&e.sort((function(e,a){return e[t]<a[t]?-1:e[t]>a[t]?1:0}))}function w(e,t,a){var n={name:e.index,filtered:!0,imported_srchDefault:!!(a&&a.content&&a.content.imported_srchIndexesDefault.indexOf(e.index)>-1),imported_srchAllowed:!!(a&&a.content&&a.content.imported_srchIndexesAllowed.indexOf(e.index)>-1),srchDefault:!!(a&&a.content&&a.content.srchIndexesDefault.indexOf(e.index)>-1),srchAllowed:!!(a&&a.content&&a.content.srchIndexesAllowed.indexOf(e.index)>-1),isWildcard:!!e.isWildcard,wildcard_srchDefault:e.wildcard_srchDefault||[],wildcard_srchAllowed:e.wildcard_srchAllowed||[],inherited_wildcards:e.inherited_wildcards||[]};return"*"===e.index&&(n.label=(0,r._)("All non-internal indexes")),"_*"===e.index&&(n.label=(0,r._)("All internal indexes")),e.isWildcard&&(n=v(n,t)),n}function y(e){if(e){var t=e.reduce((function(e,t){return t.selected?e+1:e}),0);return 0===t?"none":t===e.length?"all":"some"}return"none"}},"views/roles/modals/AddEditRoles":function(e,t,a){"use strict";a(1),Object.defineProperty(t,"__esModule",{value:!0});var n=q(a(10)),l=q(a(61)),r=q(a(60)),i=q(a(11)),s=q(a(13)),o=q(a(15)),d=q(a(16)),c=q(a(55)),u=(0,c.default)(["\n    display: flex;\n    justify-content: space-between;\n"],["\n    display: flex;\n    justify-content: space-between;\n"]),f=(0,c.default)(["\n    flex: 1 0 auto;\n    margin-left: 10px;\n"],["\n    flex: 1 0 auto;\n    margin-left: 10px;\n"]),h=(0,c.default)(["\n    flex: 0 1 auto;\n"],["\n    flex: 0 1 auto;\n"]),p=a(0),m=q(p),b=q(a(2)),g=q(a(9)),v=a("shim/splunk.util"),x=a(28),_=a(12),w=a(7),y=a(150),S=q(a("uri/route")),E=q(a(14)),C=q(a(305)),R=q(a(18)),T=q(a(20)),O=q(a(24)),I=q(a(23)),F=q(a(32));a("views/roles/Roles.pcss");var A=q(a("models/access_control/IndexFieldValues")),k=q(a("views/roles/modals/tabpanels/Resources")),P=q(a("views/roles/modals/tabpanels/Inheritance")),j=q(a("views/roles/modals/tabpanels/Capabilities")),L=q(a("views/roles/modals/tabpanels/Indexes")),D=q(a("views/roles/modals/tabpanels/Restrictions")),M=a("views/federated_search/FederatedUtils"),N=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a("views/roles/Utils"));function q(e){return e&&e.__esModule?e:{default:e}}var U=(0,g.default)(O.default.Footer)(u),V=g.default.div(f),W=(0,g.default)(F.default)(h),H=["new","clone"],J=function(e){function t(e,a){(0,i.default)(this,t);var s=(0,o.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,a));return s.componentDidUpdate=function(e,t){if(t.concatOpt===s.state.concatOpt&&t.idxFieldSelected===s.state.idxFieldSelected&&t.idxFieldValSelected.length===s.state.idxFieldValSelected.length||s.updateGenSrchFilterDebounced(),s.inheritedRoleChanged){s.inheritedRoleChanged=!1;var a=void 0,n=void 0;if(s.state.roles.length>0){var l=N.getImportedProps(s.state.roles);n=(0,_.has)(l,"ind")&&l.ind,a=(0,_.has)(l,"caps")&&l.caps}else s.props.object&&s.props.object.content&&s.props.object.content.imported_capabilities&&(a=new Set(s.props.object.content.imported_capabilities));var i=N.updateCaps([].concat((0,r.default)(s.state.selectedCaps)),a,s.state.menuSelectionState.selectedCaps),o=N.getIndexPreview(n,s.state.indexes,s.state.menuSelectionState.indexes);s.setState({selectedCaps:i,indexes:o})}s.state.wildcardSuccess.length>0&&t.wildcardSuccess===s.state.wildcardSuccess&&s.setState({wildcardSuccess:""})},s.componentWillUnmount=function(){s.indexesAllowedSearchJobResults&&s.indexesAllowedSearchJobResults.unsubscribe(),s.valueResults&&s.valueResults.unsubscribe(),s.fieldResults&&s.fieldResults.unsubscribe()},s.getFields=function(){s.fieldResults&&s.fieldResults.unsubscribe(),s.model.fieldSearch.options.earliest_time=s.state.srchTimerange,s.model.fieldSearch.options.type="field",s.setState({isFetchingResources:!0}),s.fieldResults=s.model.fieldSearch.getFields().getResults().subscribe({next:s.handleGetFieldsNext,error:s.handleGetFieldsErr,complete:s.handleComplete})},s.getValues=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";s.valueResults&&s.valueResults.unsubscribe(),s.model.valueSearch.options.earliest_time=s.state.srchTimerange,s.model.valueSearch.options.type=s.state.idxFieldSelected,s.model.valueSearch.options.valueFilter=e||"",s.setState({isFetchingResources:!0}),s.valueResults=s.model.valueSearch.getValues().getResults().subscribe({next:s.handleGetValuesNext,error:s.handleGetValuesErr,complete:s.handleComplete})},s.getIndexes=function(){var e=s.props.object;s.setState({isFetchingIndexes:!0}),Promise.all([s.props.fetchLocalIndexes(N.getLocalIndexesUrl()),s.props.fetchRemoteIndexes(N.getRemoteIndexesUrl())]).then((function(t){var a=(0,l.default)(t,2),i=a[0],o=a[1],d=i.entry&&i.entry.filter((function(e){return!(0,y.normalizeBoolean)(e.content.disabled)})),c=o.entry&&o.entry.filter((function(e){return!(0,y.normalizeBoolean)(e.content.disabled)})),u=(0,_.unionBy)(d,c,"name"),f=(0,_.sortBy)(u,"name").map((function(e){return(0,n.default)({},e,{index:e.name})})),h=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=N.getSelectedIndexes([].concat((0,r.default)(f),(0,r.default)(t)),e);s.updateIndexList(a),s.setState({indexes:a,isFetchingIndexes:!1})},p=(0,_.keyBy)(f,"index"),m=N.getAllowedIndexNamesFromRole(s.props.object).reduce((function(e,t){return p[t]||N.isWildcard(t)||e.push(t),e}),[]);m.length?(s.indexesAllowedSearchJob=N.createSpecificIndexesSearchJob(m),s.indexesAllowedSearchJob.getProgress().subscribe({error:function(){h()},next:function(){s.indexesAllowedSearchJobResults=s.indexesAllowedSearchJob.getResults&&s.indexesAllowedSearchJob.getResults({count:m.length}).subscribe((function(e){var t=e.results;return h(t)}))}})):h()})).catch((function(e){return s.setState({errorMessage:(0,w._)("Unable to fetch Indexes: ")+e.message,isFetchingIndexes:!1})}))},s.handleGetFieldsNext=function(e){e.results&&e.results.length&&s.setState({idxFields:e.results})},s.handleGetFieldsErr=function(e){s.model.fieldSearch.errorMsg=e.message,s.setState({isFetchingResources:!1})},s.handleGetValuesNext=function(e){e.results&&e.results.length&&s.setState({idxFieldVals:e.results})},s.handleGetValuesErr=function(e){s.model.valueSearch.errorMsg=e.message,s.setState({isFetchingResources:!1})},s.handleComplete=function(){s.setState({isFetchingResources:!1})},s.updateGenSrchFilter=function(){s.setState({generatedSrchFilter:N.genSrchFilter(s.state.resources.srchFilter,s.state.concatOpt,s.state.idxFieldSelected,s.state.idxFieldValSelected)})},s.handlePreviewSrchFilter=function(){s.previewSearchFilterStr="";var e=s.model.fieldSearch.options.indexList.length;e&&(s.model.fieldSearch.options.indexList.forEach((function(t,a){s.previewSearchFilterStr+=a===e-1?"index="+t:"index="+t+" OR "})),s.previewSearchFilterStr+=s.state.resources.srchFilter.length?" | search "+s.state.resources.srchFilter:"",s.previewSearchFilterStr+=s.props.object.content&&s.props.object.content.imported_srchFilter?" | search "+s.props.object.content.imported_srchFilter:"");var t=S.default.search(s.props.application.root,s.props.application.locale,s.props.application.app,{data:{earliest:"-60s",latest:"now",q:s.previewSearchFilterStr}});s.previewSearchFilterStr&&window.open(t,"_blank")},s.handleSuccess=function(){s.props.setShouldRefreshOnClose(),s.handleClose()},s.handleRolesToggle=function(e,t){var a=t.name;s.inheritedRoleChanged=!0,s.setState({roles:N.toggleSelected([].concat((0,r.default)(s.state.roles)),{name:a})})},s.handleRolesToggleAll=function(){s.inheritedRoleChanged=!0,s.setState({roles:N.toggleAll(s.state.roles)})},s.handleCapsToggle=function(e,t){var a=t.name;s.setState({selectedCaps:N.toggleSelected([].concat((0,r.default)(s.state.selectedCaps)),{name:a})})},s.handleCapsToggleAll=function(){s.setState({selectedCaps:N.toggleAll(s.state.selectedCaps)})},s.handleIndexesToggle=function(e,t){var a=t.value;s.idxChanged=!0,s.setState({indexes:N.toggleSelected([].concat((0,r.default)(s.state.indexes)),a)})},s.handleTabPanelFiltering=function(e,t){var a={menuSelectionState:s.state.menuSelectionState,tabFilterState:s.state.tabFilterState};a.menuSelectionState[t]="name"===e.name?"":e.name,a.tabFilterState[t]=void 0===e.value?"":e.value,a[t]=N.filterData(s.state[t],t,e.name,a.tabFilterState[t]),s.setState(a)},s.handleSave=function(){switch(s.setState({isSaving:!0}),s.props.action){case"new":case"clone":var e={name:s.state.title.trim(),defaultApp:s.state.defaultApp,output_mode:"json"};s.props.callCreateRole(N.constructPostData(e,s.state)).then((function(){s.handleSuccess()})).catch((function(e){s.setState({isSaving:!1,errorMessage:e.message}),s.addEditModalRef.current.scrollIntoView()}));break;case"edit":var t={defaultApp:s.state.defaultApp,output_mode:"json"};s.props.callEditRole(s.props.object.name,N.constructPostData(t,s.state)).then((function(){s.handleSuccess()})).catch((function(e){s.setState({isSaving:!1,errorMessage:e.message}),s.addEditModalRef.current.scrollIntoView()}))}},s.handleClose=function(){s.setState({isFetchingResources:!1,isFetchingIndexes:!1,isSaving:!1,errorMessage:""}),s.props.handleRequestClose()},s.handleTitleTextChange=function(e,t){var a=t.value;s.setState({title:a})},s.handleResourceChange=function(e,t){var a=t.name,n=t.value,l={resources:s.state.resources};l.resources[a]=n,"srchFilter"===a&&(l.generatedSrchFilter=N.genSrchFilter(n,s.state.concatOpt,s.state.idxFieldSelected,s.state.idxFieldValSelected)),s.setState(l)},s.handleAppChange=function(e,t){var a=t.value;s.setState({defaultApp:a})},s.handleConcatOpt=function(e,t){var a=t.value;s.setState({concatOpt:a})},s.handleFieldChange=function(e,t){var a=t.value;a?s.setState({idxFieldSelected:a,idxFieldValSelected:[]},s.getValuesDebounced()):s.setState({idxFieldValSelected:[],idxFieldSelected:""})},s.handleValueChange=function(e,t){var a=t.values;s.setState({idxFieldValSelected:a})},s.handleSrchTimerangeChange=function(e,t){var a=t.value;s.setState({srchTimerange:a,idxFieldValSelected:[],idxFieldVals:[],idxFieldSelected:"",idxFields:[]},s.getFieldsDebounced())},s.handleApplyClick=function(){var e=s.state.resources;e.srchFilter+=s.state.generatedSrchFilter,s.setState({resources:e,idxFieldValSelected:[],idxFieldVals:[],idxFieldSelected:""})},s.handleValueFilter=function(e,t){var a=t.keyword;s.getValuesDebounced(a)},s.handleResetClick=function(){s.setState({concatOpt:N.DEFAULT_CONCAT_OPT,idxFields:[],idxFieldVals:[],idxFieldSelected:"",idxFieldValSelected:[],srchTimerange:N.DEFAULT_TIMERANGE})},s.handleTabChange=function(e,t){var a={activePanelId:t.activePanelId};"restrictions"===t.activePanelId&&s.idxChanged&&(s.idxChanged=!1,Object.assign(a,{idxFields:[],idxFieldVals:[],idxFieldSelected:"",idxFieldValSelected:[]}),s.updateIndexList(s.state.indexes),s.getFieldsDebounced()),s.setState(a)},s.updateIndexList=function(e){var t=e.reduce((function(e,t){return(t.imported_srchDefault||t.imported_srchAllowed||t.srchDefault||t.srchAllowed||t.isIncPreview||t.isDefPreview)&&e.push(t.name),e}),[]);s.model.fieldSearch.options.indexList=t,s.model.valueSearch.options.indexList=t},s.handleMount=function(e){return s.setState({scrollContainer:e})},s.handleWildcardTextChange=function(e,t){var a=t.value;s.setState({wildcardText:a})},s.handleAddWildcard=function(){var e=[].concat((0,r.default)(s.state.indexes)),t=void 0;if(""===s.state.wildcardText?t=(0,w._)("You must enter a value in the Wildcard text box."):"*"===s.state.wildcardText?t=(0,w._)('Use the index selection "All non-internal indexes" in the Indexes table instead of "*".'):"_*"===s.state.wildcardText?t=(0,w._)('Use the index selection "All internal indexes" in the Indexes table instead of "_*".'):N.isWildcard(s.state.wildcardText)?N.isValidIdxName(s.state.wildcardText)?e.forEach((function(e){e.name===s.state.wildcardText&&(t=(0,w._)('The wildcard "'+s.state.wildcardText+'" already exists.'))})):t=(0,w._)("Index names can only contain lower case letters, numbers, underscores, or hyphens. Index names cannot start with a hyphen."):t=(0,w._)('Enter a wildcard name containing "*".'),t)s.setState({errorMessage:t});else{var a={name:s.state.wildcardText,filtered:!0,srchDefault:!1,srchAllowed:!0,isWildcard:!0,isNew:!0};a=N.selectCoveredIndexes(a,e,!0),e=N.sortByKey([].concat((0,r.default)(e),[a]),"name"),s.setState({indexes:e,wildcardSuccess:a.name,wildcardText:"",errorMessage:""})}},s.needToConsent=function(){var e=s.state.selectedCaps.filter((function(e){return e.name===s.state.federatedCapability&&(!0===e.isPreview||!0===e.selected)})).length;return!(!(0,y.normalizeBoolean)(s.state.federated.needs_consent)||!e)},s.isSaveBtnDisabled=function(){return s.state.isFetchingResources||s.state.isFetchingIndexes||s.state.isSaving||s.needToConsent()&&!s.state.federatedConsent},s.handleConsentClick=function(){var e=s.state.federatedConsent;s.setState({federatedConsent:!e});var t=!1===e?"checked":"unchecked";(0,v.trackEvent)({type:s.props.action+"Role.fedrampConsentCheckbox",data:{action:t+" consent box",location:"roles page"}})},s.consentForm=function(){return s.needToConsent()?m.default.createElement(W,{"data-test-name":"consent",onClick:s.handleConsentClick,selected:s.state.federatedConsent},(0,w._)("I acknowledge that a role with the "+s.state.federatedCapability+" \n                                capability can send search results data outside the compliant environment.")):null},s.indexesList=s.getIndexes(),s.idxChanged=!0,s.inheritedRoleChanged=!1,s.model={fieldSearch:new A.default,valueSearch:new A.default},s.getFieldsDebounced=(0,_.debounce)(s.getFields,300),s.getValuesDebounced=(0,_.debounce)(s.getValues,300),s.updateGenSrchFilterDebounced=(0,_.debounce)(s.updateGenSrchFilter,700),s.addEditModalRef=m.default.createRef(),s.state={isFetchingResources:!1,isFetchingIndexes:!1,isSaving:!1,errorMessage:"",resources:{srchFilter:s.props.object.content?s.props.object.content.srchFilter:"",srchTimeWin:s.props.object.content?s.props.object.content.srchTimeWin.toString():"-1",srchTimeEarliest:s.props.object.content?s.props.object.content.srchTimeEarliest.toString():"-1",srchJobsQuota:s.props.object.content?s.props.object.content.srchJobsQuota.toString():"3",rtSrchJobsQuota:s.props.object.content?s.props.object.content.rtSrchJobsQuota.toString():"6",cumulativeSrchJobsQuota:s.props.object.content?s.props.object.content.cumulativeSrchJobsQuota.toString():"0",cumulativeRTSrchJobsQuota:s.props.object.content?s.props.object.content.cumulativeRTSrchJobsQuota.toString():"0",srchDiskQuota:s.props.object.content?s.props.object.content.srchDiskQuota.toString():"100"},selectedCaps:[],indexes:[],roles:[],federated:{},federatedConsent:!1,federatedCapability:"fsh_manage",menuSelectionState:{roles:"all",selectedCaps:"all",indexes:"all"},title:"clone"!==s.props.action?s.props.object[s.props.nameAttribute]||"":(0,x.sprintf)("%s%s",s.props.object[s.props.nameAttribute],"_clone"),defaultApp:s.props.object.content?s.props.object.content.defaultApp:"",activePanelId:"inheritance",concatOpt:N.DEFAULT_CONCAT_OPT,indexList:[],idxFields:[],idxFieldSelected:"",idxFieldVals:[],idxFieldValSelected:[],srchTimerange:N.DEFAULT_TIMERANGE,generatedSrchFilter:"",scrollContainer:"window",tabFilterState:{roles:"",indexes:"",selectedCaps:""},wildcardText:"",wildcardSuccess:""},s}return(0,d.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){var e=this;Promise.all([this.props.fetchAllRoles(N.getRolesUrl()),this.props.fetchAllCapabilities(N.getCapabilitiesUrl()),(0,M.fetchFederatedData)((0,M.getFederatedUrl)())]).then((function(t){var a=(0,l.default)(t,3),n=a[0],r=a[1],i=a[2],s=N.getRolesWithSelection((0,_.get)(n,"entry",[]),e.props.object),o=(0,_.get)(r,"entry[0].content.capabilities",[]),d=N.getCapsWithSelection(o,e.props.object),c=(0,_.get)(i,"entry[0].content",{});e.setState({roles:s,selectedCaps:d,federated:c})})).catch((function(t){return e.setState({errorMessage:t.message})}))}},{key:"render",value:function(){var e=this.props.apps.map((function(e){return{value:e.entry.get("name")}})),t=0===this.state.resources.srchFilter.trim().length||0===this.state.idxFieldValSelected.length;return m.default.createElement(O.default,{onRequestClose:this.handleClose,"data-test-name":"add-edit-role-modal",open:this.props.open,style:{width:"75%"}},m.default.createElement(O.default.Header,{title:(0,x.sprintf)("%s %s %s",N.getModalTitle(this.props.action),this.props.objectNameSingular,this.props.object[this.props.nameAttribute]||""),"data-test-name":"add-edit-role-modal-header",onRequestClose:this.handleClose}),m.default.createElement(O.default.Body,{"data-test-name":"add-edit-role-modal-body",elementRef:this.handleMount},m.default.createElement("div",{ref:this.addEditModalRef},this.state.errorMessage&&m.default.createElement(T.default,{type:"error","data-test-name":"add-edit-role-modal-err-msg",elementRef:N.scrollToRef},this.state.errorMessage),m.default.createElement(R.default,{label:(0,w._)("Name *"),"data-test-name":"add-edit-role-name-cg",tooltip:-1===H.indexOf(this.props.action)?(0,w._)("You cannot edit the name of an existing role."):(0,w._)("A role must have a name.")},m.default.createElement(I.default,{"data-test-name":"add-edit-role-name-title",canClear:!0,autoFocus:!0,disabled:-1===H.indexOf(this.props.action),value:this.state.title,onChange:this.handleTitleTextChange})),m.default.createElement(C.default,{style:{margin:35},"data-test-name":"add-edit-role-modal-tabs",activePanelId:this.state.activePanelId,onChange:this.handleTabChange},m.default.createElement(C.default.Panel,{label:(0,w._)("1. Inheritance"),panelId:"inheritance",style:{margin:20}},m.default.createElement(P.default,{roles:this.state.roles,menuSelected:this.state.menuSelectionState.roles,handleRolesFiltering:this.handleTabPanelFiltering,rowRolesSelectionState:N.rowRolesSelectionState,handleRolesToggleAll:this.handleRolesToggleAll,handleRolesToggle:this.handleRolesToggle,filterValue:this.state.tabFilterState.roles})),m.default.createElement(C.default.Panel,{label:(0,w._)("2. Capabilities"),panelId:"capabilities",style:{margin:20}},m.default.createElement(j.default,{caps:this.state.selectedCaps,menuSelected:this.state.menuSelectionState.selectedCaps,rowRolesSelectionState:N.rowRolesSelectionState,handleCapsToggleAll:this.handleCapsToggleAll,handleCapsToggle:this.handleCapsToggle,handleCapsFiltering:this.handleTabPanelFiltering,filterValue:this.state.tabFilterState.selectedCaps})),m.default.createElement(C.default.Panel,{label:(0,w._)("3. Indexes"),panelId:"indexes",style:{margin:20}},m.default.createElement(L.default,{indexes:this.state.indexes,handleIndexesToggle:this.handleIndexesToggle,handleIndexFiltering:this.handleTabPanelFiltering,menuSelected:this.state.menuSelectionState.indexes,filterValue:this.state.tabFilterState.indexes,handleWildcardTextChange:this.handleWildcardTextChange,wildcardText:this.state.wildcardText,handleAddWildcard:this.handleAddWildcard,wildcardSuccess:this.state.wildcardSuccess})),m.default.createElement(C.default.Panel,{label:(0,w._)("4. Restrictions"),panelId:"restrictions"},m.default.createElement(D.default,{concatOpt:this.state.concatOpt,disableConcat:t,generatedSrchFilter:this.state.generatedSrchFilter,handleApplyClick:this.handleApplyClick,handleConcatOpt:this.handleConcatOpt,disableGenerator:0===this.model.fieldSearch.options.indexList.length,handleFieldChange:this.handleFieldChange,handlePreviewSrchFilter:this.handlePreviewSrchFilter,handleResetClick:this.handleResetClick,handleResourceChange:this.handleResourceChange,handleSrchTimerangeChange:this.handleSrchTimerangeChange,handleValueChange:this.handleValueChange,handleValueFilter:this.handleValueFilter,idxFields:this.state.idxFields,idxFieldSelected:this.state.idxFieldSelected,idxFieldVals:this.state.idxFieldVals,idxFieldValSelected:this.state.idxFieldValSelected,isWorking:this.state.isFetchingResources,learnMoreLink:this.props.learnMoreLink,srchFilter:this.state.resources.srchFilter,srchTimerange:this.state.srchTimerange,srchTimeWin:this.state.resources.srchTimeWin,srchTimeEarliest:this.state.resources.srchTimeEarliest,scrollContainer:this.state.scrollContainer})),m.default.createElement(C.default.Panel,{label:(0,w._)("5. Resources"),panelId:"resources",style:{margin:20}},m.default.createElement(k.default,{apps:e,defaultApp:this.state.defaultApp,handleAppChange:this.handleAppChange,resources:this.state.resources,handleResourceChange:this.handleResourceChange,handleSrchTimeWinChange:this.handleSrchTimeWinChange,handleSrchTimeEarliestChange:this.handleSrchTimeEarliestChange,handleSelect:this.handleSelect,scrollContainer:this.state.scrollContainer}))))),m.default.createElement(U,null,this.consentForm(),m.default.createElement(V,null,m.default.createElement(E.default,{"data-test-name":"cancel-btn",onClick:this.handleClose,label:(0,w._)("Cancel")}),m.default.createElement(E.default,{appearance:"primary","data-test-name":"save-btn",disabled:this.isSaveBtnDisabled(),onClick:this.handleSave,label:N.getButtonLabel(this.state.isSaving,this.props.action)}))))}}]),t}(p.Component);J.propTypes={action:b.default.oneOf(["new","edit","clone"]).isRequired,open:b.default.bool.isRequired,object:b.default.shape({name:b.default.string,content:b.default.shape({defaultApp:b.default.string,srchFilter:b.default.string,srchTimeWin:b.default.number,srchTimeEarliest:b.default.number,srchJobsQuota:b.default.number,rtSrchJobsQuota:b.default.number,cumulativeSrchJobsQuota:b.default.number,cumulativeRTSrchJobsQuota:b.default.number,imported_capabilities:b.default.arrayOf(b.default.string),imported_srchFilter:b.default.string,srchDiskQuota:b.default.number,srchIndexesDefault:b.default.arrayOf(b.default.string),srchIndexesAllowed:b.default.arrayOf(b.default.string)})}).isRequired,apps:b.default.arrayOf(b.default.shape({})).isRequired,application:b.default.shape({root:b.default.string,locale:b.default.string,app:b.default.string}).isRequired,objectNameSingular:b.default.string.isRequired,nameAttribute:b.default.string.isRequired,handleRequestClose:b.default.func.isRequired,callCreateRole:b.default.func.isRequired,callEditRole:b.default.func.isRequired,fetchAllCapabilities:b.default.func.isRequired,fetchLocalIndexes:b.default.func.isRequired,fetchRemoteIndexes:b.default.func.isRequired,fetchAllRoles:b.default.func.isRequired,setShouldRefreshOnClose:b.default.func.isRequired,learnMoreLink:b.default.string.isRequired},t.default=J,e.exports=t.default},"views/roles/modals/DeleteRole":function(e,t,a){"use strict";a(1),Object.defineProperty(t,"__esModule",{value:!0});var n=b(a(11)),l=b(a(13)),r=b(a(15)),i=b(a(16)),s=a(0),o=b(s),d=b(a(2)),c=b(a(14)),u=b(a(24)),f=b(a(20)),h=a(28),p=a(7),m=a("views/roles/Utils");function b(e){return e&&e.__esModule?e:{default:e}}var g=function(e){function t(e,a){(0,n.default)(this,t);var l=(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,a));return l.handleDelete=function(){l.setState({isWorking:!0}),l.props.callDeleteRole((0,m.getDeleteRoleUrl)(l.state.title)).then((function(){l.props.handleDeleteChange(1),l.props.setShouldRefreshOnClose(),l.handleClose()})).catch((function(e){l.setState({isWorking:!1,errorMessage:e.message})}))},l.handleClose=function(){l.setState({isWorking:!1,errorMessage:""}),l.props.handleRequestClose()},l.state={isWorking:!1,errorMessage:"",title:l.props.object[l.props.nameAttribute]||""},l}return(0,i.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return o.default.createElement("div",null,o.default.createElement(u.default,{"data-test-name":"delete-role-modal",onRequestClose:this.handleClose,open:this.props.open,style:{width:"25%"}},o.default.createElement(u.default.Header,{"data-test-name":"delete-modal-header",title:(0,p._)("Delete Role"),onRequestClose:this.handleClose}),o.default.createElement(u.default.Body,{"data-test-name":"delete-modal-body"},this.state.errorMessage&&o.default.createElement(f.default,{type:"error"},this.state.errorMessage),o.default.createElement("div",{"data-test-name":"delete-modal-content",style:{wordBreak:"break-word"}},(0,h.sprintf)((0,p._)("Are you sure you want to delete %s?"),this.state.title))),o.default.createElement(u.default.Footer,{"data-test-name":"delete-modal-footer"},o.default.createElement(c.default,{"data-test-name":"delete-cancel-btn",onClick:this.handleClose,label:(0,p._)("Cancel")}),o.default.createElement(c.default,{appearance:"primary","data-test-name":"delete-btn",disabled:this.state.isWorking,onClick:this.handleDelete,label:this.state.isWorking?(0,p._)("Deleting..."):(0,p._)("Delete")}))))}}]),t}(s.Component);g.propTypes={object:d.default.shape({name:d.default.string.isRequired}).isRequired,open:d.default.bool.isRequired,nameAttribute:d.default.string.isRequired,handleRequestClose:d.default.func.isRequired,handleDeleteChange:d.default.func.isRequired,setShouldRefreshOnClose:d.default.func.isRequired,callDeleteRole:d.default.func.isRequired},t.default=g,e.exports=t.default},"views/roles/modals/ViewCapabilities":function(e,t,a){"use strict";a(1),Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(0)),l=d(a(2)),r=d(a(14)),i=d(a(24)),s=a(7),o=d(a(487));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){return n.default.createElement("div",null,n.default.createElement(i.default,{"data-test-name":"view-capabilities-modal",onRequestClose:e.handleRequestClose,open:e.open,style:{width:"80%"}},n.default.createElement(i.default.Header,{"data-test-name":"view-capabilities-modal-header",title:(0,s._)("View Capabilities"),onRequestClose:e.handleRequestClose}),n.default.createElement(i.default.Body,{"data-test-name":"view-capabilities-modal-body",style:{backgroundColor:"#f2f5f4",paddingTop:0}},n.default.createElement(o.default,{entityType:"roles",entity:e.object[e.nameAttribute]||""})),n.default.createElement(i.default.Footer,null,n.default.createElement(r.default,{"data-test-name":"view-capabilities-cancel",onClick:e.handleRequestClose,label:(0,s._)("Cancel")}))))};c.propTypes={open:l.default.bool,object:l.default.shape({name:l.default.string.isRequired}).isRequired,nameAttribute:l.default.string.isRequired,handleRequestClose:l.default.func.isRequired},c.defaultProps={open:!1},t.default=c,e.exports=t.default},"views/roles/modals/ViewIndexes":function(e,t,a){"use strict";a(1),Object.defineProperty(t,"__esModule",{value:!0});var n=u(a(10)),l=u(a(0)),r=u(a(2)),i=u(a(14)),s=u(a(24)),o=a(7),d=a("util/test_support"),c=u(a("views/view_indexes/View"));function u(e){return e&&e.__esModule?e:{default:e}}var f=function(e){return l.default.createElement("div",null,l.default.createElement(s.default,(0,n.default)({},(0,d.createTestHook)(null,"viewIndexesModal"),{onRequestClose:e.handleRequestClose,open:e.open,style:{width:"80%"}}),l.default.createElement(s.default.Header,{title:(0,o._)("View index inheritance for role "+e.object[e.nameAttribute]),onRequestClose:e.handleRequestClose}),l.default.createElement(s.default.Body,{style:{backgroundColor:"#f2f5f4"}},l.default.createElement(c.default,{entityType:"roles",entity:e.object[e.nameAttribute],showHeading:!1})),l.default.createElement(s.default.Footer,null,l.default.createElement(i.default,(0,n.default)({},(0,d.createTestHook)(null,"viewIndexes-cancel-btn"),{onClick:e.handleRequestClose,label:(0,o._)("Cancel")})))))};f.propTypes={open:r.default.bool,object:r.default.shape({name:r.default.string.isRequired}).isRequired,nameAttribute:r.default.string.isRequired,handleRequestClose:r.default.func.isRequired},f.defaultProps={open:!1},t.default=f,e.exports=t.default},"views/roles/modals/tabpanels/Capabilities":function(e,t,a){"use strict";a(1),Object.defineProperty(t,"__esModule",{value:!0});var n=f(a(0)),l=f(a(2)),r=f(a(47)),i=f(a(29)),s=f(a(23)),o=f(a(54));a("views/roles/Roles.pcss");var d=a(7),c=a("views/roles/Utils"),u=f(a("views/roles/modals/tabpanels/tables/rows/CapabilitiesRow"));function f(e){return e&&e.__esModule?e:{default:e}}var h=function(e){return n.default.createElement("div",null,n.default.createElement(i.default,{className:"roles-tableHelpText","data-test-name":"capabilities-help-text"},(0,d._)("Select specific capabilities for this role.")),n.default.createElement(r.default,{stripeRows:!0,"data-test-name":"capabilities-table",onRequestToggleAllRows:e.handleCapsToggleAll,rowSelection:e.rowRolesSelectionState(e.caps)},n.default.createElement(r.default.Head,{className:"roles-modal-thead"},n.default.createElement(r.default.HeadCell,{"data-test-name":"capabilities-table-head"},(0,d._)("Capability Name"),n.default.createElement(s.default,{inline:!0,style:{marginLeft:"10px"},placeholder:"filter",name:"name",onChange:function(t,a){return e.handleCapsFiltering(a,"selectedCaps")},"data-test-name":"capabilities-table-filter",canClear:!0,value:e.filterValue})),n.default.createElement(r.default.HeadDropdownCell,{"data-test-name":"capabilities-table-source",label:n.default.createElement("div",{className:"roles-menuLabel"},(0,d._)((0,c.getMenuLabel)(e.menuSelected))),width:1},n.default.createElement(o.default,{"data-test-name":"capabilities-table-menu"},n.default.createElement(o.default.Item,{selectable:!0,"data-test-name":"capabilities-table-menu-item-selected",selected:"selected"===e.menuSelected,onClick:function(){return e.handleCapsFiltering({name:"selected"},"selectedCaps")}},(0,d._)("Show selected")),n.default.createElement(o.default.Item,{selectable:!0,"data-test-name":"capabilities-table-menu-item-unselected",selected:"unselected"===e.menuSelected,onClick:function(){return e.handleCapsFiltering({name:"unselected"},"selectedCaps")}},(0,d._)("Show unselected")),n.default.createElement(o.default.Item,{selectable:!0,"data-test-name":"capabilities-table-menu-item-native",selected:"native"===e.menuSelected,onClick:function(){return e.handleCapsFiltering({name:"native"},"selectedCaps")}},(0,d._)("Show native")),n.default.createElement(o.default.Item,{selectable:!0,"data-test-name":"capabilities-table-menu-item-inherited",selected:"inherited"===e.menuSelected,onClick:function(){return e.handleCapsFiltering({name:"inherited"},"selectedCaps")}},(0,d._)("Show inherited")),n.default.createElement(o.default.Item,{selectable:!0,"data-test-name":"capabilities-table-menu-item-all",selected:"all"===e.menuSelected,onClick:function(){return e.handleCapsFiltering({name:"all"},"selectedCaps")}},(0,d._)("Show all"))))),n.default.createElement(r.default.Body,{"data-test-name":"capabilities-table-body"},e.caps.map((function(t){return t.filtered&&n.default.createElement(u.default,{key:t.name,data:t,onRequestToggle:e.handleCapsToggle,source:t.source,isPreview:t.isPreview,name:t.name,selected:t.selected})})))))};h.propTypes={caps:l.default.arrayOf(l.default.shape({})).isRequired,rowRolesSelectionState:l.default.func.isRequired,menuSelected:l.default.string.isRequired,handleCapsToggleAll:l.default.func.isRequired,handleCapsToggle:l.default.func.isRequired,handleCapsFiltering:l.default.func.isRequired,filterValue:l.default.string.isRequired},t.default=h,e.exports=t.default},"views/roles/modals/tabpanels/Indexes":function(e,t,a){"use strict";a(1),Object.defineProperty(t,"__esModule",{value:!0});var n=h(a(0)),l=h(a(2)),r=h(a(29)),i=h(a(23)),s=h(a(38)),o=h(a(14)),d=h(a(20)),c=a(7),u=a(28);a("views/roles/Roles.pcss");var f=h(a("views/roles/modals/tabpanels/tables/IndexesTable"));function h(e){return e&&e.__esModule?e:{default:e}}var p=function(e){return n.default.createElement("div",null,n.default.createElement(s.default,{style:{margin:"0px"}},(0,c._)("Wildcards")),n.default.createElement(r.default,null,(0,c._)("Instead of selecting individual indexes, you can create a Wildcard Index to dynamically capture all indexes that match the Wildcard. After you add a Wildcard Index, it appears in the Indexes table. Wildcard Indexes are limited to this role.")),n.default.createElement("div",{style:{marginBottom:"10px"}},n.default.createElement(i.default,{style:{display:"inline-block",marginRight:"10px",width:"300px"},placeholder:(0,c._)('Enter a value that contains "*"'),"data-test-name":"create-wildcard-text",onChange:e.handleWildcardTextChange,value:e.wildcardText}),n.default.createElement(o.default,{label:(0,c._)("Add"),appearance:"primary",style:{textAlign:"right"},onClick:e.handleAddWildcard,"data-test-name":"create-wildcard-btn"})),n.default.createElement(s.default,{style:{margin:"0px"}},(0,c._)("Indexes")),n.default.createElement(r.default,{className:"roles-tableHelpText","data-test-name":"index-table-help-text"},(0,c._)('Enable both the "Included" and "Default" checkboxes for an index to make that index searchable by default for this role. You must save this role before you can see its inherited wildcards.')),e.wildcardSuccess.length>0&&n.default.createElement(d.default,{"data-test-name":"wildcard-success-msg",type:"success",fill:!0},(0,u.sprintf)((0,c._)('Wildcard "%(wildcardName)s" was successfully added to the Indexes Table.'),{wildcardName:e.wildcardSuccess})),n.default.createElement(f.default,{filterValue:e.filterValue,handleIndexFiltering:e.handleIndexFiltering,menuSelected:e.menuSelected,indexes:e.indexes,handleIndexesToggle:e.handleIndexesToggle}))};p.propTypes={indexes:l.default.arrayOf(l.default.shape({})).isRequired,handleIndexesToggle:l.default.func.isRequired,handleIndexFiltering:l.default.func.isRequired,menuSelected:l.default.string.isRequired,filterValue:l.default.string.isRequired,wildcardText:l.default.string.isRequired,handleAddWildcard:l.default.func.isRequired,handleWildcardTextChange:l.default.func.isRequired,wildcardSuccess:l.default.string.isRequired},t.default=p,e.exports=t.default},"views/roles/modals/tabpanels/Inheritance":function(e,t,a){"use strict";a(1),Object.defineProperty(t,"__esModule",{value:!0});var n=u(a(0)),l=u(a(2)),r=u(a(54)),i=u(a(47)),s=u(a(29)),o=u(a(23));a("views/roles/Roles.pcss");var d=a(7),c=a("views/roles/Utils");function u(e){return e&&e.__esModule?e:{default:e}}var f=function(e){return n.default.createElement("div",null,n.default.createElement(s.default,{className:"roles-tableHelpText","data-test-name":"inheritance-table-help"},(0,d._)("Specify roles from which this role inherits capabilities and indexes. Inherited capabilities and indexes cannot be disabled. If multiple roles are specified, this role inherits capabilities and indexes from all selected roles.")),n.default.createElement(i.default,{stripeRows:!0,"data-test-name":"inheritance-table",onRequestToggleAllRows:e.handleRolesToggleAll,rowSelection:e.rowRolesSelectionState(e.roles)},n.default.createElement(i.default.Head,{className:"roles-modal-thead"},n.default.createElement(i.default.HeadCell,{"data-test-name":"inheritance-table-head-name"},(0,d._)("Role name"),n.default.createElement(o.default,{inline:!0,style:{marginLeft:"10px"},placeholder:"filter",onChange:function(t,a){return e.handleRolesFiltering(a,"roles")},canClear:!0,name:"name","data-test-name":"inheritance-filter-text",value:(0,d._)(e.filterValue)})),n.default.createElement(i.default.HeadDropdownCell,{align:"center","data-test-name":"inheritance-table-menu",label:n.default.createElement("div",{className:"roles-menuLabel"},(0,d._)((0,c.getMenuLabel)(e.menuSelected))),width:1},n.default.createElement(r.default,null,n.default.createElement(r.default.Item,{selectable:!0,"data-test-name":"inheritance-table-menu-item-selected",selected:"selected"===e.menuSelected,onClick:function(){return e.handleRolesFiltering({name:"selected"},"roles")}},(0,d._)("Show selected")),n.default.createElement(r.default.Item,{selectable:!0,"data-test-name":"inheritance-table-menu-item-unselected",selected:"unselected"===e.menuSelected,onClick:function(){return e.handleRolesFiltering({name:"unselected"},"roles")}},(0,d._)("Show unselected")),n.default.createElement(r.default.Item,{selectable:!0,"data-test-name":"inheritance-table-menu-item-all",selected:"all"===e.menuSelected,onClick:function(){return e.handleRolesFiltering({name:"all"},"roles")}},(0,d._)("Show all"))))),n.default.createElement(i.default.Body,{"data-test-name":"inheritance-table-body"},e.roles.map((function(t){return t.filtered&&n.default.createElement(i.default.Row,{key:t.name,"data-test-name":"inheritance-table-row",onRequestToggle:e.handleRolesToggle,data:t,selected:!!t.selected},n.default.createElement(i.default.Cell,{key:t.name,"data-test-name":"inheritance-table-cell"},t.name),n.default.createElement(i.default.Cell,null))})))))};f.propTypes={roles:l.default.arrayOf(l.default.shape({})).isRequired,rowRolesSelectionState:l.default.func.isRequired,menuSelected:l.default.string.isRequired,handleRolesToggleAll:l.default.func.isRequired,handleRolesFiltering:l.default.func.isRequired,handleRolesToggle:l.default.func.isRequired,filterValue:l.default.string.isRequired},t.default=f,e.exports=t.default},"views/roles/modals/tabpanels/Resources":function(e,t,a){"use strict";a(1),Object.defineProperty(t,"__esModule",{value:!0});var n=h(a(0)),l=h(a(18)),r=h(a(38)),i=h(a(29)),s=h(a(2)),o=h(a(39)),d=h(a(23)),c=h(a(46)),u=a(12),f=a(7);function h(e){return e&&e.__esModule?e:{default:e}}var p=function(e){return n.default.createElement("div",{"data-test-name":"resources-tabPanel",style:{minWidth:"353px"}},n.default.createElement(r.default,{"data-test-name":"resources-tabPanel-heading",level:1},(0,f._)("This role")),n.default.createElement(l.default,{className:"resource-cg","data-test-name":"default-app-control-group",label:(0,f._)("Default app"),labelPosition:"top"},n.default.createElement(o.default,{filter:!0,"data-test-name":"default-app-control",value:e.defaultApp,onChange:e.handleAppChange,scrollContainer:e.scrollContainer,style:{maxWidth:"18em"}},e.apps.map((function(e){return n.default.createElement(o.default.Option,{key:e.value,label:e.value,value:e.value})})))),n.default.createElement(r.default,{"data-test-name":"roleSrchJobLimit-heading"},(0,f._)("Role search job limit")),n.default.createElement(i.default,{className:"resource-help","data-test-name":"roleSrchJobLimit-help"},(0,f._)("Set a limit for how many search jobs that all users with this role can run at the same time. "),n.default.createElement(c.default,{"data-test-name":"roleSrchJobLimit-tooltip",content:(0,f._)("Enter 0 for no search job limits.")})),n.default.createElement(l.default,{className:"resource-cg","data-test-name":"cumulativeSrchJobsQuota-cg",label:(0,f._)("Standard search limit"),labelPosition:"left"},n.default.createElement(d.default,{name:"cumulativeSrchJobsQuota",className:"roles-resourcesInputs","data-test-name":"cumulativeSrchJobsQuota-text",onChange:e.handleResourceChange,defaultValue:(0,u.has)(e.resources,"cumulativeSrchJobsQuota")?""+e.resources.cumulativeSrchJobsQuota:null})),n.default.createElement(l.default,{className:"resource-cg","data-test-name":"cumulativeRTSrchJobsQuota-cg",label:(0,f._)("Real-time search limit"),labelPosition:"left"},n.default.createElement(d.default,{name:"cumulativeRTSrchJobsQuota",className:"roles-resourcesInputs","data-test-name":"cumulativeRTSrchJobsQuota-text",onChange:e.handleResourceChange,defaultValue:(0,u.has)(e.resources,"cumulativeRTSrchJobsQuota")?""+e.resources.cumulativeRTSrchJobsQuota:null})),n.default.createElement(r.default,{"data-test-name":"userSrchJobLimit-heading"},(0,f._)("User search job limit")),n.default.createElement(i.default,{className:"resource-help","data-test-name":"roleSrchJobLimit-help"},(0,f._)("Set a limit for how many search jobs that a single user with this role can run at the same time. "),n.default.createElement(c.default,{"data-test-name":"roleSrchJobLimit-tooltip",content:(0,f._)("Enter 0 for no search job limits.")})),n.default.createElement(l.default,{className:"resource-cg","data-test-name":"srchJobsQuota-cg",label:(0,f._)("Standard search limit"),labelPosition:"left"},n.default.createElement(d.default,{name:"srchJobsQuota",className:"roles-resourcesInputs","data-test-name":"srchJobsQuota-text",onChange:e.handleResourceChange,defaultValue:(0,u.has)(e.resources,"srchJobsQuota")?""+e.resources.srchJobsQuota:null})),n.default.createElement(l.default,{className:"resource-cg","data-test-name":"rtSrchJobsQuota-cg",label:(0,f._)("Real-time search limit"),labelPosition:"left"},n.default.createElement(d.default,{name:"rtSrchJobsQuota",className:"roles-resourcesInputs","data-test-name":"rtSrchJobsQuota-text",onChange:e.handleResourceChange,defaultValue:(0,u.has)(e.resources,"rtSrchJobsQuota")?""+e.resources.rtSrchJobsQuota:null})),n.default.createElement(r.default,{"data-test-name":"rst-heading"},(0,f._)("Role search time window limit")),n.default.createElement(i.default,{className:"resource-help","data-test-name":"srchTimeWin-help",style:{maxWidth:"40em"}},(0,f._)("Select a maximum time window for searches for this role. Inherited roles can override this setting.")),n.default.createElement(l.default,{"data-test-name":"restrict-search-time-cg",hideLabel:!0,label:(0,f._)("Restrict search time range"),labelPosition:"top"},n.default.createElement(o.default,{"data-test-name":"restrict-search-time-select",name:"srchTimeWin",onChange:e.handleResourceChange,style:{minWidth:"10em"},value:e.resources.srchTimeWin,scrollContainer:e.scrollContainer},n.default.createElement(o.default.Option,{"data-test-name":"select-opt-unset",label:"Unset",value:"-1"}),n.default.createElement(o.default.Option,{"data-test-name":"select-opt-infinite",label:"Infinite",value:"0"}),n.default.createElement(o.default.Option,{"data-test-name":"select-opt-custom",label:(0,f._)("Custom time"),value:"-1"!==e.resources.srchTimeWin&&"0"!==e.resources.srchTimeWin?e.resources.srchTimeWin:""})),"-1"!==e.resources.srchTimeWin&&"0"!==e.resources.srchTimeWin&&n.default.createElement(d.default,{"data-test-name":"restrict-search-time-text",name:"srchTimeWin",onChange:e.handleResourceChange,placeholder:(0,f._)("Enter a value in seconds."),style:{maxWidth:"12.5em"},value:e.resources.srchTimeWin})),n.default.createElement(i.default,{className:"resource-help","data-test-name":"srchTimeEarliest-help",style:{maxWidth:"40em"}},(0,f._)("Select the earliest searchable event time for this role. Inherited roles can override this setting.")),n.default.createElement(l.default,{"data-test-name":"restrict-search-earliest-time-cg",hideLabel:!0,label:(0,f._)("Restrict search earliest time"),labelPosition:"top"},n.default.createElement(o.default,{"data-test-name":"restrict-search-earliest-time-select",name:"srchTimeEarliest",onChange:e.handleResourceChange,style:{minWidth:"10em"},value:e.resources.srchTimeEarliest,scrollContainer:e.scrollContainer},n.default.createElement(o.default.Option,{"data-test-name":"select-opt-et-unset",label:(0,f._)("Unset"),value:"-1"}),n.default.createElement(o.default.Option,{"data-test-name":"select-opt-et-infinite",label:(0,f._)("Infinite"),value:"0"}),n.default.createElement(o.default.Option,{"data-test-name":"select-opt-et-custom",label:(0,f._)("Custom time"),value:"-1"!==e.resources.srchTimeEarliest&&"0"!==e.resources.srchTimeEarliest?e.resources.srchTimeEarliest:""})),"-1"!==e.resources.srchTimeEarliest&&"0"!==e.resources.srchTimeEarliest&&n.default.createElement(d.default,{"data-test-name":"restrict-search-earliest-time-text",name:"srchTimeEarliest",onChange:e.handleResourceChange,placeholder:(0,f._)("Enter a value in seconds ago."),style:{maxWidth:"12.5em"},value:e.resources.srchTimeEarliest})),n.default.createElement(r.default,{"data-test-name":"diskSpaceLimit-heading"},(0,f._)("Disk space limit")),n.default.createElement(i.default,{className:"resource-help","data-test-name":"roleSrchJobLimit-help"},(0,f._)("Set the maximum amount of disk space, in megabytes, that search jobs for a specific user with this role can use.")),n.default.createElement(l.default,{className:"resource-cg","data-test-name":"srchDiskQuota-cg",label:(0,f._)("Standard search limit"),labelPosition:"left"},n.default.createElement(d.default,{name:"srchDiskQuota","data-test-name":"srchDiskQuota-text",onChange:e.handleResourceChange,defaultValue:(0,u.has)(e.resources,"srchDiskQuota")?""+e.resources.srchDiskQuota:null,style:{maxWidth:"8em"}}),n.default.createElement("div",{style:{margin:"5px 8px"}},(0,f._)("MB"))))};p.propTypes={apps:s.default.arrayOf(s.default.shape({value:s.default.string.isRequired})).isRequired,handleAppChange:s.default.func.isRequired,defaultApp:s.default.string.isRequired,resources:s.default.shape({srchTimeEarliest:s.default.string.isRequired,srchTimeWin:s.default.string.isRequired,srchJobsQuota:s.default.string.isRequired,rtSrchJobsQuota:s.default.string.isRequired,cumulativeSrchJobsQuota:s.default.string.isRequired,cumulativeRTSrchJobsQuota:s.default.string.isRequired,srchDiskQuota:s.default.string.isRequired}).isRequired,handleResourceChange:s.default.func.isRequired,scrollContainer:s.default.element.isRequired},t.default=p,e.exports=t.default},"views/roles/modals/tabpanels/Restrictions":function(e,t,a){"use strict";a(1),Object.defineProperty(t,"__esModule",{value:!0});var n=y(a(0)),l=y(a(14)),r=y(a(314)),i=y(a(151)),s=y(a(18)),o=y(a(38)),d=y(a(22)),c=y(a(20)),u=y(a(128)),f=y(a(29)),h=y(a(52)),p=y(a(410)),m=y(a(2)),b=y(a(39)),g=y(a(23));a("views/roles/Roles.pcss");var v=a(7),x=a(28),_=a(12),w=a("views/roles/Utils");function y(e){return e&&e.__esModule?e:{default:e}}var S=function(e){var t=(0,w.hasEquals)(e.srchFilter),a=(0,w.hasFieldCollision)(e.idxFieldSelected,e.srchFilter);return n.default.createElement(r.default,{"data-test-name":"restrictions-colLay",style:{minWidth:"353px"}},n.default.createElement(r.default.Row,{"data-test-name":"restrictions-heading-row",style:{marginBottom:"0px"}},n.default.createElement(r.default.Column,{"date-test-name":"restrictions-heading-col",span:12,style:{padding:10,minHeight:80}},n.default.createElement(o.default,{"data-test-name":"restrictions-heading",level:1},(0,v._)("Restrict searches")),n.default.createElement(f.default,{"data-test-name":"restrictions-heading-p"},(0,v._)("Create a search filter to set search restrictions for this role. You can enter a valid search filter or use the search filter generator to add queries.")))),n.default.createElement(r.default.Row,{"data-test-name":"restrictions-warnings-row",style:{marginBottom:"0px",maxWidth:"1200px"}},n.default.createElement(r.default.Column,{"date-test-name":"restrictions-warnings-col",span:12,style:{padding:10,marginTop:"-35px"}},e.disableGenerator&&n.default.createElement(c.default,{className:"restrctionsMsg","data-test-name":"restrictions-msg-warn",fill:!0,type:"warning"},(0,v._)("Select at least one index in the Indexes tab to enable the search filter generator.")),t&&n.default.createElement(c.default,{className:"restrctionsMsg","data-test-name":"equalsWarn-msg",fill:!0,key:"equalsWarn-msg",type:"warning"},(0,v._)(w.WARN_MSG_CONTAINS_EQUALS),n.default.createElement(d.default,{to:e.learnMoreLink,openInNewContext:!0,"data-test-name":"equalsWarn.learnMoreLink",style:{whiteSpace:"nowrap"}},(0,v._)(" Learn More"))),a&&n.default.createElement(c.default,{className:"restrctionsMsg","data-test-name":"fieldCollisionWarn-msg",fill:!0,key:"fieldCollisionWarn-msg",type:"warning"},(0,v._)((0,x.sprintf)(w.WARN_MSG_FIELD_COLLISION,{field:e.idxFieldSelected}))))),n.default.createElement(r.default.Row,{"data-test-name":"restrictions-row",style:{marginTop:"-25px",maxWidth:"1200px"}},n.default.createElement(r.default.Column,{"data-test-name":"generator-col",span:6,style:{padding:10,minHeight:80}},n.default.createElement(o.default,{"data-test-name":"generator-heading",level:2},(0,v._)("Search filter generator")),n.default.createElement(s.default,{"data-test-name":"timerange-cg",help:(0,x.sprintf)((0,v._)('Increasing the time range beyond the default of %(defaultTime)s can increase the time it takes to populate the "Indexed Fields" and "Values" text boxes.'),{defaultTime:w.DEFAULT_TIMERANGE_LABEL}),label:(0,v._)("Indexed field and values time range"),labelPosition:"top"},n.default.createElement(b.default,{"data-test-name":"timerange-select",defaultValue:w.DEFAULT_TIMERANGE,disabled:e.disableGenerator,name:"srchTimerange",onChange:e.handleSrchTimerangeChange,style:{maxWidth:"130px"},value:e.srchTimerange,scrollContainer:e.scrollContainer},n.default.createElement(b.default.Option,{"data-test-name":"timerangeOpt-default",label:w.DEFAULT_TIMERANGE_LABEL,value:w.DEFAULT_TIMERANGE}),n.default.createElement(b.default.Option,{"data-test-name":"timerangeOpt-1hr",label:(0,v._)("One hour"),value:"-1h"}),n.default.createElement(b.default.Option,{"data-test-name":"timerangeOpt-24hr",label:(0,v._)("24 hours"),value:"-1d"}),n.default.createElement(b.default.Option,{"data-test-name":"timerangeOpt-7days",label:(0,v._)("7 days"),value:"-7d"}))),n.default.createElement(s.default,{"data-test-name":"idxFields-cg",label:(0,v._)("Indexed fields"),labelPosition:"top",tooltip:(0,v._)("This drop-down list box shows the 250 most commonly found fields. To select an unlisted field, type in its name.")},n.default.createElement(i.default,{"data-test-name":"idxFields-cb",disabled:e.disableGenerator,inline:!0,name:"idxField",onChange:e.handleFieldChange,isLoadingOptions:e.isWorking,loadingMessage:n.default.createElement(h.default,null),placeholder:(0,v._)("Select or type an indexed field..."),scrollContainer:e.scrollContainer,value:e.idxFieldSelected},e.idxFields.map((function(e){return n.default.createElement(i.default.Option,{"data-test-name":"idxFields-cb-opt-"+e.field,value:e.field,key:"cb-opt-"+e.field})})))),n.default.createElement(s.default,{"data-test-name":"idxFieldVals-cg",help:(0,v._)('You can type in custom values that do not appear in the list, including wildcards. Example: "syslog_*"'),label:(0,v._)("Values"),labelPosition:"top",tooltip:(0,v._)("This drop-down list box shows the 250 most common values in alphabetical order. To select an unlisted value, type it in and choose it at the top of the list.")},n.default.createElement(u.default,{allowNewValues:!0,compact:!0,"data-test-name":"idxFieldVals-ms",disabled:!e.idxFieldSelected||e.disableGenerator,inline:!0,name:"idxFieldVal",isLoadingOptions:e.isWorking,loadingMessage:n.default.createElement(h.default,null),noOptionsMessage:(0,v._)("No matches"),onChange:e.handleValueChange,controlledFilter:!0,scrollContainer:e.scrollContainer,onFilterChange:e.handleValueFilter,placeholder:(0,x.sprintf)((0,v._)("Select one or more %(fieldName)s values"),{fieldName:e.idxFieldSelected}),values:e.idxFieldValSelected},e.idxFieldVals.map((function(t){return(0,_.has)(t,e.idxFieldSelected)&&n.default.createElement(u.default.Option,{"data-test-name":"idxFieldVals-ms-opt-"+t[e.idxFieldSelected],key:"cb-opt-"+t[e.idxFieldSelected],label:t[e.idxFieldSelected],value:t[e.idxFieldSelected]})})))),n.default.createElement(s.default,{"data-test-name":"concat-cg",label:(0,v._)("Concatenation option"),labelPosition:"top",tooltip:n.default.createElement("div",{style:{maxWidth:"160px"}},(0,v._)("Determines how the search filter generator adds the generated filter to the existing search filter."))},n.default.createElement(b.default,{"data-test-name":"concat-select",disabled:e.disableGenerator||e.disableConcat,name:"concatOption",onChange:e.handleConcatOpt,scrollContainer:e.scrollContainer,style:{maxWidth:"75px"},value:e.concatOpt},n.default.createElement(b.default.Option,{"data-test-name":"option-or",label:(0,v._)("OR"),value:"OR"}),n.default.createElement(b.default.Option,{"data-test-name":"option-and",label:(0,v._)("AND"),value:"AND"}),n.default.createElement(b.default.Option,{"data-test-name":"option-not",label:(0,v._)("NOT"),value:"NOT"}))),n.default.createElement(s.default,{"data-test-name":"genSrchFilter-cg",label:(0,v._)("Generated search filter"),labelPosition:"top"},n.default.createElement(g.default,{"data-test-name":"genSrchFilter-text",disabled:!0,name:"genSrchFilter",multiline:!0,rowsMin:3,value:e.generatedSrchFilter}))),n.default.createElement(r.default.Column,{"data-test-name":"srchFilter-col",span:6,style:{padding:10,minHeight:80}},n.default.createElement(o.default,{"data-test-name":"srchFilter-heading",level:2,style:{display:"inline-block"}},(0,v._)("Search filter")),n.default.createElement(s.default,{"data-test-name":"srchFilter-cg",help:n.default.createElement("div",null,n.default.createElement(f.default,{className:"roles-help-list",style:{margin:"12px 0 0 0"}},(0,v._)("Note: the search filter can only include:")),n.default.createElement(p.default,{className:"roles-help-list","data-test-name":"roles-help-list",style:{margin:"0",paddingLeft:"1.5em"}},n.default.createElement(p.default.Item,{className:"roles-help-list"},(0,v._)("source type")),n.default.createElement(p.default.Item,{className:"roles-help-list"},(0,v._)("source")),n.default.createElement(p.default.Item,{className:"roles-help-list"},(0,v._)("host")),n.default.createElement(p.default.Item,{className:"roles-help-list"},(0,v._)("index")),n.default.createElement(p.default.Item,{className:"roles-help-list"},(0,v._)("event type")),n.default.createElement(p.default.Item,{className:"roles-help-list"},(0,v._)("search fields")),n.default.createElement(p.default.Item,{className:"roles-help-list"},(0,v._)('the operators "*", "OR", "AND", "NOT"')))),label:(0,v._)("Search filter"),labelPosition:"top",hideLabel:!0},n.default.createElement(g.default,{"data-test-name":"srchFilter-text",inline:!0,multiline:!0,name:"srchFilter",onChange:e.handleResourceChange,placeholder:(0,v._)("Enter a valid search filter here, or use the search filter generator on the left to generate a search filter."),rowsMin:17,rowsMax:17,style:{width:"100%",marginTop:"11px"},value:e.srchFilter})))),n.default.createElement(r.default.Row,{"data-test-name":"restrictions-btn-row",style:{marginTop:"-30px",maxWidth:"1200px"}},n.default.createElement(r.default.Column,{"data-test-name":"generator-btn-col",span:6},n.default.createElement(l.default,{appearance:"primary","data-test-name":"apply-btn",disabled:!e.idxFieldSelected||0===e.idxFieldValSelected.length||e.disableGenerator,label:(0,v._)("Add to search filter "),onClick:e.handleApplyClick,style:{height:"2em",margin:"0 0.5em 0 0.6em"}}),n.default.createElement(l.default,{"data-test-name":"reset-btn",disabled:e.disableGenerator,label:(0,v._)("Reset"),onClick:e.handleResetClick})),n.default.createElement(r.default.Column,{"data-test-name":"srchFilter-btn-col",span:6},n.default.createElement(l.default,{"data-test-name":"preview-results-btn",openInNewContext:!0,label:(0,v._)("Preview search filter results"),onClick:e.handlePreviewSrchFilter,style:{marginLeft:"0.7em"}}))))};S.propTypes={concatOpt:m.default.string,disableConcat:m.default.bool,disableGenerator:m.default.bool,generatedSrchFilter:m.default.string,isWorking:m.default.bool,srchFilter:m.default.string.isRequired,srchTimerange:m.default.string,idxFields:m.default.arrayOf(m.default.shape({})),idxFieldSelected:m.default.string,idxFieldVals:m.default.arrayOf(m.default.shape({})),idxFieldValSelected:m.default.arrayOf(m.default.string),handleApplyClick:m.default.func.isRequired,handleConcatOpt:m.default.func.isRequired,handleFieldChange:m.default.func.isRequired,handleResetClick:m.default.func.isRequired,handleResourceChange:m.default.func.isRequired,handleSrchTimerangeChange:m.default.func.isRequired,handlePreviewSrchFilter:m.default.func.isRequired,handleValueChange:m.default.func.isRequired,handleValueFilter:m.default.func.isRequired,learnMoreLink:m.default.string.isRequired,scrollContainer:m.default.oneOfType([m.default.string,m.default.object])},S.defaultProps={concatOpt:"OR",disableConcat:!1,disableGenerator:!1,generatedSrchFilter:"",isWorking:!1,srchTimerange:"-60s",idxFields:[],idxFieldSelected:"",idxFieldVals:[],idxFieldValSelected:[],scrollContainer:"window"},t.default=S,e.exports=t.default},"views/roles/modals/tabpanels/tables/IndexesTable":function(e,t,a){"use strict";a(1),Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),l=p(n),r=p(a(2)),i=p(a(47)),s=p(a(23)),o=p(a(32)),d=p(a(54)),c=p(a(46)),u=a(28);a("views/roles/Roles.pcss");var f=a(7),h=a("views/roles/Utils");function p(e){return e&&e.__esModule?e:{default:e}}var m=function(e){return l.default.createElement(i.default,{"data-test-name":"default-index-table",stripeRows:!0,innerStyle:{maxHeight:"400px"},outerStyle:{minWidth:"500px"},headType:"fixed"},l.default.createElement(i.default.Head,{className:"roles-modal-thead"},l.default.createElement(i.default.HeadCell,{"data-test-name":"index-table-name"},(0,f._)("Index Name"),l.default.createElement(s.default,{inline:!0,style:{marginLeft:"10px"},placeholder:"filter",name:"name",onChange:function(t,a){return e.handleIndexFiltering(a,"indexes")},canClear:!0,"data-test-name":"indexes-filter-text",value:(0,f._)(e.filterValue)})),l.default.createElement(i.default.HeadCell,{"data-test-name":"index-table-included"},(0,f._)("Included"),l.default.createElement(c.default,{style:{marginLeft:"5px"},content:(0,f._)("Restrict searches by this role to the specified index(es). Search results for this role only show events from these index(es).")})),l.default.createElement(i.default.HeadCell,{"data-test-name":"index-table-default"},(0,f._)("Default"),l.default.createElement(c.default,{style:{marginLeft:"5px"},content:(0,f._)('Set the default index(es) that searches use when no index is specified. Users with this role can search other indexes with the "index=" keyword (for example, "index=my_index").')})),l.default.createElement(i.default.HeadDropdownCell,{align:"right","data-test-name":"indexes-table-menu",label:l.default.createElement("div",{className:"roles-menuLabel"},(0,f._)((0,h.getMenuLabel)(e.menuSelected))),width:180},l.default.createElement(d.default,null,l.default.createElement(d.default.Item,{selectable:!0,"data-test-name":"indexes-table-menu-item-selected",selected:"selected"===e.menuSelected,onClick:function(){return e.handleIndexFiltering({name:"selected"},"indexes")}},(0,f._)("Show selected")),l.default.createElement(d.default.Item,{selectable:!0,"data-test-name":"indexes-table-menu-item-unselected",selected:"unselected"===e.menuSelected,onClick:function(){return e.handleIndexFiltering({name:"unselected"},"indexes")}},(0,f._)("Show unselected")),l.default.createElement(d.default.Item,{selectable:!0,"data-test-name":"indexes-table-menu-item-native",selected:"native"===e.menuSelected,onClick:function(){return e.handleIndexFiltering({name:"native"},"indexes")}},(0,f._)("Show native")),l.default.createElement(d.default.Item,{selectable:!0,"data-test-name":"indexes-table-menu-item-inherited",selected:"inherited"===e.menuSelected,onClick:function(){return e.handleIndexFiltering({name:"inherited"},"indexes")}},(0,f._)("Show inherited")),l.default.createElement(d.default.Item,{selectable:!0,"data-test-name":"indexes-table-menu-item-wildcard",selected:"wildcards"===e.menuSelected,onClick:function(){return e.handleIndexFiltering({name:"wildcards"},"indexes")}},(0,f._)("Show wildcards")),l.default.createElement(d.default.Item,{selectable:!0,"data-test-name":"indexes-table-menu-item-all",selected:"all"===e.menuSelected,onClick:function(){return e.handleIndexFiltering({name:"all"},"indexes")}},(0,f._)("Show all"))))),l.default.createElement(i.default.Body,{"data-test-name":"index-table-body"},e.indexes.map((function(t){return t.filtered&&l.default.createElement(i.default.Row,{key:t.name,data:t,"data-test-name":"index-table-row",elementRef:t.isWildcard&&t.isNew?h.scrollToRef:function(){}},l.default.createElement(i.default.Cell,{key:t.name,"data-test-name":"index-table-name-cell"},t.label?(0,u.sprintf)((0,f._)("%s (%s)"),t.name,t.label):t.name),l.default.createElement(i.default.Cell,{"data-test-name":"index-table-allowed-cell"},l.default.createElement(c.default,{"data-test-name":"allowed-index-tooltip",content:(0,h.getIndexTooltip)(t,"srchAllowed")},l.default.createElement(o.default,{key:t.name+"-included",disabled:t.imported_srchAllowed||t.isIncPreview||t.wildcard_srchAllowed&&t.wildcard_srchAllowed.length>0,value:{name:t.name,type:"srchAllowed"},selected:t.srchAllowed||t.imported_srchAllowed||t.isIncPreview||t.wildcard_srchAllowed&&t.wildcard_srchAllowed.length>0,appearance:"checkbox",onClick:e.handleIndexesToggle,"data-test-name":t.name+"-included-idx-switch"}))),l.default.createElement(i.default.Cell,{"data-test-name":"index-table-default-cell"},l.default.createElement(c.default,{"data-test-name":"default-index-tooltip",content:(0,h.getIndexTooltip)(t,"srchDefault")},l.default.createElement(o.default,{key:t.name+"-default",disabled:t.imported_srchDefault||t.isDefPreview||t.wildcard_srchDefault&&t.wildcard_srchDefault.length>0,selected:t.srchDefault||t.imported_srchDefault||t.isDefPreview||t.wildcard_srchDefault&&t.wildcard_srchDefault.length>0,value:{name:t.name,type:"srchDefault"},appearance:"checkbox",onClick:e.handleIndexesToggle,"data-test-name":t.name+"-default-idx-switch"}))),l.default.createElement(i.default.Cell,null))}))))};m.propTypes={indexes:r.default.arrayOf(r.default.shape({})).isRequired,handleIndexesToggle:r.default.func.isRequired,handleIndexFiltering:r.default.func.isRequired,menuSelected:r.default.string.isRequired,filterValue:r.default.string.isRequired},t.default=(0,n.memo)(m),e.exports=t.default},"views/roles/modals/tabpanels/tables/rows/CapabilitiesRow":function(e,t,a){"use strict";a(1),Object.defineProperty(t,"__esModule",{value:!0});var n=f(a(11)),l=f(a(13)),r=f(a(15)),i=f(a(16)),s=a(0),o=f(s),d=f(a(2)),c=f(a(47));a("views/roles/Roles.pcss");var u=a(7);function f(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(e,a){(0,n.default)(this,t);var l=(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,a));return l.onRequestToggle=e.onRequestToggle,l}return(0,i.default)(t,e),(0,l.default)(t,[{key:"shouldComponentUpdate",value:function(e){return this.props.selected!==e.selected}},{key:"render",value:function(){return o.default.createElement(c.default.Row,{key:this.props.name,onRequestToggle:this.props.onRequestToggle,data:this.props.data,disabled:"inherited"===this.props.source||this.props.isPreview,selected:this.props.isPreview||this.props.selected,stripe:this.props.stripe},o.default.createElement(c.default.Cell,{key:this.props.name,"data-test-name":"capabilities-name-cell"},this.props.name),o.default.createElement(c.default.Cell,{key:this.name+"-"+this.source,"data-test-name":"capabilities-source-cell"},this.props.isPreview?(0,u._)("inherited"):this.props.source))}}]),t}(s.Component);h.propTypes={data:d.default.shape({}).isRequired,isPreview:d.default.bool.isRequired,name:d.default.string.isRequired,onRequestToggle:d.default.func.isRequired,selected:d.default.bool.isRequired,source:d.default.string.isRequired,stripe:d.default.string},h.defaultProps={stripe:"none"},t.default=h,e.exports=t.default},"views/view_indexes/Master.pcss":function(e,t,a){var n=a(493);"string"==typeof n&&(n=[[e.i,n,""]]);var l={sourceMap:!1,hmr:!0,transform:void 0,insertInto:void 0};a(4)(n,l);n.locals&&(e.exports=n.locals)},"views/view_indexes/RolesTree":function(e,t,a){"use strict";a(1),Object.defineProperty(t,"__esModule",{value:!0}),t.RolesTree=t.RolesNode=void 0;var n,l=a(11),r=(n=l)&&n.__esModule?n:{default:n};var i=t.RolesNode=function e(t,a,n){(0,r.default)(this,e),s.call(this),this.children=[],this.data=Object.assign({},t.content,{name:t.name,idxSettings:n,parent:a})},s=function(){var e=this;this.addChild=function(t){e.children.push(t)},this.setIdxSettings=function(t){Object.assign(e.data,{idxSettings:t})}},o=(t.RolesTree=function e(t,a,n){(0,r.default)(this,e),o.call(this);var l={srchAllow:-1!==t.content.srchIndexesAllowed.indexOf(n),impSrchAllow:-1!==t.content.imported_srchIndexesAllowed.indexOf(n),srchDef:-1!==t.content.srchIndexesDefault.indexOf(n),impSrchDef:-1!==t.content.imported_srchIndexesDefault.indexOf(n)};this.index=n,this.root=new i(t,null,l),this.rolesArr=[],this.rolesMap=this.genRolesMap(a),this.genRolesTree(this.root)},function(){var e=this;this.genRolesMap=function(e){for(var t={},a=0;a<e.length;a+=1)t[e[a].name]=e[a];return t},this.genRolesTree=function(t){var a=-1!==t.data.srchIndexesAllowed.indexOf(e.index),n=-1!==t.data.imported_srchIndexesAllowed.indexOf(e.index),l=-1!==t.data.srchIndexesDefault.indexOf(e.index),r=-1!==t.data.imported_srchIndexesDefault.indexOf(e.index);return a||n||l||r?(t.setIdxSettings({srchAllow:a,impSrchAllow:n,srchDef:l,impSrchDef:r}),0===t.data.imported_roles.length||a&&!r||!n&&l||a&&l?(e.rolesArr.push(t),t):(t.data.imported_roles.forEach((function(a){var n=e.genRolesTree(new i(e.rolesMap[a],t));n&&(t.addChild(n),e.rolesArr.push(t))})),t)):null}})},"views/view_indexes/View":function(e,t,a){"use strict";(function(n){a(1),Object.defineProperty(t,"__esModule",{value:!0});var l=M(a(10)),r=M(a(60)),i=M(a(61)),s=M(a(11)),o=M(a(13)),d=M(a(15)),c=M(a(16)),u=a(0),f=M(u),h=a(12),p=M(a(2)),m=a(7),b=a(150),g=M(a(490)),v=M(a(314)),x=M(a(151)),_=M(a(18)),w=M(a(136)),y=M(a(38)),S=M(a(29)),E=M(a(47)),C=M(a(23)),R=M(a(46)),T=M(a(491)),O=M(a(492)),I=a("views/view_indexes/RolesTree"),F=D(a("views/view_indexes/Master.pcss")),A=a(26),k=M(a(35)),P=a(34),j=a("util/test_support"),L=D(a("views/roles/Utils"));function D(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function M(e){return e&&e.__esModule?e:{default:e}}var N=function(t){function a(e,t){(0,s.default)(this,a);var o=(0,d.default)(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e,t));return o.getRolesAssigned=function(e,t){return e.map((function(e){return t.find((function(t){return t.name===e}))}))},o.getIndexes=function(){Promise.all([o.fetchLocalIndexes(L.getLocalIndexesUrl()),o.fetchRemoteIndexes(L.getRemoteIndexesUrl())]).then((function(e){var t=(0,i.default)(e,2),a=t[0],n=t[1],l=a.entry&&a.entry.filter((function(e){return!(0,b.normalizeBoolean)(e.content.disabled)})),r=n.entry&&n.entry.filter((function(e){return!(0,b.normalizeBoolean)(e.content.disabled)})),s=(0,h.unionBy)(l,r,"name"),d=(0,h.sortBy)(s,"name");o.setState({indexes:d})})).catch((function(e){return o.setState({errorMessage:e.message})}))},o.getIcon=function(e,t){var a=f.default.createElement(T.default,(0,j.createTestHook)(null,"nativeIcon")),n=f.default.createElement(g.default,(0,j.createTestHook)(null,"inheritedIcon"));if("included"===t){if(e.srchAllow)return a;if(e.impSrchAllow)return n}else if("default"===t){if(e.srchDef)return a;if(e.impSrchDef)return n}return(0,m._)("")},o.updateTree=function(){var e={};o.state.rolesAssigned.forEach((function(t){e[t.name]=new I.RolesTree(t,o.state.rolesCollection,o.state.index)}));var t=[];Object.keys(e).forEach((function(a){t=[].concat((0,r.default)(t),(0,r.default)(e[a].rolesArr))}));var a=t.reduce((function(e,t){return!!e.find((function(e){return e.data.name===t.data.name}))?e:e.concat(t)}),[]).sort((function(e,t){return e.data.name<t.data.name?-1:e.data.name>t.data.name?1:0}));o.setState({rolesListing:a,roleTreesMap:e})},o.fetchData=function(e,t){return n(e,(0,l.default)({},P.defaultFetchInit,{method:"GET"})).then((0,P.handleResponse)(200)).catch((0,P.handleError)((0,m._)("Unable to fetch "+t+".")))},o.fetchLocalIndexes=function(e){return n(e,(0,l.default)({},P.defaultFetchInit,{method:"GET"})).then((0,P.handleResponse)(200)).catch((0,P.handleError)((0,m._)("Unable to fetch local indexes.")))},o.fetchRemoteIndexes=function(e){return n(e,(0,l.default)({},P.defaultFetchInit,{method:"GET"})).then((0,P.handleResponse)([200,503])).catch((0,P.handleError)((0,m._)("Unable to fetch remote indexes.")))},o.handleIndexChange=function(e,t){var a=t.value;o.setState({index:a})},o.debouncedUpdateTrees=(0,h.debounce)(o.updateTree,400),o.getAllIndexes=o.getIndexes(),o.state={errorMessage:"",entity:e.entity,entityType:e.entityType,index:"",indexes:[],rolesAssigned:[],rolesCollection:[],rolesListing:[],roleTreesMap:{}},o}return(0,c.default)(a,t),(0,o.default)(a,[{key:"componentDidMount",value:function(){var e=this,t=(0,A.createRESTURL)("authorization/roles?"+k.default.encode({count:-1,output_mode:"json"}));this.fetchData(t,"roles").then((function(t){if("users"===e.state.entityType){var a=(0,A.createRESTURL)("admin/users/"+encodeURIComponent(e.state.entity)+"?"+k.default.encode({count:1,output_mode:"json"}));e.fetchData(a,"users").then((function(a){e.setState({rolesAssigned:e.getRolesAssigned(a.entry[0].content.roles,t.entry)})}))}else"roles"===e.state.entityType&&e.setState({rolesAssigned:e.getRolesAssigned([e.state.entity],t.entry)});e.setState({rolesCollection:t.entry})})).catch((function(t){return e.setState({errorMessage:t.message})}))}},{key:"componentDidUpdate",value:function(e,t){this.state.index!==t.index&&this.debouncedUpdateTrees()}},{key:"render",value:function(){var t=this;return f.default.createElement("div",(0,l.default)({},(0,j.createTestHook)(e.i),{style:{paddingLeft:"20px"}}),f.default.createElement("div",{id:"viewIdx-heading"},f.default.createElement(y.default,{level:1},(0,m._)("View index inheritance")),f.default.createElement(S.default,null,(0,m._)("Show inheritance of index settings within roles."))),f.default.createElement(v.default,(0,l.default)({style:{maxWidth:"800px"}},(0,j.createTestHook)(null,"viewIdx-col-layout")),f.default.createElement(v.default.Row,null,f.default.createElement(v.default.Column,(0,l.default)({},(0,j.createTestHook)(null,"viewIdx-col-entity"),{span:6}),f.default.createElement(_.default,(0,l.default)({},(0,j.createTestHook)(null,"ctrlGrp-entity"),{label:"users"===this.state.entityType?(0,m._)("User"):(0,m._)("Role")}),f.default.createElement(C.default,(0,l.default)({},(0,j.createTestHook)(null,"ctrlGrp-entity-text"),{disabled:!0,value:this.state.entity}))),f.default.createElement(_.default,(0,l.default)({},(0,j.createTestHook)(null,"ctrlGrp-idx"),{help:(0,m._)("Type in or select an index to see its inheritance."),label:(0,m._)("Index"),tooltip:(0,m._)('To change index settings for a role, use the "Roles" page.')}),f.default.createElement(x.default,(0,l.default)({},(0,j.createTestHook)(null,"ctrlGrp-idx-combobox"),{onChange:this.handleIndexChange,value:this.state.index}),this.state.indexes.map((function(e){return f.default.createElement(x.default.Option,(0,l.default)({},(0,j.createTestHook)(null,"ctrlGrp-idx-comboboxOpt-"+e.name),{key:e.name,value:e.name}))}))))),f.default.createElement(v.default.Column,(0,l.default)({},(0,j.createTestHook)(null,"viewIdx-col-legend"),{span:6}),f.default.createElement(_.default,(0,l.default)({},(0,j.createTestHook)(null,"ctrlGrp-dl"),{label:(0,m._)("Legend")}),f.default.createElement(w.default,(0,l.default)({},(0,j.createTestHook)(null,"legend-dl"),{id:"legend-dl"}),f.default.createElement(w.default.Term,null,(0,m._)("Native")),f.default.createElement(w.default.Description,null,f.default.createElement(T.default,(0,j.createTestHook)(null,"nativeIcon"))),f.default.createElement(w.default.Term,null,(0,m._)("Inherited")),f.default.createElement(w.default.Description,null,f.default.createElement(g.default,(0,j.createTestHook)(null,"inheritedIcon"))),"users"===this.state.entityType&&f.default.createElement("div",null,f.default.createElement(w.default.Term,null,(0,m._)("Assigned"),f.default.createElement(R.default,{className:"spaceLeft",content:"User "+this.state.entity+" holds this role."})),f.default.createElement(w.default.Description,null,f.default.createElement(O.default,(0,l.default)({},(0,j.createTestHook)(null,"assignedIcon"),{className:"spaceLeft"}))))))))),f.default.createElement(E.default,(0,l.default)({},(0,j.createTestHook)(null,"viewIdx-table"),{innerStyle:{backgroundColor:F.whiteColor},outerStyle:{width:"800px"},stripeRows:!0}),f.default.createElement(E.default.Head,null,f.default.createElement(E.default.HeadCell,null,(0,m._)("Roles")),f.default.createElement(E.default.HeadCell,null,(0,m._)("Included")),f.default.createElement(E.default.HeadCell,null,(0,m._)("Default")),f.default.createElement(E.default.HeadCell,null,(0,m._)("Inherits from"))),f.default.createElement(E.default.Body,null,this.state.rolesListing.length>0&&this.state.rolesListing.map((function(e){return f.default.createElement(E.default.Row,(0,l.default)({},(0,j.createTestHook)(null,"viewIdx-tr-"+e.data.name),{key:e.data.name}),f.default.createElement(E.default.Cell,(0,j.createTestHook)(null,"viewIdx-tc-roles"),e.data.name,"users"===t.state.entityType&&Object.prototype.hasOwnProperty.call(t.state.roleTreesMap,e.data.name)&&f.default.createElement(O.default,(0,l.default)({},(0,j.createTestHook)(null,"assignedIcon"),{style:{marginLeft:"5px"}}))),f.default.createElement(E.default.Cell,(0,j.createTestHook)(null,"viewIdx-tc-inc"),t.getIcon(e.data.idxSettings,"included")),f.default.createElement(E.default.Cell,(0,j.createTestHook)(null,"viewIdx-tc-def"),t.getIcon(e.data.idxSettings,"default")),f.default.createElement(E.default.Cell,(0,j.createTestHook)(null,"viewIdx-tc-inher"),e.children.map((function(e){return e.data.name})).join(", ")))})))))}}]),a}(u.Component);N.propTypes={entity:p.default.string.isRequired,entityType:p.default.oneOf(["users","roles"]).isRequired},t.default=N,e.exports=t.default}).call(this,a(31))}});