!function(e){function t(t){for(var n,o,i=t[0],s=t[1],d=t[2],c=0,f=[];c<i.length;c++)o=i[c],Object.prototype.hasOwnProperty.call(l,o)&&l[o]&&f.push(l[o][0]),l[o]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);for(u&&u(t);f.length;)f.shift()();return r.push.apply(r,d||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],n=!0,i=1;i<a.length;i++){var s=a[i];0!==l[s]&&(n=!1)}n&&(r.splice(t--,1),e=o(o.s=a[0]))}return e}var n={},l={45:0},r=[];function o(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.e=function(e){var t=[],a=l[e];if(0!==a)if(a)t.push(a[2]);else{var n=new Promise((function(t,n){a=l[e]=[t,n]}));t.push(a[2]=n);var r,i=document.createElement("script");i.charset="utf-8",i.timeout=120,o.nc&&i.setAttribute("nonce",o.nc),i.src=function(e){return o.p+""+({}[e]||e)+".js"}(e);var s=new Error;r=function(t){i.onerror=i.onload=null,clearTimeout(d);var a=l[e];if(0!==a){if(a){var n=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;s.message="Loading chunk "+e+" failed.\n("+n+": "+r+")",s.name="ChunkLoadError",s.type=n,s.request=r,a[1](s)}l[e]=void 0}};var d=setTimeout((function(){r({type:"timeout",target:i})}),12e4);i.onerror=i.onload=r,document.head.appendChild(i)}return Promise.all(t)},o.m=e,o.c=n,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(a,n,function(t){return e[t]}.bind(null,n));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o.oe=function(e){throw console.error(e),e};var i=window.webpackJsonp=window.webpackJsonp||[],s=i.push.bind(i);i.push=t,i=i.slice();for(var d=0;d<i.length;d++)t(i[d]);var u=s;r.push([2431,0]),a()}({2431:function(e,t,a){a.p=function(){function e(e,t){if(window.$C&&window.$C.hasOwnProperty(e))return window.$C[e];if(void 0!==t)return t;throw new Error("getConfigValue - "+e+" not set, no default provided")}return function(){for(var t,a,n="",l=0,r=arguments.length;l<r;l++)(a=(t=arguments[l].toString()).length)>1&&"/"==t.charAt(a-1)&&(t=t.substring(0,a-1)),"/"!=t.charAt(0)?n+="/"+t:n+=t;if("/"!=n){var o=n.split("/"),i=o[1];if("static"==i||"modules"==i){var s=n.substring(i.length+2,n.length);n="/"+i,window.$C.BUILD_NUMBER&&(n+="/@"+window.$C.BUILD_NUMBER),window.$C.BUILD_PUSH_NUMBER&&(n+="."+window.$C.BUILD_PUSH_NUMBER),"app"==o[2]&&(n+=":"+e("APP_BUILD",0)),n+="/"+s}}var d=e("MRSPARKLE_ROOT_PATH","/"),u=e("LOCALE","en-US"),c="/"+u+n;return""==d||"/"==d?c:d+c}("/static/build/pages/enterprise")+"/"}(),a(1);var n=r(a("routers/HealthReportFeatureManager")),l=r(a("util/router_utils"));function r(e){return e&&e.__esModule?e:{default:e}}new n.default,l.default.start_backbone_history()},2432:function(e,t,a){var n=a(170),l=a(451),r=a(198),o=l((function(e,t){n(t,r(t),e)}));e.exports=o},2433:function(e,t,a){(t=e.exports=a(3)(!1)).push([e.i,"",""]),t.locals={indicatorSeparator:"#c3cbd4"}},839:function(e,t,a){var n=a(449),l=a(451)((function(e,t,a){n(e,t,a)}));e.exports=l},"routers/HealthReportFeatureManager":function(e,t,a){"use strict";(function(n){a(1),Object.defineProperty(t,"__esModule",{value:!0});var l=v(a(10)),r=v(a(11)),o=v(a(13)),i=v(a(15)),s=v(a(16)),d=v(a(0)),u=v(a("shim/jquery")),c=v(a("util/react_render")),f=a(67),h=a(26),p=a(7),m=v(a("routers/Base")),g=v(a("uri/route")),_=v(a("views/health_manager/HealthReportManagerContainer"));function v(e){return e&&e.__esModule?e:{default:e}}var b=function(e){function t(){return(0,r.default)(this,t),(0,i.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,o.default)(t,[{key:"initialize",value:function(){for(var e,t=arguments.length,a=Array(t),n=0;n<t;n++)a[n]=arguments[n];(e=m.default.prototype.initialize).call.apply(e,[this].concat(a)),this.enableAppBar=!1,this.setPageTitle((0,p._)("Health Report Features"))}},{key:"page",value:function(){for(var e,t=this,a=arguments.length,r=Array(a),o=0;o<a;o++)r[o]=arguments[o];(e=m.default.prototype.page).call.apply(e,[this].concat(r)),this.deferreds.pageViewRendered.then((function(){(0,u.default)(".preload").replaceWith(t.pageView.el);var e={objectsCollectionPath:(0,h.createRESTURL)("/services/server/health-config"),isSHC:!t.model.serverInfo.entry.content.get("server_roles").includes("shc_member"),tz:t.model.user.entry.content.get("tz"),permissions:{read:!0,write:!0,canChangeStatus:!0,canCreate:!1,canClone:!1,canEditPermissions:!1,canEditTitleAndDescription:!1,canBulkChangeStatus:!1,canBulkEditPermissions:!1},learnMoreLink:g.default.docHelp(t.model.application.get("root"),t.model.application.get("locale"),"learnmore.component.monitoring")};(0,c.default)(d.default.createElement(_.default,(0,l.default)({},e,(0,f.createTestHook)(n))),document.getElementsByClassName("main-section-body")[0])}))}}]),t}(m.default);t.default=b,e.exports=t.default}).call(this,"/index.js")},"util/health_manager/alerts_wizard_modal_utils":function(e,t,a){"use strict";(function(e){a(1),Object.defineProperty(t,"__esModule",{value:!0}),t.EMAIL_ALERTS_CONFIG_PATH=void 0;var n=s(a(10));t.callGetHealthConfig=function(){return e((0,r.createRESTURL)(d+"?"+i.default.encode({output_mode:"json"})),(0,n.default)({},l.defaultFetchInit)).then((0,l.handleResponse)(200)).catch((0,l.handleError)((0,o._)("Couldn't get config information")))},t.callEditEmailAlerts=function(t){return t.output_mode="json",e((0,r.createRESTURL)(d),(0,n.default)({},l.defaultFetchInit,{method:"POST",body:i.default.encode(t)})).then((0,l.handleResponse)(200)).catch((0,l.handleError)((0,o._)("Unable to save alert settings.")))};var l=a(34),r=a(26),o=a(7),i=s(a(35));function s(e){return e&&e.__esModule?e:{default:e}}var d=t.EMAIL_ALERTS_CONFIG_PATH="/services/server/health-config/alert_action:email"}).call(this,a(31))},"util/health_manager/snooze_modal_utils":function(e,t,a){"use strict";(function(e){a(1),Object.defineProperty(t,"__esModule",{value:!0}),t.HEALTH_CONFIG_PATH=void 0;var n=d(a(61)),l=d(a(10));t.callEditHealthConfig=function(t,a){return t.output_mode="json",e((0,o.createRESTURL)(u+"/"+encodeURIComponent(a)),(0,l.default)({},r.defaultFetchInit,{method:"POST",body:s.default.encode(t)})).then((0,r.handleResponse)(200)).catch((0,r.handleError)((0,i._)("Unable to save alert settings.")))},t.timeZoneOffset=function(e){if(""===e)return"default";var t=new Date;t.setSeconds(0,0);var a=t.toLocaleString("en-US",{timeZone:e,hourCycle:"h23"}),l=/(\d+)\/(\d+)\/(\d+), (\d+):(\d+)/.exec(a).map(Number).slice(1),r=(0,n.default)(l,5),o=r[0],i=r[1],s=r[2],d=r[3],u=r[4],c=Date.UTC(s,o-1,i,d,u);return Math.floor((c-t.getTime())/1e3/60/60)};var r=a(34),o=a(26),i=a(7),s=d(a(35));function d(e){return e&&e.__esModule?e:{default:e}}var u=t.HEALTH_CONFIG_PATH=(0,o.createRESTURL)("server/health-config")}).call(this,a(31))},"views/health_manager/HealthReportManager":function(e,t,a){"use strict";a(1),Object.defineProperty(t,"__esModule",{value:!0});var n=_(a(10)),l=_(a(11)),r=_(a(15)),o=_(a(16)),i=_(a(2432)),s=a(7),d=a(28),u=_(a(512)),c=a("util/splunkd_utils"),f=_(a("views/health_manager/columns/HealthActions")),h=_(a("views/health_manager/modals/HealthChangeStatus")),p=_(a("views/health_manager/modals/EditThresholds")),m=_(a("views/health_manager/components/TableFilter")),g=_(a("views/health_manager/components/Header"));function _(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(){var e,a,n,o;(0,l.default)(this,t);for(var i=arguments.length,s=Array(i),d=0;d<i;d++)s[d]=arguments[d];return a=n=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),n.handleTextFilterChange=function(e,t){var a=t.value;n.setState({fetchingCollection:!0,fetchingCount:!0,filterString:a,offset:0,page:1}),n.handleRefreshListing({offset:0})},o=a,(0,r.default)(n,o)}return(0,o.default)(t,e),t}(u.default);v.propTypes=(0,n.default)({},u.default.propTypes),v.defaultProps=(0,n.default)({},u.default.defaultProps,{showAppColumn:!1,showOwnerColumn:!1,TableFilters:m.default,TableHeader:g.default,showAppFilter:!1,showOwnerFilter:!1,hasRowExpansion:!1,showSharingColumn:!1,showStatusColumn:!1,objectNamePlural:(0,s._)("Features"),objectNameSingular:(0,s._)("Feature"),ModalEdit:p.default,ColumnActions:f.default,customColumns:[{key:"alertCol",sortKey:"alert.disabled",label:(0,s._)("Alert Status"),content:function(e){return"true"===e.content["alert.disabled"]?(0,s._)("Disabled"):(0,s._)("Enabled")}}],ModalChangeStatus:h.default,getObjectsCollectionFetchData:function(e,t){var a=(0,d.sprintf)("%s AND %s",(0,c.createSearchFilterString)("feature:",["name"],{}),(0,c.createSearchFilterString)(e.filterString.substring(0,250),["name"],{}));return(0,i.default)({},{count:e.countPerPage,sort_key:e.sortKey,sort_dir:e.sortDirection,offset:e.offset,search:a,output_mode:"json"},t)},permissions:{read:!0,write:!0,canChangeStatus:!0,canCreate:!1,canClone:!1,canEditPermissions:!1,canEditTitleAndDescription:!1,canBulkChangeStatus:!1,canBulkEditPermissions:!1}}),t.default=v,e.exports=t.default},"views/health_manager/HealthReportManagerContainer":function(e,t,a){"use strict";a(1),Object.defineProperty(t,"__esModule",{value:!0});var n=h(a(11)),l=h(a(13)),r=h(a(15)),o=h(a(16)),i=a(0),s=h(i),d=a(7),u=h(a(14)),c=h(a("views/health_manager/HealthReportManager")),f=h(a("views/health_manager/modals/AlertsWizardModal"));function h(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e,a){(0,n.default)(this,t);var l=(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,a));return l.onAlertsModalClosed=function(){l.setState({alertsModalOpen:!1})},l.handleManageAlertsButtonClicked=function(){l.setState({alertsModalOpen:!0})},l.state={alertsModalOpen:!1},l}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return s.default.createElement("div",null,s.default.createElement(u.default,{appearance:"primary",style:{float:"right",top:"20px",margin:"0 20px 0 10px"},label:(0,d._)("Manage Alerts"),onClick:this.handleManageAlertsButtonClicked,"data-test-name":"manage-alerts-button"}),s.default.createElement(f.default,{open:this.state.alertsModalOpen,handleRequestClose:this.onAlertsModalClosed}),s.default.createElement(c.default,this.props))}}]),t}(i.Component);t.default=p,e.exports=t.default},"views/health_manager/columns/HealthActions":function(e,t,a){"use strict";(function(n){a(1),Object.defineProperty(t,"__esModule",{value:!0});var l=b(a(10)),r=b(a(149)),o=b(a(11)),i=b(a(13)),s=b(a(15)),d=b(a(16)),u=a(0),c=b(u),f=b(a(2)),h=b(a(227)),p=a(7),m=b(a(22)),g=a(67),_=b(a("views/health_manager/modals/EditThresholds")),v=b(a("views/health_manager/modals/SnoozeModal"));function b(e){return e&&e.__esModule?e:{default:e}}var C=function(e){function t(){var e;(0,o.default)(this,t);for(var a=arguments.length,n=Array(a),l=0;l<a;l++)n[l]=arguments[l];var r=(0,s.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(n)));return r.setShouldRefreshOnClose=function(){r.setState({shouldRefreshOnClose:!0})},r.checkSnooze=function(){var e=new Date,t=r.props.object.content.snooze_end_time;return 0!==t&&t>e.getTime()/1e3},r.handleRequestClose=function(){r.state.shouldRefreshOnClose?r.props.handleRefreshListing():r.setState({modalToOpen:null,shouldRefreshOnClose:!1,isModalOpen:!1}),r.setState({isSnoozed:r.checkSnooze()})},r.handleEditThresholdClicked=function(){r.setState({isModalOpen:!0,action:"edit_threshold",modalToOpen:_.default})},r.handleSnoozeClicked=function(){r.setState({isModalOpen:!0,action:"snooze",modalToOpen:v.default})},r.state={action:"edit_threshold",isModalOpen:!1,modalToOpen:null,shouldRefreshOnClose:!1,isSnoozed:r.checkSnooze()},r}return(0,d.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){var e=this.props,t=e.object,a=e.idAttribute,o=(0,r.default)(e,["object","idAttribute"]),i=this.state,s=i.action,d=i.isModalOpen;return c.default.createElement("div",(0,l.default)({style:{textAlign:"left",padding:"4px 12px"}},(0,g.createTestHook)(n)),c.default.createElement(m.default,{"data-test-name":"edit-threshold",key:"edit",style:{whiteSpace:"nowrap"},onClick:this.handleEditThresholdClicked},(0,p._)("Edit")),c.default.createElement(m.default,{"data-test-name":"snooze",key:"edit",style:{whiteSpace:"nowrap",paddingLeft:"10px"},onClick:this.handleSnoozeClicked},this.state.isSnoozed?(0,p._)("Unsnooze"):(0,p._)("Snooze")),this.state.modalToOpen&&c.default.createElement(this.state.modalToOpen,(0,l.default)({object:t,idAttribute:a,isBulk:!1,action:s,open:d,selectedRows:[],snoozed:this.state.isSnoozed,handleRequestClose:this.handleRequestClose,setShouldRefreshOnClose:this.setShouldRefreshOnClose},(0,h.default)(o,"ModalChangeStatus","ModalEditThreshold"))))}}]),t}(u.Component);C.propTypes={object:f.default.shape({content:f.default.shape({snooze_end_time:f.default.number}).isRequired}).isRequired,idAttribute:f.default.string.isRequired,handleRefreshListing:f.default.func.isRequired},C.defaultProps={},t.default=C,e.exports=t.default}).call(this,"/index.js")},"views/health_manager/components/Header":function(e,t,a){"use strict";a(1),Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(0)),l=d(a(2)),r=a(7),o=d(a(38)),i=d(a(29)),s=d(a(22));function d(e){return e&&e.__esModule?e:{default:e}}var u=function(e){return n.default.createElement("div",{style:{background:"#f2f4f5",padding:"20px 20px 10px"},"data-test-name":"health-manager-heading"},n.default.createElement(o.default,{"data-test-name":"page-title",level:1,style:{margin:"0 0 10px 0",lineHeight:"24px"}},e.objectNamePlural),n.default.createElement(i.default,{style:{margin:"0",maxWidth:"800px"},"data-test-name":"page-description"},(0,r._)("Set feature thresholds to determine how Splunk Health Report monitors Splunk\n            components. Threshold values are local to the node. For features related to Search\n            Head Clusters, values are replicated across peers. For more information, refer to our "),n.default.createElement(s.default,{to:e.learnMoreLink,openInNewContext:!0,"data-test-name":"learnMoreLink"},(0,r._)("Documentation. "))))};u.propTypes={objectNamePlural:l.default.string.isRequired,learnMoreLink:l.default.string.isRequired},t.default=u,e.exports=t.default},"views/health_manager/components/TableFilter":function(e,t,a){"use strict";a(1),Object.defineProperty(t,"__esModule",{value:!0});var n=v(a(11)),l=v(a(13)),r=v(a(15)),o=v(a(16)),i=a(0),s=v(i),d=v(a(2)),u=a(7),c=a(28),f=v(a(513)),h=v(a(39)),p=v(a(23)),m=v(a(46)),g=v(a(20)),_=v(a(330));function v(e){return e&&e.__esModule?e:{default:e}}var b=function(e){function t(){return(0,n.default)(this,t),(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,o.default)(t,e),(0,l.default)(t,[{key:"getCountLabel",value:function(){var e=this.props,t=e.objectNamePlural,a=e.objectNameSingular,n=e.objectsCount;return this.props.fetching?(0,u._)("Loading..."):n+" "+(1!==n?t:a)}},{key:"render",value:function(){var e=this.props,t=e.filterString,a=e.handleCountPerChange,n=e.handlePaginatorChange,l=e.handleTextFilterChange,r=e.page,o=e.objectsCount,i=e.countPerPage,d=s.default.createElement("div",{style:{width:"350px"}},s.default.createElement(g.default,{type:"success"},(0,u._)("Green: The feature is functioning properly.")),s.default.createElement(g.default,{type:"warning"},(0,u._)("Yellow: The feature is experiencing a problem. The feature's status might automatically improve, or it may worsen over time. For details, see Root Cause.")),s.default.createElement(g.default,{type:"error"},(0,u._)("Red: The feature has severe issues and is negatively impacting functionality of your deployment. For details, see Root Cause.")),s.default.createElement(g.default,{type:"info"},(0,u._)("Grey: Health report is disabled or snoozed for the feature."))),v=s.default.createElement(f.default,{"data-test-name":"paginator",onChange:n,current:r,alwaysShowLastPageLink:!0,totalPages:Math.ceil(o/i)});return s.default.createElement("div",{style:{minHeight:"36px",verticalAlign:"middle"},"data-test-name":"health-manager-table-filter"},s.default.createElement("div",{"data-test-name":"filters-row",style:{margin:"0 20px",textAlign:"left",display:"flex",flexWrap:"wrap",alignItems:"center",width:"calc(100% - 40px)"}},s.default.createElement("div",{"data-test-name":"object-count",style:{float:"left",lineHeight:"36px",marginRight:"10px",verticalAlign:"middle"}},this.getCountLabel()),s.default.createElement("div",{style:{lineHeight:"36px",display:"inline-block",marginRight:"10px",verticalAlign:"middle"}},s.default.createElement(p.default,{"data-test-name":"text-filter",inline:!0,placeholder:(0,u._)("filter"),appearance:"search",value:t,onChange:l}),s.default.createElement("div",{style:{display:"inline-block",paddingLeft:"5px"}},(0,u._)("Legend")," ",s.default.createElement(m.default,{content:d}))),o>_.default.COUNTS_PER_PAGE[0]&&s.default.createElement("div",{style:{textAlign:"right",lineHeight:"36px",verticalAlign:"middle",flexGrow:1}},s.default.createElement(h.default,{"data-test-name":"page-count-selector",value:i,onChange:a,style:{marginRight:"10px"}},_.default.COUNTS_PER_PAGE.map((function(e){return s.default.createElement(h.default.Option,{key:e,label:(0,c.sprintf)((0,u._)("%s per page"),e),value:e})}))),v)))}}]),t}(i.Component);b.propTypes={fetching:d.default.bool.isRequired,handleCountPerChange:d.default.func.isRequired,handleTextFilterChange:d.default.func.isRequired,handlePaginatorChange:d.default.func.isRequired,filterString:d.default.string.isRequired,objectsCount:d.default.number.isRequired,objectNamePlural:d.default.string.isRequired,objectNameSingular:d.default.string.isRequired,page:d.default.number.isRequired,countPerPage:d.default.number.isRequired},t.default=b,e.exports=t.default},"views/health_manager/modals/AlertsWizardModal":function(e,t,a){"use strict";a(1),Object.defineProperty(t,"__esModule",{value:!0});var n=E(a(53)),l=E(a(11)),r=E(a(13)),o=E(a(15)),i=E(a(16)),s=a(0),d=E(s),u=E(a(2)),c=a(7),f=E(a(14)),h=E(a(18)),p=E(a(32)),m=E(a(38)),g=E(a(29)),_=E(a(23)),v=E(a(20)),b=E(a(24)),C=E(a(22)),y=a("util/health_manager/alerts_wizard_modal_utils");function E(e){return e&&e.__esModule?e:{default:e}}var S=function(e){function t(e,a){(0,l.default)(this,t);var r=(0,o.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,a));return r.handleEmailAlertsSwitchClicked=function(){r.setState({emailEnabled:!r.state.emailEnabled})},r.handleEmailTextChanged=function(e,t){var a=t.value,l=t.name;return r.setState((0,n.default)({},l,a))},r.handleCcLinkClicked=function(){r.setState({ccHidden:!1})},r.handleSave=function(){r.setState({isWorking:!0});var e={disabled:!r.state.emailEnabled,"action.to":r.state.emailTo,"action.cc":r.state.emailCC,"action.bcc":r.state.emailBCC};(0,y.callEditEmailAlerts)(e).then((function(){r.setState({isWorking:!1}),r.props.handleRequestClose()})).catch((function(e){r.setState({errorMessage:e.message,isWorking:!1})}))},r.state={isWorking:!1,emailEnabled:!1,ccHidden:!0},r}return(0,i.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){var e=this;(0,y.callGetHealthConfig)().then((function(t){if(t.entry[0]&&t.entry[0].content){var a=t.entry[0].content;e.setState({emailEnabled:!a.disabled,emailTo:a["action.to"],emailCC:a["action.cc"],emailBCC:a["action.bcc"],ccHidden:!(a["action.cc"]||a["action.bcc"])})}}))}},{key:"render",value:function(){return d.default.createElement(b.default,{"data-test-name":"alerts-wizard-modal",onRequestClose:this.props.handleRequestClose,open:this.props.open,style:{width:"600px"}},d.default.createElement(b.default.Header,{title:(0,c._)("Manage Alerts"),onRequestClose:this.props.handleRequestClose}),d.default.createElement(b.default.Body,null,this.state.errorMessage&&d.default.createElement(v.default,{type:"error"},this.state.errorMessage),d.default.createElement(h.default,{"data-test-name":"email-alerts",label:(0,c._)("Email Alerts"),help:(0,c._)("When enabled, email alerts will send an email to your desired address(es) informing you which features are unhealthy.  These emails are triggered once a feature has a yellow or red status. Emails are sent in 10-minute batches.")},d.default.createElement(p.default,{appearance:"toggle",onClick:this.handleEmailAlertsSwitchClicked,selected:this.state.emailEnabled,value:this.state.emailEnabled},this.state.emailEnabled?(0,c._)("Enabled"):(0,c._)("Disabled"))),d.default.createElement(m.default,{level:4},(0,c._)("Trigger Conditions")),d.default.createElement(h.default,{"data-test-name":"trigger-conditions",label:(0,c._)("Trigger alert when"),help:(0,c._)("You can edit each feature’s threshold from the Heatlh Report Manager page.")},d.default.createElement(g.default,null,(0,c._)("Individual feature threshold is met"))),d.default.createElement(m.default,{level:4},(0,c._)("Trigger Actions")),d.default.createElement(h.default,{"data-test-name":"email-list",label:(0,c._)("Send email alerts to"),help:(0,c._)("Enter multiple email addresses as a comma separated list."),style:{marginBottom:"0px"}},d.default.createElement(_.default,{disabled:!this.state.emailEnabled,onChange:this.handleEmailTextChanged,value:this.state.emailTo,name:"emailTo"})),this.state.ccHidden&&d.default.createElement(C.default,{"data-test-name":"cc-link",onClick:this.handleCcLinkClicked,style:{marginLeft:"calc(140px)",marginBottom:"15px"}},(0,c._)("Show CC and BCC")),!this.state.ccHidden&&d.default.createElement("div",null,d.default.createElement(h.default,{"data-test-name":"cc-list",label:(0,c._)("CC"),help:(0,c._)("Enter multiple email addresses as a comma separated list."),placeholder:(0,c._)("Optional")},d.default.createElement(_.default,{disabled:!this.state.emailEnabled,onChange:this.handleEmailTextChanged,value:this.state.emailCC,name:"emailCC"})),d.default.createElement(h.default,{"data-test-name":"bcc-list",label:(0,c._)("BCC"),help:(0,c._)("Enter multiple email addresses as a comma separated list."),placeholder:(0,c._)("Optional")},d.default.createElement(_.default,{disabled:!this.state.emailEnabled,onChange:this.handleEmailTextChanged,value:this.state.emailBCC,name:"emailBCC"}))),d.default.createElement(h.default,{"data-test-name":"email-subject",label:(0,c._)("Subject")},d.default.createElement(_.default,{value:(0,c._)("Splunk Health: [color] on [server name]"),disabled:!0})),d.default.createElement(h.default,{"data-test-name":"email-body",label:(0,c._)("Body")},d.default.createElement(_.default,{multiline:!0,value:(0,c._)("On server [name], the health indicator [triggered indicator] is red due to the following reason: [reason]"),disabled:!0}))),d.default.createElement(b.default.Footer,null,d.default.createElement(f.default,{"data-test-name":"cancel-btn",onClick:this.props.handleRequestClose,label:(0,c._)("Cancel")}),d.default.createElement(f.default,{appearance:"primary","data-test-name":"save-btn",disabled:this.state.isWorking,onClick:this.handleSave,label:(0,c._)("Save")})))}}]),t}(s.Component);S.propTypes={open:u.default.bool.isRequired,handleRequestClose:u.default.func.isRequired},t.default=S,e.exports=t.default},"views/health_manager/modals/EditIndicator":function(e,t,a){"use strict";(function(n){a(1),Object.defineProperty(t,"__esModule",{value:!0});var l=v(a(10)),r=v(a(11)),o=v(a(13)),i=v(a(15)),s=v(a(16)),d=a(0),u=v(d),c=v(a(2)),f=a(28),h=a(7),p=v(a(18)),m=v(a(116)),g=a(67),_=a("views/health_manager/modals/EditIndicator.pcss");function v(e){return e&&e.__esModule?e:{default:e}}var b=function(e){function t(){var e,a,n,l;(0,r.default)(this,t);for(var o=arguments.length,s=Array(o),d=0;d<o;d++)s[d]=arguments[d];return a=n=(0,i.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),n.handleRedThresholdChange=function(e,t){var a=t.value;if(a){var l=(0,f.sprintf)("indicator:%s:red",n.props.indicatorName);n.props.handleThresholdChange(l,a)}},n.handleYellowThresholdChange=function(e,t){var a=t.value;if(a){var l=(0,f.sprintf)("indicator:%s:yellow",n.props.indicatorName);n.props.handleThresholdChange(l,a)}},l=a,(0,i.default)(n,l)}return(0,s.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){return u.default.createElement("div",(0,l.default)({"data-test-name":this.props.indicatorName,"data-role":"indicator",style:this.props.hideSeparator?{}:{borderBottomWidth:"1px",borderBottomStyle:"solid",borderBottomColor:_.indicatorSeparator}},(0,g.createTestHook)(n)),u.default.createElement(p.default,{label:(0,h._)("Indicator"),controlsLayout:"none","data-test-name":"indicator-title"},u.default.createElement("p",{style:{paddingTop:6,marginBottom:0}},this.props.indicatorName)),this.props.indicatorDescription&&u.default.createElement(p.default,{label:(0,h._)("Description"),controlsLayout:"none","data-test-name":"indicator-description"},u.default.createElement("p",null,this.props.indicatorDescription)),this.props.indicatorRed&&u.default.createElement(p.default,{label:(0,h._)("Red"),controlsLayout:"none","data-test-name":"red_threshold"},u.default.createElement(m.default,{roundTo:0,min:0,value:this.props.indicatorRed,onChange:this.handleRedThresholdChange,inline:!0,style:{width:90}})),this.props.indicatorYellow&&u.default.createElement(p.default,{label:(0,h._)("Yellow"),controlsLayout:"none","data-test-name":"yellow_threshold"},u.default.createElement(m.default,{roundTo:0,min:0,value:this.props.indicatorYellow,onChange:this.handleYellowThresholdChange,inline:!0,style:{width:90}})))}}]),t}(d.Component);b.propTypes={indicatorName:c.default.string.isRequired,indicatorRed:c.default.number,indicatorYellow:c.default.number,indicatorDescription:c.default.string,hideSeparator:c.default.boolean,handleThresholdChange:c.default.func.isRequired},b.defaultProps={indicatorRed:null,indicatorYellow:null,indicatorDescription:null,hideSeparator:!1},t.default=b,e.exports=t.default}).call(this,"/index.js")},"views/health_manager/modals/EditIndicator.pcss":function(e,t,a){var n=a(2433);"string"==typeof n&&(n=[[e.i,n,""]]);var l={sourceMap:!1,hmr:!0,transform:void 0,insertInto:void 0};a(4)(n,l);n.locals&&(e.exports=n.locals)},"views/health_manager/modals/EditThresholds":function(e,t,a){"use strict";(function(n,l){a(1),Object.defineProperty(t,"__esModule",{value:!0});var r=R(a(53)),o=R(a(10)),i=R(a(11)),s=R(a(15)),d=R(a(13)),u=R(a(16)),c=a(0),f=R(c),h=R(a(2)),p=R(a(839)),m=a(34),g=a(28),_=a(7),v=a(67),b=R(a(14)),C=R(a(20)),y=R(a(38)),E=R(a(24)),S=R(a(32)),T=R(a(18)),w=R(a("views/health_manager/modals/EditIndicator"));function R(e){return e&&e.__esModule?e:{default:e}}var M=function(e){function t(e,a){(0,i.default)(this,t);var l=(0,s.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,a));return l.handleSuccess=function(){l.props.setShouldRefreshOnClose(),l.handleCloseModal()},l.handleSaveActionDispatcher=function(){l.setState({isWorking:!0});var e=l.props.objectsCollectionPath+"/"+l.props.object[l.props.idAttribute].split("/").pop()+"?output_mode=json",t="";Object.keys(l.state).forEach((function(e){e.startsWith("indicator:")&&(t=t.length?(0,g.sprintf)("%s&%s=%s",t,e,l.state[e]):(0,g.sprintf)("%s=%s",e,l.state[e]))}));var a={method:"POST",headers:{"Content-Type":"application/json"},body:t=(0,g.sprintf)("%s&%s=%s&%s=%s",t,"alert.disabled",l.state.alertDisabled,"disabled",l.state.disabled)},r=(0,p.default)({},m.defaultFetchInit,a);n(e,r).then((0,m.handleResponse)(200)).then((function(){l.handleSuccess()})).catch((function(e){l.handleError((0,g.sprintf)((0,_._)("Could not edit thresholds of %s."),l.props.object.content.display_name),e)}))},l.handleError=function(e,t){t&&t.text&&"function"==typeof t.text?t.text().then((function(a){var n=t;n.responseText=a,l.setState({isWorking:!1,errorMessage:l.props.errorFormatter(e,n)})})):l.setState({isWorking:!1,errorMessage:e})},l.handleCloseModal=function(){l.setState({isWorking:!1,errorMessage:""}),l.props.handleRequestClose()},l.handleThresholdChange=function(e,a){var n,i=t.getIdAndColor(e),s=i.id,d=i.color,u=(0,o.default)({},l.state.indicators);u[s][d]=a,l.setState((n={},(0,r.default)(n,e,a),(0,r.default)(n,"indicators",u),n))},l.handleIncludeSwitchChange=function(){l.setState({alertDisabled:!l.state.alertDisabled})},l.handleDisabledSwitchChange=function(){l.setState({disabled:!l.state.disabled})},l.state={isWorking:!1,errorMessage:"",indicators:l.getIndicators(),alertDisabled:"true"===l.props.object.content["alert.disabled"],disabled:!!l.props.object.content.disabled},l}return(0,u.default)(t,e),(0,d.default)(t,null,[{key:"getIdAndColor",value:function(e){var t=e.indexOf(":"),a=e.indexOf(":",t+1);return{id:e.slice(t+1,a),color:e.slice(a+1)}}}]),(0,d.default)(t,[{key:"getModalTitle",value:function(){return(0,g.sprintf)((0,_._)("Edit Thresholds for %s"),this.props.object.content.display_name)}},{key:"getButtonLabel",value:function(){return this.state.isWorking?(0,_._)("Saving..."):(0,_._)("Save")}},{key:"getIndicators",value:function(){var e=this,a={};return Object.keys(this.props.object.content).forEach((function(n){if(n.startsWith("indicator:")){var l=t.getIdAndColor(n),r=l.id,o=l.color;a[r]||(a[r]={},a[r].name=r),"description"===o?a[r].description=e.props.object.content[n]:a[r][o]=parseInt(e.props.object.content[n],10)}})),a}},{key:"render",value:function(){var e=this;return f.default.createElement(E.default,(0,o.default)({onRequestClose:this.handleCloseModal,open:this.props.open,style:{width:"500px"}},(0,v.createTestHook)(l)),f.default.createElement(E.default.Header,{title:this.getModalTitle(),onRequestClose:this.handleCloseModal}),f.default.createElement(E.default.Body,null,this.state.errorMessage&&f.default.createElement(C.default,{type:"error"},this.state.errorMessage),this.props.warningMessage&&f.default.createElement(C.default,{type:"warning"},this.props.warningMessage),this.props.isSHC&&f.default.createElement(C.default,{type:"info"},(0,_._)("Changing threshold values will replicate across peers")),f.default.createElement(T.default,{label:(0,_._)("Include in report")},f.default.createElement(S.default,{"data-test-name":"include-in-report-switch",value:!this.state.disabled,onClick:this.handleDisabledSwitchChange,selected:!this.state.disabled,appearance:"toggle"},this.state.disabled?(0,_._)("Disabled"):(0,_._)("Enabled"))),f.default.createElement(T.default,{label:(0,_._)("Alert Status")},f.default.createElement(S.default,{"data-test-name":"alert-status-switch",value:!this.state.alertDisabled,onClick:this.handleIncludeSwitchChange,selected:!this.state.alertDisabled,appearance:"toggle"},this.state.alertDisabled?(0,_._)("Disabled"):(0,_._)("Enabled"))),f.default.createElement(y.default,{level:"ss"},(0,_._)("Thresholds")),Object.keys(this.state.indicators).map((function(t,a){return f.default.createElement(w.default,{style:{borderBottom:"1px solid rgb(195, 203, 212)"},key:e.state.indicators[t].name,indicatorName:e.state.indicators[t].name,indicatorDescription:e.state.indicators[t].description||null,indicatorRed:e.state.indicators[t].red||null,indicatorYellow:e.state.indicators[t].yellow||null,handleThresholdChange:e.handleThresholdChange,hideSeparator:a===Object.keys(e.state.indicators).length-1})}))),f.default.createElement(E.default.Footer,null,f.default.createElement(b.default,{"data-test-name":"cancel-btn",onClick:this.handleCloseModal,label:(0,_._)("Cancel")}),f.default.createElement(b.default,{appearance:"primary","data-test-name":"save-btn",disabled:this.state.isWorking,onClick:this.handleSaveActionDispatcher,label:this.getButtonLabel()})))}}]),t}(c.Component);M.propTypes={open:h.default.bool.isRequired,object:h.default.shape({content:h.default.shape({display_name:h.default.string.isRequired,"alert.disabled":h.default.string.isRequired,disabled:h.default.bool.isRequired})}).isRequired,objectsCollectionPath:h.default.string.isRequired,idAttribute:h.default.string.isRequired,errorFormatter:h.default.func.isRequired,handleRequestClose:h.default.func.isRequired,setShouldRefreshOnClose:h.default.func.isRequired,warningMessage:h.default.string,isSHC:h.default.bool.isRequired},M.defaultProps={warningMessage:"",objectsCollectionPath:""},t.default=M,e.exports=t.default}).call(this,a(31),"/index.js")},"views/health_manager/modals/HealthChangeStatus":function(e,t,a){"use strict";(function(n){a(1),Object.defineProperty(t,"__esModule",{value:!0});var l=h(a(10)),r=h(a(11)),o=h(a(15)),i=h(a(16)),s=h(a(839)),d=a(34),u=a(28),c=a(7),f=h(a(837));function h(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(){var e,a,l,i;(0,r.default)(this,t);for(var f=arguments.length,h=Array(f),p=0;p<f;p++)h[p]=arguments[p];return a=l=(0,o.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(h))),l.callFetch=function(){return n(l.props.objectsCollectionPath+"/"+l.props.object[l.props.idAttribute].split("/").pop()+"?output_mode=json",(0,s.default)({},d.defaultFetchInit,{method:"POST",headers:{"Content-Type":"application/json"},body:(0,u.sprintf)("disabled=%s",!0===l.props.object.content.disabled?"0":"1")})).then((0,d.handleResponse)(200)).catch((0,d.handleError)((0,c._)("Something went wrong.")))},l.handleChangeStatus=function(){l.callFetch().then((function(){l.handleSuccess(),l.props.handleRefreshListing()}),(function(e){l.setState({isWorking:!1,errorMessage:l.props.errorFormatter((0,u.sprintf)((0,c._)("Could not %s %s."),l.actionLabel.toLowerCase(),l.props.objectNameSingular.toLowerCase()),e.message)})}))},i=a,(0,o.default)(l,i)}return(0,i.default)(t,e),t}(f.default);p.propTypes=(0,l.default)({},f.default.propTypes),p.defaultProps=(0,l.default)({},f.default.defaultProps),t.default=p,e.exports=t.default}).call(this,a(31))},"views/health_manager/modals/SnoozeModal":function(e,t,a){"use strict";a(1),Object.defineProperty(t,"__esModule",{value:!0});var n=S(a(11)),l=S(a(13)),r=S(a(15)),o=S(a(16)),i=a(0),s=S(i),d=S(a(2)),u=S(a(69)),c=a(28),f=a(7),h=S(a(14)),p=S(a(20)),m=S(a(24)),g=S(a(18)),_=S(a(32)),v=S(a(39)),b=S(a(207)),C=S(a(29)),y=S(a(23)),E=a("util/health_manager/snooze_modal_utils");function S(e){return e&&e.__esModule?e:{default:e}}var T={seconds:1e3,minutes:6e4,hours:36e5,days:864e5},w=function(e){function t(e,a){(0,n.default)(this,t);var l=(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,a));return l.getTimeValues=function(){for(var e=[],t=0;t<24;t+=1){var a=(0,c.sprintf)("%s:00",t);e.push(s.default.createElement(v.default.Option,{label:a,value:t}))}return e},l.getDurationEpochTime=function(){var e=l.state,t=e.durationText,a=e.durationSelect;if(!(Number(t)>0&&Number(t)))return l.setState({errorMessage:(0,f._)("Snooze duration must be a positive number."),isWorking:!1}),-1;var n=(new Date).getTime(),r=new Date(n+t*a),o=Math.floor(r.getTime()/1e3);return isNaN(o)?(l.setState({errorMessage:(0,f._)("Snooze duration is too long."),isWorking:!1}),-1):o},l.getCustomEpochTime=function(){var e=l.state,t=e.customTimeDate,a=e.customTimeTime,n=l.props.tz,r=(0,E.timeZoneOffset)(n),o=(0,c.sprintf)("%s %s:00:00 %s",t.replaceAll("-","/"),a,"default"===r?"":(0,c.sprintf)("GMT%s:00",r>=0?(0,c.sprintf)("+%s",r):r)),i=new Date(o);return Math.floor(i.getTime()/1e3)},l.getModalBody=function(){var e=l.state,t=e.customTime,a=e.customTimeDate,n=e.customTimeTime,r=e.durationText,o=e.durationSelect,i=l.props.object,d=l.getTimeValues();return l.props.snoozed?s.default.createElement(C.default,null,(0,c.sprintf)((0,f._)("Unsnooze alerts for %(feature)s?"),{feature:i.name.replace("feature:","")})):s.default.createElement("div",null,s.default.createElement(g.default,{"data-test-name":"snooze-duration",label:(0,f._)("Snooze for"),disabled:t},s.default.createElement(y.default,{value:r,onChange:l.handleDurationTextChanged,disabled:t}),s.default.createElement(v.default,{value:o,onChange:l.handleDurationSelectChanged,disabled:t},s.default.createElement(v.default.Option,{label:(0,f._)("second(s)"),value:T.seconds}),s.default.createElement(v.default.Option,{label:(0,f._)("minute(s)"),value:T.minutes}),s.default.createElement(v.default.Option,{label:(0,f._)("hour(s)"),value:T.hours}),s.default.createElement(v.default.Option,{label:(0,f._)("day(s)"),value:T.days}))),s.default.createElement(g.default,{"data-test-name":"custom-time-switch",label:(0,f._)("Snooze until custom time")},s.default.createElement(_.default,{appearance:"toggle",onClick:l.handleCustomTimeSwitchClicked,selected:t,value:t})),t&&s.default.createElement(g.default,{"data-test-name":"custom-time"},s.default.createElement(b.default,{highlightToday:!0,value:a,onChange:l.handleCustomTimeDateChanged}),s.default.createElement(v.default,{value:n,onChange:l.handleCustomTimeSelectChanged},d)))},l.handleCustomTimeSwitchClicked=function(){l.setState({customTime:!l.state.customTime})},l.handleCustomTimeSelectChanged=function(e,t){var a=t.value;l.setState({customTimeTime:a})},l.handleDurationSelectChanged=function(e,t){var a=t.value;l.setState({durationSelect:a})},l.handleDurationTextChanged=function(e,t){var a=t.value;l.setState({durationText:a})},l.handleCustomTimeDateChanged=function(e,t){var a=t.value;l.setState({customTimeDate:a})},l.handleSave=function(){var e=l.state.customTime,t=l.props.snoozed;l.setState({isWorking:!0});var a=0;!t&&e?a=l.getCustomEpochTime():t||(a=l.getDurationEpochTime()),-1!==a&&(0,E.callEditHealthConfig)({snooze_end_time:a},l.props.object.name).then((function(){l.setState({isWorking:!1}),l.props.setShouldRefreshOnClose(),l.props.handleRequestClose()})).catch((function(e){l.setState({errorMessage:e.message,isWorking:!1})}))},l.state={isWorking:!1,customTime:!1,durationSelect:T.hours,durationText:"24",customTimeDate:(0,u.default)().format(b.default.momentFormat),customTimeTime:0},l}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.state,t=e.errorMessage,a=e.isWorking,n=this.props,l=n.snoozed,r=n.object,o=n.handleRequestClose,i=n.open,d=this.getModalBody();return s.default.createElement(m.default,{"data-test-name":"snooze-modal",onRequestClose:o,open:i,style:{width:"600px"}},s.default.createElement(m.default.Header,{title:(0,c.sprintf)((0,f._)("%s alerts for %s"),l?(0,f._)("Unsnooze"):(0,f._)("Snooze"),r.name.replace("feature:","")),onRequestClose:o}),s.default.createElement(m.default.Body,null,t&&s.default.createElement(p.default,{type:"error"},t),d),s.default.createElement(m.default.Footer,null,s.default.createElement(h.default,{"data-test-name":"cancel-btn",onClick:o,label:(0,f._)("Cancel")}),s.default.createElement(h.default,{appearance:"primary","data-test-name":"save-btn",disabled:a,onClick:this.handleSave,label:l?(0,f._)("Unsnooze"):(0,f._)("Snooze")})))}}]),t}(i.Component);w.propTypes={open:d.default.bool.isRequired,handleRequestClose:d.default.func.isRequired,setShouldRefreshOnClose:d.default.func.isRequired,tz:d.default.string.isRequired,object:d.default.shape({content:d.default.shape({snooze_end_time:d.default.number}).isRequired,name:d.default.string}).isRequired,snoozed:d.default.bool.isRequired},t.default=w,e.exports=t.default}});