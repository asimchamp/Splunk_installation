(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{1321:function(t,e,i){(t.exports=i(2)(!1)).push([t.i,".splunk-mapping-Map .leaflet-popup-content-wrapper{padding:6px 12px;border-radius:3px;background:#fff;-webkit-box-shadow:none;box-shadow:none}.splunk-mapping-Map .leaflet-popup-content{color:#171d21;font-family:Splunk Platform Sans,Proxima Nova,Roboto,Droid,Helvetica Neue,Helvetica,Arial,sans-serif;margin:0}.splunk-mapping-Map .map-tooltip-table{border:0;border-spacing:0;border-collapse:collapse}.splunk-mapping-Map .map-tooltip-table td{padding:0;white-space:nowrap}.splunk-mapping-Map .map-tooltip-table td.tooltip-column-left{text-align:left}.splunk-mapping-Map .map-tooltip-table td.tooltip-column-right{text-align:right}",""])},1322:function(t,e,i){(t.exports=i(2)(!1)).push([t.i,".leaflet-reset-zoom-icon{padding-top:2px;display:block;margin:auto}@media print{.leaflet-reset-zoom{display:none}}.leaflet-control-zoom-in:focus,.leaflet-control-zoom-out:focus{-webkit-box-shadow:0 0 1px 2px #00a4fd;box-shadow:0 0 1px 2px #00a4fd;border-collapse:separate;outline:0}.leaflet-control-zoom-in:focus:active:not([disabled]),.leaflet-control-zoom-out:focus:active:not([disabled]){-webkit-box-shadow:none;box-shadow:none}.leaflet-control-zoom-in:focus,.leaflet-control-zoom-out:focus{text-decoration:none}",""])},"contrib/jg_lib/properties/ObjectProperty":function(t,e,i){var n;
/*!
 * Copyright (c) 2007-2016 Jason Gatt
 * 
 * Released under the MIT license:
 * http://opensource.org/licenses/MIT
 */void 0===(n=function(t,e,n){var s=i("contrib/jg_lib/properties/Property"),r=i("contrib/jg_lib/Class"),a=i("contrib/jg_lib/utils/ObjectUtil");return r(n.i,s,(function(t,e){this._itemType=null,this._itemTypeChecker=null,this._itemNullValue=null,this._allowNull=!1,this._itemReadFilter=null,this._itemWriteFilter=null,this.constructor=function(t,i,n){if(null!=i&&!r.isFunction(i))throw new Error("Parameter itemType must be of type Function.");this._itemType=i||null,this._itemTypeChecker=i?r.getTypeChecker(i):null,i===Number?this._itemNullValue=NaN:i===Boolean?this._itemNullValue=!1:this._itemNullValue=null,null==n&&(n={}),e.constructor.call(this,t,Object,n)},this.itemType=function(){return this._itemType},this.allowNull=function(t){if(!arguments.length)return this._allowNull;if(null!=t&&!r.isBoolean(t))throw new Error("Parameter allowNull must be of type Boolean.");return this._allowNull=!0===t,this},this.itemReadFilter=function(t){if(!arguments.length)return this._itemReadFilter;if(null!=t&&!r.isFunction(t))throw new Error("Parameter itemReadFilter must be of type Function.");return this._itemReadFilter=t||null,this},this.itemWriteFilter=function(t){if(!arguments.length)return this._itemWriteFilter;if(null!=t&&!r.isFunction(t))throw new Error("Parameter itemWriteFilter must be of type Function.");return this._itemWriteFilter=t||null,this},this.get=function(t){var i,n,s=e.get.call(this,t),r=this._itemNullValue,o=this._itemReadFilter,l={};for(var h in s)if(a.has(s,h)){if(i=s[h],o&&(n=o.call(t,i))!==i){if(!this.isValidItemType(n))throw new Error('Value returned from itemReadFilter for property "'+this.name()+'" must be of type '+this.getItemTypeName()+".");i=n}null==i&&(i=r),l[h]=i}return l},this.set=function(t,i){var n,s,r=this._allowNull,o=this._itemNullValue,l=this._itemWriteFilter,h={};for(var u in i)if(a.has(i,u)){if(null==(n=i[u])){if(!r)continue;n=o}if(l&&(s=l.call(t,n))!==n){if(!this.isValidItemType(s))throw new Error('Value returned from itemWriteFilter for property "'+this.name()+'" must be of type '+this.getItemTypeName()+".");n=s}h[u]=n}e.set.call(this,t,h)},this.getTypeName=function(){return"Object<"+this.getItemTypeName()+">"},this.getItemTypeName=function(){return this._itemType?r.getName(this._itemType)||this.name()+".itemType":"*"},this.isValidType=function(t){if(null==t)return!0;if(!r.isObject(t))return!1;for(var e in t)if(a.has(t,e)&&!this.isValidItemType(t[e]))return!1;return!0},this.isValidItemType=function(t){return null==t||!this._itemTypeChecker||this._itemTypeChecker(t)}}))}.call(e,i,e,t))||(t.exports=n)},"contrib/jg_lib/properties/ObservableObjectProperty":function(t,e,i){var n;
/*!
 * Copyright (c) 2007-2016 Jason Gatt
 * 
 * Released under the MIT license:
 * http://opensource.org/licenses/MIT
 */void 0===(n=function(t,e,n){var s=i("contrib/jg_lib/properties/MObservableProperty"),r=i("contrib/jg_lib/properties/ObjectProperty"),a=i("contrib/jg_lib/Class"),o=i("contrib/jg_lib/utils/ObjectUtil"),l=i("contrib/jg_lib/utils/Set");return a(n.i,r,(function(t,e){a.mixin(this,s),this._defaultValueSet=null,this._itemChangeComparator=null,this.constructor=function(t,i,n){e.constructor.call(this,t,i,n);var s=this._defaultValueSet=new l;if(n)for(var r in n)o.has(n,r)&&s.add(n[r]);this.initChangeEvent()},this.itemChangeComparator=function(t){if(!arguments.length)return this._itemChangeComparator;if(null!=t&&!a.isFunction(t))throw new Error("Parameter itemChangeComparator must be of type Function.");return this._itemChangeComparator=t||null,this},this.setupContext=function(t){e.setupContext.call(this,t),this.setupDependencySupport(t)},this.teardownContext=function(t){this.teardownDependencySupport(t),e.teardownContext.call(this,t)},this.writeValue=function(t,i){var n=t.value;if(this.teardownDependencyChangeHandler(t),e.writeValue.call(this,t,i),null!=i){var s,r=[],a=this._defaultValueSet;for(var l in i)o.has(i,l)&&null!=(s=i[l])&&s.isEventTarget&&s.isObservableTarget&&!a.has(s)&&r.push({target:s,event:s.change});r.length>0&&this.setupDependencyChangeHandler(t,r)}this.notifyChange(t,n,i)},this.needsWrite=function(t,e){return this.hasChange(t,t.value,e)},this.hasChange=function(t,e,i){var n,s=this.changeComparator();if(s)return!!s.call(t.target,e,i);if(e===i)return!1;if(null==e||null==i)return!0;for(n in e)if(o.has(e,n)&&(!o.has(i,n)||this.hasItemChange(t,e[n],i[n])))return!0;for(n in i)if(o.has(i,n)&&!o.has(e,n))return!0;return!1},this.hasItemChange=function(t,e,i){return this._itemChangeComparator?!!this._itemChangeComparator.call(t.target,e,i):e!==i&&(e==e||i==i)}}))}.call(e,i,e,t))||(t.exports=n)},legend:function(t,e){Splunk.Legend={_numLabels:0,_targetMap:{},_targetList:[],_labelMap:{},_labelList:[],_isLabelMapValid:!0,_timeoutID:0,_listeners:{},numLabels:function(){return this._validateLabelMap(),this._numLabels},register:function(t){if(null==t)throw new Error("Parameter id must be non-null.");var e=this._getOwn(this._targetMap,t);e||(e={id:t,labels:null,sortIndex:+t.match(/\d+/g).join("")},this._targetMap[t]=e,this._targetList.push(e),this._targetList.sort((function(t,e){return t.sortIndex-e.sortIndex})))},unregister:function(t){var e=this._getOwn(this._targetMap,t);if(e){for(var i=this._targetList.length-1;i>=0;i--)if(this._targetList[i]===e){this._targetList.splice(i,1);break}delete this._targetMap[t],this._invalidateLabelMap()}},setLabels:function(t,e){var i=this._getOwn(this._targetMap,t);i&&(i.labels=e?e.concat():null,this._invalidateLabelMap())},getLabelIndex:function(t){this._validateLabelMap();var e=this._getOwn(this._labelMap,t);return null!=e?e:-1},getLabelAt:function(t){return this._validateLabelMap(),(t=Math.floor(t))>=0&&t<this._labelList.length?this._labelList[t]:null},addEventListener:function(t,e){var i=this._getOwn(this._listeners,t);i||(i=this._listeners[t]=[]);for(var n=i.length,s=0;s<n;s++)if(i[s]===e)return;i.push(e)},removeEventListener:function(t,e){var i=this._getOwn(this._listeners,t);if(i)for(var n=i.length,s=0;s<n;s++)if(i[s]===e)return void i.splice(s,1)},dispatchEvent:function(t){var e=this._getOwn(this._listeners,t);if(e){var i;e=e.concat();var n=[],s=arguments.length;for(i=1;i<s;i++)n.push(arguments[i]);var r,a=e.length;for(i=0;i<a;i++){r=e[i];try{r.apply(null,n)}catch(t){}}}},_invalidateLabelMap:function(){if(this._isLabelMapValid){this._isLabelMapValid=!1;var t=this;this._timeoutID=setTimeout((function(){t._validateLabelMap()}),0)}},_validateLabelMap:function(){this._isLabelMapValid||(this._updateLabelMap(),this._isLabelMapValid=!0,clearTimeout(this._timeoutID))},_updateLabelMap:function(){var t,e,i,n,s,r,a=this._labelList,o=!1,l={},h=[],u=this._targetList,c=u.length;for(s=0;s<c;s++)if(t=u[s].labels)for(e=t.length,r=0;r<e;r++)i=t[r],null==this._getOwn(l,i)&&(l[i]=h.length,h.push(i));if((n=h.length)!==a.length)o=!0;else for(s=0;s<n;s++)if(h[s]!==a[s]){o=!0;break}o&&(this._labelMap=l,this._labelList=h,this._numLabels=n,this.dispatchEvent("labelIndexMapChanged"))},_getOwn:function(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0}}},"shim/splunk.legend":function(t,e,i){var n,s;n=[i("shim/splunk"),i("legend")],void 0===(s=function(t){return t.Legend}.apply(e,n))||(t.exports=s)},"splunk/charting/ExternalLegend":function(t,e,i){var n;void 0===(n=function(t,e,n){var s=i("shim/splunk.legend"),r=i("contrib/jg_lib/Class"),a=i("contrib/jg_lib/utils/FunctionUtil"),o=i("splunk/charting/Legend");return r(n.i,o,(function(t,e){var i=0;this._id=null,this._isConnected=!1,this._cachedExternalNumLabels=-1,this._cachedExternalLabelMap=null,this.constructor=function(){e.constructor.call(this),this._external_setLabels=a.bind(this._external_setLabels,this),this._external_labelIndexMapChanged=a.bind(this._external_labelIndexMapChanged,this),this._id="splunk-charting-ExternalLegend-"+ ++i},this.connect=function(){this.close(),s.register(this._id),s.addEventListener("setLabels",this._external_setLabels),s.addEventListener("labelIndexMapChanged",this._external_labelIndexMapChanged),this._isConnected=!0},this.close=function(){this._isConnected&&(this._isConnected=!1,s.removeEventListener("labelIndexMapChanged",this._external_labelIndexMapChanged),s.removeEventListener("setLabels",this._external_setLabels),s.unregister(this._id))},this.isConnected=function(){return this._isConnected},this.getNumLabelsOverride=function(){if(this._isConnected){var t=this._cachedExternalNumLabels;return t<0&&(t=this._cachedExternalNumLabels=s.numLabels()),t}return-1},this.getLabelIndexOverride=function(t){if(this._isConnected){var e=this._cachedExternalLabelMap;e||(e=this._cachedExternalLabelMap={});var i=e[t];return null==i&&(i=e[t]=s.getLabelIndex(t)),i}return-1},this.updateLabelsOverride=function(t){return!!this._isConnected&&(this._cachedExternalNumLabels=-1,this._cachedExternalLabelMap=null,s.setLabels(this._id,t),!0)},this._external_setLabels=function(){this.notifySettingLabels()},this._external_labelIndexMapChanged=function(){this._cachedExternalNumLabels=-1,this._cachedExternalLabelMap=null,this.notifyLabelIndexMapChanged()}}))}.call(e,i,e,t))||(t.exports=n)},"splunk/charting/Legend":function(t,e,i){var n;void 0===(n=function(t,e,n){var s=i("contrib/jg_lib/Class"),r=i("contrib/jg_lib/events/ChainedEvent"),a=i("contrib/jg_lib/events/Event"),o=i("contrib/jg_lib/events/EventData"),l=i("contrib/jg_lib/events/MEventTarget"),h=i("contrib/jg_lib/events/MListenerTarget"),u=i("contrib/jg_lib/events/MObservableTarget"),c=i("contrib/jg_lib/properties/MPropertyTarget"),p=i("contrib/jg_lib/properties/ObservableProperty"),d=i("contrib/jg_lib/utils/ArrayUtil"),m=i("contrib/jg_lib/utils/Map");return s(n.i,Object,(function(t,e){s.mixin(this,l,h,u,c),this.settingLabels=new a("settingLabels",o),this.labelIndexMapChanged=new r("labelIndexMapChanged",this.change),this.labels=new p("labels",Array,[]).readFilter((function(t){return t.concat()})).writeFilter((function(t){return t?t.concat():[]})).onChange((function(t){this._updateLabelMap()})),this.actualLabels=new p("actualLabels",Array,[]).readOnly(!0).readFilter((function(t){return t.concat()})),this._targetMap=null,this._targetList=null,this._labelMap=null,this._labelList=null,this._isSettingLabels=!1,this.constructor=function(){e.constructor.call(this),this._targetMap=new m,this._targetList=[],this._labelMap={},this._labelList=[]},this.register=function(t){if(null==t)throw new Error("Parameter target must be non-null.");var e=this._targetMap.get(t);e||(e={labels:null},this._targetMap.set(t,e),this._targetList.push(e))},this.unregister=function(t){if(null==t)throw new Error("Parameter target must be non-null.");var e=this._targetMap.get(t);if(e){var i=d.indexOf(this._targetList,e);i>=0&&this._targetList.splice(i,1),this._targetMap.del(t),this._updateLabelMap()}},this.setLabels=function(t,e){if(null==t)throw new Error("Parameter target must be non-null.");if(null!=e&&!s.isArray(e))throw new Error("Parameter labels must be of type Array.");var i=this._targetMap.get(t);i&&(i.labels=e?e.concat():null,this.notifySettingLabels())},this.getLabelIndex=function(t){if(null==t)throw new Error("Parameter label must be non-null.");if(!s.isString(t))throw new Error("Parameter label must be of type String.");var e=this.getLabelIndexOverride(t);if(e<0){var i=this._labelMap[t];e=null!=i?i:-1}return e},this.getNumLabels=function(){var t=this.getNumLabelsOverride();return t<0&&(t=this._labelList.length),t},this.notifySettingLabels=function(){if(!this._isSettingLabels)try{this._isSettingLabels=!0,this.fire(this.settingLabels,new o),this._updateLabelMap()}finally{this._isSettingLabels=!1}},this.notifyLabelIndexMapChanged=function(){this.fire(this.labelIndexMapChanged,new o)},this.getNumLabelsOverride=function(){return-1},this.getLabelIndexOverride=function(t){return-1},this.updateLabelsOverride=function(t){return!1},this._updateLabelMap=function(){var t,e,i,n,s,r,a=this._labelList,o=!1,l={},h=[],u=this._targetList;for(i=0,s=(t=this.getInternal("labels")).length;i<s;i++)null==l[e=String(t[i])]&&(l[e]=h.length,h.push(e));for(i=0,s=u.length;i<s;i++)if(t=u[i].labels)for(n=0,r=t.length;n<r;n++)null==l[e=String(t[n])]&&(l[e]=h.length,h.push(e));if(h.length!=a.length)o=!0;else for(i=0,s=h.length;i<s;i++)if(h[i]!==a[i]){o=!0;break}o&&(this._labelMap=l,this._labelList=h,this.setInternal("actualLabels",h.concat()),this.updateLabelsOverride(h.concat())||this.notifyLabelIndexMapChanged())}}))}.call(e,i,e,t))||(t.exports=n)},"splunk/mapping/LatLon":function(t,e,i){var n;void 0===(n=function(t,e,n){var s=i("shim/leaflet");return i("contrib/jg_lib/Class")(n.i,Object,(function(t,e){t.fromLeaflet=function(e){return new t(e.lat,e.lng)},this.lat=0,this.lon=0,this.constructor=function(t,e){this.lat=null!=t?+t:0,this.lon=null!=e?+e:0},this.normalize=function(e){var i=+this.lat;i<-90?i=-90:i>90&&(i=90);var n=e?e.lon:0,s=(this.lon-n)%360;return s<-180?s+=360:s>180&&(s-=360),new t(i,s+=n)},this.isFinite=function(){return this.lat-this.lat==0&&this.lon-this.lon==0},this.equals=function(t){return this.lat==t.lat&&this.lon==t.lon},this.clone=function(){return new t(this.lat,this.lon)},this.toString=function(){return"("+ +this.lat+","+ +this.lon+")"},this.toLeaflet=function(){var t=new s.LatLng(0,0);return t.lat=+this.lat,t.lng=+this.lon,t}}))}.call(e,i,e,t))||(t.exports=n)},"splunk/mapping/LatLonBounds":function(t,e,i){var n;void 0===(n=function(t,e,n){var s=i("shim/leaflet"),r=i("contrib/jg_lib/Class"),a=i("splunk/mapping/LatLon");return r(n.i,Object,(function(t,e){t.fromLeaflet=function(e){var i=e.getSouthWest(),n=e.getNorthEast();return new t(i.lat,i.lng,n.lat,n.lng)},this.s=0,this.w=0,this.n=0,this.e=0,this.constructor=function(t,e,i,n){this.s=null!=t?+t:0,this.w=null!=e?+e:0,this.n=null!=i?+i:0,this.e=null!=n?+n:0},this.getSW=function(){return new a(this.s,this.w)},this.getSE=function(){return new a(this.s,this.e)},this.getNW=function(){return new a(this.n,this.w)},this.getNE=function(){return new a(this.n,this.e)},this.getCenter=function(){return new a((+this.s+ +this.n)/2,(+this.w+ +this.e)/2)},this.expand=function(t){var e=+t.lat,i=+t.lon,n=+this.s,s=+this.w,r=+this.n,a=+this.e;e<n&&(this.s=e),e>r&&(this.n=e),i<s&&(this.w=i),i>a&&(this.e=i)},this.contains=function(t){var e=+t.lat,i=+t.lon,n=+this.s,s=+this.w,r=+this.n,a=+this.e;return e>=n&&e<=r&&i>=s&&i<=a},this.normalize=function(e){var i=+this.s;i<-90?i=-90:i>90&&(i=90);var n=+this.n;n<i?n=i:n>90&&(n=90);var s=e?e.lon:0,r=this.w-s,a=this.e-s;return a-r>=360?(r=-180,a=180):((r%=360)<-180?r+=360:r>180&&(r-=360),(a%=360)<-180?a+=360:a>180&&(a-=360),a<r&&(a>-r?r-=360:a+=360)),new t(i,r+=s,n,a+=s)},this.isFinite=function(){return this.s-this.s==0&&this.w-this.w==0&&this.n-this.n==0&&this.e-this.e==0},this.equals=function(t){return this.s==t.s&&this.w==t.w&&this.n==t.n&&this.e==t.e},this.clone=function(){return new t(this.s,this.w,this.n,this.e)},this.toString=function(){return"("+ +this.s+","+ +this.w+","+ +this.n+","+ +this.e+")"},this.toLeaflet=function(){var t=new s.LatLng(0,0);t.lat=+this.s,t.lng=+this.w;var e=new s.LatLng(0,0);return e.lat=+this.n,e.lng=+this.e,new s.LatLngBounds(t,e)}}))}.call(e,i,e,t))||(t.exports=n)},"splunk/mapping/Map":function(t,e,i){var n;void 0===(n=function(t,e,n){var s=i("shim/jquery"),r=(i("require/underscore"),i("shim/leaflet")),a=i("contrib/jg_lib/Class"),o=i("contrib/jg_lib/async/Pass"),l=i("contrib/jg_lib/events/ChainedEvent"),h=i("contrib/jg_lib/events/Event"),u=i("contrib/jg_lib/events/EventData"),c=i("contrib/jg_lib/properties/ObservableArrayProperty"),p=i("contrib/jg_lib/properties/ObservableProperty"),d=i("contrib/jg_lib/properties/Property"),m=i("contrib/jg_lib/utils/ArrayUtil"),f=i("contrib/jg_lib/utils/FunctionUtil"),g=i("contrib/jg_lib/utils/NumberUtil"),_=i("contrib/jg_lib/utils/StringUtil"),b=i("splunk/events/GenericEventData"),v=i("splunk/mapping/LatLon"),y=i("splunk/mapping/LatLonBounds"),L=i("splunk/mapping/controls/ControlBase"),w=i("splunk/mapping/layers/LayerBase"),x=i("splunk/viz/VizBase"),C=i("util/htmlcleaner");return i("shim/jquery.resize"),i("splunk/mapping/Map.pcss"),a(n.i,x,(function(t,e){this.updateLeafletMapSizePass=new o("updateLeafletMapSize",.001),this.updateTilesPass=new o("updateTiles",.002),this.boundsChanged=new l("boundsChanged",this.change),this.mapClicked=new h("mapClicked",b),this.center=new d("center",v).getter((function(){return v.fromLeaflet(this.leafletMap.getCenter())})).setter((function(t){t=t&&t.isFinite()?t.clone():new v,this.validate(),this.leafletMap.setView(t.toLeaflet(),this.leafletMap.getZoom(),!0),this._checkBoundsChanged(),clearTimeout(this._setCenterTimeout),this._setCenterTimeout=setTimeout(f.bind((function(){this.leafletMap.setView(t.toLeaflet(),this.leafletMap.getZoom(),!0),this._checkBoundsChanged()}),this),500)})),this.zoom=new d("zoom",Number).getter((function(){return this.leafletMap.getZoom()})).setter((function(t){t=t>=0&&t<1/0?t:0,this.validate(),this.leafletMap.setView(this.leafletMap.getCenter(),t,!0),this._checkBoundsChanged()})),this.tileURL=new p("tileURL",String,null).onChange((function(t){this.invalidate("updateTilesPass")})),this.tileSubdomains=new c("tileSubdomains",String,["a","b","c"]).onChange((function(t){this.invalidate("updateTilesPass")})),this.tileMinZoom=new p("tileMinZoom",Number,0).writeFilter((function(t){return t>=0&&t<1/0?Math.floor(t):0})).onChange((function(t){this.invalidate("updateTilesPass")})),this.tileMaxZoom=new p("tileMaxZoom",Number,1/0).writeFilter((function(t){return t>=0&&t<1/0?Math.floor(t):1/0})).onChange((function(t){this.invalidate("updateTilesPass")})),this.tileInvertY=new p("tileInvertY",Boolean,!1).onChange((function(t){this.invalidate("updateTilesPass")})),this.tileOpacity=new p("tileOpacity",Number,1).writeFilter((function(t){return t>0&&t<1/0?Math.min(t,1):0})).onChange((function(t){this.invalidate("updateTilesPass")})),this.tileAttribution=new p("tileAttribution",String,null).onChange((function(t){this.invalidate("updateTilesPass")})),this.showTiles=new p("showTiles",Boolean,!0).onChange((function(t){this.invalidate("updateTilesPass")})),this.tilesLoaded=new p("tilesLoaded",Boolean,!1).readOnly(!0),this.leafletMap=null,this.formatNumber=null,this.formatDegrees=null,this.isCategorical=!1,this._tooltip=null,this._tooltipMetadata=null,this._tileLayer=null,this._layers=null,this._controls=null,this._width=0,this._height=0,this._bounds=null,this._setCenterTimeout=0,this._clicks=0,this._doubleClickTimeout=null,this.constructor=function(){e.constructor.call(this),this.addStyleClass("splunk-mapping-Map"),this.setStyle({position:"relative",width:"100%",height:"100%",overflow:"hidden",background:"none"}),this.updateSize=f.bind(this.updateSize,this),this._leafletMap_moveend=f.bind(this._leafletMap_moveend,this),this._leafletMap_zoomend=f.bind(this._leafletMap_zoomend,this),this._self_mouseOver=f.bind(this._self_mouseOver,this),this._self_mouseOut=f.bind(this._self_mouseOut,this),this._self_mouseMove=f.bind(this._self_mouseMove,this),this._self_click=f.bind(this._self_click,this),this._self_dbl_click=f.bind(this._self_dbl_click,this),this.leafletMap=new r.Map(this.element,{center:new r.LatLng(0,0),zoom:0,trackResize:!1,worldCopyJump:!1}),this.leafletMap.attributionControl.setPrefix(""),this.leafletMap.on("moveend",this._leafletMap_moveend),this.leafletMap.on("zoomend",this._leafletMap_zoomend),this._tooltip=new i,this._layers=[],this._controls=[],this.$element.bind("mouseover",this._self_mouseOver),this.$element.bind("mouseout",this._self_mouseOut),this.$element.bind("mousemove",this._self_mouseMove),this.$element.bind("click",this._self_click),this.$element.bind("dblclick",this._self_dbl_click)},this.updateLeafletMapSize=function(){this.isValid("updateLeafletMapSizePass")||(this.leafletMap.invalidateSize(),clearTimeout(this.leafletMap._sizeTimer),this.leafletMap.fire("moveend"),this.markValid("updateLeafletMapSizePass"))},this.updateTiles=function(){if(!this.isValid("updateTilesPass")){var t=this.leafletMap,e=this._tileLayer;e&&(e.off("load"),e.off("unload"),t.removeLayer(e),this._tileLayer=null);var i={};i.opacity=this.getInternal("tileOpacity"),i.subdomains=this.getInternal("tileSubdomains"),i.minZoom=this.getInternal("tileMinZoom"),i.maxZoom=Math.max(this.getInternal("tileMinZoom"),this.getInternal("tileMaxZoom")),i.tms=this.getInternal("tileInvertY"),i.attribution=this.getInternal("tileAttribution");var n=this.getInternal("showTiles")?this.getInternal("tileURL"):null;n&&((e=this._tileLayer=new r.TileLayer(n,i)).on("load",(function(){this.setInternal("tilesLoaded",!0)}),this),e.on("unload",(function(){this.setInternal("tilesLoaded",!1)}),this),t.addLayer(e,!0)),t.options.minZoom=i.minZoom,t.options.maxZoom=i.maxZoom,t.setZoom(t.getZoom()),this.markValid("updateTilesPass"),this._checkBoundsChanged()}},this.addLayer=function(t){if(null==t)throw new Error("Parameter layer must be non-null.");if(!(t instanceof w))throw new Error("Parameter layer must be of type "+a.getName(w)+".");var e=this._layers;m.indexOf(e,t)>=0||(e.push(t),this.leafletMap.addLayer(t.leafletLayer),t.onAddedToMap(this))},this.removeLayer=function(t){if(null==t)throw new Error("Parameter layer must be non-null.");if(!(t instanceof w))throw new Error("Parameter layer must be of type "+a.getName(w)+".");var e=this._layers,i=m.indexOf(e,t);i<0||(t.onRemovedFromMap(this),this.leafletMap.removeLayer(t.leafletLayer),e.splice(i,1))},this.addControl=function(t){if(null===t)throw new Error("Parameter control must be non-null.");if(!(t instanceof L))throw new Error("Parameter control must be of type "+a.getName(L)+".");var e=this._controls;m.indexOf(e,t)>=0||(e.push(t),this.leafletMap.addControl(t.leafletControl),t.onAddedToMap(this))},this.removeControl=function(t){if(null===t)throw new Error("Parameter control must be non-null.");if(!(t instanceof L))throw new Error("Parameter control must be of type "+a.getName(L)+".");var e=this._controls,i=m.indexOf(e,t);i<0||(t.onRemovedFromMap(this),this.leafletMap.removeControl(t.leafletControl),e.splice(i,1))},this.fitWorld=function(t){if(null!=t&&!a.isBoolean(t))throw new Error("Parameter viewportInside must be of type Boolean.");this.fitBounds(new y(-60,-180,85,180),t)},this.fitBounds=function(t,e){if(null==t)throw new Error("Parameter latLonBounds must be non-null.");if(!(t instanceof y))throw new Error("Parameter latLonBounds must be of type "+a.getName(y)+".");if(null!=e&&!a.isBoolean(e))throw new Error("Parameter viewportInside must be of type Boolean.");t=t.isFinite()?t:new y(-60,-180,85,180),e=!0===e,clearTimeout(this._setCenterTimeout);var i=this.leafletMap.getBoundsZoom(t.toLeaflet(),e);this.leafletMap.setView(this.leafletMap.getCenter(),i,!0);var n=this.leafletMap.latLngToLayerPoint(t.getNW().toLeaflet()),s=this.leafletMap.latLngToLayerPoint(t.getSE().toLeaflet()),o=new r.Point((n.x+s.x)/2,(n.y+s.y)/2),l=this.leafletMap.layerPointToLatLng(o);this.leafletMap.setView(l,i,!0),this._checkBoundsChanged()},this.getLatLonBounds=function(){return y.fromLeaflet(this.leafletMap.getBounds())},this.updateSize=function(){var t=this.$element.width(),e=this.$element.height();t===this._width&&e===this._height||this.$element.is(":visible")&&(this._width=t,this._height=e,this.leafletMap.invalidateSize(),this.invalidate("updateLeafletMapSizePass"),this._checkBoundsChanged())},this.dispose=function(){clearTimeout(this._setCenterTimeout);for(var t=this._layers.concat(),i=t.length-1;i>=0;i--)this.removeLayer(t[i]);for(var n=this._controls.concat(),s=n.length-1;s>=0;s--)this.removeControl(n[s]);this.$element.off("elementResize"),e.dispose.call(this)},this.onAppend=function(){this.updateSize(),this.$element.on("elementResize",this.updateSize)},this._checkBoundsChanged=function(){var t=this._bounds,e=this.getLatLonBounds();t&&t.equals(e)||(this._bounds=e,this.fire("boundsChanged",new u))},this._checkBoundsDefault=function(t){return 0!==t.e&&(0!==t.w&&(0!==t.n&&0!==t.s))},this._updateTooltip=function(t){var e=this._tooltip,i=this._getMetadataFromElement(t);if(i&&i!==this._tooltipMetadata){this._tooltipMetadata=i;var n=i.data,r=i.fields,a=i.sliceList,o=i.tooltipFields,l=i.tooltipLatLng,h=i.tooltipOffsetRadius;if(n&&(r||o)&&l){var u,c,p,d,m="";if(m+='<table class="map-tooltip-table">',a){for(p=0,d=Math.min(r.length,2);p<d;p++)u=r[p],m+="<tr>",m+='<td class="tooltip-column-left">'+_.escapeHTML(u)+':&nbsp;&nbsp;</td><td class="tooltip-column-right">'+_.escapeHTML(this._formatDegrees(n[u],0===p?"ns":"ew"))+"</td>",m+="</tr>";for(p=0,d=a.length;p<d;p++)m+="<tr>",m+='<td class="tooltip-column-left" style="color: #'+(16777216|(c=a[p]).series.color).toString(16).substring(1)+';">'+_.escapeHTML(c.series.name)+':&nbsp;&nbsp;</td><td class="tooltip-column-right">'+_.escapeHTML(this._formatNumber(c.value))+"</td>",m+="</tr>"}else if(o)for(p=0,d=o.length;p<d;p++){var f=n[u=o[p]];f=u!==i.valueFieldName||this.isCategorical||isNaN(parseFloat(f))?_.escapeHTML(f):this._formatNumber(f),m+="<tr>",m+='<td class="tooltip-column-left">'+_.escapeHTML(u)+':&nbsp;&nbsp;</td><td class="tooltip-column-right">'+f+"</td>",m+="</tr>"}else for(p=0,d=r.length;p<d;p+=2)u=r[p],m+="<tr>",m+='<td class="tooltip-column-left">'+_.escapeHTML(u)+':&nbsp;&nbsp;</td><td class="tooltip-column-right">'+_.escapeHTML(n[u])+"</td>",m+="</tr>";m+="</table>",e.setLatLng(l),e.setOffsetRadius(h),e.setContent(m),this.leafletMap.openPopup(e)}else this.leafletMap.closePopup()}else if(!i&&this._tooltipMetadata){s.contains(this._tooltip._container,t)&&this._tooltip!==t||(this._tooltipMetadata=null,this.leafletMap.closePopup())}},this._getMetadataFromElement=function(t){for(;t;){if(t[w.METADATA_KEY])return t[w.METADATA_KEY];t=t.parentNode}return null},this._formatNumber=function(t){var e=this.formatNumber;return"function"==typeof e?e(Number(t)):String(t)},this._formatDegrees=function(t,e){var i=this.formatDegrees;return"function"==typeof i?i(Number(t),e):String(t)},this._leafletMap_moveend=function(t){this._checkBoundsChanged()},this._leafletMap_zoomend=function(t){this._checkBoundsChanged()},this._self_mouseOver=function(t){this._updateTooltip(t.target)},this._self_mouseOut=function(t){this._updateTooltip(t.relatedTarget)},this._self_mouseMove=function(t){this._updateTooltip(t.target)},this._self_dbl_click=function(t){clearTimeout(this._doubleClickTimeout)},this._self_click=function(t){if(!this.leafletMap.dragging||!this.leafletMap.dragging.moved()){var e=this._getMetadataFromElement(t.target);if(e&&e.data&&e.fields){t.preventDefault();var i={};for(var n in e.data)i[n]=e.data[n];var s=e.fields.concat();clearTimeout(this._doubleClickTimeout),this._doubleClickTimeout=setTimeout(function(){this.fire("mapClicked",new b({data:i,fields:s,altKey:t.altKey,ctrlKey:t.ctrlKey||t.metaKey,shiftKey:t.shiftKey,jQueryEvent:t,originalEvent:t.originalEvent}))}.bind(this),500)}}};var i=r.Popup.extend({options:{paddingX:5,paddingY:5},_offsetRadius:0,initialize:function(t){t=r.Util.extend(t||{},{maxWidth:1/0,maxHeight:1/0,autoPan:!1,closeButton:!1}),r.Popup.prototype.initialize.call(this,t)},setOffsetRadius:function(t){return this._offsetRadius=t,this._update(),this},_initLayout:function(){r.Popup.prototype._initLayout.call(this),this._tipContainer.style.display="none",this._container.style.pointerEvents="none"},_updatePosition:function(){var t=this._map,e=t.containerPointToLayerPoint(new r.Point(0,0)),i=t.containerPointToLayerPoint(t.getSize()),n=e.x,s=e.y,a=i.x,o=i.y,l=this._container,h=l.offsetWidth,u=l.offsetHeight,c=r.Browser.any3d,p=this._offsetRadius,d=this.options.paddingX,m=this.options.paddingY,f=t.latLngToLayerPoint(this._latlng),_=f.x>(n+a)/2?-h-p-d:p+d,b=g.maxMin(f.y-u/2,o-u-m,s+m)-f.y;c&&r.DomUtil.setPosition(l,f);var v=_+(c?0:f.x),y=b+(c?0:f.y);l.style.left=Math.round(v)+"px",l.style.top=Math.round(y)+"px"}});r.Control.Attribution.include({_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions.hasOwnProperty(e)&&this._attributions[e]&&t.push(e);var i=[];this.options.prefix&&i.push(this.options.prefix),t.length&&i.push(t.join(", "));var n=C.clean(i.join(" &#8212; "));this._container.innerHTML=n,this._container.style.display=n?"":"none"}}})}))}.call(e,i,e,t))||(t.exports=n)},"splunk/mapping/Map.pcss":function(t,e,i){var n=i(1321);"string"==typeof n&&(n=[[t.i,n,""]]);var s={sourceMap:!1,hmr:!0,transform:void 0,insertInto:void 0};i(3)(n,s);n.locals&&(t.exports=n.locals)},"splunk/mapping/axis/BaseAxis":function(t,e,i){var n;void 0===(n=function(t,e,n){var s=i("contrib/jg_lib/Class"),r=i("contrib/jg_lib/async/MPassTarget"),a=i("contrib/jg_lib/async/Pass"),o=i("contrib/jg_lib/events/ChainedEvent"),l=i("contrib/jg_lib/events/EventData"),h=i("contrib/jg_lib/events/MEventTarget"),u=i("contrib/jg_lib/events/MListenerTarget"),c=i("contrib/jg_lib/events/MObservableTarget"),p=i("contrib/jg_lib/properties/MPropertyTarget"),d=i("contrib/jg_lib/properties/ObservableProperty"),m=i("contrib/jg_lib/utils/Map");return s(n.i,Object,(function(t,e){s.mixin(this,h,u,c,p,r),this.processContainedValuesPass=new a("processContainedValues",.11),this.processContainedRangePass=new a("processContainedRange",.12),this.processExtendedRangePass=new a("processExtendedRange",.13),this.processActualRangePass=new a("processActualRange",.14),this.absoluteMapChanged=new o("absoluteMapChanged",this.change),this.relativeMapChanged=new o("relativeMapChanged",this.change),this.minimum=new d("minimum",Number,NaN).writeFilter((function(t){return t>-1/0&&t<1/0?t:NaN})).onChange((function(t){this.invalidate("processActualRangePass")})),this.maximum=new d("maximum",Number,NaN).writeFilter((function(t){return t>-1/0&&t<1/0?t:NaN})).onChange((function(t){this.invalidate("processActualRangePass")})),this.preliminaryMinimum=new d("preliminaryMinimum",Number,1/0).readOnly(!0),this.preliminaryMaximum=new d("preliminaryMaximum",Number,-1/0).readOnly(!0),this.containedMinimum=new d("containedMinimum",Number,1/0).readOnly(!0),this.containedMaximum=new d("containedMaximum",Number,-1/0).readOnly(!0),this.extendedMinimum=new d("extendedMinimum",Number,1/0).readOnly(!0),this.extendedMaximum=new d("extendedMaximum",Number,-1/0).readOnly(!0),this.actualMinimum=new d("actualMinimum",Number,1/0).readOnly(!0),this.actualMaximum=new d("actualMaximum",Number,-1/0).readOnly(!0),this._vizStore=null,this._actualMaximum=0,this._actualMinimum=0,this.constructor=function(){this._vizStore=new m},this.register=function(t){this._vizStore.has(t)||this._vizStore.set(t,{values:[],extendedRange:{absolute1:NaN,absolute2:NaN},containedRange:{absolute1:NaN,absolute2:NaN}})},this.unregister=function(t){this._vizStore.has(t)&&(this._vizStore.del(t),this.invalidate(this.processContainedRangePass))},this.provideContainedValues=function(t,e){var i=this._vizStore.get(t);i&&(i.values=e.slice(),this._vizStore.set(t,i),this.invalidate(this.processContainedValuesPass))},this.provideContainedRange=function(t,e,i){var n=this._vizStore.get(t);if(e>i){var s=i;i=e,e=s}n&&(n.containedRange.absolute1=e,n.containedRange.absolute2=i,this.invalidate(this.processContainedRangePass))},this.provideExtendedRange=function(t,e,i){var n=this._vizStore.get(t);if(e>i){var s=i;i=e,e=s}n&&(n.extendedRange.absolute1=e,n.extendedRange.absolute2=i,this.invalidate(this.processExtendedRangePass))},this.processContainedValues=function(){var t,e=this._vizStore.values(),i=[],n=1/0,s=-1/0;for(t=0;t<e.length;t++)i=i.concat(e[t].values);for(i=this.processValues(i),t=0;t<i.length;t++){var r=this.valueToAbsolute(i[t]);r<n&&(n=r),r>s&&(s=r)}this.setInternal("preliminaryMinimum",n),this.setInternal("preliminaryMaximum",s),this.invalidate("processContainedRangePass")},this.processContainedRange=function(){for(var t=this.getInternal("preliminaryMinimum"),e=this.getInternal("preliminaryMaximum"),i=this._vizStore.values(),n=0;n<i.length;n++)i[n].containedRange.absolute1<t&&(t=i[n].containedRange.absolute1),i[n].containedRange.absolute2>e&&(e=i[n].containedRange.absolute2);this.setInternal("containedMaximum",e),this.setInternal("containedMinimum",t),this.invalidate("processExtendedRangePass")},this.processExtendedRange=function(){for(var t=this.getInternal("containedMinimum"),e=this.getInternal("containedMaximum"),i=this._vizStore.values(),n=0;n<i.length;n++)i[n].extendedRange.absolute1<t&&(t=i[n].extendedRange.absolute1),i[n].extendedRange.absolute2>e&&(e=i[n].extendedRange.absolute2);this.setInternal("extendedMinimum",t),this.setInternal("extendedMaximum",e),this.invalidate("processActualRangePass")},this.processActualRange=function(){var t=this.getInternal("minimum"),e=this.getInternal("maximum"),i=this._actualMinimum,n=this._actualMaximum;isNaN(t)&&(t=this.getInternal("extendedMinimum")),isNaN(e)&&(e=this.getInternal("extendedMaximum")),this._actualMinimum=t,this._actualMaximum=e,this.setInternal("actualMaximum",e),this.setInternal("actualMinimum",t),this._actualMaximum===n&&this._actualMinimum===i||this.fire("relativeMapChanged",new l)},this.valueToAbsolute=function(t){throw new Error("Must implement valueToAbsolute method")},this.absoluteToValue=function(t){throw new Error("Must implement absoluteToValue method")},this.absoluteToRelative=function(t){return this._actualMaximum===this._actualMinimum?0:(t-this._actualMinimum)/(this._actualMaximum-this._actualMinimum)},this.relativeToAbsolute=function(t){return t*(this._actualMaximum-this._actualMinimum)+this._actualMinimum},this.processValues=function(t){throw new Error("Must implement processValues mehod")}}))}.call(e,i,e,t))||(t.exports=n)},"splunk/mapping/axis/NumericAxis":function(t,e,i){var n;void 0===(n=function(t,e,n){var s=i("contrib/jg_lib/Class"),r=i("splunk/mapping/axis/BaseAxis");return s(n.i,r,(function(t,e){this.valueToAbsolute=function(t){if(null===t||""===t)return NaN;var e=Number(t);return e>-1/0&&e<1/0?e:NaN},this.absoluteToValue=function(t){return t},this.processValues=function(t){for(var e=[],i=0;i<t.length;i++){var n=this.valueToAbsolute(t[i]);isNaN(n)||e.push(n)}return e}}))}.call(e,i,e,t))||(t.exports=n)},"splunk/mapping/controls/CategoricalVisualLegend":function(t,e,i){var n;void 0===(n=function(t,e,n){var s=i("shim/jquery"),r=i("shim/leaflet"),a=i("contrib/jg_lib/Class"),o=i("contrib/jg_lib/graphics/Color"),l=i("contrib/jg_lib/properties/ObservableProperty"),h=i("splunk/charting/Legend"),u=i("splunk/mapping/controls/ControlBase"),c=i("splunk/palettes/ColorPalette"),p=i("util/svg");return a(n.i,u,(function(t,e){this.colorPalette=new l("colorPalette",c,null).onChange((function(t){this.invalidate("renderPass")})),this.legend=new l("legend",h,null).onChange((function(t){this.invalidate("renderPass")})),this.maxHeight=new l("maxHeight",Number,1/0).onChange((function(t){this.invalidate("renderPass")})),this.clip=new l("clip",Boolean,!1).onChange((function(t){this.invalidate("renderPass")})),this.selectedField=new l("selectedField",String,null).onChange((function(t){this.invalidate("renderPass")})),this.render=function(){var t=this.leafletControl.getContainer();if(s(t).empty(),this.getInternal("isVisible")){var e=this.getInternal("legend"),i=[];if(e&&(i=e.get("actualLabels")),i&&i.length>0){var n=16*i.length+20-12+5;n=Math.min(n,this.getInternal("maxHeight")-20-5),this.svg=p.createElement("svg").attr("height",n);var r=p.createElement("g").attr("class","svg-labels").attr("height",n),a=p.createElement("g").attr("class","svg-colors"),o=p.createElement("rect").attr("class","background").attr("height",n).attr("fill","rgb(255,255,255)").attr("fill-opacity","0.75");this.getInternal("clip")&&(this.svg.append('                        <defs>                            <clipPath id="choropleth-legend-clip">                                <rect class="clip" x="0" y="0"></rect>                            </clipPath>                        </defs>'),this.svg.find(".clip").attr("height",n),r.attr("clip-path","url(#choropleth-legend-clip)"),a.attr("clip-path","url(#choropleth-legend-clip)"));for(var l=this.getInternal("selectedField"),h=12,u="",c=0;c<i.length;c++){0==c&&(u=i[c]),i[c].length>u.length&&(u=i[c]);var d=20+16*c;r.append(this._drawRow({label:i[c],y:d},l)),a.append(this._drawColor(d-10,c,i[c],l))}h+=47+7*u.length,s(this.svg).attr("width",h),s(o).attr("width",h),n>165&&(s(t).css("overflow-y","scroll"),s(t).css("overflow-x","hidden"),s(t).css("height",165)),this.svg.append(o),this.svg.append(r),this.svg.append(a),s(t).append(this.svg),this._adjustLegend()}}},this.getContainer=function(){return this.leafletControl.getContainer()},this.createLeafletControl=function(){return new i(this.leafletOptions)},this._adjustLegend=function(){for(var t=s(this.svg[0]).find(".svg-label text"),e=t[0],i=0,n=0;n<t.length;n++)t[n].getBBox().width>i&&(i=(e=t[n]).getBBox().width);if(e){var r=47+i;s(this.svg).attr("width",r),s(this.svg).find(".background").attr("width",r),this.getInternal("clip")&&this.svg.find(".clip").attr("width",r)}},this._drawColor=function(t,e,i,n){var s=null!=n&&n!==""+i,r=this.getInternal("legend");if(r){var a=this.getInternal("colorPalette"),l="rgb(0,0,0)";if(a){var h=Math.max(r.getNumLabels()-1,0),u=h>0?r.getLabelIndex(i)/h:0;l=(a.getItem(u,h,i)||new o).toString("rgb")}var c=p.createElement("rect").attr("height",12).attr("width",16).attr("y",t).attr("x",12).attr("class","legend-color legend-elem").attr("stroke",s?"rgb(51,51,51)":l).attr("stroke-opacity",s?.1:1).attr("fill",s?"rgb(51,51,51)":l).attr("fill-opacity",s?.1:1).data("fieldName",i).css("cursor","default");return"rgb(255,255,255)"===l&&c.attr("stroke","rgb(204,204,204)"),c}},this._drawRow=function(t,e){var i,n,s=null!=e&&e!==""+t.label;return i=p.createElement("g").attr("class","svg-label legend-label legend-elem").data("fieldName",t.label),n=p.createElement("text").attr({y:t.y,x:35}).attr("fill-opacity",s?.3:1).text(t.label).css({"font-size":"12px",fill:"#333333","font-weight":"regular","padding-top":"12px",cursor:"default"}),i.append(n),i};var i=r.Control.extend({options:{position:"bottomright"},initialize:function(t){this.container=r.DomUtil.create("div","legend"),r.DomEvent.disableClickPropagation(this.container),s(this.container).css("pointer-events","visiblepainted")},onAdd:function(t){return this.container},getContainer:function(){return this.container}})}))}.call(e,i,e,t))||(t.exports=n)},"splunk/mapping/controls/ControlBase":function(t,e,i){var n;void 0===(n=function(t,e,n){var s=i("contrib/jg_lib/Class"),r=i("contrib/jg_lib/async/MPassTarget"),a=i("contrib/jg_lib/events/MEventTarget"),o=i("contrib/jg_lib/events/MListenerTarget"),l=i("contrib/jg_lib/events/MObservableTarget"),h=i("contrib/jg_lib/properties/MPropertyTarget"),u=i("splunk/viz/MRenderTarget"),c=i("contrib/jg_lib/properties/ObservableProperty");return s(n.i,Object,(function(t,e){s.mixin(this,a,o,l,h,r,u),this.isVisible=new c("isVisible",Boolean,!0).onChange((function(t){this.invalidate("renderPass")})),this.constructor=function(){if(this.leafletControl=this.createLeafletControl(),!this.leafletControl)throw new Error("Value returned from createLeafletControl() must be non-null.")},this.render=function(){},this.createLeafletControl=function(){throw new Error("Must implement method createLeafletControl.")},this.onAddedToMap=function(t){this.map=t},this.onRemovedFromMap=function(t){this.map=null}}))}.call(e,i,e,t))||(t.exports=n)},"splunk/mapping/controls/NumericalLegend":function(t,e,i){var n;void 0===(n=function(t,e,n){var s=i("shim/jquery"),r=i("require/underscore"),a=i("stubs/i18n"),o=i("shim/leaflet"),l=i("contrib/jg_lib/Class"),h=i("contrib/jg_lib/async/Pass"),u=i("contrib/jg_lib/graphics/Color"),c=i("contrib/jg_lib/properties/ObservableProperty"),p=i("splunk/mapping/axis/BaseAxis"),d=i("splunk/mapping/controls/ControlBase"),m=i("splunk/palettes/ColorPalette"),f=(i("splunk/palettes/ListColorPalette"),i("util/math_utils")),g=i("util/svg");return l(n.i,d,(function(t,e){this.computeExtendedPass=new h("computeExtended",.121),this.axis=new c("axis",p,null).onChange((function(t){t.target===this?(t.oldValue&&t.oldValue.unregister(this),t.newValue&&(t.newValue.register(this),this.invalidate("computeExtendedPass")),this.invalidate("renderPass")):!t.property||t.property!==t.target.containedMinimum&&t.property!==t.target.containedMaximum?!t.property||t.property!==t.target.extendedMinimum&&t.property!==t.target.extendedMaximum||this.invalidate("renderPass"):this.invalidate("computeExtendedPass")})),this.bins=new c("bins",Number,5).writeFilter((function(t){return isNaN(t)?5:Math.min(Math.max(Math.floor(t),1),9)})).onChange((function(t){this.invalidate("computeExtendedPass"),this.invalidate("renderPass")})),this.neutralPoint=new c("neutralPoint",Number,NaN).writeFilter((function(t){return t>-1/0&&t<1/0?t:NaN})).onChange((function(t){this.invalidate("computeExtendedPass"),this.invalidate("renderPass")})),this.colorPalette=new c("colorPalette",m,null).onChange((function(t){this.invalidate("renderPass")})),this.selectedField=new c("selectedField",String,null).onChange((function(t){this.invalidate("renderPass")})),this.constructor=function(t){this.leafletOptions=t||{},e.constructor.call(this)},this.computeExtended=function(){var t=this.get("axis");if(t){var e=t.get("containedMinimum"),i=t.get("containedMaximum");if(r.isFinite(e)&&r.isFinite(i)){var n,s,a,o,l,h,u=this.getInternal("bins"),c=this.getInternal("neutralPoint"),p=!r.isNaN(c),d=i>e,m=[1,2,2.5,3,4,5,6,7,7.5,8,9,10];if(d){var g=(i-e)/u;n=f.nearestPowerOfTen(g),s=(a=r(m).find((function(t){return t*n>=g})))*n}else s=f.nearestPowerOfTen(e||1);if(d)if(p)o=c-(h=s*(u/2)),l=c+h;else for(l=(o=Math.floor(e/n)*n)+u*s;l<i;)l=o+u*(s=(a=m[r(m).indexOf(a)+1]||a+1)*n);else o=e-(h=s*(u/2)),l=e+h;t.provideExtendedRange(this,o,l)}else t.provideExtendedRange(this,NaN,NaN)}},this.render=function(){var t=this.leafletControl.getContainer();if(s(t).empty(),this.getInternal("isVisible")){var e=this.get("axis");if(e){var i=e.get("extendedMinimum"),n=e.get("extendedMaximum");if(i!==1/0&&n!==-1/0){var r=this.getInternal("bins"),o=16*r+20-12+5,l=12;this.svg=g.createElement("svg").attr("height",o).attr("fill","rgba(0,0,0,1)");for(var h,c,p,d,m,_,b=g.createElement("g").attr("class","svg-labels").attr("height",o),v=g.createElement("g").attr("class","svg-colors"),y=g.createElement("rect").attr("class","background").attr("height",o).attr("fill","rgb(255,255,255)").attr("fill-opacity","0.75"),L=(n-i)/r,w=this.getInternal("colorPalette"),x=this.getInternal("selectedField"),C="",M=Math.max(r-1,0),P=0;P<r;P++)h=20+16*P,d=f.stripFloatingPointErrors(i+P*L),m=f.stripFloatingPointErrors(d+L),p=a.format_decimal(d)+" - "+a.format_decimal(m),w?(_=M>0?P/M:0,c=w.getItem(_,M)||new u):c=new u,b.append(this._drawRow({label:p,y:h,lower:d},x)),v.append(this._drawColor(h-10,c,d,x)),p.length>C.length&&(C=p);l+=47+7*C.length,s(this.svg).attr("width",l),s(y).attr("width",l),this.svg.append(y),this.svg.append(b),this.svg.append(v),s(t).append(this.svg),this._adjustLegend(l)}}}},this.getContainer=function(){return this.leafletControl.getContainer()},this.createLeafletControl=function(){return new i(this.leafletOptions)},this._adjustLegend=function(){for(var t=s(this.svg[0]).find(".svg-label text"),e=t[0],i=0,n=0;n<t.length;n++)t[n].getBBox().width>i&&(i=(e=t[n]).getBBox().width);if(e){var r=47+i;s(this.svg).attr("width",r),s(this.svg).find(".background").attr("width",r)}},this._drawRow=function(t,e){var i,n,s=null!=e&&e!==""+t.lower;return i=g.createElement("g").attr("class","svg-label legend-label legend-elem").data("fieldName",t.lower),n=g.createElement("text").attr({y:t.y,x:35}).attr("fill-opacity",s?.3:1).text(t.label).css({"font-size":"12px","font-weight":"regular",fill:"#333333","padding-top":"12px",cursor:"default"}),i.append(n),i},this._drawColor=function(t,e,i,n){var s=null!=n&&n!==""+i,r=e.toString("rgb"),a=g.createElement("rect").attr("height",12).attr("width",16).attr("y",t).attr("x",12).attr("fill",s?"rgb(51,51,51)":r).attr("fill-opacity",s?.1:1).attr("class","legend-color legend-elem").data("fieldName",i).attr("stroke",s?"rgb(51,51,51)":r).attr("stroke-opacity",s?.1:1).css("cursor","default");return"rgb(255,255,255)"===r&&a.attr("stroke","rgb(204,204,204)"),a};var i=o.Control.extend({options:{position:"bottomright"},initialize:function(t){this.container=o.DomUtil.create("div","legend"),s(this.container).css("pointer-events","visiblepainted")},onAdd:function(t){return this.container},getContainer:function(){return this.container}})}))}.call(e,i,e,t))||(t.exports=n)},"splunk/mapping/controls/ResetZoomControl":function(t,e,i){var n;void 0===(n=function(t,e,n){var s=i("shim/jquery"),r=i("require/underscore"),a=i("shim/leaflet"),o=i("contrib/jg_lib/Class"),l=i("splunk/mapping/LatLon"),h=i("splunk/mapping/controls/ControlBase");i("splunk/vectors/Rect"),i("splunk/vectors/Text"),i("splunk/vectors/Viewport");return o(n.i,h,(function(t,e){this.constructor=function(t){this.leafletOptions=t,e.constructor.call(this)},this.setOriginalZoom=function(t){this.leafletControl.originalZoom=parseInt(t,10)},this.setOriginalCenter=function(t){var e=(t=(t=t.replace("(","")).replace(")","")).split(","),i=parseFloat(e[0]),n=parseFloat(e[1]);this.leafletControl.originalCenter=new l(i,n)},this.createLeafletControl=function(){return new i(this.leafletOptions)},this.onAddedToMap=function(t){e.onAddedToMap.call(this,t),this.leafletControl.setMap(t)};var i=a.Control.extend({options:{position:"topleft"},linkTemplate:'<a class="leaflet-reset-zoom" href="#" title="<%= resetZoomText %>" style="width: 15px; height:15px; padding: 2px; "> <svg version="1.1"                    id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"                    width="15px" height="15px" viewBox="0 0 15 15" enable-background="new 0 0 15 15" xml:space="preserve">                    <g>                        <ellipse fill="#333333" cx="7.586" cy="7.287" rx="2.313" ry="2.33"/>                        <path fill="#333333" d="M7.586,13.525c-3.384,0-6.136-2.753-6.136-6.136s2.753-6.136,6.136-6.136c3.385,0,6.136,2.753,6.136,6.136                            S10.969,13.525,7.586,13.525z M7.586,2.712c-2.579,0-4.677,2.098-4.677,4.677s2.098,4.677,4.677,4.677                            c2.58,0,4.677-2.098,4.677-4.677S10.165,2.712,7.586,2.712z"/>                        <rect y="6.429" fill="#333333" width="2.143" height="2.143"/>                        <rect x="12.857" y="6.429" fill="#333333" width="2.143" height="2.143"/>                        <rect x="6.429" y="12.857" fill="#333333" width="2.143" height="2.143"/>                        <rect x="6.429" fill="#333333" width="2.143" height="2.143"/>                    </g>                </svg></a>',initialize:function(t){this._button={},this.setButton();var e=r("Reset to original position and zoom").t();if(this.linkTemplate=r.template(this.linkTemplate),this.linkTemplate=this.linkTemplate({resetZoomText:e}),this.originalZoom=t.originalZoom?parseInt(t.originalZoom,10):2,t.originalCenter){this.originalCenter=t.originalCenter.replace("(",""),this.originalCenter=this.originalCenter.replace(")","");var i=this.originalCenter.split(","),n=parseFloat(i[0]),s=parseFloat(i[1]);this.originalCenter=new l(n,s)}else this.originalZoom=2},onAdd:function(t){this._map=t;var e=a.DomUtil.create("div","leaflet-reset-zoom leaflet-control-zoom");return this._container=e,this._update(),this._container},setButton:function(){var t={text:r("Reset Zoom").t()};this._button=t,this._update()},_update:function(){this._map&&(this._container.innerHTML="",this._makeButton(this._button))},_makeButton:function(t){var e=a.DomUtil.create("div","leaflet-reset-zoom",this._container);""!==t.text&&s(e).append(this.linkTemplate),s(e).find("a").on("focus",(function(){s(this).css("background-color","rgba(212, 221, 254, 0.75)")})),s(e).find("a").on("focusout",(function(){s(this).css("background-color","rgba(255, 255, 255, 0.75")})),s(e).on("click",function(t){t.stopPropagation(),t.preventDefault(),this.map.set("center",this.originalCenter),this.map.set("zoom",this.originalZoom)}.bind(this)),s(e).dblclick((function(t){t.stopPropagation()}))},setMap:function(t){this.map=t}})}))}.call(e,i,e,t))||(t.exports=n)},"splunk/mapping/layers/ChoroplethLayer":function(t,e,i){var n;void 0===(n=function(t,e,n){var s=i("require/underscore"),r=i("contrib/jg_lib/Class"),a=i("contrib/jg_lib/async/Pass"),o=i("contrib/jg_lib/events/Event"),l=i("contrib/jg_lib/events/EventData"),h=i("contrib/jg_lib/geom/Rectangle"),u=i("contrib/jg_lib/graphics/Color"),c=i("contrib/jg_lib/properties/ObservableProperty"),p=(i("contrib/jg_lib/utils/NumberUtil"),i("contrib/jg_lib/utils/ObjectUtil")),d=i("splunk/mapping/LatLon"),m=i("splunk/mapping/LatLonBounds"),f=i("splunk/mapping/axis/BaseAxis"),g=i("splunk/mapping/layers/LayerBase"),_=i("splunk/mapping/layers/VectorLayerBase"),b=i("splunk/palettes/ColorPalette"),v=(i("splunk/palettes/ListColorPalette"),i("splunk/utils/DataUtil")),y=i("splunk/vectors/Path"),L=i("splunk/viz/MDataTarget"),w=i("util/math_utils");return r(n.i,_,(function(t,e){r.mixin(this,L),t.parseFieldTypes=function(t,e){var i=e?s(t).without(e):t;return{count:i[0],geom:i[1],area:i.length>2?i[2]:null}};this.computeContainedRangePass=new a("computeContainedRange",.111),this.rendered=new o("rendered",l),this.axis=new c("axis",f,null).onChange((function(t){t.target===this?(t.oldValue&&t.oldValue.unregister(this),t.newValue&&t.newValue.register(this),this.invalidate("processDataPass"),this.invalidate("computeContainedRangePass")):!t.property||t.property!==t.target.preliminaryMinimum&&t.property!==t.target.preliminaryMaximum?!t.property||t.property!==t.target.extendedMinimum&&t.property!==t.target.extendedMaximum?!t.property||t.property!==t.target.actualMinimum&&t.property!==t.target.actualMaximum||this.invalidate("renderPass"):this.invalidate("renderDataPass"):this.invalidate("computeContainedRangePass")})),this.bins=new c("bins",Number,5).writeFilter((function(t){return isNaN(t)?5:Math.min(Math.max(Math.floor(t),1),9)})).onChange((function(t){this.invalidate("renderDataPass")})),this.neutralPoint=new c("neutralPoint",Number,NaN).writeFilter((function(t){return t>-1/0&&t<1/0?t:NaN})).onChange((function(t){this.invalidate("computeContainedRangePass")})),this.sharedMinimum=new c("sharedMinimum",Number,-1/0).writeFilter((function(t){return t>-1/0&&t<1/0?t:-1/0})).onChange((function(t){this.invalidate("computeContainedRangePass")})),this.sharedMaximum=new c("sharedMaximum",Number,1/0).writeFilter((function(t){return t>-1/0&&t<1/0?t:1/0})).onChange((function(t){this.invalidate("computeContainedRangePass")})),this.colorPalette=new c("colorPalette",b,null).onChange((function(t){this.invalidate("renderDataPass")})),this.shapeOpacity=new c("shapeOpacity",Number,.75).writeFilter((function(t){return isNaN(t)?.75:t>=0?Math.min(t,1):0})).onChange((function(t){this.invalidate("renderDataPass")})),this.borderColor=new c("borderColor",u,u.fromNumber(15329769)).readFilter((function(t){return t.clone()})).writeFilter((function(t){return t?t.clone().normalize():u.fromNumber(15329769)})).changeComparator((function(t,e){return!t.equals(e)})).onChange((function(t){this.invalidate("renderDataPass")})),this.borderOpacity=new c("borderOpacity",Number,.75).writeFilter((function(t){return isNaN(t)?.75:t>=0?Math.min(t,1):0})).onChange((function(t){this.invalidate("renderDataPass")})),this.borderWidth=new c("borderWidth",Number,1).writeFilter((function(t){return t<1/0?Math.max(t,0):0})).onChange((function(t){this.invalidate("renderDataPass")})),this.showDensity=new c("showDensity",Boolean,!1).onChange((function(t){this.invalidate("processDataPass")})),this.wrapX=new c("wrapX",Boolean,!0).onChange((function(t){this.invalidate("renderPass")})),this.wrapY=new c("wrapY",Boolean,!1).onChange((function(t){this.invalidate("renderPass")})),this.featureIdFieldName=new c("featureIdFieldName",String,"").onChange((function(t){this.invalidate("processDataPass")})),this.selectedField=new c("selectedField",String,null).onChange((function(t){this.invalidate("renderDataPass")})),this._colorPalette=null,this._polygonMap=null,this._polygonList=null,this._labelValues=[],this.constructor=function(){e.constructor.call(this),this._polygonMap={},this._polygonList=[]},this.getLatLonBounds=function(t){if(null!=t&&!(t instanceof d))throw new Error("Parameter center must be of type "+r.getName(d)+".");this.validate();for(var e,i=new m(1/0,1/0,-1/0,-1/0),n=this._polygonList,s=0,a=n.length;s<a;s++)e=n[s].getLatLonBounds(),i.expand(e.getSW().normalize(t)),i.expand(e.getNE().normalize(t));return i.isFinite()?i:null},this.processDataOverride=function(e,n){this.invalidate("renderPass");var s,r,a=this._polygonMap,o=this._polygonMap={},l=this._polygonList=[],h=e.length,u=n.length,c=[],d=this.getInternal("axis");if(h>0&&u>1){var m,f,g,_,b,y=this.getInternal("showDensity"),L=this.vectorContainer,w=this.getInternal("featureIdFieldName"),x=t.parseFieldTypes(n,w),C=x.count,M=x.geom,P=y?x.area:null;for(s=0;s<h;s++)if(null!=(m=e[s])){if(g=m[M],f=w&&m[w]?m[w]:g,_=null!=m[C]?m[C]:"NULL",c.push(_),P?v.parseNumber(m[P]):0,(b=a[f])&&b.geom!==g&&(b.dispose(),b=null,delete a[f]),!b){if(!(b=i.fromJSON(g)))continue;b.appendTo(L)}delete a[f],o[f]=b,l.push(b),b.data=m,b.count=_,b.geom=g,b.fields=n,b.tooltipFields=w&&m[w]?[w,C]:[C],b.valueFieldName=C}d?(this._labelValues=null,d.provideContainedValues(this,c)):this._labelValues=c}for(r in a)p.has(a,r)&&a[r].dispose()},this.computeContainedRange=function(){var t=this.get("axis");if(t){var e=this.getInternal("sharedMinimum"),i=this.getInternal("sharedMaximum"),n=s.isFinite(e)&&s.isFinite(i),r=n?e:t.get("preliminaryMinimum"),a=n?i:t.get("preliminaryMaximum");if(s.isFinite(r)&&s.isFinite(a)){var o=this.getInternal("neutralPoint"),l=!s.isNaN(o);if(a!==r||l&&r!==o)if(l){var h=Math.max(o-r,a-o);t.provideContainedRange(this,o-h,o+h)}else n?t.provideContainedRange(this,r,a):t.provideContainedRange(this,NaN,NaN);else t.provideContainedRange(this,NaN,NaN)}else t.provideContainedRange(this,NaN,NaN)}},this.updateLegendLabelsOverride=function(t,e){return this.getInternal("axis")?null:this._labelValues},this.renderDataOverride=function(t,e,i){var n=this.getInternal("axis");if(n||i){var s,r=this.getInternal("shapeOpacity"),a=this.getInternal("borderColor"),o=this.getInternal("borderOpacity"),h=this.getInternal("borderWidth"),c=this.getInternal("colorPalette"),p=this._polygonList;if(n)var d=n.get("extendedMinimum"),m=n.get("extendedMaximum");var f=this.getInternal("bins"),g=this.get("selectedField");s=n?f:i.getNumLabels();for(var _,b,v,y,L,x=Math.max(s-1,0),C=0,M=p.length;C<M;C++)b=p[C],c?n?(v=n.valueToAbsolute(b.count),y=Math.floor(w.stripFloatingPointErrors((v-d)/((m-d)/s))),_=x>0?y/x:0,g?(L=n.valueToAbsolute(g),y===Math.floor(w.stripFloatingPointErrors((L-d)/((m-d)/s)))?b.fillColor((c.getItem(_,x,String(v))||new u).toNumber()):b.fillColor(13750737)):isNaN(v)?b.fillColor(13750737):b.fillColor((c.getItem(_,x,String(v))||new u).toNumber())):g?(v=b.count)===g?(y=i.getLabelIndex(v),_=x>0?y/x:0,b.fillColor((c.getItem(_,x,String(v))||new u).toNumber())):b.fillColor(13750737):(v=b.count,y=i.getLabelIndex(v),_=x>0?y/x:0,b.fillColor((c.getItem(_,x,String(v))||new u).toNumber())):b.fillColor(0),b.fillOpacity(r),h>0?(b.strokeColor(a.toNumber()),b.strokeOpacity(o),b.strokeWidth(h)):(b.strokeColor(NaN),b.strokeOpacity(NaN),b.strokeWidth(NaN));this.isValid("renderPass")&&this.fire("rendered",new l)}},this.renderOverride=function(t){var i=this.getInternal("axis");e.renderOverride.call(this,t);for(var n,s,r,a,o,h,u,c,p,d=t.leafletMap,m=d.getCenter(),f=this.getInternal("wrapX"),g=this.getInternal("wrapY"),_=this.vectorBounds,b=_.minX,v=_.minY,y=_.maxX,L=_.maxY,w=this._polygonList,x=0,C=w.length;x<C;x++){var M=w[x].count;M=i?i.absoluteToRelative(M):0,(n=w[x]).render(d),s=n.getPixelBounds(),a=(r=n.getLatLonBounds().getCenter()).toLeaflet(),o=r.toLeaflet(),f&&(o.lng-=m.lng,o.lng%=360,o.lng>180?o.lng-=360:o.lng<-180&&(o.lng+=360),o.lng+=m.lng),g&&(o.lat-=m.lat,o.lat%=180,o.lat>90?o.lat-=180:o.lat<-90&&(o.lat+=180),o.lat+=m.lat),n.tooltipLatLng=o,h=d.latLngToLayerPoint(a),c=(u=d.latLngToLayerPoint(o)).x-h.x,p=u.y-h.y,n.translate(c,p),c+s.x+s.width<b||c+s.x>y||p+s.y+s.height<v||p+s.y>L||M<0||M>1?n.display("none"):n.display(null)}this.fire("rendered",new l)};var i=r(y,(function(t,e){t.fromJSON=function(e){if(null==e)return null;if("string"==typeof e&&(e=JSON.parse(e)),!e||"MultiPolygon"!==e.type)return null;var s=e.coordinates;return s&&(s=i(s))?(n(s),new t(s)):null};var i=function(t,e,n){if(!t)return null;var s=t.length;if(!s)return null;if(e||(e=[]),2===s&&"number"==typeof t[0]&&"number"==typeof t[1])n?n.push(new d(t[1],t[0])):e.push([new d(t[1],t[0])]);else{n=[];for(var r=0;r<s;r++)i(t[r],e,n);n.length>0&&e.push(n)}return e.length>0?e:null},n=function(t){var e,i,n,s,r,a=t.length,o=0,l=0;for(n=0;n<a;n++)for(s=0,r=(e=t[n]).length;s<r;s++)o+=(i=e[s]).lon,l++;var h=o/l;for(n=0;n<a;n++)if((i=(e=t[n])[0]).lon-h>180)for(s=0,r=e.length;s<r;s++)(i=e[s]).lon-=360;else if(i.lon-h<-180)for(s=0,r=e.length;s<r;s++)(i=e[s]).lon+=360};this.magnitude=0,this.scale=0,this.data=null,this.fields=null,this.tooltipFields=null,this.tooltipLatLng=null,this.tooltipOffsetRadius=0,this._coordinates=null,this._bounds=null,this._boundsPixels=new h(NaN,NaN,NaN,NaN),this.constructor=function(t){if(null==t)throw new Error("Parameter coordinates must be non-null.");e.constructor.call(this),this._coordinates=t,this.element[g.METADATA_KEY]=this},this.getLatLonBounds=function(){var t=this._bounds;if(!t){t=this._bounds=new m(1/0,1/0,-1/0,-1/0);var e,i,n,s,r,a=this._coordinates;for(i=0,n=a.length;i<n;i++)for(s=0,r=(e=a[i]).length;s<r;s++)t.expand(e[s])}return t},this.getPixelBounds=function(){return this._boundsPixels},this.render=function(t){var e=this._coordinates,i=this.getLatLonBounds(),n=t.latLngToLayerPoint(i.getNW().toLeaflet()),s=t.latLngToLayerPoint(i.getSE().toLeaflet()),r=new h(n.x,n.y,s.x-n.x,s.y-n.y);if(!r.equals(this._boundsPixels)){var a,o,l,u,c,p,d;for(this._boundsPixels=r,this.beginPath(),u=0,c=e.length;u<c;u++){for(a=e[u],o=t.latLngToLayerPoint(a[0].toLeaflet()),this.moveTo(o.x,o.y),p=1,d=a.length;p<d;p++)l=t.latLngToLayerPoint(a[p].toLeaflet()),this.lineTo(l.x,l.y);this.lineTo(o.x,o.y)}this.endPath()}},this.dispose=function(){this.element[g.METADATA_KEY]=null,e.dispose.call(this)}}))}))}.call(e,i,e,t))||(t.exports=n)},"splunk/mapping/layers/LayerBase":function(t,e,i){var n;void 0===(n=function(t,e,n){var s=i("contrib/jg_lib/Class"),r=i("contrib/jg_lib/async/MPassTarget"),a=i("contrib/jg_lib/events/MEventTarget"),o=i("contrib/jg_lib/events/MListenerTarget"),l=i("contrib/jg_lib/events/MObservableTarget"),h=i("contrib/jg_lib/properties/MPropertyTarget"),u=i("contrib/jg_lib/properties/Property"),c=i("contrib/jg_lib/utils/FunctionUtil"),p=i("splunk/viz/MRenderTarget");return s(n.i,Object,(function(t,e){s.mixin(this,a,o,l,h,r,p),t.METADATA_KEY="__splunk_mapping_layers_LayerBase_metadata",this.map=new u("map",Object,null).readOnly(!0),this.leafletLayer=null,this.constructor=function(){if(this._map_boundsChanged=c.bind(this._map_boundsChanged,this),this.leafletLayer=this.createLeafletLayer(),!this.leafletLayer)throw new Error("Value returned from createLeafletLayer() must be non-null.")},this.render=function(){if(!this.isValid("renderPass")){var t=this.getInternal("map");t&&this.renderOverride(t),this.markValid("renderPass")}},this.createLeafletLayer=function(){throw new Error("Must implement method createLeafletLayer.")},this.renderOverride=function(t){},this.onAddedToMap=function(t){this.setInternal("map",t),t.on("boundsChanged",this._map_boundsChanged),this.invalidate("renderPass")},this.onRemovedFromMap=function(t){t.off("boundsChanged",this._map_boundsChanged),this.setInternal("map",null)},this._map_boundsChanged=function(t){this.invalidate("renderPass")}}))}.call(e,i,e,t))||(t.exports=n)},"splunk/mapping/layers/PieMarkerLayer":function(t,e,i){var n;void 0===(n=function(t,e,n){i("shim/leaflet");var s=i("contrib/jg_lib/Class"),r=i("contrib/jg_lib/events/Event"),a=i("contrib/jg_lib/events/EventData"),o=i("contrib/jg_lib/graphics/Color"),l=i("contrib/jg_lib/properties/ObservableProperty"),h=i("contrib/jg_lib/utils/NumberUtil"),u=i("splunk/mapping/LatLon"),c=i("splunk/mapping/LatLonBounds"),p=i("splunk/mapping/layers/LayerBase"),d=i("splunk/mapping/layers/VectorLayerBase"),m=i("splunk/palettes/ColorPalette"),f=i("splunk/palettes/ListColorPalette"),g=i("splunk/utils/DataUtil"),_=i("splunk/vectors/Group"),b=i("splunk/vectors/Wedge"),v=i("splunk/viz/MDataTarget");return s(n.i,d,(function(t,e){s.mixin(this,v),this.rendered=new r("rendered",a),this.markerColorPalette=new l("markerColorPalette",m,new f([o.fromNumber(52224),o.fromNumber(13421568),o.fromNumber(13369344)],!0)).onChange((function(t){this.invalidate("renderDataPass")})),this.markerOpacity=new l("markerOpacity",Number,1).writeFilter((function(t){return isNaN(t)?1:t>=0&&t<=1/0?Math.min(t,1):0})).onChange((function(t){this.invalidate("renderDataPass")})),this.markerMinSize=new l("markerMinSize",Number,10).writeFilter((function(t){return t>=0&&t<1/0?t:0})).onChange((function(t){this.invalidate("renderDataPass")})),this.markerMaxSize=new l("markerMaxSize",Number,50).writeFilter((function(t){return t>=0&&t<1/0?t:0})).onChange((function(t){this.invalidate("renderDataPass")})),this.wrapX=new l("wrapX",Boolean,!0).onChange((function(t){this.invalidate("renderPass")})),this.wrapY=new l("wrapY",Boolean,!1).onChange((function(t){this.invalidate("renderPass")})),this._seriesList=null,this._markerList=null,this.constructor=function(){e.constructor.call(this),this._seriesList=[],this._markerList=[]},this.getLatLonBounds=function(t){if(null!=t&&!(t instanceof u))throw new Error("Parameter center must be of type "+s.getName(u)+".");this.validate();for(var e=new c(1/0,1/0,-1/0,-1/0),i=this._markerList,n=0,r=i.length;n<r;n++)e.expand(i[n].latLon.normalize(t));return e.isFinite()?e:null},this.processDataOverride=function(t,e){var s,r,a,o,l,c,p,m=this._seriesList,f=0,_=this._markerList,b=0,v=t.length,y=e.length;if(v>0&&y>2){var L,w,x,C,M,P,k,N,T,E,A=this.vectorContainer,O=e[0],V=e[1],j=1/0,S=-1/0;for(c=2;c<y;c++)L=e[c],f<m.length?s=m[f]:(s=new i,m.push(s)),s.name=L,f++;for(c=0;c<v;c++)if(null!=(w=t[c])&&(x=g.parseNumber(w[O]),C=g.parseNumber(w[V]),!isNaN(x)&&!isNaN(C))){for(b<_.length?r=_[b]:((r=new n).appendTo(A),_.push(r)),a=r.sliceList,o=0,k=0,p=0;p<f;p++)s=m[p],M=g.parseNumber(w[s.name]),isNaN(M)||M<=0||(o<a.length?l=a[o]:((l=new d).appendTo(r),a.push(l)),l.series=s,l.value=M,k+=M,o++);if(0!==o){for(r.latLon=new u(x,C),r.data=w,r.fields=e,r.magnitude=k,k<j&&(j=k),k>S&&(S=k),N=0,T=0,E=0,p=0;p<o;p++)T=E,E=(N+=(l=a[p]).value)/k*360,l.startAngle=T-90,l.arcAngle=E-T;for(p=a.length-1;p>=o;p--)(l=a.pop()).dispose();b++}}for(P=S-j,c=0;c<b;c++)(r=_[c]).scale=P>0?h.minMax((r.magnitude-j)/P,0,1):1/b}for(c=_.length-1;c>=b;c--)(r=_.pop()).dispose();for(c=m.length-1;c>=f;c--)m.pop()},this.updateLegendLabelsOverride=function(t,e){for(var i=this._seriesList,n=i.length,s=n>0?new Array(n):null,r=0;r<n;r++)s[r]=i[r].name;return s},this.renderDataOverride=function(t,e,i){this.invalidate("renderPass");var n,s,r,a,l,u,c,p,d,m,f,g=this._seriesList,_=g.length,b=this.getInternal("markerColorPalette"),v=this.getInternal("markerOpacity"),y=this.getInternal("markerMinSize"),L=this.getInternal("markerMaxSize"),w=this._markerList,x=w.length;for(r=i?i.getNumLabels():_,m=Math.max(r-1,0),p=0;p<_;p++)n=g[p],s=i?i.getLabelIndex(n.name):p,f=m>0?s/m:0,n.color=b?(b.getItem(f,m,n.name)||new o).toNumber():0;for(p=0;p<x;p++)for(u=(l=(a=w[p]).sliceList).length,a.radius=Math.round(h.interpolate(y,L,a.scale))/2,a.tooltipOffsetRadius=a.radius,a.display("none"),d=0;d<u;d++)(c=l[d]).fillColor(c.series.color),c.fillOpacity(v),c.draw(0,0,a.radius,a.radius,c.startAngle,c.arcAngle)},this.renderOverride=function(t){e.renderOverride.call(this,t);for(var i,n,s,r=t.leafletMap,o=r.getCenter(),l=this.getInternal("wrapX"),h=this.getInternal("wrapY"),u=this.vectorBounds,c=u.minX,p=u.minY,d=u.maxX,m=u.maxY,f=this._markerList,g=0,_=f.length;g<_;g++)n=(i=f[g]).latLon.toLeaflet(),l&&(n.lng-=o.lng,n.lng%=360,n.lng>180?n.lng-=360:n.lng<-180&&(n.lng+=360),n.lng+=o.lng),h&&(n.lat-=o.lat,n.lat%=180,n.lat>90?n.lat-=180:n.lat<-90&&(n.lat+=180),n.lat+=o.lat),i.tooltipLatLng=n,s=r.latLngToLayerPoint(n),i.translate(s.x,s.y),s.x+i.radius<c||s.x-i.radius>d||s.y+i.radius<p||s.y-i.radius>m?i.display("none"):i.display(null);this.fire("rendered",new a)};var i=s(Object,(function(t,e){this.name=null,this.color=0,this.constructor=function(){}})),n=s(_,(function(t,e){this.sliceList=null,this.latLon=null,this.data=null,this.fields=null,this.magnitude=0,this.scale=0,this.radius=0,this.tooltipLatLng=null,this.tooltipOffsetRadius=0,this.constructor=function(){e.constructor.call(this),this.element[p.METADATA_KEY]=this,this.sliceList=[]},this.dispose=function(){for(var t=this.sliceList,i=t.length-1;i>=0;i--)t[i].dispose();this.element[p.METADATA_KEY]=null,e.dispose.call(this)}})),d=s(b,(function(t,e){this.series=null,this.value=0,this.startAngle=0,this.arcAngle=0,this.constructor=function(){e.constructor.call(this)}}))}))}.call(e,i,e,t))||(t.exports=n)},"splunk/mapping/layers/VectorLayerBase":function(t,e,i){var n;void 0===(n=function(t,e,n){var s=i("shim/leaflet"),r=i("contrib/jg_lib/Class"),a=i("contrib/jg_lib/geom/Rectangle"),o=i("contrib/jg_lib/utils/FunctionUtil"),l=i("splunk/mapping/layers/LayerBase"),h=i("splunk/vectors/Group"),u=i("splunk/vectors/Viewport");return r(n.i,l,(function(t,e){this.vectorContainer=null,this.vectorBounds=null,this._isZooming=!1,this.constructor=function(){e.constructor.call(this),this._leafletMap_move=o.bind(this._leafletMap_move,this),this._leafletMap_zoomstart=o.bind(this._leafletMap_zoomstart,this),this._leafletMap_zoomend=o.bind(this._leafletMap_zoomend,this),this.vectorContainer=this.leafletLayer.vectorContainer,this.vectorBounds={minX:0,minY:0,maxX:0,maxY:0}},this.createLeafletLayer=function(){return new i},this.renderOverride=function(t){this._isZooming||this.vectorContainer.display(null)},this.onAddedToMap=function(t){e.onAddedToMap.call(this,t);var i=t.leafletMap;this.vectorContainer.hasSVG?i.on("move",this._leafletMap_move):i.on("moveend",this._leafletMap_move),i.on("viewreset",this._leafletMap_move),i.on("zoomstart",this._leafletMap_zoomstart),i.on("zoomend",this._leafletMap_zoomend),this.vectorBounds=i._vectorLayerBounds,this.vectorContainer.display("none")},this.onRemovedFromMap=function(t){var i=t.leafletMap;this.vectorContainer.hasSVG?i.off("move",this._leafletMap_move):i.off("moveend",this._leafletMap_move),i.off("viewreset",this._leafletMap_move),i.off("zoomstart",this._leafletMap_zoomstart),i.off("zoomend",this._leafletMap_zoomend),this.vectorBounds={minX:0,minY:0,maxX:0,maxY:0},e.onRemovedFromMap.call(this,t)},this._leafletMap_move=function(t){this.invalidate("renderPass")},this._leafletMap_zoomstart=function(t){this._isZooming=!0,this.vectorContainer.display("none")},this._leafletMap_zoomend=function(t){this._isZooming=!1,this.invalidate("renderPass")};var i=s.Class.extend({includes:[s.Mixin.Events],options:{clickable:!0},vectorContainer:null,initialize:function(t){s.Util.setOptions(this,t),this.vectorContainer=new h},onAdd:function(t){this._map=t,t._initVectorLayerViewport(),this.vectorContainer.appendTo(t._vectorLayerViewport)},onRemove:function(t){this._map=null,this.vectorContainer.remove()}});s.Map.include({_initVectorLayerViewport:function(){if(!this._vectorLayerRoot){var t=this._vectorLayerRoot=document.createElement("div");t.style.position="absolute",this._panes.overlayPane.appendChild(t);var e=this._vectorLayerViewport=new u;e.appendTo(t),this._vectorLayerBounds={minX:0,minY:0,maxX:0,maxY:0},e.hasSVG?this.on("move",this._updateVectorLayerBounds):this.on("moveend",this._updateVectorLayerBounds),this._updateVectorLayerBounds()}},_updateVectorLayerBounds:function(){var t=this._vectorLayerRoot,e=this._vectorLayerViewport,i=this._vectorLayerBounds,n=e.hasSVG?0:.5,r=this.getSize(),o=s.DomUtil.getPosition(this._mapPane).multiplyBy(-1)._subtract(r.multiplyBy(n)),l=o.add(r.multiplyBy(1+2*n)),h=l.x-o.x,u=l.y-o.y;i.minX=o.x,i.minY=o.y,i.maxX=l.x,i.maxY=l.y,s.DomUtil.setPosition(t,o),e.width(h),e.height(u),e.viewBox(new a(o.x,o.y,h,u))}})}))}.call(e,i,e,t))||(t.exports=n)},"splunk/mapping/parsers/LatLonBoundsParser":function(t,e,i){var n;void 0===(n=function(t,e,n){var s=i("contrib/jg_lib/Class"),r=i("splunk/mapping/LatLonBounds"),a=i("splunk/parsers/NumberParser"),o=i("splunk/parsers/Parser"),l=i("splunk/parsers/ParseUtils");return s(n.i,o,(function(t,e){var i=null;t.getInstance=function(){return i||(i=new t),i},this.numberParser=null,this.constructor=function(){this.numberParser=a.getInstance()},this.stringToValue=function(t){var e=l.prepareTuple(t);if(!e)return null;var i=new r,n=e.length;return n>0&&(i.s=this.numberParser.stringToValue(e[0])),n>1&&(i.w=this.numberParser.stringToValue(e[1])),n>2&&(i.n=this.numberParser.stringToValue(e[2])),n>3&&(i.e=this.numberParser.stringToValue(e[3])),i},this.valueToString=function(t){var e=t instanceof r?t:null;if(!e)return null;var i="";return i+=this.numberParser.valueToString(e.s)+",",i+=this.numberParser.valueToString(e.w)+",",i+=this.numberParser.valueToString(e.n)+",","("+(i+=this.numberParser.valueToString(e.e))+")"}}))}.call(e,i,e,t))||(t.exports=n)},"splunk/mapping/parsers/LatLonParser":function(t,e,i){var n;void 0===(n=function(t,e,n){var s=i("contrib/jg_lib/Class"),r=i("splunk/mapping/LatLon"),a=i("splunk/parsers/NumberParser"),o=i("splunk/parsers/Parser"),l=i("splunk/parsers/ParseUtils");return s(n.i,o,(function(t,e){var i=null;t.getInstance=function(){return i||(i=new t),i},this.numberParser=null,this.constructor=function(){this.numberParser=a.getInstance()},this.stringToValue=function(t){var e=l.prepareTuple(t);if(!e)return null;var i=new r,n=e.length;return n>0&&(i.lat=this.numberParser.stringToValue(e[0])),n>1&&(i.lon=this.numberParser.stringToValue(e[1])),i},this.valueToString=function(t){var e=t instanceof r?t:null;if(!e)return null;var i="";return i+=this.numberParser.valueToString(e.lat)+",","("+(i+=this.numberParser.valueToString(e.lon))+")"}}))}.call(e,i,e,t))||(t.exports=n)},"splunk/mapping/utils/GeoJsonUtils":function(t,e,i){var n;void 0===(n=function(t,e,n){return i("contrib/jg_lib/Class")(n.i,(function(t){t.createFromBoundingBox=function(t,e,i,n){return t=Number(t),e=Number(e),i=Number(i),{type:"MultiPolygon",coordinates:[[[[e,t],[n=Number(n),t],[n,i],[e,i]]]]}}}))}.call(e,i,e,t))||(t.exports=n)},"splunk/palettes/ColorPalette":function(t,e,i){var n;void 0===(n=function(t,e,n){var s=i("contrib/jg_lib/Class"),r=i("contrib/jg_lib/graphics/Color"),a=i("splunk/palettes/Palette");return s(n.i,a,(function(t,e){this.constructor=function(){e.constructor.call(this,r)}}))}.call(e,i,e,t))||(t.exports=n)},"splunk/palettes/FieldColorPalette":function(t,e,i){var n;void 0===(n=function(t,e,n){var s=i("contrib/jg_lib/Class"),r=i("contrib/jg_lib/graphics/Color"),a=i("contrib/jg_lib/properties/ObservableObjectProperty"),o=i("contrib/jg_lib/properties/ObservableProperty"),l=i("contrib/jg_lib/utils/ObjectUtil"),h=i("splunk/palettes/ColorPalette");return s(n.i,h,(function(t,e){this.fieldColors=new a("fieldColors",r,{}).itemReadFilter((function(t){return t.clone()})).itemWriteFilter((function(t){return t?t.clone().normalize():new r})).itemChangeComparator((function(t,e){return!t.equals(e)})),this.defaultColorPalette=new o("defaultColorPalette",h,null),this.constructor=function(t,i){e.constructor.call(this),null!=t&&this.set("fieldColors",t),null!=i&&this.set("defaultColorPalette",i)},this.getItemOverride=function(t,e,i,n){if(null!=n){var s=l.get(t.fieldColors,""+n);if(s)return s.clone()}var r=t.defaultColorPalette;return r?r.getItem(e,i,n):null}}))}.call(e,i,e,t))||(t.exports=n)},"splunk/palettes/ListColorPalette":function(t,e,i){var n;void 0===(n=function(t,e,n){var s=i("contrib/jg_lib/Class"),r=i("contrib/jg_lib/graphics/Color"),a=i("contrib/jg_lib/properties/ObservableArrayProperty"),o=i("contrib/jg_lib/properties/ObservableProperty"),l=i("splunk/palettes/ColorPalette");return s(n.i,l,(function(t,e){this.colors=new a("colors",r,[]).itemReadFilter((function(t){return t.clone()})).itemWriteFilter((function(t){return t?t.clone().normalize():new r})).itemChangeComparator((function(t,e){return!t.equals(e)})),this.interpolate=new o("interpolate",Boolean,!1),this.constructor=function(t,i){e.constructor.call(this),null!=t&&this.set("colors",t),null!=i&&this.set("interpolate",i)},this.getItemOverride=function(t,e,i,n){var s,a=t.colors,o=a.length;if(0===o)return null;if(s=i>=0?Math.round(i*e):(i=o-1)*e,!t.interpolate)return a[(s=Math.round(s))%o].clone();e=i>0?s/i*(o-1):0;var l=Math.floor(e),h=Math.min(l+1,o-1);return e-=l,r.interpolate(a[l],a[h],e)}}))}.call(e,i,e,t))||(t.exports=n)},"splunk/palettes/Palette":function(t,e,i){var n;void 0===(n=function(t,e,n){var s=i("contrib/jg_lib/Class"),r=i("contrib/jg_lib/events/MEventTarget"),a=i("contrib/jg_lib/events/MListenerTarget"),o=i("contrib/jg_lib/events/MObservableTarget"),l=i("contrib/jg_lib/properties/MPropertyTarget"),h=i("contrib/jg_lib/properties/Property"),u=i("contrib/jg_lib/utils/NumberUtil");return s(n.i,Object,(function(t,e){s.mixin(this,r,a,o,l),this._itemType=null,this._itemTypeChecker=null,this._itemNullValue=null,this._cachedProperties=null,this._hasChangeListener=!1,this.constructor=function(t){if(null==t)throw new Error("Parameter itemType must be non-null.");if(!s.isFunction(t))throw new Error("Parameter itemType must be of type Function.");this._itemType=t,this._itemTypeChecker=s.getTypeChecker(t),t===Number?this._itemNullValue=NaN:t===Boolean?this._itemNullValue=!1:this._itemNullValue=null},this.itemType=function(){return this._itemType},this.dispose=function(){this.listenOff(),this.off(),this._cachedProperties=null},this.getItem=function(t,e,i){if(null==t)throw new Error("Parameter ratio must be non-null.");t=(t=+t)<=1/0?u.minMax(t,0,1):0,e=(e=null!=e?+e:NaN)>=0&&e<1/0?Math.floor(e):NaN,this._cachedProperties||(this._hasChangeListener||(this.on("change",this._selfChange,this,1/0),this._hasChangeListener=!0),this._cachedProperties=this._getProperties(),this.extendProperties(this._cachedProperties));var n=this.getItemOverride(this._cachedProperties,t,e,i);if(null==n)n=this._itemNullValue;else if(!this._itemTypeChecker(n))throw new Error("Value returned from getItemOverride must be of type "+(s.getName(this._itemType)||"itemType")+".");return n},this.extendProperties=function(t){},this.getItemOverride=function(t,e,i,n){return null},this._getProperties=function(){var t,e={};for(var i in this)(t=this[i])instanceof h&&(e[i]=this.getInternal(t));return e},this._selfChange=function(t){this._cachedProperties=null}}))}.call(e,i,e,t))||(t.exports=n)},"splunk/parsers/ColorParser":function(t,e,i){var n;void 0===(n=function(t,e,n){var s=i("contrib/jg_lib/Class"),r=i("contrib/jg_lib/graphics/Color"),a=i("splunk/parsers/Parser"),o=i("splunk/parsers/ParseUtils");return s(n.i,a,(function(t,e){var i=null;t.getInstance=function(){return i||(i=new t),i},this.stringToValue=function(t){return(t=o.trimWhiteSpace(t))?r.fromString(t):null},this.valueToString=function(t){return t instanceof r?t.toString(t.a<1?"rgba":"hex"):null}}))}.call(e,i,e,t))||(t.exports=n)},"splunk/parsers/NumberParser":function(t,e,i){var n;void 0===(n=function(t,e,n){var s=i("contrib/jg_lib/Class"),r=i("splunk/parsers/Parser"),a=i("splunk/parsers/ParseUtils");return s(n.i,r,(function(t,e){var i=null;t.getInstance=function(){return i||(i=new t),i},this.stringToValue=function(t){return(t=a.trimWhiteSpace(t))?Number(t):NaN},this.valueToString=function(t){return null!=t&&s.isNumber(t)?String(t):String(NaN)}}))}.call(e,i,e,t))||(t.exports=n)},"splunk/vectors/Group":function(t,e,i){var n;void 0===(n=function(t,e,n){var s=i("contrib/jg_lib/Class"),r=i("splunk/vectors/VectorElement");return s(n.i,r,(function(t,e){this.constructor=function(){e.constructor.call(this)};var i=s((function(t){this.constructor=function(){e.constructor.call(this,"g")}})),n=s((function(t){this.constructor=function(){e.constructor.call(this,"group"),this.element.style.width="1px",this.element.style.height="1px",this.element.coordsize="1,1"}}));r.mixin(this,i,n)}))}.call(e,i,e,t))||(t.exports=n)},"splunk/vectors/Path":function(t,e,i){var n;void 0===(n=function(t,e,n){var s=i("contrib/jg_lib/Class"),r=i("splunk/vectors/Shape"),a=i("splunk/vectors/VectorElement");return s(n.i,r,(function(t,e){this.constructor=function(){e.constructor.call(this)},this.beginPath=function(){return this},this.endPath=function(){return this},this.moveTo=function(t,e){return this},this.lineTo=function(t,e){return this},this.curveTo=function(t,e,i,n){return this};var i=s((function(t){this._penX=0,this._penY=0,this._startX=0,this._startY=0,this._pathData=null,this._lastCommand=null,this.constructor=function(){e.constructor.call(this,"path")},this.beginPath=function(){return null!=this._pathData&&this.endPath(),this._pathData="",this},this.endPath=function(){return null==this._pathData||(this._pathData?("M"!==this._lastCommand&&this._penX===this._startX&&this._penY===this._startY&&(this._pathData+=" Z"),this.element.setAttribute("d",this._pathData.substring(1))):this.element.removeAttribute("d"),this._penX=0,this._penY=0,this._startX=0,this._startY=0,this._pathData=null,this._lastCommand=null),this},this.moveTo=function(t,e){return null==this._pathData||(t=null!=t&&t>-1/0&&t<1/0?t:0,e=null!=e&&e>-1/0&&e<1/0?e:0,this._pathData&&"M"!==this._lastCommand&&this._penX===this._startX&&this._penY===this._startY&&(this._pathData+=" Z"),"M"!==this._lastCommand&&(this._lastCommand="M"),this._penX=t,this._penY=e,this._startX=t,this._startY=e,this._pathData+=" M"+t+","+e),this},this.lineTo=function(t,e){return null==this._pathData||(t=null!=t&&t>-1/0&&t<1/0?t:0,e=null!=e&&e>-1/0&&e<1/0?e:0,this._lastCommand||this.moveTo(0,0),"L"!==this._lastCommand?(this._lastCommand="L",this._pathData+=" L"):this._pathData+=" ",this._penX=t,this._penY=e,this._pathData+=t+","+e),this},this.curveTo=function(t,e,i,n){return null==this._pathData||(t=null!=t&&t>-1/0&&t<1/0?t:0,e=null!=e&&e>-1/0&&e<1/0?e:0,i=null!=i&&i>-1/0&&i<1/0?i:0,n=null!=n&&n>-1/0&&n<1/0?n:0,this._lastCommand||this.moveTo(0,0),"Q"!==this._lastCommand?(this._lastCommand="Q",this._pathData+=" Q"):this._pathData+=" ",this._penX=i,this._penY=n,this._pathData+=t+","+e+" "+i+","+n),this}})),n=s((function(t){this._pathElement=null,this._penX=0,this._penY=0,this._startX=0,this._startY=0,this._pathData=null,this._lastCommand=null,this.constructor=function(){e.constructor.call(this,"shape"),this._pathElement=this.createElement("path"),this.element.style.width="1px",this.element.style.height="1px",this.element.coordsize="64,64",this.element.appendChild(this._pathElement)},this.dispose=function(){e.dispose.call(this),this._pathElement=null},this.beginPath=function(){return null!=this._pathData&&this.endPath(),this._pathData="",this},this.endPath=function(){return null==this._pathData||(this._pathData?("m"!==this._lastCommand&&this._penX===this._startX&&this._penY===this._startY&&(this._pathData+=" x"),this._pathElement.v=this._pathData.substring(1)):this._pathElement.v=" ",this._penX=0,this._penY=0,this._startX=0,this._startY=0,this._pathData=null,this._lastCommand=null),this},this.moveTo=function(t,e){return null==this._pathData||(t=null!=t&&t>-1/0&&t<1/0?Math.round(64*t):0,e=null!=e&&e>-1/0&&e<1/0?Math.round(64*e):0,this._pathData&&"M"!==this._lastCommand&&this._penX===this._startX&&this._penY===this._startY&&(this._pathData+=" x"),"m"!==this._lastCommand&&(this._lastCommand="m"),this._penX=t,this._penY=e,this._startX=t,this._startY=e,this._pathData+=" m "+t+","+e),this},this.lineTo=function(t,e){return null==this._pathData||(t=null!=t&&t>-1/0&&t<1/0?Math.round(64*t):0,e=null!=e&&e>-1/0&&e<1/0?Math.round(64*e):0,this._lastCommand||this.moveTo(0,0),"l"!==this._lastCommand?(this._lastCommand="l",this._pathData+=" l "):this._pathData+=", ",this._penX=t,this._penY=e,this._pathData+=t+","+e),this},this.curveTo=function(t,e,i,n){return null==this._pathData||(t=null!=t&&t>-1/0&&t<1/0?Math.round(64*t):0,e=null!=e&&e>-1/0&&e<1/0?Math.round(64*e):0,i=null!=i&&i>-1/0&&i<1/0?Math.round(64*i):0,n=null!=n&&n>-1/0&&n<1/0?Math.round(64*n):0,this._lastCommand||this.moveTo(0,0),"qb"!==this._lastCommand&&(this._lastCommand="qb"),this._penX=i,this._penY=n,this._pathData+=" qb "+t+","+e+" l "+i+","+n),this}}));a.mixin(this,i,n)}))}.call(e,i,e,t))||(t.exports=n)},"splunk/vectors/Rect":function(t,e,i){var n;void 0===(n=function(t,e,n){var s=i("contrib/jg_lib/Class"),r=i("splunk/vectors/Shape"),a=i("splunk/vectors/VectorElement");return s(n.i,r,(function(t,e){this.constructor=function(t,i,n,s){e.constructor.call(this)},this.x=function(t){return this},this.y=function(t){return this},this.width=function(t){return this},this.height=function(t){return this};var i=s((function(t){this.constructor=function(t,i,n,s){e.constructor.call(this,"rect"),null!=t&&this.x(t),null!=i&&this.y(i),null!=n&&this.width(n),null!=s&&this.height(s)},this.x=function(t){return null!=t&&t>-1/0&&t<1/0?this.element.setAttribute("x",t):this.element.removeAttribute("x"),this},this.y=function(t){return null!=t&&t>-1/0&&t<1/0?this.element.setAttribute("y",t):this.element.removeAttribute("y"),this},this.width=function(t){return null!=t&&t<1/0?this.element.setAttribute("width",Math.max(t,0)):this.element.removeAttribute("width"),this},this.height=function(t){return null!=t&&t<1/0?this.element.setAttribute("height",Math.max(t,0)):this.element.removeAttribute("height"),this}})),n=s((function(t){this.constructor=function(t,i,n,s){e.constructor.call(this,"rect"),null!=t&&this.x(t),null!=i&&this.y(i),null!=n&&this.width(n),null!=s&&this.height(s)},this.x=function(t){return this.element.style.left=null!=t&&t>-1/0&&t<1/0?Math.round(t)+"px":"",this},this.y=function(t){return this.element.style.top=null!=t&&t>-1/0&&t<1/0?Math.round(t)+"px":"",this},this.width=function(t){return this.element.style.width=null!=t&&t<1/0?Math.round(Math.max(t,0))+"px":"",this},this.height=function(t){return this.element.style.height=null!=t&&t<1/0?Math.round(Math.max(t,0))+"px":"",this}}));a.mixin(this,i,n)}))}.call(e,i,e,t))||(t.exports=n)},"splunk/vectors/Shape":function(t,e,i){var n;void 0===(n=function(t,e,n){var s=i("contrib/jg_lib/Class"),r=i("contrib/jg_lib/utils/NumberUtil"),a=i("splunk/vectors/VectorElement");return s(n.i,a,(function(t,e){this.constructor=function(t){e.constructor.call(this,t)},this.fillColor=function(t){return this},this.fillOpacity=function(t){return this},this.strokeColor=function(t){return this},this.strokeOpacity=function(t){return this},this.strokeWidth=function(t){return this},this.strokeLineCap=function(t){return this},this.strokeLineJoin=function(t){return this},this.strokeMiterLimit=function(t){return this};var i=s((function(t){this.constructor=function(t){e.constructor.call(this,t),this.fillColor(NaN),this.strokeColor(NaN),this.strokeLineCap("none"),this.strokeLineJoin("miter")},this.fillColor=function(t){return null==t||isNaN(t)?this.element.setAttribute("fill","none"):(t=r.minMax(Math.floor(t),0,16777215),this.element.setAttribute("fill","#"+(16777216|t).toString(16).substring(1))),this},this.fillOpacity=function(t){return null==t||isNaN(t)?this.element.removeAttribute("fill-opacity"):this.element.setAttribute("fill-opacity",r.minMax(t,0,1)),this},this.strokeColor=function(t){return null==t||isNaN(t)?this.element.removeAttribute("stroke"):(t=r.minMax(Math.floor(t),0,16777215),this.element.setAttribute("stroke","#"+(16777216|t).toString(16).substring(1))),this},this.strokeOpacity=function(t){return null==t||isNaN(t)?this.element.removeAttribute("stroke-opacity"):this.element.setAttribute("stroke-opacity",r.minMax(t,0,1)),this},this.strokeWidth=function(t){return null!=t&&t<1/0?this.element.setAttribute("stroke-width",Math.max(t,1)):this.element.removeAttribute("stroke-width"),this},this.strokeLineCap=function(t){return"round"===t?this.element.setAttribute("stroke-linecap","round"):"square"===t?this.element.setAttribute("stroke-linecap","square"):this.element.removeAttribute("stroke-linecap"),this},this.strokeLineJoin=function(t){return"round"===t?this.element.setAttribute("stroke-linejoin","round"):"bevel"===t?this.element.setAttribute("stroke-linejoin","bevel"):this.element.removeAttribute("stroke-linejoin"),this},this.strokeMiterLimit=function(t){return null!=t&&t<1/0?this.element.setAttribute("stroke-miterlimit",Math.max(t,1)):this.element.removeAttribute("stroke-miterlimit"),this}})),n=s((function(t){this._fillElement=null,this._strokeElement=null,this.constructor=function(t){e.constructor.call(this,t),this._fillElement=this.createElement("fill"),this._strokeElement=this.createElement("stroke"),this.element.appendChild(this._fillElement),this.element.appendChild(this._strokeElement),this.fillColor(NaN),this.strokeColor(NaN),this.strokeLineCap("none"),this.strokeLineJoin("miter")},this.dispose=function(){e.dispose.call(this),this._fillElement=null,this._strokeElement=null},this.fillColor=function(t){return null==t||isNaN(t)?(this._fillElement.on=!1,this._fillElement.color="#000000"):(t=r.minMax(Math.floor(t),0,16777215),this._fillElement.on=!0,this._fillElement.color="#"+(16777216|t).toString(16).substring(1)),this},this.fillOpacity=function(t){return null==t||isNaN(t)?this._fillElement.opacity=1:this._fillElement.opacity=r.minMax(t,0,1),this},this.strokeColor=function(t){return null==t||isNaN(t)?(this._strokeElement.on=!1,this._strokeElement.color="#000000"):(t=r.minMax(Math.floor(t),0,16777215),this._strokeElement.on=!0,this._strokeElement.color="#"+(16777216|t).toString(16).substring(1)),this},this.strokeOpacity=function(t){return null==t||isNaN(t)?this._strokeElement.opacity=1:this._strokeElement.opacity=r.minMax(t,0,1),this},this.strokeWidth=function(t){return this._strokeElement.weight=null!=t&&t<1/0?Math.max(t,1)+"px":"1px",this},this.strokeLineCap=function(t){return this._strokeElement.endcap="round"===t?"round":"square"===t?"square":"flat",this},this.strokeLineJoin=function(t){return this._strokeElement.joinstyle="round"===t?"round":"bevel"===t?"bevel":"miter",this},this.strokeMiterLimit=function(t){return this._strokeElement.miterlimit=null!=t&&t<1/0?Math.max(t,1):4,this}}));a.mixin(this,i,n)}))}.call(e,i,e,t))||(t.exports=n)},"splunk/vectors/Text":function(t,e,i){var n;void 0===(n=function(t,e,n){var s=i("contrib/jg_lib/Class"),r=i("contrib/jg_lib/geom/Rectangle"),a=i("splunk/vectors/Shape"),o=i("splunk/vectors/VectorElement");return s(n.i,a,(function(t,e){this.constructor=function(t,i,n){e.constructor.call(this)},this.x=function(t){return this},this.y=function(t){return this},this.text=function(t){return this},this.alignmentBaseline=function(t){return this},this.baselineShift=function(t){return this},this.direction=function(t){return this},this.dominantBaseline=function(t){return this},this.fontFamily=function(t){return this},this.fontSize=function(t){return this},this.fontSizeAdjust=function(t){return this},this.fontStretch=function(t){return this},this.fontStyle=function(t){return this},this.fontVariant=function(t){return this},this.fontWeight=function(t){return this},this.glyphOrientationHorizontal=function(t){return this},this.glyphOrientationVertical=function(t){return this},this.kerning=function(t){return this},this.letterSpacing=function(t){return this},this.textAnchor=function(t){return this},this.textDecoration=function(t){return this},this.textRendering=function(t){return this},this.unicodeBidi=function(t){return this},this.wordSpacing=function(t){return this},this.writingMode=function(t){return this},this.getBounds=function(){return new r};var i=s((function(t){this.constructor=function(t,i,n){e.constructor.call(this,"text"),this.fillColor(0),null!=t&&this.x(t),null!=i&&this.y(i),null!=n&&this.text(n)},this.x=function(t){return null!=t&&t>-1/0&&t<1/0?this.element.setAttribute("x",t):this.element.removeAttribute("x"),this},this.y=function(t){return null!=t&&t>-1/0&&t<1/0?this.element.setAttribute("y",t):this.element.removeAttribute("y"),this},this.text=function(t){return this.element.textContent=t||"",this},this.alignmentBaseline=function(t){return t?this.element.setAttribute("alignment-baseline",t):this.element.removeAttribute("alignment-baseline"),this},this.baselineShift=function(t){return t?this.element.setAttribute("baseline-shift",t):this.element.removeAttribute("baseline-shift"),this},this.direction=function(t){return t?this.element.setAttribute("direction",t):this.element.removeAttribute("direction"),this},this.dominantBaseline=function(t){return t?this.element.setAttribute("dominant-baseline",t):this.element.removeAttribute("dominant-baseline"),this},this.fontFamily=function(t){return t?this.element.setAttribute("font-family",t):this.element.removeAttribute("font-family"),this},this.fontSize=function(t){return t?this.element.setAttribute("font-size",t):this.element.removeAttribute("font-size"),this},this.fontSizeAdjust=function(t){return t?this.element.setAttribute("font-size-adjust",t):this.element.removeAttribute("font-size-adjust"),this},this.fontStretch=function(t){return t?this.element.setAttribute("font-stretch",t):this.element.removeAttribute("font-stretch"),this},this.fontStyle=function(t){return t?this.element.setAttribute("font-style",t):this.element.removeAttribute("font-style"),this},this.fontVariant=function(t){return t?this.element.setAttribute("font-variant",t):this.element.removeAttribute("font-variant"),this},this.fontWeight=function(t){return t?this.element.setAttribute("font-weight",t):this.element.removeAttribute("font-weight"),this},this.glyphOrientationHorizontal=function(t){return t?this.element.setAttribute("glyph-orientation-horizontal",t):this.element.removeAttribute("glyph-orientation-horizontal"),this},this.glyphOrientationVertical=function(t){return t?this.element.setAttribute("glyph-orientation-vertical",t):this.element.removeAttribute("glyph-orientation-vertical"),this},this.kerning=function(t){return t?this.element.setAttribute("kerning",t):this.element.removeAttribute("kerning"),this},this.letterSpacing=function(t){return t?this.element.setAttribute("letter-spacing",t):this.element.removeAttribute("letter-spacing"),this},this.textAnchor=function(t){return t?this.element.setAttribute("text-anchor",t):this.element.removeAttribute("text-anchor"),this},this.textDecoration=function(t){return t?this.element.setAttribute("text-decoration",t):this.element.removeAttribute("text-decoration"),this},this.textRendering=function(t){return t?this.element.setAttribute("text-rendering",t):this.element.removeAttribute("text-rendering"),this},this.unicodeBidi=function(t){return t?this.element.setAttribute("unicode-bidi",t):this.element.removeAttribute("unicode-bidi"),this},this.wordSpacing=function(t){return t?this.element.setAttribute("word-spacing",t):this.element.removeAttribute("word-spacing"),this},this.writingMode=function(t){return t?this.element.setAttribute("writing-mode",t):this.element.removeAttribute("writing-mode"),this},this.getBounds=function(){try{var t=this.element.getBBox();return new r(t.x,t.y,t.width,t.height)}catch(t){return new r}}})),n=s((function(t){}));o.mixin(this,i,n)}))}.call(e,i,e,t))||(t.exports=n)},"splunk/vectors/VectorElement":function(t,e,i){var n;void 0===(n=function(t,e,n){var s=i("contrib/jg_lib/Class");return s(n.i,Object,(function(t,e){var i="function"==typeof document.createElementNS,n=!i&&function(){try{document.namespaces.add("splvml","urn:schemas-microsoft-com:vml");var t=".splvml { behavior: url(#default#VML); display: inline-block; position: absolute; }",e=document.createElement("style");return e.setAttribute("type","text/css"),document.getElementsByTagName("head")[0].appendChild(e),e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t)),!0}catch(t){return!1}}();t.mixin=function(t,e,r){i?(s.mixin(t,e),e.constructor!==Object&&"function"==typeof e.constructor&&(t.constructor=e.constructor)):n&&(s.mixin(t,r),r.constructor!==Object&&"function"==typeof r.constructor&&(t.constructor=r.constructor))},this.hasSVG=i,this.hasVML=n,this.element=null,this.constructor=function(t){if(null!=t&&!s.isString(t))throw new Error("Parameter tagName must be of type String.");this.element=this.createElement(t||null)},this.appendTo=function(e){if(null==e)throw new Error("Parameter parentElement must be non-null.");if(!(e instanceof t))throw new Error("Parameter parentElement must be of type "+s.getName(t)+".");return e.element.appendChild(this.element),this},this.remove=function(){return this.element.parentNode&&this.element.parentNode.removeChild(this.element),this},this.dispose=function(){this.remove(),this.element=null},this.display=function(t){return this.element.style.display=t||"",this},this.visibility=function(t){return this.element.style.visibility=t||"",this},this.translate=function(t,e){return t=null!=t&&t>-1/0&&t<1/0?t:0,e=null!=e&&e>-1/0&&e<1/0?e:0,this.element.style.left=0!=t?t+"px":"",this.element.style.top=0!=e?e+"px":"",this},this.createElement=function(t){var e=document.createElement("div");return e.style.position="absolute",e};var r=s((function(t){this.display=function(t){return t?this.element.setAttribute("display",t):this.element.removeAttribute("display"),this},this.visibility=function(t){return t?this.element.setAttribute("visibility",t):this.element.removeAttribute("visibility"),this},this.translate=function(t,e){return e=null!=e&&e>-1/0&&e<1/0?e:0,0!=(t=null!=t&&t>-1/0&&t<1/0?t:0)||0!=e?this.element.setAttribute("transform","translate("+t+","+e+")"):this.element.removeAttribute("transform"),this},this.createElement=function(t){return document.createElementNS("http://www.w3.org/2000/svg",t||"g")}})),a=s((function(t){this.createElement=function(t){return document.createElement("<splvml:"+(t||"group")+' class="splvml">')}}));t.mixin(this,r,a)}))}.call(e,i,e,t))||(t.exports=n)},"splunk/vectors/VectorUtils":function(t,e,i){var n;void 0===(n=function(t,e,n){return i("contrib/jg_lib/Class")(n.i,(function(t){t.toSVGString=function(t){var e=t.cloneNode(!0),i=document.createElement("div");i.appendChild(e);var n=i.innerHTML;return e=null,i=null,n=(n=(n=n.replace(/xlink:href=|href=/g,"x:href=")).replace(/<image([\S\s]*?)\s*\/?>\s*(<\/image>)?/g,"<image$1></image>")).replace(/^<svg/,'<svg xmlns="http://www.w3.org/2000/svg" xmlns:x="http://www.w3.org/1999/xlink"')},t.concatSVGStrings=function(){for(var t,e,i,n="",s=0,r=0,a=0,o=arguments.length;a<o;a++)(e=(t=arguments[a]).match(/^<svg[^>]*viewBox=\"([^ ]+) ([^ ]+) ([^ ]+) ([^\"]+)\"[^>]*>/))&&5==e.length?(i={x:Number(e[1]),y:Number(e[2]),width:Number(e[3]),height:Number(e[4])},s=Math.max(s,i.width),r=Math.max(r,i.height)):i=null,n+=t=(t=!i||0==i.x&&0==i.y?t.replace(/^<svg[^>]*>/,"<g>"):t.replace(/^<svg[^>]*>/,'<g transform="translate('+-i.x+", "+-i.y+')">')).replace(/<\/svg>$/,"</g>");return t="<svg",t+=' xmlns="http://www.w3.org/2000/svg"',t+=' xmlns:x="http://www.w3.org/1999/xlink"',t+=' width="'+s+'"',t+=' height="'+r+'"',t+=' viewBox="0 0 '+s+" "+r+'"',t+=">",t+=n,t+="</svg>"}}))}.call(e,i,e,t))||(t.exports=n)},"splunk/vectors/Viewport":function(t,e,i){var n;void 0===(n=function(t,e,n){var s=i("contrib/jg_lib/Class"),r=i("contrib/jg_lib/geom/Rectangle"),a=i("splunk/vectors/VectorElement"),o=i("splunk/vectors/VectorUtils");return s(n.i,a,(function(t,e){this.constructor=function(t,i,n,s){e.constructor.call(this)},this.width=function(t){return this},this.height=function(t){return this},this.viewBox=function(t){return this},this.preserveAspectRatio=function(t){return this},this.toSVGString=function(){return""};var i=s((function(t){this.constructor=function(t,i,n,s){e.constructor.call(this,"svg"),this.width(null!=t?t:0),this.height(null!=i?i:0),null!=n&&this.viewBox(n),null!=s&&this.preserveAspectRatio(s)},this.appendTo=function(t){if(null==t)throw new Error("Parameter parentElement must be non-null.");if(null==t.appendChild)throw new Error("Parameter parentElement must be a DOM node.");return t.appendChild(this.element),this},this.width=function(t){return null!=t&&t<1/0?this.element.setAttribute("width",Math.max(t,0)):this.element.setAttribute("width",0),this},this.height=function(t){return null!=t&&t<1/0?this.element.setAttribute("height",Math.max(t,0)):this.element.setAttribute("height",0),this},this.viewBox=function(t){return t&&t instanceof r&&t.isFinite()?this.element.setAttribute("viewBox",t.x+" "+t.y+" "+t.width+" "+t.height):this.element.removeAttribute("viewBox"),this},this.preserveAspectRatio=function(t){return t?this.element.setAttribute("preserveAspectRatio",t):this.element.removeAttribute("preserveAspectRatio"),this},this.toSVGString=function(){return o.toSVGString(this.element)}})),n=s((function(t){this._containerElement=null,this._width=0,this._height=0,this._viewBox=null,this.constructor=function(t,i,n,s){e.constructor.call(this,"group"),this._containerElement=document.createElement("div"),this._containerElement.style.position="relative",this._containerElement.style.overflow="hidden",this._containerElement.appendChild(this.element),this.width(null!=t?t:0),this.height(null!=i?i:0),null!=n&&this.viewBox(n),null!=s&&this.preserveAspectRatio(s)},this.appendTo=function(t){if(null==t)throw new Error("Parameter parentElement must be non-null.");if(null==t.appendChild)throw new Error("Parameter parentElement must be a DOM node.");return t.appendChild(this._containerElement),this},this.remove=function(){return this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement),this},this.dispose=function(){e.dispose.call(this),this._containerElement=null},this.display=function(t){return this._containerElement.style.display=t||"",this},this.visibility=function(t){return this._containerElement.style.visibility=t||"",this},this.translate=function(t,e){return t=null!=t&&t>-1/0&&t<1/0?t:0,e=null!=e&&e>-1/0&&e<1/0?e:0,this._containerElement.style.left=0!=t?t+"px":"",this._containerElement.style.top=0!=e?e+"px":"",this},this.width=function(t){return this._width=null!=t&&t<1/0?Math.max(t,0):0,this._updateView(),this},this.height=function(t){return this._height=null!=t&&t<1/0?Math.max(t,0):0,this._updateView(),this},this.viewBox=function(t){return this._viewBox=t&&t instanceof r&&t.isFinite()?t.clone():null,this._updateView(),this},this.preserveAspectRatio=function(t){return this},this._updateView=function(){var t=Math.round(this._width),e=Math.round(this._height),i=this._viewBox,n=i?Math.round(i.x):0,s=i?Math.round(i.y):0,r=i?Math.round(Math.max(i.width,1)):t,a=i?Math.round(Math.max(i.height,1)):e,o=this.element,l=o.style,h=this._containerElement.style;l.display="none",o.coordorigin=n+","+s,o.coordsize=r+","+a,l.width=t+"px",l.height=e+"px",h.width=t+"px",h.height=e+"px",l.display=""}}));a.mixin(this,i,n)}))}.call(e,i,e,t))||(t.exports=n)},"splunk/vectors/Wedge":function(t,e,i){var n;void 0===(n=function(t,e,n){var s=i("contrib/jg_lib/Class"),r=i("contrib/jg_lib/utils/NumberUtil"),a=i("splunk/vectors/Shape"),o=i("splunk/vectors/VectorElement");return s(n.i,a,(function(t,e){this.constructor=function(){e.constructor.call(this)},this.draw=function(t,e,i,n,s,r){return this};var i=s((function(t){this.constructor=function(){e.constructor.call(this,"path")},this.draw=function(t,e,i,n,s,a){if(t=null!=t&&t>-1/0&&t<1/0?t:0,e=null!=e&&e>-1/0&&e<1/0?e:0,i=null!=i&&i<1/0?Math.max(i,0):0,n=null!=n&&n<1/0?Math.max(n,0):0,s=null!=s&&s>-1/0&&s<1/0?s:0,a=null==a||null==a||isNaN(a)?0:r.minMax(a,-360,360),0==i||0==n||0==a)return this.element.removeAttribute("d"),this;var o=s/180*Math.PI,l=t+Math.cos(o)*i,h=e+Math.sin(o)*n,u=(s+a/2)/180*Math.PI,c=t+Math.cos(u)*i,p=e+Math.sin(u)*n,d=(s+a)/180*Math.PI,m=a<0?0:1,f="";return a>-360&&a<360?(f+="M"+t+","+e,f+=" L"+l+","+h):f+="M"+l+","+h,f+=" A"+i+","+n+" 0 0 "+m+" "+c+","+p,f+=" "+i+","+n+" 0 0 "+m+" "+(t+Math.cos(d)*i)+","+(e+Math.sin(d)*n),f+=" Z",this.element.setAttribute("d",f),this}})),n=s((function(t){this._pathElement=null,this.constructor=function(){e.constructor.call(this,"shape"),this._pathElement=this.createElement("path"),this.element.style.width="1px",this.element.style.height="1px",this.element.coordsize="64,64",this.element.appendChild(this._pathElement)},this.dispose=function(){e.dispose.call(this),this._pathElement=null},this.draw=function(t,e,i,n,s,a){if(t=null!=t&&t>-1/0&&t<1/0?t:0,e=null!=e&&e>-1/0&&e<1/0?e:0,i=null!=i&&i<1/0?Math.max(i,0):0,n=null!=n&&n<1/0?Math.max(n,0):0,s=null!=s&&s>-1/0&&s<1/0?s:0,a=null==a||null==a||isNaN(a)?0:r.minMax(a,-360,360),0==i||0==n||0==a)return this._pathElement.v=" ",this;var o=s/180*Math.PI,l=t+Math.cos(o)*i,h=e+Math.sin(o)*n,u=(s+a/2)/180*Math.PI,c=t+Math.cos(u)*i,p=e+Math.sin(u)*n,d=(s+a)/180*Math.PI,m=t+Math.cos(d)*i,f=e+Math.sin(d)*n,g=Math.round(64*(t-i)),_=Math.round(64*(e-n)),b=Math.round(64*(t+i)),v=Math.round(64*(e+n));t=Math.round(64*t),e=Math.round(64*e),l=Math.round(64*l),h=Math.round(64*h);var y="";return a>-360&&a<360?(y+="m "+t+","+e,y+=" l "+l+","+h):y+="m "+l+","+h,y+=a<0?" at":" wa",y+=" "+g+","+_+","+b+","+v+", "+l+","+h+", "+(c=Math.round(64*c))+","+(p=Math.round(64*p)),y+=", "+g+","+_+","+b+","+v+", "+c+","+p+", "+(m=Math.round(64*m))+","+(f=Math.round(64*f)),y+=" x",this._pathElement.v=y,this}}));o.mixin(this,i,n)}))}.call(e,i,e,t))||(t.exports=n)},"splunk/viz/MDataTarget":function(t,e,i){var n;void 0===(n=function(t,e,n){var s=i("contrib/jg_lib/Class"),r=i("contrib/jg_lib/async/Pass"),a=i("contrib/jg_lib/properties/ObservableArrayProperty"),o=i("contrib/jg_lib/properties/ObservableProperty"),l=i("splunk/charting/Legend");return s(n.i,(function(t){this.processDataPass=new r("processData",.1),this.updateLegendLabelsPass=new r("updateLegendLabels",.2),this.renderDataPass=new r("renderData",.3),this.data=new o("data",Array,null).onChange((function(t){this.invalidate("processDataPass")})),this.fields=new a("fields",String,null).onChange((function(t){this.invalidate("processDataPass")})),this.legend=new o("legend",l,null).onChange((function(t){if(t.target===this){var e=t.oldValue,i=t.newValue;return e&&(e.off("settingLabels",this._legend_settingLabels,this),e.unregister(this)),i&&(i.register(this),i.on("settingLabels",this._legend_settingLabels,this)),void this.invalidate("updateLegendLabelsPass")}t.event!==t.target.labelIndexMapChanged||this.invalidate("renderDataPass")})),this._cachedData=null,this._cachedFields=null,this._cachedLegend=null,this.processData=function(){if(!this.isValid("processDataPass")){this.invalidate("updateLegendLabelsPass");var t=this._cachedData=this.getInternal("data")||[],e=this._cachedFields=this.getInternal("fields")||[];this.processDataOverride(t,e),this.markValid("processDataPass")}},this.updateLegendLabels=function(){if(!this.isValid("updateLegendLabelsPass")){this.invalidate("renderDataPass");var t=this._cachedLegend=this.getInternal("legend"),e=null;t&&(e=this.updateLegendLabelsOverride(this._cachedData,this._cachedFields)),this.markValid("updateLegendLabelsPass"),t&&t.setLabels(this,e)}},this.renderData=function(){this.isValid("renderDataPass")||(this.renderDataOverride(this._cachedData,this._cachedFields,this._cachedLegend),this.markValid("renderDataPass"))},this.processDataOverride=function(t,e){},this.updateLegendLabelsOverride=function(t,e){return null},this.renderDataOverride=function(t,e,i){},this._legend_settingLabels=function(t){this.validate("updateLegendLabelsPass"),this.updateLegendLabels()}}))}.call(e,i,e,t))||(t.exports=n)},"splunk/viz/MRenderTarget":function(t,e,i){var n;void 0===(n=function(t,e,n){var s=i("contrib/jg_lib/Class"),r=i("contrib/jg_lib/async/Pass");return s(n.i,(function(t){this.renderPass=new r("render",3,"topDown"),this.render=function(){}}))}.call(e,i,e,t))||(t.exports=n)},"views/shared/map/Master":function(t,e,i){var n;void 0===(n=function(t,e,n){var s=i("shim/jquery"),r=i("stubs/i18n"),a=i("require/underscore"),o=i("shim/splunk.util"),l=o.sprintf,h=i("contrib/jg_lib/graphics/Color"),u=i("contrib/jg_lib/utils/FunctionUtil"),c=i("models/Base"),p=i("splunk/charting/ExternalLegend"),d=i("splunk/mapping/Map"),m=i("splunk/mapping/layers/ChoroplethLayer"),f=i("splunk/mapping/layers/PieMarkerLayer"),g=i("splunk/mapping/parsers/LatLonBoundsParser"),_=i("splunk/mapping/parsers/LatLonParser"),b=i("splunk/palettes/ColorCodes"),v=i("splunk/palettes/FieldColorPalette"),y=i("splunk/palettes/ListColorPalette"),L=i("splunk/parsers/ArrayParser"),w=i("splunk/parsers/BooleanParser"),x=i("splunk/parsers/ColorParser"),C=i("splunk/parsers/NumberParser"),M=i("splunk/parsers/ObjectParser"),P=i("splunk/parsers/StringParser"),k=(i("splunk/mapping/utils/GeoJsonUtils"),i("views/shared/viz/Base")),N=i("util/console"),T=i("splunk/mapping/controls/ResetZoomControl"),E=i("splunk/mapping/axis/NumericAxis"),A=i("splunk/mapping/controls/NumericalLegend"),O=i("util/general_utils"),V=i("splunk/mapping/controls/CategoricalVisualLegend"),j=i("util/theme_utils"),S=(i("views/shared/map/Master.pcss"),{output_mode:"json_cols",show_metadata:"true",offset:"0"}),I={fieldColors:"",seriesColors:"["+b.toPrefixed(b.CATEGORICAL,"0x").join(",")+"]","data.maxClusters":"100",showTiles:"1","tileLayer.tileOpacity":"1","tileLayer.url":"/splunkd/__raw/services/mbtiles/splunk-tiles/{z}/{x}/{y}","tileLayer.subdomains":"[a,b,c]","tileLayer.minZoom":"0","tileLayer.maxZoom":"7","tileLayer.invertY":"false","tileLayer.attribution":"","map.scrollZoom":0,"map.panning":!0,"markerLayer.markerOpacity":"1","markerLayer.markerMinSize":"10","markerLayer.markerMaxSize":"50",drilldown:"all","choroplethLayer.colorMode":"auto","choroplethLayer.maximumColor":"0xAF575A","choroplethLayer.minimumColor":"0x2F25BA","choroplethLayer.neutralPoint":"0","choroplethLayer.shapeOpacity":"0.75","choroplethLayer.colorBins":"5","choroplethLayer.showBorder":"1",layerType:"marker"},z="dark"===j.getCurrentTheme().colorScheme?{"tileLayer.url":"/splunkd/__raw/services/mbtiles/splunk-tiles-dark/{z}/{x}/{y}"}:{"tileLayer.url":"/splunkd/__raw/services/mbtiles/splunk-tiles/{z}/{x}/{y}"},D=a.extend({},I,z),B=/^display\.visualizations\.mapping\./;return k.extend({moduleId:n.i,_map:null,_markerLayer:null,_choroplethLayer:null,_externalLegend:null,_fieldColorPalette:null,_seriesColorPalette:null,_choroplethColorPalette:null,_choroplethColorMode:null,_choroplethAutoDetectedColorMode:"sequential",_choroplethMinimumColor:h.fromNumber(0),_choroplethNeutralColor:h.fromNumber(16777215),_choroplethMaximumColor:h.fromNumber(0),_choroplethNullColor:h.fromNumber(13750737),_numericLegend:null,_numericAxis:null,_propertyValues:null,_booleanParser:null,_numberParser:null,_stringParser:null,_colorParser:null,_numberArrayParser:null,_stringArrayParser:null,_colorArrayParser:null,_numberObjectParser:null,_colorObjectParser:null,_latLonParser:null,_latLonBoundsParser:null,_maxClusters:100,_maxShapes:1e4,_isPrinting:!1,_prePrintCenter:null,_prePrintZoom:0,_drilldown:"all",_layerType:null,initialize:function(t){this.model.config||(this.model.config=new c),k.prototype.initialize.apply(this,arguments),this.options=t||{},this.$el.width(this.options.width||"100%"),this.$el.height(this.options.height||"100%");var e=parseInt(o.getConfigValue("CHOROPLETH_SHAPE_LIMIT",this._maxShapes)||0,10);a.isNaN(e)||(this._maxShapes=e),this._map_boundsChanged=u.bind(this._map_boundsChanged,this),this._map_mapClicked=u.bind(this._map_mapClicked,this),this._propertyValues={},this._booleanParser=w.getInstance(),this._numberParser=C.getInstance(),this._stringParser=P.getInstance(),this._colorParser=x.getInstance(),this._numberArrayParser=L.getInstance(this._numberParser),this._stringArrayParser=L.getInstance(this._stringParser),this._colorArrayParser=L.getInstance(this._colorParser),this._numberObjectParser=M.getInstance(this._numberParser),this._colorObjectParser=M.getInstance(this._colorParser),this._latLonParser=_.getInstance(),this._latLonBoundsParser=g.getInstance(),this._seriesColorPalette=new y,this._fieldColorPalette=new v(null,this._seriesColorPalette),this._externalLegend=new p,this._categoricalVisualLegend=new V,this._externalLegend.connect(),this._markerLayer=new f,this._markerLayer.set("legend",this._externalLegend),this._markerLayer.set("markerColorPalette",this._fieldColorPalette),this._numericAxis=new E,this._numericLegend=new A,this._choroplethColorPalette=new y(null,!0),this._updateChoroplethColorPalette(),this._choroplethLayer=new m,this._choroplethLayer.set("colorPalette",this._choroplethColorPalette),this._numericLegend.set("axis",this._numericAxis),this._categoricalVisualLegend.set("colorPalette",this._fieldColorPalette),this._categoricalVisualLegend.set("legend",this._externalLegend),this._choroplethLayer.set("legend",this._externalLegend),this._numericLegend.set("colorPalette",this._choroplethColorPalette),this._map=new d,this._updateDataBounds(),this._map.formatNumber=this._formatNumber,this._map.formatDegrees=this._formatDegrees;var i=this.model.config.get("display.visualizations.mapping.map.zoom"),n=this.model.config.get("display.visualizations.mapping.map.center");this._map.on("boundsChanged",this._map_boundsChanged.bind(this)),this._map.on("mapClicked",this._map_mapClicked),this._map.appendTo(this.$el),this._map.fitWorld(!0),this._reset_zoom=new T({originalZoom:i,originalCenter:n}),this._map.addControl(this._reset_zoom),this.$el.find(".leaflet-top").css("z-index","50"),this.$el.on("mouseenter",".legend-elem",function(t){var e=s(t.currentTarget).data().fieldName;this._choroplethLayer.set("selectedField",""+e),this._numericLegend.set("selectedField",""+e),this._categoricalVisualLegend.set("selectedField",""+e)}.bind(this)),this.$el.on("mouseleave",".legend-elem",function(t){this._choroplethLayer.set("selectedField",null),this._numericLegend.set("selectedField",null),this._categoricalVisualLegend.set("selectedField",null)}.bind(this))},getCenter:function(){return this._map.get("center").normalize()},getZoom:function(){return this._map.get("zoom")},getLatLonBounds:function(){return this._map.getLatLonBounds().normalize()},getScrollWheelZoom:function(){return this._map.leafletMap.scrollWheelZoom._enabled},getPostProcessSearch:function(){var t=this._map.getLatLonBounds().normalize();return"marker"===this._layerType?"geofilter south="+t.s+" west="+t.w+" north="+t.n+" east="+t.e+" maxclusters="+this._maxClusters:"geomfilter min_y="+t.s+" min_x="+t.w+" max_y="+t.n+" max_x="+t.e},hasNonZeroBounds:function(){var t=this._map.getLatLonBounds().normalize();return!(0===t.s&&0===t.w&&0===t.n&&0===t.e)},getResultsCount:function(){return"marker"===this._layerType?this._maxClusters:this._maxShapes},formatData:function(){var t=null,e=this.getPrimaryDataSource().searchResults;t=e.has("rows")?this._extractRowData(e):this._extractColumnData(e),N.debug("Updating map data to",t);var i=[];if(this._layerType=this.model.config.get("display.visualizations.mapping.type"),"marker"===this._layerType&&this._markerLayer)this._markerLayer.set("data",t?t.data:null),this._markerLayer.set("fields",t?this._filterFields(t.fields):null);else if("choropleth"===this._layerType&&this._choroplethLayer){if(!a(t.fields).contains("geom"))return this._choroplethLayer.set("featureIdFieldName",null),this._choroplethLayer.set("data",null),void this._choroplethLayer.set("fields",null);var n,s=t.data[0]._featureIdField;if(s&&(n=a.union([s],this._filterFields(t.fields))),n&&n.length>1){for(var r=n[1],o=0;o<t.data.length;o++)i.push(t.data[o][r]);i.length>0&&(this._choroplethAutoDetectedColorMode=O.valuesAreNumeric(i)?"sequential":"categorical"),this.model.config.set({autoDetectedColorMode:this._choroplethAutoDetectedColorMode},{transient:!0}),"auto"===this._choroplethColorMode&&this._updateChoroplethToMatchColorMode()}this._choroplethLayer.set("featureIdFieldName",n?n[0]:null),this._choroplethLayer.set("data",t?t.data:null),this._choroplethLayer.set("fields",t?n:null)}else N.log("cannot update layer data because of incorrect layerType, OR the _layerType hasn't been initialized!")},provideScaleValues:function(t,e){var i={color:[]};if("choropleth"!==this._layerType)return i;var n=this._choroplethLayer.get("fields"),s=this._choroplethLayer.get("featureIdFieldName");if(!n||!s)return i;var r=m.parseFieldTypes(n,s).count;return{color:a(this._choroplethLayer.get("data")).pluck(r)}},updateView:function(t,e,i){i();var n,s=this._propertyValues,r={};for(n in s)s.hasOwnProperty(n)&&(r[n]=null);var a=D;for(n in a)a.hasOwnProperty(n)&&(r[n]=a[n]);var o,l=this.model.config?this.model.config.toJSON():{};for(n in l)l.hasOwnProperty(n)&&B.test(n)&&null!=(o=l[n])&&""!==o&&(r[n.replace(B,"")]=o);r.hasOwnProperty("map.zoom")&&(this._setMapProperty("map.zoom",r["map.zoom"]),this._reset_zoom.setOriginalZoom(r["map.zoom"])),r.hasOwnProperty("map.center")&&(this._setMapProperty("map.center",r["map.center"]),this._reset_zoom.setOriginalCenter(r["map.center"])),r.hasOwnProperty("map.fitBounds")&&this._setMapProperty("map.fitBounds",r["map.fitBounds"]);var h=r["choroplethLayer.colorMode"];if("auto"===h||"sequential"===h||"divergent"===h||"categorical"===h?this._choroplethColorMode=h:delete r["choroplethLayer.colorMode"],"divergent"!==this._getComputedColorMode()&&(r["choroplethLayer.minimumColor"]=null,r["choroplethLayer.neutralPoint"]=null),"categorical"!==this._getComputedColorMode()&&this.getScale("color")){var u=this.getScale("color");this._choroplethLayer.set("sharedMinimum",u.get("actualMinimum")),this._choroplethLayer.set("sharedMaximum",u.get("actualMaximum"))}else this._choroplethLayer.set("sharedMinimum",-1/0),this._choroplethLayer.set("sharedMaximum",1/0);for(n in r)r.hasOwnProperty(n)&&this._setMapProperty(n,r[n])},onAddedToDocument:function(){this._map.updateSize()},remove:function(){return this._map.off("boundsChanged",this._map_boundsChanged),this._map.off("mapClicked",this._map_mapClicked),this._map.dispose(),this._markerLayer.off("rendered",this._onDataLayerRendered,this),this._choroplethLayer.off("rendered",this._onDataLayerRendered,this),this._externalLegend.close(),k.prototype.remove.apply(this,arguments)},onShow:function(){this._map.updateSize(),this._map.validate(),k.prototype.onShow.call(this)},_updateDataBounds:function(){var t=this.model.config;if(t){var e=this._map.getLatLonBounds().normalize();t.set({"display.visualizations.mapping.data.bounds":this._latLonBoundsParser.valueToString(e)})}},_needsPropertyUpdate:function(t){if(!t)return!1;for(var e in t)if(t.hasOwnProperty(e)&&"display.visualizations.mapping.data.bounds"!==e)return!0;return!1},_extractRowData:function(t){var e={},i=this._getNormalizedFieldNames(t),n=t.get("rows");if(i&&n){var s,r,a,o,l,h=i.length,u=n.length;for(e.fields=i.concat(),e.data=[],o=0;o<u;o++){for(r=n[o],s=Math.min(r.length,h),a={},l=0;l<s;l++)a[i[l]]=r[l];e.data.push(a)}}return e},_extractColumnData:function(t){var e={},i=this._getNormalizedFieldNames(t),n=t.get("columns");if(i&&n){var s,r,a,o=Math.min(i.length,n.length),l=o>0?n[0].length:0;for(r=1;r<o;r++)l=Math.min(l,n[r].length);for(e.fields=i.slice(0,o),e.data=[],r=0;r<l;r++){for(s={},a=0;a<o;a++)s[i[a]]=n[a][r];e.data.push(s)}}return e},_getNormalizedFieldNames:function(t){return a(t.get("fields")).map((function(t){return a.isString(t)?t:t.name}))},_filterFields:function(t){if(!t)return null;for(var e,i=[],n=0,s=t.length;n<s;n++)(e=t[n])&&"_"!==e.charAt(0)&&i.push(e);return i},_setMapProperty:function(t,e){if(e=null!=e?String(e):null,this._propertyValues[t]!=e)switch(null!=e?this._propertyValues[t]=e:delete this._propertyValues[t],t){case"fieldColors":var i=a.extend({NULL:this._choroplethNullColor},this._colorObjectParser.stringToValue(e));this._fieldColorPalette.set("fieldColors",i);break;case"seriesColors":this._seriesColorPalette.set("colors",this._colorArrayParser.stringToValue(e));break;case"data.maxClusters":var n=this._numberParser.stringToValue(e);this._maxClusters=n<1/0?Math.max(Math.floor(n),64):100,this._updateDataParams();break;case"map.center":var s=this._latLonParser.stringToValue(e);s&&this._map.set("center",s);break;case"map.zoom":var r=this._numberParser.stringToValue(e);isNaN(r)||this._map.set("zoom",r);break;case"map.fitBounds":var o=this._latLonBoundsParser.stringToValue(e);o&&this._map.fitBounds(o);break;case"map.scrollZoom":this._booleanParser.stringToValue(e)?this._map.leafletMap.scrollWheelZoom.enable():this._map.leafletMap.scrollWheelZoom.disable();break;case"map.panning":this._booleanParser.stringToValue(e)?this._map.leafletMap.dragging.enable():this._map.leafletMap.dragging.disable();break;case"drilldown":this._drilldown=this._stringParser.stringToValue(e);break;case"showTiles":this._map.set("showTiles",this._booleanParser.stringToValue(e));break;case"tileLayer.tileOpacity":this._map.set("tileOpacity",this._numberParser.stringToValue(e));break;case"tileLayer.url":this._map.set("tileURL",this._resolveURL(e));break;case"tileLayer.subdomains":this._map.set("tileSubdomains",this._stringArrayParser.stringToValue(e));break;case"tileLayer.minZoom":this._map.set("tileMinZoom",this._numberParser.stringToValue(e));break;case"tileLayer.maxZoom":this._map.set("tileMaxZoom",this._numberParser.stringToValue(e));break;case"tileLayer.invertY":this._map.set("tileInvertY",this._booleanParser.stringToValue(e));break;case"tileLayer.attribution":this._map.set("tileAttribution",this._stringParser.stringToValue(e));break;case"markerLayer.markerOpacity":this._markerLayer.set("markerOpacity",this._numberParser.stringToValue(e));break;case"markerLayer.markerMinSize":this._markerLayer.set("markerMinSize",this._numberParser.stringToValue(e));break;case"markerLayer.markerMaxSize":this._markerLayer.set("markerMaxSize",this._numberParser.stringToValue(e));break;case"choroplethLayer.colorMode":var l=this._getComputedColorMode();"sequential"!==l&&"divergent"!==l||this._updateChoroplethColorPalette(),this._updateChoroplethToMatchColorMode();break;case"choroplethLayer.maximumColor":this._choroplethMaximumColor=this._colorParser.stringToValue(e),this._updateChoroplethColorPalette();break;case"choroplethLayer.minimumColor":this._choroplethMinimumColor=this._colorParser.stringToValue(e),this._updateChoroplethColorPalette();break;case"choroplethLayer.colorBins":var h=this._numberParser.stringToValue(e);this._choroplethLayer.set("bins",h),this._numericLegend.set("bins",h);break;case"choroplethLayer.neutralPoint":var u=null!=e?this._numberParser.stringToValue(e):NaN;this._choroplethLayer.set("neutralPoint",u),this._numericLegend.set("neutralPoint",u);break;case"choroplethLayer.shapeOpacity":this._choroplethLayer.set("shapeOpacity",this._numberParser.stringToValue(e));break;case"choroplethLayer.showBorder":var c=this._booleanParser.stringToValue(e);this._choroplethLayer.set("borderWidth",c?1:0);break;case"legend.placement":var p="none"!==e;this._numericLegend.set("isVisible",p),this._categoricalVisualLegend.set("isVisible",p);break;case"type":"marker"===e?(this._map.removeLayer(this._choroplethLayer),this._choroplethLayer.off("rendered",this._onDataLayerRendered,this),this._map.addLayer(this._markerLayer),this._markerLayer.on("rendered",this._onDataLayerRendered,this),this._map.removeControl(this._numericLegend),this._map.removeControl(this._categoricalVisualLegend),this._updateDataParams()):"choropleth"===e?(this._map.removeLayer(this._markerLayer),this._markerLayer.off("rendered",this._onDataLayerRendered,this),this._map.addLayer(this._choroplethLayer),this._choroplethLayer.on("rendered",this._onDataLayerRendered,this),this._updateChoroplethToMatchColorMode(),this._updateDataParams()):N.log("cannot initialize customize layer because of incorrect _layerType!")}},_updateChoroplethColorPalette:function(){"divergent"===this._getComputedColorMode()?this._choroplethColorPalette.set("colors",[this._choroplethMinimumColor,this._choroplethNeutralColor,this._choroplethMaximumColor]):this._choroplethColorPalette.set("colors",[this._choroplethNeutralColor,this._choroplethMaximumColor])},_updateChoroplethToMatchColorMode:function(){"categorical"===this._getComputedColorMode()?(this._map.isCategorical=!0,this._choroplethLayer.set("axis",null),this._choroplethLayer.set("legend",this._externalLegend),this._choroplethLayer.set("colorPalette",this._fieldColorPalette),this._map.removeControl(this._numericLegend),this._map.addControl(this._categoricalVisualLegend)):(this._map.isCategorical=!1,this._choroplethLayer.set("legend",null),this._choroplethLayer.set("axis",this._numericAxis),this._choroplethLayer.set("colorPalette",this._choroplethColorPalette),this._map.removeControl(this._categoricalVisualLegend),this._map.addControl(this._numericLegend))},_getComputedColorMode:function(){return"auto"===this._choroplethColorMode?this._choroplethAutoDetectedColorMode:this._choroplethColorMode},_resolveURL:function(t){var e=t?o.trim(t):t;if(e&&"/"===e.charAt(0)){var i="/"===e.charAt(e.length-1);"/"===(e=o.make_url(e)).charAt(e.length-1)!=i&&(e=i?e+"/":e.substring(0,e.length-1)),t=e}return t},_formatNumber:function(t){var e=Math.abs(t);return e>0&&(e<.001||e>=1e9)?r.format_scientific(t,"##0E0"):r.format_decimal(t)},_formatDegrees:function(t,e){var i=Math.abs(t),n=Math.floor(i),s=""+n,r=60*(i-n),o=Math.floor(r),h=o<10?"0"+o:""+o,u=60*(r-o),c=Math.floor(u),p=c<10?"0"+c:""+c,d="";return t>0?d="ns"===e?a("N").t():a("E").t():t<0&&(d="ns"===e?a("S").t():a("W").t()),c>0?l("%(degrees)s°%(minutes)s'%(seconds)s\"%(direction)s",{degrees:s,minutes:h,seconds:p,direction:d}):o>0?l("%(degrees)s°%(minutes)s'%(direction)s",{degrees:s,minutes:h,direction:d}):l("%(degrees)s°%(direction)s",{degrees:s,direction:d})},onConfigChange:function(t){a(t).chain().keys().any((function(t){return 0===t.indexOf("display.visualizations.mapping.")})).value()&&(t.hasOwnProperty("display.visualizations.mapping.type")&&this.invalidate("formatDataPass"),this.invalidate("updateViewPass"))},_shouldUpdateViewOnDataChange:function(){return!1},_map_boundsChanged:function(t){this._isPrinting||(this._updateDataBounds(),this._updateDataParams(),this.model.config.set({currentMapZoom:this.getZoom(),currentMapCenter:this.getCenter().clone()},{transient:!0}),this.trigger("boundsChanged",{}))},_map_mapClicked:function(t){this._isPrinting||"none"===this._drilldown||this.trigger("drilldown",{data:t.data,fields:t.fields,altKey:t.altKey,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey,type:"geoviz"})},onPrintStart:function(t){this._isPrinting||(this._isPrinting=!0,this._prePrintCenter=this._map.get("center"),this._prePrintZoom=this._map.get("zoom"),this._map.updateSize(),this._map.validate())},onPrintEnd:function(t){this._isPrinting&&(this._map.set("center",this._prePrintCenter),this._map.set("zoom",this._prePrintZoom),this._prePrintCenter=null,this._prePrintZoom=0,this._isPrinting=!1,this._map.updateSize(),this._map.validate())},_onDataLayerRendered:function(){this._map.off("tilesLoaded.change",this._handleTileLoadOnce,this),this._map.get("tilesLoaded")?this._onViewUpdated():this._map.on("tilesLoaded.change",this._handleTileLoadOnce,this)},_handleTileLoadOnce:function(){this._onViewUpdated(),this._map.off("tilesLoaded.change",this._handleTileLoadOnce,this)},_updateDataParams:function(){this._layerType=this.model.config.get("display.visualizations.mapping.type"),this._layerType&&this.hasNonZeroBounds()&&this.getPrimaryDataSource().updateFetchParams(a.extend({},S,{search:this.getPostProcessSearch(),count:String(this.getResultsCount())}))}},{DEFAULT_PROPERTY_VALUES:D})}.call(e,i,e,t))||(t.exports=n)},"views/shared/map/Master.pcss":function(t,e,i){var n=i(1322);"string"==typeof n&&(n=[[t.i,n,""]]);var s={sourceMap:!1,hmr:!0,transform:void 0,insertInto:void 0};i(3)(n,s);n.locals&&(t.exports=n.locals)}}]);