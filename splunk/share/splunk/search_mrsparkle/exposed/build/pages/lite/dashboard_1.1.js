!function(e){function t(t){for(var n,r,o=t[0],l=t[1],d=t[2],u=0,c=[];u<o.length;u++)r=o[u],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&c.push(s[r][0]),s[r]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);for(h&&h(t);c.length;)c.shift()();return a.push.apply(a,d||[]),i()}function i(){for(var e,t=0;t<a.length;t++){for(var i=a[t],n=!0,o=1;o<i.length;o++){var l=i[o];0!==s[l]&&(n=!1)}n&&(a.splice(t--,1),e=r(r.s=i[0]))}return e}var n={},s={23:0},a=[];function r(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.e=function(e){var t=[],i=s[e];if(0!==i)if(i)t.push(i[2]);else{var n=new Promise((function(t,n){i=s[e]=[t,n]}));t.push(i[2]=n);var a,o=document.createElement("script");o.charset="utf-8",o.timeout=120,r.nc&&o.setAttribute("nonce",r.nc),o.src=function(e){return r.p+""+({}[e]||e)+".js"}(e);var l=new Error;a=function(t){o.onerror=o.onload=null,clearTimeout(d);var i=s[e];if(0!==i){if(i){var n=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+n+": "+a+")",l.name="ChunkLoadError",l.type=n,l.request=a,i[1](l)}s[e]=void 0}};var d=setTimeout((function(){a({type:"timeout",target:o})}),12e4);o.onerror=o.onload=a,document.head.appendChild(o)}return Promise.all(t)},r.m=e,r.c=n,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(i,n,function(t){return e[t]}.bind(null,n));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r.oe=function(e){throw console.error(e),e};var o=window.webpackJsonp=window.webpackJsonp||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var d=0;d<o.length;d++)t(o[d]);var h=l;a.push([2013,0]),i()}({2013:function(e,t,i){var n,s;i.p=function(){function e(e,t){if(window.$C&&window.$C.hasOwnProperty(e))return window.$C[e];if(void 0!==t)return t;throw new Error("getConfigValue - "+e+" not set, no default provided")}return function(){for(var t,i,n="",s=0,a=arguments.length;s<a;s++)(i=(t=arguments[s].toString()).length)>1&&"/"==t.charAt(i-1)&&(t=t.substring(0,i-1)),"/"!=t.charAt(0)?n+="/"+t:n+=t;if("/"!=n){var r=n.split("/"),o=r[1];if("static"==o||"modules"==o){var l=n.substring(o.length+2,n.length);n="/"+o,window.$C.BUILD_NUMBER&&(n+="/@"+window.$C.BUILD_NUMBER),window.$C.BUILD_PUSH_NUMBER&&(n+="."+window.$C.BUILD_PUSH_NUMBER),"app"==r[2]&&(n+=":"+e("APP_BUILD",0)),n+="/"+l}}var d=e("MRSPARKLE_ROOT_PATH","/"),h=e("LOCALE","en-US"),u="/"+h+n;return""==d||"/"==d?u:d+u}("/static/build/pages/lite")+"/"}(),window.__splunkjs_router_disabled__=!0,window.__splunk_sent_css_telemetry__={},n=[i("dashboard/requirejsConfig"),i("routers/Dashboard"),i("util/router_utils")],void 0===(s=function(e,t,i){new t,i.start_backbone_history()}.apply(t,n))||(e.exports=s)},2048:function(e,t){e.exports="<style>\n    /*  Fonts */\n    /*  ----------- */\n\n    /*  Regular */\n    @font-face {\n        font-family: 'Splunk Platform Sans';\n        src: url('<%- make_url(\"static/fonts/proxima-regular-webfont.woff\") %>') format('woff');\n        font-weight: normal;\n        font-style: normal;\n    }\n\n    /*  semibold */\n    @font-face {\n        font-family: 'Splunk Platform Sans';\n        src: url('<%- make_url(\"static/fonts/proxima-semibold-webfont.woff\") %>') format('woff');\n        font-weight: 500;\n        font-style: normal;\n    }\n\n    /*  Bold */\n    @font-face {\n        font-family: 'Splunk Platform Sans';\n        src: url('<%- make_url(\"static/fonts/proxima-bold-webfont.woff\") %>') format('woff');\n        font-weight: bold;\n        font-style: normal;\n    }\n\n    .navSkip {\n        position: absolute;\n        margin: 1px 0px 0px 10px;\n        top: 0;\n        left: -1000px;\n        width: 150px;\n        height: 32px;\n        text-align: center;\n        line-height: 32px;\n        background-color: #171D21;\n        color: #C3CBD4;\n        z-index: 1040;\n    }\n\n    .navSkip:focus {\n        left: 0px;\n    }\n</style>\n<a aria-label=\"<%- _('Click here to skip the navigation bar').t() %>\"\n    class=\"navSkip\" href=\"#navSkip\"><%- _('Skip Navigation').t() %> &gt;\n</a>\n<header></header>\n<div id=\"navSkip\"></div>\n"},2055:function(e,t,n){var s=n("shim/jquery");Splunk.namespace("Splunk.Messenger"),Splunk.Messenger.Bus=s.klass({DATE_FORMAT:"%Y-%m-%dT%H:%M:%S",MAX_SUBJECTS_BUFFER:100,MAX_OBSERVERS_BUFFER:200,initialize:function(){this.count=1,this.id=0,this.logger=Splunk.Logger.getLogger("Splunk.Messenger.Bus"),this.observers=[],this.subjects=[],s(window).bind("unload",this.gc.bind(this))},createObserver:function(e,t,i,n,s){return e.control=!e.hasOwnProperty("control")||e.control,{filter:e,sort:t,callback:i,negate:n,cancel:s}},createSubject:function(e,t,i,n,s,a){return{level:e,control:a,content:t,className:i,date:n,id:s}},filter:function(e,t){var n=[],s=[];for(i=0;i<e.length;i++){var a=e[i],r=!0;for(var o in t)if(!t.hasOwnProperty(o)||!a.hasOwnProperty(o)||void 0===a[o]||("control"!=o||!t[t]&&a[o])&&(t[o]instanceof RegExp?-1==a[o].search(t[o]):t[o]!=a[o])){r=!1;break}r?n.push(a):s.push(a)}return{included:n,excluded:s}},gc:function(){this.observers=[]},getEmptySubject:function(){return this.createSubject("","","","","",!1)},getUniqueId:function(){this.id++;for(var e=[this.MAX_OBSERVERS_BUFFER].join("").length+1,t=[this.id,""].join("");t.length<e;)t=["0",t].join("");return t},getSubjects:function(e,t,i,n){n=arguments[3]||!1;var s=t&&this.hasSubjectProperty(t)?this.filter(this.subjects,t):{included:this.subjects.concat([]),excluded:[]},a=n?s.excluded:s.included,r=n?s.included:s.excluded;return e&&(this.subjects=r),i&&i.length>0?this.sort(a,i):a},getSubjectLength:function(e){var t=arguments[1]||!1;return this.getSubjects(!1,e,null,t).length},hasSubjectProperty:function(e){for(var t in e)if(this.isValidSubjectProperty(t))return!0;return!1},isValidSubject:function(e){var t=this.getEmptySubject();for(var i in t)if(t.hasOwnProperty(i)&&!e.hasOwnProperty(i))return!1;return!0},isValidSubjectProperty:function(e){return!!this.getEmptySubject().hasOwnProperty(e)},notify:function(e){var t;e=e.concat([]).sort(this.observerNotifySortby.bind(this));for(var i=0;i<e.length;i++){t=e[i];for(var n=this.getSubjects(t.cancel,t.filter,t.sort,t.negate),s=0;s<n.length;s++){var a=n[s];this.logger.info(a);try{t.callback(a)}catch(e){}}}for(var r=0;r<e.length;r++)t=e[r],this.getSubjects(!0,t.filter,null,t.negate)},observerNotifySortby:function(e,t){return 0},receive:function(e,t,i,n,s){var a=this.createObserver(e,t,i,n,s);this.observers.length>=this.MAX_OBSERVERS_BUFFER&&(this.logger.warn("observers length exceeds MAX_OBSERVERS_BUFFER constraint of",this.MAX_OBSERVERS_BUFFER,"dropping earliest item."),this.observers.shift()),this.observers.push(a),this.notify([a])},send:function(e,t,i,n,s,a){s=s||(new Date).strftime(this.DATE_FORMAT),n=n||this.getUniqueId(),a=!!a;var r=this.createSubject(e,t,i,s,n,a);this.subjects.length>=this.MAX_SUBJECTS_BUFFER&&(this.logger.warn("subjects length exceeds MAX_SUBJECTS_BUFFER constraint of",this.MAX_SUBJECTS_BUFFER,"dropping earliest item."),this.subjects.shift()),this.logger.info(sprintf("MSG [%s, %s] %s",e,i,t)),this.subjects.push(r),this.notify(this.observers)},sort:function(e,t){for(var i=e.concat([]),n=0;n<t.length;n++){var s=t[n];i.sort((function(e,t){return e.hasOwnProperty(s)&&t.hasOwnProperty(s)?[e[s],t[s]].sort()[0]!==e[s]?1:-1:(this.logger.warn("Cannot sort with invalid key",s),0)}))}return i}}),Splunk.Messenger.System=s.klass(Splunk.Messenger.Bus,{RECEIVE_WILD_CARD:"*",RECEIVE_LEVELS:["persistent","info","warn","error","fatal"],RECEIVE_LEVEL:"fatal",REQUEST_TIMEOUT:5e3,SERVER_ENABLED:!0,SERVER_POLL_INTERVAL:6e4,SERVER_RESOURCE:Splunk.util.make_url("/api/messages/index"),SERVER_CLASSIFIER:"splunk.services",SERVER_SESSION_EXPIRED_MESSAGE:_("Your session has expired."),SERVER_DOWN_MESSAGE:_("Your network connection may have been lost or Splunk web may be down."),SERVER_BACK_UP_MESSAGE:_("Your network connection was either restored or Splunk web was restarted."),OFFLINE_WARNING_THRESHOLD:2,initialize:function(){Splunk.Messenger.Bus.prototype.initialize.call(this),this.logger=Splunk.Logger.getLogger("Splunk.Messenger.System"),this.intervalId=null,this.isRequestQueued=!1,this.isServerDown=!1,this.errorCount=0,this.abortRequests=!1,this.previousEtag="",this.SERVER_ENABLED&&"undefined"==typeof DISABLE_MESSENGER&&(setTimeout(this.getServerMessages.bind(this),0),this.startPoller()),s(document).bind("SessionTimeout",this.onSessionTimeout.bind(this)),s(document).bind("SessionStart",this.onSessionStart.bind(this))},classNameSerialize:function(e){var t;if(e||(e=this.RECEIVE_WILD_CARD),e===this.RECEIVE_WILD_CARD)t=/./;else{var i=e.split(".");0===i.length&&(i=[e]);var n="^"+i.join(".");try{t=new RegExp(n)}catch(t){return this.logger.error("Could not create RegExp object for className",e),null}}return t},getServerMessages:function(){this.isRequestQueued||this.abortRequests||(this.isRequestQueued=!0,s.ajax({type:"GET",url:this.SERVER_RESOURCE,dataType:"text",beforeSend:function(e){if(this.previousEtag)try{e.setRequestHeader("If-None-Match",this.previousEtag)}catch(e){}}.bind(this),timeout:this.REQUEST_TIMEOUT,error:this.onServerMessagesError.bind(this),complete:this.onServerMessagesComplete.bind(this)}))},observerNotifySortby:function(e,t){var i=e.filter.className instanceof RegExp?e.filter.className.toString():e.filter.className,n=t.filter.className instanceof RegExp?t.filter.className.toString():t.filter.className,s=this.classNameSerialize(this.RECEIVE_WILD_CARD).toString();return i===s?1:n===s?-1:[i,n].sort()[0]!==i?1:-1},onServerMessagesError:function(){},onServerMessagesComplete:function(e,t){switch(this.isRequestQueued=!1,this.previousEtag=e.getResponseHeader("Etag"),e.status){case 0:case 12029:this.errorCount++,this.previousEtag=new Date,this.errorCount>=this.OFFLINE_WARNING_THRESHOLD&&(this.isServerDown=!0,this.send("error",this.SERVER_CLASSIFIER,this.SERVER_DOWN_MESSAGE),this.logger.warn("Server message timeout, offline"));break;case 304:this.errorCount=0;break;case 412:this.abortRequests=!0,this.send("error",this.SERVER_CLASSIFIER,this.SERVER_SESSION_EXPIRED_MESSAGE),this.logger.warn("Server message session expired, abort further requests.");break;case 200:if(this.errorCount=0,this.isServerDown){this.logger.info("Server message back online."),this.isServerDown=!1,this.previousEtag=new Date,this.send("persistent",this.SERVER_CLASSIFIER,this.SERVER_BACK_UP_MESSAGE);break}this.processResponse(e)}},onSessionStart:function(e,t){this.logger.info("Starting message poller..."),this.abortRequests=!1},onSessionTimeout:function(e,t){this.logger.info("Stopping message poller..."),this.abortRequests=!0},processResponse:function(e){try{this.logger.info("Server message process response"),e=JSON.parse(e.responseText)}catch(e){return void this.logger.warn("Could not parse server messages with error")}for(var t=0;t<e.messages.length;t++){var i=e.messages[t];if(i.hasOwnProperty("type")&&i.hasOwnProperty("message"))try{this.send(i.type.toLowerCase(),this.SERVER_CLASSIFIER,i.message,i.id)}catch(e){this.logger.error("Could not send message through bus",e)}else this.logger.error("Missing jsonresponse property from app server.")}},receive:function(e,t,i,n){e||(e=this.RECEIVE_WILD_CARD);var s=this.classNameSerialize(e);if(s)for(var a=0;a<this.RECEIVE_LEVELS.length;a++){var r={};r.className=s,i&&(r.id=i),n&&(r.control=!0),r.level=this.RECEIVE_LEVELS[a];for(var o=!0,l=0;l<this.observers.length;l++){var d=this.observers[l].filter;if(d.level&&d.level===r.level&&d.className&&d.className.toString()===r.className.toString()){o=!1,this.logger.warn("Can't add another receiver with level",r.level,"for already observed className",e);break}}if(o&&Splunk.Messenger.Bus.prototype.receive.call(this,r,null,t,!1,!0),this.RECEIVE_LEVELS[a]===this.RECEIVE_LEVEL)break}},resetPoller:function(){this.intervalId&&clearInterval(this.intervalId),this.startPoller()},send:function(e,t,i,n,s){n=n||null,-1!=jQuery.inArray(e,this.RECEIVE_LEVELS)?(this.SERVER_ENABLED&&this.resetPoller(),Splunk.Messenger.Bus.prototype.send.call(this,e,i,t,n,null,s)):this.logger.warn("Message not sent, invalid message level -",e,"- needs to be one of",this.RECEIVE_LEVELS.join(","))},startPoller:function(){this.intervalId=setInterval(this.getServerMessages.bind(this),this.SERVER_POLL_INTERVAL)},clear:function(){this.send("info","control","CLEAR",null,!0)}}),Splunk.Messenger.System.instance=null,Splunk.Messenger.System.getInstance=function(){return Splunk.Messenger.System.instance||(Splunk.Messenger.System.instance=new Splunk.Messenger.System),Splunk.Messenger.System.instance}},2056:function(e,t,i){(e.exports=i(3)(!1)).push([e.i,".splunk-charting-Timeline .splunk-charting-label{cursor:default}.splunk-charting-Timeline .splunk-charting-TimeAxisLabels .splunk-charting-label{margin:4px 5px}.splunk-charting-Timeline .splunk-charting-NumericAxisLabels .splunk-charting-label{margin:3px 5px}.splunk-charting-Timeline .splunk-charting-ClickDragRangeMarker .splunk-charting-label,.splunk-charting-Timeline .splunk-charting-CursorMarker .splunk-charting-label{color:#fff;margin-left:7px;margin-right:7px}.splunk-charting-Timeline .splunk-charting-Tooltip .splunk-charting-label{color:#fff;margin:4px 7px}",""])},2058:function(e,t,i){(t=e.exports=i(3)(!1)).push([e.i,".list---pages-lite---dev---UqL_M{margin-top:1px}.list---pages-lite---dev---UqL_M .accordion-toggle{padding-left:20px}",""]),t.locals={list:"list---pages-lite---dev---UqL_M"}},2059:function(e,t,i){(t=e.exports=i(3)(!1)).push([e.i,".item---pages-lite---dev---wt_qe{margin-top:1px}.item---pages-lite---dev---wt_qe .accordion-toggle{padding-left:31px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}",""]),t.locals={item:"item---pages-lite---dev---wt_qe"}},2060:function(e,t,i){(e.exports=i(3)(!1)).push([e.i,".side-bar-master .sidebar{background-color:#fff}",""])},2061:function(e,t,i){(t=e.exports=i(3)(!1)).push([e.i,".switch---pages-lite---dev---2ZzyK{padding-left:10px;display:inline-block;position:relative;font-size:0;white-space:nowrap;vertical-align:middle;height:32px}",""]),t.locals={switch:"switch---pages-lite---dev---2ZzyK"}},2062:function(e,t,i){(e.exports=i(3)(!1)).push([e.i,".dashboard-element-editor .dashboard-element-controls .report-description,.dashboard-element-editor .dashboard-element-controls .shared-reportcontrols-details{padding:5px 10px;font-size:12px}.dashboard-element-editor .dashboard-element-controls .report-name{margin:10px 0;font-size:16px;font-family:inherit;font-weight:500;line-height:20px;text-transform:none;color:#3c444d;text-rendering:optimizelegibility;padding:5px 10px 0}.dashboard-element-editor .dashboard-element-controls .dropdown-menu.show-details{width:470px}.dashboard-element-editor [class^=icon-]{font-size:1.5em;vertical-align:middle}.dashboard-element-editor .dropdown-menu [class^=icon-],.dashboard-element-editor .popdown-visualization [class^=icon-]{font-size:1em}.dashboard-element-editor .dropdown-menu ul{max-height:none}.dashboard-element-editor .link-label{display:none}.dashboard-element-editor .element-type{padding:0 10px;margin:5px 0;font-size:12px;font-family:inherit;font-weight:500;line-height:20px;text-transform:uppercase;color:#5c6773;text-rendering:optimizelegibility}.modal.add-panel .add-panel-select .btn{padding-top:8px}.modal.add-panel .add-panel-select i{font-size:24px}.modal.add-panel .add-panel-report{display:block}.modal.add-panel .add-panel-report a.dropdown-toggle{display:block;overflow:hidden}.modal .dropdown-toggle{overflow:hidden}.input-timerangepicker .timerange-edit-hint{padding-top:4px;font-size:11px;width:225px}.input-timerangepicker .shared-timerangepicker{display:inline-block}.input-timerangepicker .remove-timerange-picker{display:inline-block;padding:0 12px;font-size:16px}.input-timerangepicker .remove-timerange-picker i{position:relative;top:3px}",""])},2063:function(e,t,i){(e.exports=i(3)(!1)).push([e.i,".dashboard-toolbar{padding:20px;background-color:#fff}.dashboard-toolbar .toolbar-label{float:left;margin-top:5px;font-size:18px}.dashboard-toolbar .edit-mode-toggle{margin-left:20px}.dashboard-toolbar .add-content{margin-left:50px}.dashboard-toolbar .btn.edit-cancel,.dashboard-toolbar .btn.edit-save-as{margin-right:10px}.dashboard-toolbar .tooltip-inner{max-width:1000px}",""])},2064:function(e,t,i){(e.exports=i(3)(!1)).push([e.i,'.leaflet-container{z-index:1}.dashboard-wrapper{padding-top:20px}.dashboard-body{padding:0 20px 15px;background-color:#f2f4f5;min-height:500px}.preload .dashboard-row,.preload .fieldset,.preload .preload-hidden{display:none}.preload .dashboard-header:after{content:"Loading...";margin:auto;padding:50px 0}.progress-bar{top:0;bottom:auto}.dashboard-header{margin-bottom:10px;padding-top:10px;min-height:28px}.dashboard-header h2{font-size:24px}.dashboard-header .untitled{font-style:italic}.dashboard-header .edit-dashboard-menu{padding:2px 0 0 20px}.dashboard-header .edit-dashboard-menu .dashboard-source-type{float:right}.dashboard-header .edit-dashboard-menu .tooltip-inner{white-space:normal}.dashboard-header p.description{margin:0 200px 0 0}.dashboard-header .edit-done{margin-left:10px}.dashboard-header .dashboard-menu{display:inline-block}.dashboard-header .dashboard-menu .edit-btn,.dashboard-header .dashboard-menu .edit-export{margin-right:5px}.dashboard-header .dashboard-menu .edit-other{font-size:18px}.dashboard-header .header-controls{float:right}.alert-box i{left:20px}.alert-box{padding:14px 14px 14px 45px;position:relative;line-height:1.2;margin-bottom:5px;z-index:10}.dashboard-error .alert i{left:20px}.dashboard-error .alert{padding:14px 14px 14px 45px;position:relative;line-height:1.2;z-index:10;margin:100px 50px}.empty-dashboard{padding:100px 50px}.empty-dashboard .alert i{left:20px}.empty-dashboard .alert{padding:14px 14px 14px 45px;position:relative;line-height:1.2;margin-bottom:5px;z-index:10}#dashboard-editor{width:100%;min-height:500px;height:100%}.add-content-master{width:300px}.add-content-master .header input{border-radius:15px}.add-content-master .header .clear-filter{position:relative;left:-20px;border-radius:5px;height:10px;width:10px;display:inline-block;color:inherit}.add-content-master .header .clear-filter i{font-size:8px;position:relative;top:-4px;left:2px}.add-content-master .panel-contents{width:100%;display:inline-block;overflow-y:auto;position:absolute;top:75px;bottom:0;padding:0;-webkit-box-sizing:border-box;box-sizing:border-box}.add-content-master .panel-contents .accordion-group{border-left:none;border-right:none;border-top:none;border-radius:0;margin:0}.add-content-master .panel-contents .accordion-group .collapse:not(.in){visibility:hidden;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.add-content-master .panel-contents .accordion-group .collapse.in{visibility:visible}.add-content-master .panel-contents .accordion-group .accordion-toggle:before{content:"\\2C5";font-family:Splunk Icons;font-style:normal;font-weight:400;text-decoration:inherit;display:inline-block;width:13px}.add-content-master .panel-contents .accordion-group .accordion-toggle.collapsed:before{content:"\\203A"}.add-content-master .panel-contents .accordion-group .accordion-inner{border-top:none;padding:0}.add-content-master .panel-contents a:hover{text-decoration:none;background:#f7f8fa}.add-content-master .panel-contents ul{margin:0;list-style:none}.add-content-master .panel-contents ul li.panel-content{position:relative}.add-content-master .panel-contents ul li.panel-content a{position:relative;padding:7px 10px 7px 31px;overflow:hidden;text-overflow:ellipsis;line-height:16px;display:block;white-space:nowrap;color:#3c444d}.add-content-master .panel-contents ul li.panel-content a:focus{-webkit-box-shadow:none;box-shadow:none;border-collapse:separate;outline:0;text-decoration:none}.add-content-master .panel-contents ul li.panel-content a:focus:active:not([disabled]){-webkit-box-shadow:none;box-shadow:none}.add-content-master .panel-contents ul li.panel-content a:focus{-webkit-box-shadow:inset 0 0 2px 1px #006297,inset 0 0 0 2px #00a4fd;box-shadow:inset 0 0 2px 1px #006297,inset 0 0 0 2px #00a4fd}.add-content-master .panel-contents ul li.panel-content a .icons{position:relative;top:2px;font-size:14px;width:40px;text-align:center;margin-left:-15px;display:inline-block}.add-content-master .panel-contents ul li.panel-content a .icons i{margin-right:3px}.add-content-master .panel-contents ul li.panel-content a .icons i.icon-plus{font-size:12px}.add-content-master .panel-contents ul li.panel-content .accordion-group ul a{padding-left:48px}.add-content-master .panel-contents ul li.clone-error a,.add-content-master .panel-contents ul li.parser-error a{cursor:default}.add-content-master .panel-contents ul li.selected a{background:#007abd}.add-content-name.tooltip{word-break:break-all}.sidebar .header{padding:10px;height:55px}.sidebar .header h3{margin-top:0;margin-bottom:3px}.sidebar .footer{position:absolute;bottom:0}.sidebar .content-title-control{margin-top:10px}.sidebar .shared-timerangepicker .btn .time-label{display:inline;vertical-align:baseline}.sidebar .time-range-scope{margin-bottom:0}.sidebar .time-range-scope .controls{float:left;margin-right:10px}.sidebar .preview-body .dashboard-cell{width:100%}.sidebar .preview-body .dashboard-cell .dashboard-panel{margin-right:0}.sidebar .preview-body .shared-controls-textareacontrol textarea{height:80px}.sidebar .preview-body .view-results{visibility:hidden}.time-range-scope .controls{margin-bottom:10px}.input.hidden{display:none}.edit-mode .input.hidden{display:inline-block}.form-settings{float:right}.edit-mode .dashboard-header .title-editor{display:block;width:100%;background-color:transparent}.edit-mode .dashboard-header .title-editor:focus,.edit-mode .dashboard-header .title-editor:hover{background-color:#ebeeef}.edit-mode .dashboard-header .title-editor{line-height:normal}.edit-mode .dashboard-header .label-editor{font-size:24px;font-weight:200;margin-bottom:0}.edit-mode .dashboard-header .description-editor{height:26px;word-break:break-all}.edit-mode .title-editor{-webkit-box-shadow:none;box-shadow:none;-webkit-box-sizing:border-box;box-sizing:border-box;height:auto;border-color:transparent;font-size:inherit;font-weight:inherit}.edit-mode .title-editor:hover:not(:focus){border-color:#c3cbd4;-webkit-box-shadow:0 0 1px 3px #006eaa;box-shadow:0 0 1px 3px #006eaa}.edit-mode .title-editor:focus{-webkit-box-shadow:0 0 1px 3px #006eaa;box-shadow:0 0 1px 3px #006eaa;border-collapse:separate;outline:0;text-decoration:none}.edit-mode .title-editor:focus:active:not([disabled]){-webkit-box-shadow:none;box-shadow:none}.edit-mode .dashboard-row .dashboard-panel h2.panel-title{padding:3px 50px 3px 5px;height:27px;border-bottom:1px solid #c3cbd4}.edit-mode .dashboard-row .dashboard-panel h2.panel-title>.title-editor{font-size:inherit;color:inherit;text-transform:inherit;margin-bottom:5px;padding:4px 6px;width:100%;margin-right:60px;border-color:transparent}.edit-mode .dashboard-row .dashboard-panel h2.panel-title>.title-editor:hover:not(:focus){border-color:#c3cbd4}.edit-mode .dashboard-row .dashboard-panel h2.panel-title>.title-editor:focus{-webkit-box-shadow:0 0 1px 3px #006eaa;box-shadow:0 0 1px 3px #006eaa;border-collapse:separate;outline:0;text-decoration:none}.edit-mode .dashboard-row .dashboard-panel h2.panel-title>.title-editor:focus:active:not([disabled]){-webkit-box-shadow:none;box-shadow:none}.edit-mode .dashboard-row .dashboard-panel .dashboard-element-editor{position:relative}.edit-mode .dashboard-row .dashboard-panel .panel-element-row{border-top:1px solid #c3cbd4}.edit-mode .dashboard-row .dashboard-panel .dashboard-panel-editor{position:absolute;right:0;top:16px}.edit-mode .dashboard-row .dashboard-panel .dashboard-panel-editor .dropdown-toggle{border-radius:0;display:inline-block;padding:0 10px;line-height:27px;-webkit-box-shadow:none!important;box-shadow:none!important}.edit-mode .dashboard-row .dashboard-panel .dashboard-panel-editor .dropdown-toggle>[class^=icon-]{font-size:1.5em}.edit-mode .dashboard-row .dashboard-panel .dashboard-panel-editor .dropdown-toggle .caret{padding-left:.15em;vertical-align:middle}.edit-mode .dashboard-row .dashboard-panel .dashboard-panel-editor .panel-type-label{padding:3px 10px;text-transform:uppercase}.view-mode .dashboard-panel h2.panel-title.empty{display:none}.view-mode .dashboard-element.table{margin-top:-1px}.edit-mode .dashboard-row{margin-right:-10px}.dashboard-row:after,.dashboard-row:before{display:table;content:"";line-height:0}.dashboard-row:after{clear:both}.dashboard-row .dashboard-cell{float:left}.dashboard-row .dashboard-panel{background:#fff;margin:0 5px 5px 0;position:relative}.dashboard-row .dashboard-panel:after,.dashboard-row .dashboard-panel:before{display:table;content:"";line-height:0}.dashboard-row .dashboard-panel:after{clear:both}.dashboard-row .dashboard-panel h2.panel-title{font-size:16px;line-height:1;font-weight:400;margin:0;padding:12px 55px 7px 12px;word-wrap:break-word;text-rendering:auto}.dashboard-row .dashboard-panel .panel-element-row{clear:both}.dashboard-row .dashboard-panel .panel-element-row div.single{float:left;min-width:200px}.dashboard-row .dashboard-panel .panel-element-row .table{margin-bottom:0}.dashboard-row .dashboard-panel .panel-title.empty+.fieldset.empty+.panel-element-row{border-top:none}.dashboard-row .dashboard-panel .dashboard-element{position:relative}.dashboard-row .dashboard-panel .dashboard-element:hover .ui-resizable-handle{display:block;visibility:visible}.dashboard-row .dashboard-panel .dashboard-element .ui-resizable-handle{display:none;margin-bottom:-1px;position:absolute}.dashboard-row .dashboard-panel .dashboard-element .ui-resizable-handle:before{background-color:#e1e6eb}.dashboard-row .dashboard-panel .dashboard-element .panel-footer{clear:both}.dashboard-row .dashboard-panel .panel-head h3{line-height:1;margin:0;padding:12px 55px 10px 12px;text-rendering:auto;word-wrap:break-word;font-weight:700;font-size:14px}.dashboard-row .dashboard-panel .panel-footer{clear:both}.dashboard-row .dashboard-panel .panel-footer:after,.dashboard-row .dashboard-panel .panel-footer:before{display:table;content:"";line-height:0}.dashboard-row .dashboard-panel .panel-footer:after{clear:both}.dashboard-row .dashboard-panel .panel-footer{height:0;overflow:hidden}.dashboard-row .dashboard-panel .dashboard-element:hover .panel-footer,.dashboard-row .dashboard-panel .panel-footer.show{-webkit-box-sizing:border-box;box-sizing:border-box;height:30px;padding:5px 15px 5px 12px;border-top:none;margin:0 0 -30px;background-color:hsla(0,0%,80%,.9);position:relative;z-index:3}.dashboard-row .dashboard-panel .view-results .inspector-link{display:inline-block;margin-right:20px}.dashboard-row .dashboard-panel .view-results .btn-pill{padding:0;height:20px;line-height:20px;width:22px;font-size:15px;text-align:center}.dashboard-row .dashboard-panel .view-results .btn-pill+.btn-pill{margin-left:0}.dashboard-row .dashboard-panel .panel-body{overflow:hidden;clear:both}.dashboard-row .dashboard-panel .panel-body.html,.dashboard-row .dashboard-panel .panel-body.splunk-html{padding:10px}.dashboard-row .dashboard-panel .panel-body.html .splunk-checkbox,.dashboard-row .dashboard-panel .panel-body.html .splunk-checkboxgroup,.dashboard-row .dashboard-panel .panel-body.html .splunk-dropdown,.dashboard-row .dashboard-panel .panel-body.html .splunk-multidropdown,.dashboard-row .dashboard-panel .panel-body.html .splunk-radiogroup,.dashboard-row .dashboard-panel .panel-body.html .splunk-textinput,.dashboard-row .dashboard-panel .panel-body.html .splunk-timerange,.dashboard-row .dashboard-panel .panel-body.html p,.dashboard-row .dashboard-panel .panel-body.splunk-html .splunk-checkbox,.dashboard-row .dashboard-panel .panel-body.splunk-html .splunk-checkboxgroup,.dashboard-row .dashboard-panel .panel-body.splunk-html .splunk-dropdown,.dashboard-row .dashboard-panel .panel-body.splunk-html .splunk-multidropdown,.dashboard-row .dashboard-panel .panel-body.splunk-html .splunk-radiogroup,.dashboard-row .dashboard-panel .panel-body.splunk-html .splunk-textinput,.dashboard-row .dashboard-panel .panel-body.splunk-html .splunk-timerange,.dashboard-row .dashboard-panel .panel-body.splunk-html p{padding:0}.dashboard-row .dashboard-panel .panel-body .splunk-paginator{float:right;padding-right:15px;padding-top:3px}.dashboard-row .dashboard-panel .panel-body .splunk-paginator:empty{height:0;padding:0;margin:0}.dashboard-row .dashboard-panel .panel-body .results-table table tr>td:first-child,.dashboard-row .dashboard-panel .panel-body .results-table table tr>th:first-child,.dashboard-row .dashboard-panel .panel-body .table-row-expanding>tbody>tr>td.expands a,.dashboard-row .dashboard-panel .panel-body .table-row-expanding th.col-info{padding-left:12px}.dashboard-row .dashboard-panel .panel-body .results-table table tr>td:last-child,.dashboard-row .dashboard-panel .panel-body .results-table table tr>th:last-child,.dashboard-row .dashboard-panel .panel-body .table td:last-child,.dashboard-row .dashboard-panel .panel-body .table th:last-child{padding-right:12px}.dashboard-row .dashboard-panel .panel-body .results-table table tr>th:last-child .btn-col-format{margin-right:-12px}.dashboard-row .dashboard-panel .panel-body .lazy-view-container.loading .alert.alert-info i,.dashboard-row .dashboard-panel .panel-body .splunk-message-container .alert.alert-info i,.dashboard-row .dashboard-panel .panel-body .visualization-message .alert.alert-info i{display:none}.dashboard-row .dashboard-panel .panel-body .lazy-view-container.loading .alert .icon-alert,.dashboard-row .dashboard-panel .panel-body .splunk-message-container .alert .icon-alert,.dashboard-row .dashboard-panel .panel-body .visualization-message .alert .icon-alert{float:none;position:static;margin-right:.25em;vertical-align:middle}.dashboard-row .dashboard-panel .panel-body .lazy-view-container.loading .alert,.dashboard-row .dashboard-panel .panel-body .splunk-message-container .alert,.dashboard-row .dashboard-panel .panel-body .visualization-message .alert{text-align:center;border-style:none;font-size:13px}.dashboard-row .dashboard-panel .panel-body .lazy-view-container.loading.compact .alert,.dashboard-row .dashboard-panel .panel-body .splunk-message-container.compact .alert,.dashboard-row .dashboard-panel .panel-body .visualization-message.compact .alert{padding-top:4px;padding-bottom:4px;margin-bottom:0;text-align:left;display:inline}.dashboard-row .dashboard-panel .panel-body .lazy-view-container.loading.compact .alert .icon-alert,.dashboard-row .dashboard-panel .panel-body .splunk-message-container.compact .alert .icon-alert,.dashboard-row .dashboard-panel .panel-body .visualization-message.compact .alert .icon-alert{font-size:150%;top:4px}.dashboard-row .dashboard-panel .panel-body .lazy-view-container.loading,.dashboard-row .dashboard-panel .panel-body .visualization-message{padding-top:54px}.dashboard-row .dashboard-panel .panel-body .splunk-single{min-height:40px;text-align:center}.dashboard-row .dashboard-panel .panel-body .splunk-table:after,.dashboard-row .dashboard-panel .panel-body .splunk-table:before{display:table;content:"";line-height:0}.dashboard-row .dashboard-panel .panel-body .splunk-table:after{clear:both}.dashboard-row .dashboard-panel .panel-body .splunk-table .splunk-paginator{float:right;padding-right:15px}.dashboard-row .dashboard-panel .panel-body p{padding:0 10px}.dashboard-row .dashboard-panel .panel-body .splunk-checkbox,.dashboard-row .dashboard-panel .panel-body .splunk-checkboxgroup,.dashboard-row .dashboard-panel .panel-body .splunk-dropdown,.dashboard-row .dashboard-panel .panel-body .splunk-multidropdown,.dashboard-row .dashboard-panel .panel-body .splunk-radiogroup,.dashboard-row .dashboard-panel .panel-body .splunk-searchbar,.dashboard-row .dashboard-panel .panel-body .splunk-textinput,.dashboard-row .dashboard-panel .panel-body>.splunk-timerange,.dashboard-row .dashboard-panel .panel-body>button{margin:5px 10px}.dashboard-row .dashboard-panel .shared-eventsviewer{border-left:none}.dashboard-row .dashboard-panel ul.shared-eventsviewer{margin-bottom:5px;border-top-style:none}.dashboard-row .dashboard-panel .error-details{display:block;float:right;padding:9px 12px 5px 5px}.dashboard-row .dashboard-panel .error-details i{color:#f8be34}.dashboard-row .dashboard-panel .error-details.severe i{color:#dc4e41}.dashboard-row .dashboard-panel .error-details.severe .error-indicator:hover i{color:#e0ac16;color:#c84535}.dashboard-row .dashboard-panel .error-details .error-indicator{padding:0;height:20px;line-height:20px;width:22px;font-size:15px;text-align:center;border-radius:3px;margin-left:3px}.dashboard-row .dashboard-panel .error-details .error-indicator:hover{background-color:#ebeeef}.dashboard-row .dashboard-panel .error-details .error-indicator i{font-size:18px}.dashboard-row .dashboard-panel .error-details .error-indicator{display:block}.dashboard-row .dashboard-panel .error-details li{padding:5px 10px 5px 25px;position:relative}.dashboard-row .dashboard-panel .error-details li:first-child{border-top:none}.dashboard-row .dashboard-panel .error-details li>i{font-size:18px;position:absolute;left:3px;top:5px}.dashboard-row .dashboard-panel .error-details li.warning>i{color:#f8be34}.dashboard-row .dashboard-panel .error-details li.error>i{color:#dc4e41}.dashboard-row .dashboard-panel .progress-bar .progress-msg{font-size:12px;display:inline-block}.view-mode .refresh-time-indicator{padding:0 10px;z-index:10}.view-mode .refresh-time-indicator .time-freshness{font-size:12px;cursor:default;padding:0;margin:0}.view-mode .refresh-time-indicator{height:24px}.view-mode .with-title .fieldset.empty+.panel-element-row:not(.grouped) .error-details{position:absolute;top:-31px;right:0}.view-mode .element-footer{border-bottom:1px solid transparent}.view-mode .element-footer .menus{display:none;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;position:absolute;right:10px;background-color:#fff;border:1px solid #c3cbd4;border-top:none;margin-top:-1px;padding-left:5px;padding-bottom:2px;border-bottom-left-radius:5px;border-bottom-right-radius:5px;border-top-left-radius:2px;border-top-right-radius:2px;z-index:999}.view-mode .element-footer .menus .btn-pill{width:15px;height:22px;border-radius:0;padding:0 4px;position:relative;line-height:22px;font-size:15px}.view-mode .element-footer .menus .btn-pill i{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.view-mode .element-footer .menus .refresh-time-indicator{display:inline}.view-mode .dashboard-element.active .element-footer{border-bottom:1px solid #c3cbd4}.view-mode .dashboard-element.active .element-footer .menus{display:-webkit-box;display:-ms-flexbox;display:flex}.dashboard-cell.hidden,.dashboard-row.hidden,.edit-mode .element-footer,.edit-mode .refresh-time-indicator,.preview-body .element-footer{display:none}.edit-mode .dashboard-cell.hidden,.edit-mode .dashboard-row.hidden{display:block}.edit-mode .dashboard-cell.hidden .dashboard-panel,.edit-mode .dashboard-row.hidden .dashboard-panel{border-style:dashed}.dashboard-element.hidden{display:none}.edit-mode .dashboard-element.hidden{display:block}.edit-mode .dashboard-element.hidden .panel-body,.edit-mode .dashboard-element.hidden .panel-footer{opacity:.5}.edit-mode .dashboard-element.hidden .panel-head h3{color:#c3cbd4}.edit-mode .dashboard-element.hidden .panel-editor{z-index:99}.dashboard-panel>.drag-handle{height:8px;margin:5px 5px 0;cursor:move;z-index:3}.dashboard-panel>.drag-handle .handle-inner{background:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' width=\'4\' height=\'4\'%3E%3Cpath fill=\'%23818D99\' d=\'M0 0h2v2H0z\'/%3E%3C/svg%3E");cursor:move;height:8px;margin-right:14px}.dashboard-panel>.drag-handle>.delete-panel{display:inline-block;float:right;font-size:17px;padding:0 3px;margin-right:-3px;margin-top:-4px;color:#6b7785}.dashboard-panel>.drag-handle>.delete-panel:focus,.dashboard-panel>.drag-handle>.delete-panel:hover{text-decoration:none;color:#006297}.dashboard-panel>.drag-handle>.delete-panel:hover{background:#f7f8fa}.dashboard-panel>.drag-handle>.delete-panel:focus{background-color:rgba(0,164,253,.1);-webkit-box-shadow:none;box-shadow:none;outline:none}.initial-placeholder{height:234px}.initial-placeholder.placeholder-visualizations-singlevalue{height:80px}.dragndrop-enabled .dashboard-row.empty{min-height:20px}.dragndrop-enabled .dashboard-row .dashboard-panel.drag-hover{border-color:#c3cbd4}.dragndrop-enabled .dashboard-row .panel-head h3{padding:11px 15px 8px}.dragndrop-enabled .dashboard-row .panel-element-row+.panel-element-row .panel-head{border-top:1px solid #c3cbd4}.dragndrop-enabled .dashboard-row .dashboard-panel .panel-body .splunk-message-container .alert .icon-alert{color:#dc4e41}.dragndrop-enabled .sortable-placeholder{min-width:10px;float:left}.dragndrop-enabled .sortable-placeholder .dashboard-panel{min-height:200px;background:transparent;border:1px dashed #c3cbd4;-webkit-box-shadow:none;box-shadow:none}.dragndrop-enabled .dashboard-cell{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.dragndrop-enabled .dashboard-cell.ui-sortable-helper .dashboard-panel{-webkit-box-shadow:2px 2px 5px inset 0 -1px 0 rgba(0,0,0,.1);box-shadow:inset 2px 2px 5px 0 -1px 0 rgba(0,0,0,.1)}.dragndrop-enabled .dashboard-row{min-height:100px}.dragndrop-enabled .shared-eventsviewer .table-chrome{border-top:none}.html h1{font-size:20px;font-weight:700}.html h2{font-size:16px;margin:10px 0;font-weight:400}.html h3{font-size:14px;font-weight:700}.html h4{font-size:12px;font-weight:700;margin:0}.html h5{font-size:10.2px}.html .panel-head>h3{font-size:16px;font-weight:400}.view-mode .dashboard-row .dashboard-cell.last-visible .dashboard-panel,.view-mode .dashboard-row .dashboard-cell:last-child .dashboard-panel{margin-right:0}.more-info{width:400px}.more-info .popdown-dialog-body{padding:20px 20px 10px}.splunk-radiogroup .choice{margin-bottom:5px}.splunk-radiogroup input{margin:0 10px 0 2px}.splunk-radiogroup label{display:inline-block;margin-bottom:0;vertical-align:middle}.splunk-radiogroup input[type=radio]{margin:4px;font-size:16px;height:12px;opacity:.01}.splunk-radiogroup input[type=radio]+.radio-label,.splunk-radiogroup input[type=radio]+label{position:relative}.splunk-radiogroup input[type=radio]+.radio-label:after,.splunk-radiogroup input[type=radio]+.radio-label:before,.splunk-radiogroup input[type=radio]+label:after,.splunk-radiogroup input[type=radio]+label:before{content:"";display:inline-block;position:absolute;border-radius:100%}.splunk-radiogroup input[type=radio]+.radio-label:before,.splunk-radiogroup input[type=radio]+label:before{top:-2px;left:-24px;height:16px;width:16px;vertical-align:bottom;background-color:#f7f8fa;border:1px solid #c3cbd4;color:#5c6773;-webkit-box-shadow:inset 0 -1px 0 rgba(0,0,0,.1);box-shadow:inset 0 -1px 0 rgba(0,0,0,.1);text-decoration:none;text-shadow:none;-webkit-transition:background .2s,border .2s,-webkit-box-shadow .2s,-webkit-text-decoration .2s;transition:background .2s,border .2s,-webkit-box-shadow .2s,-webkit-text-decoration .2s;transition:background .2s,border .2s,box-shadow .2s,text-decoration .2s;transition:background .2s,border .2s,box-shadow .2s,text-decoration .2s,-webkit-box-shadow .2s,-webkit-text-decoration .2s;-webkit-filter:none;filter:none}.splunk-radiogroup input[type=radio]+.radio-label:after,.splunk-radiogroup input[type=radio]+label:after{top:2px;left:-20px;height:8px;width:8px;background:transparent;vertical-align:bottom}.splunk-radiogroup input[type=radio]+.radio-label:hover:before,.splunk-radiogroup input[type=radio]+label:hover:before{background-color:#ebeeef;border-color:#c3cbd4;color:#5c6773;-webkit-box-shadow:inset 0 -1px 0 rgba(0,0,0,.1);box-shadow:inset 0 -1px 0 rgba(0,0,0,.1);text-decoration:none;text-shadow:none;-webkit-transition:background .2s,border .2s,-webkit-box-shadow .2s,-webkit-text-decoration .2s;transition:background .2s,border .2s,-webkit-box-shadow .2s,-webkit-text-decoration .2s;transition:background .2s,border .2s,box-shadow .2s,text-decoration .2s;transition:background .2s,border .2s,box-shadow .2s,text-decoration .2s,-webkit-box-shadow .2s,-webkit-text-decoration .2s;-webkit-filter:none;filter:none}.splunk-radiogroup input[type=radio]+.radio-label:active:before,.splunk-radiogroup input[type=radio]+label:active:before{background-color:#e1e6eb;border-color:#c3cbd4;color:#3c444d;-webkit-box-shadow:none;box-shadow:none;text-decoration:none;text-shadow:none;-webkit-transition:none;transition:none;-webkit-filter:none;filter:none}.splunk-radiogroup input[type=radio]+.radio-label+input[type=radio],.splunk-radiogroup input[type=radio]+label+input[type=radio]{margin-left:20px}.splunk-radiogroup input[type=radio]:checked+.radio-label:after,.splunk-radiogroup input[type=radio]:checked+label:after{background:#3c444d}.splunk-radiogroup input[type=radio]:focus,.splunk-radiogroup input[type=radio]:focus:hover{-webkit-box-shadow:none;box-shadow:none}.splunk-radiogroup input[type=radio]:focus+.radio-label:before,.splunk-radiogroup input[type=radio]:focus+.radio-label:hover:before,.splunk-radiogroup input[type=radio]:focus+label:before,.splunk-radiogroup input[type=radio]:focus+label:hover:before,.splunk-radiogroup input[type=radio]:focus:hover+.radio-label:before,.splunk-radiogroup input[type=radio]:focus:hover+.radio-label:hover:before,.splunk-radiogroup input[type=radio]:focus:hover+label:before,.splunk-radiogroup input[type=radio]:focus:hover+label:hover:before{-webkit-box-shadow:0 0 1px 3px #006eaa;box-shadow:0 0 1px 3px #006eaa;border-collapse:separate;outline:0;text-decoration:none}.splunk-radiogroup input[type=radio]:focus+.radio-label:before:active:not([disabled]),.splunk-radiogroup input[type=radio]:focus+.radio-label:hover:before:active:not([disabled]),.splunk-radiogroup input[type=radio]:focus+label:before:active:not([disabled]),.splunk-radiogroup input[type=radio]:focus+label:hover:before:active:not([disabled]),.splunk-radiogroup input[type=radio]:focus:hover+.radio-label:before:active:not([disabled]),.splunk-radiogroup input[type=radio]:focus:hover+.radio-label:hover:before:active:not([disabled]),.splunk-radiogroup input[type=radio]:focus:hover+label:before:active:not([disabled]),.splunk-radiogroup input[type=radio]:focus:hover+label:hover:before:active:not([disabled]){-webkit-box-shadow:none;box-shadow:none}.splunk-radiogroup input[type=radio][disabled]+.radio-label:before,.splunk-radiogroup input[type=radio][disabled]+label:before{background-color:#f7f8fa;border-color:#e1e6eb;color:#6b7785;-webkit-box-shadow:inset 0 -1px 0 #e1e6eb;box-shadow:inset 0 -1px 0 #e1e6eb;text-decoration:none;text-shadow:none;-webkit-transition:background .2s,border .2s,-webkit-box-shadow .2s,-webkit-text-decoration .2s;transition:background .2s,border .2s,-webkit-box-shadow .2s,-webkit-text-decoration .2s;transition:background .2s,border .2s,box-shadow .2s,text-decoration .2s;transition:background .2s,border .2s,box-shadow .2s,text-decoration .2s,-webkit-box-shadow .2s,-webkit-text-decoration .2s;-webkit-filter:none;filter:none;cursor:not-allowed}.splunk-radiogroup input[type=radio][disabled]+.radio-label:after,.splunk-radiogroup input[type=radio][disabled]+label:after{cursor:not-allowed}.splunk-radiogroup input[type=radio]{margin:4px 6px}.dropdown-menu .dashboard-source-type{float:right}.add-panel-wrapper .controls textarea,.edit-search-string .controls textarea{height:15em;max-height:none}.input-editor-body{display:-webkit-box;display:-ms-flexbox;display:flex;border-bottom:1px solid #c3cbd4}.input-editor-body .input-editor-type{display:inline-block;background-color:#fff;border-right:1px solid #e1e6eb;vertical-align:top;list-style:none;margin:0}.input-editor-body .input-editor-type>li{position:relative}.input-editor-body .input-editor-type>li>a{display:block;padding:10px 20px;max-width:200px;text-overflow:ellipsis;text-decoration:none;overflow:hidden;color:#5c6773}.input-editor-body .input-editor-type>li>a:before{content:"";position:absolute;width:0;height:calc(100% - 20px);top:10px;right:0;-webkit-transition:width .2s;transition:width .2s}.input-editor-body .input-editor-type>li>a:hover:before{width:3px}.input-editor-body .input-editor-type>li>a.selected{background-color:#f2f4f5}.input-editor-body .input-editor-type>li>a.selected:before{background-color:#00a4fd;width:3px}.input-editor-body .input-editor-type>li>a:focus{-webkit-box-shadow:none;box-shadow:none;border-collapse:separate;outline:0;text-decoration:none}.input-editor-body .input-editor-type>li>a:focus:active:not([disabled]){-webkit-box-shadow:none;box-shadow:none}.input-editor-body .input-editor-type>li>a:focus{-webkit-box-shadow:inset 0 0 2px 1px #f2f4f5,inset 0 0 0 2px #00a4fd;box-shadow:inset 0 0 2px 1px #f2f4f5,inset 0 0 0 2px #00a4fd}.input-editor-body .input-editor-type [class*=" icon-"],.input-editor-body .input-editor-type [class^=icon-]{width:1em;text-align:center}.input-editor-body .input-editor-format{display:inline-block;position:relative;width:385px;vertical-align:top}.input-editor-body .input-editor-format a.default-clear-selection{margin-top:10px}.input-editor-body .input-editor-format .controls-stack{padding-bottom:5px;-webkit-box-align:left;-ms-flex-align:left;align-items:left}.input-editor-body .input-editor-format .concertina .concertina-body{position:static;max-height:500px;min-height:100px}.input-editor-body .input-editor-format .splunk-choice-input-message{height:auto}.input-editor-body .input-editor-format .shared-controls-textareacontrol textarea,.input-editor-body .input-editor-format .shared-controls-textcontrol input,.input-editor-body .input-editor-format .splunk-dropdown,.input-editor-body .input-editor-format .splunk-multidropdown{width:200px}.input-editor-body .input-editor-format .shared-controls-syntheticselectcontrol .link-label{float:left;width:162px;overflow:hidden;text-align:left}.input-editor-body .input-editor-format .token-input-settings-body .splunk-choice-input-message{clear:both}.input-editor-body .input-editor-format .token-input-settings-body .shared-timerangepicker{margin-left:0}.input-editor-body .input-editor-format .token-input-settings-body .splunkjs-mvc-simpleform-edit-tokenpreviewcontrol .shared-controls-labelcontrol{width:200px}.input-editor-body .input-editor-format .token-input-settings-body .splunkjs-mvc-simpleform-edit-tokenpreviewcontrol .shared-controls-labelcontrol span{word-break:break-all;white-space:pre-wrap}.input-editor-body .input-editor-format .static-input-settings-body .static-options-heading{margin-bottom:8px}.input-editor-body .input-editor-format .static-input-settings-body .static-options-heading .static-options-heading-name{width:130px;margin-left:40px;float:left}.input-editor-body .input-editor-format .static-input-settings-body .static-options-heading .static-options-heading-value{margin-left:180px}.input-editor-body .input-editor-format .static-input-settings-body .static-options-body{margin-bottom:8px}.input-editor-body .input-editor-format .static-input-settings-body .static-options-body .static-option-pair{padding:5px 0 0;margin:0}.input-editor-body .input-editor-format .static-input-settings-body .static-options-body .static-option-pair .drag-handle{display:inline-block;margin-left:20px;width:10px;height:18px;background:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' width=\'4\' height=\'4\'%3E%3Cpath fill=\'%23818D99\' d=\'M0 0h2v2H0z\'/%3E%3C/svg%3E");cursor:move}.input-editor-body .input-editor-format .static-input-settings-body .static-options-body .static-option-pair .static-option-label,.input-editor-body .input-editor-format .static-input-settings-body .static-options-body .static-option-pair .static-option-value{display:inline-block;margin-left:5px}.input-editor-body .input-editor-format .static-input-settings-body .static-options-body .static-option-pair .static-option-label input,.input-editor-body .input-editor-format .static-input-settings-body .static-options-body .static-option-pair .static-option-value input{width:130px}.input-editor-body .input-editor-format .static-input-settings-body .static-options-body .static-option-pair .static-option-remove{vertical-align:top;font-size:18px;border:none}.input-editor-body .input-editor-format .dynamic-input-settings-body .splunk-timerange{margin-bottom:10px}.input-editor-body .input-editor-format .dynamic-input-settings-body .search-field-wrapper{width:200px}.input-editor-body .control-label{width:125px;float:left;padding-top:5px;text-align:right}.input-editor-body .controls{margin-left:135px}.input-editor-body-and-flash-message .alert.alert-error{margin-left:20px;margin-bottom:0}.input-editor-body-and-flash-message .alerts.shared-flashmessages{border-bottom:1px solid #c3cbd4}.input-editor-apply,.input-editor-cancel{margin:10px}.input-time .shared-timerangepicker .btn,.input-timerangepicker .shared-timerangepicker .btn{position:relative;width:100%;text-align:left}.input-time .shared-timerangepicker .btn .time-label,.input-timerangepicker .shared-timerangepicker .btn .time-label{max-width:90%;display:inline-block}.input-time .shared-timerangepicker .caret,.input-timerangepicker .shared-timerangepicker .caret{position:absolute;right:10px}@media print{#header,.edit-dashboard-menu,.form-submit,.panel-footer,.ui-resizable-handle{display:none!important}.fieldset .input>label:first-child{font-weight:700}.fieldset .input input{border:none;-webkit-box-shadow:none!important;box-shadow:none!important;-webkit-transition:none!important;transition:none!important}.shared-timerangepicker .btn,.shared-timerangepicker .btn .time-label{max-width:200px!important;width:200px!important;text-align:left}.dashboard-element:not(.table):not(.event){page-break-inside:avoid}.splunk-paginator a.selected{font-weight:700}}.content-preview{width:450px;height:100%}.content-preview,.content-preview .preview-body{-webkit-box-sizing:border-box;box-sizing:border-box}.content-preview .preview-body{overflow-y:auto;position:absolute;width:100%;padding:10px;top:65px;bottom:0}.content-preview .preview-body .control-group{clear:both}.dashboard-list-item .accordion-group{border:none}.dashboard-panel{-webkit-transition:border-color 2s ease-out,border-width 2s ease-out,-webkit-box-shadow 2s ease-out;transition:border-color 2s ease-out,border-width 2s ease-out,-webkit-box-shadow 2s ease-out;transition:border-color 2s ease-out,box-shadow 2s ease-out,border-width 2s ease-out;transition:border-color 2s ease-out,box-shadow 2s ease-out,border-width 2s ease-out,-webkit-box-shadow 2s ease-out}.panel-highlight .dashboard-panel{border-color:#00364d;-webkit-box-shadow:0 0 10px 2px rgba(0,54,77,.4);box-shadow:0 0 10px 2px rgba(0,54,77,.4)}.splunk-header{min-height:20px}.splunk-header>:first-child{height:100%}',""])},2065:function(e,t){e.exports=function(e){var t={};function i(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(n,s,function(t){return e[t]}.bind(null,s));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,t,i){"use strict";i.r(t),i.d(t,"TOAST_TYPES",(function(){return n})),i.d(t,"TOAST_POSITIONS",(function(){return s}));var n={INFO:"info",WARNING:"warning",SUCCESS:"success",ERROR:"error"},s={TOP_LEFT:"top-left",TOP_CENTER:"top-center",TOP_RIGHT:"top-right",BOTTOM_LEFT:"bottom-left",BOTTOM_CENTER:"bottom-center",BOTTOM_RIGHT:"bottom-right"}}])},2066:function(e,t,i){e.exports=function(e){var t={};function i(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(n,s,function(t){return e[t]}.bind(null,s));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s="./src/components/CloneDashboard/index.jsx")}({"./src/assets/AbsoluteLayoutImage/dark/index.jsx":
/*!*******************************************************!*\
  !*** ./src/assets/AbsoluteLayoutImage/dark/index.jsx ***!
  \*******************************************************/
/*! no static exports found */function(e,t,i){"use strict";(function(e){var n=i(/*! @babel/runtime/helpers/interopRequireDefault */"@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n(i(/*! @babel/runtime/helpers/extends */"@babel/runtime/helpers/extends")),a=n(i(/*! react */"react")),r=(0,i(/*! @splunk/enterprise-dashboard-utils/testSupport */"@splunk/enterprise-dashboard-utils/testSupport").createTestHook)(e)("absolute-dashboard-layout-image-dark"),o=function(){return a.default.createElement("div",(0,s.default)({"aria-describedby":"absolute layout image"},r),a.default.createElement("svg",{width:"90",height:"52",viewBox:"0 0 90 52",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.default.createElement("g",{clipPath:"url(#clip0)"},a.default.createElement("path",{d:"M0 0H89.9167V52H0V0Z",fill:"#272A2F"}),a.default.createElement("path",{d:"M3.08714 -27.5804L2.5835 84.9253",stroke:"#5C6773"}),a.default.createElement("path",{d:"M7.08714 -27.5629L6.5835 84.9428",stroke:"#5C6773"}),a.default.createElement("path",{d:"M11.0871 -27.5448L10.5835 84.9609",stroke:"#5C6773"}),a.default.createElement("path",{d:"M15.0871 -27.5267L14.5835 84.979",stroke:"#5C6773"}),a.default.createElement("path",{d:"M19.0871 -27.5092L18.5835 84.9965",stroke:"#5C6773"}),a.default.createElement("path",{d:"M23.0871 -27.4911L22.5835 85.0146",stroke:"#5C6773"}),a.default.createElement("path",{d:"M27.0871 -27.473L26.5835 85.0327",stroke:"#5C6773"}),a.default.createElement("path",{d:"M31.0871 -27.4554L30.5835 85.0503",stroke:"#5C6773"}),a.default.createElement("path",{d:"M35.0871 -27.4375L34.5835 85.0682",stroke:"#5C6773"}),a.default.createElement("path",{d:"M39.0871 -27.4193L38.5835 85.0864",stroke:"#5C6773"}),a.default.createElement("path",{d:"M43.0861 -27.4017L42.5825 85.104",stroke:"#5C6773"}),a.default.createElement("path",{d:"M47.0861 -27.3837L46.5825 85.122",stroke:"#5C6773"}),a.default.createElement("path",{d:"M51.0861 -27.3656L50.5825 85.1401",stroke:"#5C6773"}),a.default.createElement("path",{d:"M55.0861 -27.348L54.5825 85.1577",stroke:"#5C6773"}),a.default.createElement("path",{d:"M59.0861 -27.33L58.5825 85.1757",stroke:"#5C6773"}),a.default.createElement("path",{d:"M63.0861 -27.3119L62.5825 85.1938",stroke:"#5C6773"}),a.default.createElement("path",{d:"M67.0861 -27.2943L66.5825 85.2114",stroke:"#5C6773"}),a.default.createElement("path",{d:"M71.0861 -27.2762L70.5825 85.2295",stroke:"#5C6773"}),a.default.createElement("path",{d:"M75.0861 -27.2583L74.5825 85.2474",stroke:"#5C6773"}),a.default.createElement("path",{d:"M79.0861 -27.2406L78.5825 85.2651",stroke:"#5C6773"}),a.default.createElement("path",{d:"M83.0861 -27.2225L82.5825 85.2832",stroke:"#5C6773"}),a.default.createElement("path",{d:"M87.0861 -27.2045L86.5825 85.3012",stroke:"#5C6773"}),a.default.createElement("path",{d:"M100.952 3.35839L-11.5537 2.85913",stroke:"#5C6773"}),a.default.createElement("path",{d:"M100.933 7.35839L-11.5723 6.85913",stroke:"#5C6773"}),a.default.createElement("path",{d:"M100.916 11.3584L-11.5898 10.8591",stroke:"#5C6773"}),a.default.createElement("path",{d:"M100.898 15.3584L-11.6074 14.8591",stroke:"#5C6773"}),a.default.createElement("path",{d:"M100.881 19.3584L-11.625 18.8591",stroke:"#5C6773"}),a.default.createElement("path",{d:"M100.863 23.3584L-11.6426 22.8591",stroke:"#5C6773"}),a.default.createElement("path",{d:"M100.846 27.3584L-11.6602 26.8591",stroke:"#5C6773"}),a.default.createElement("path",{d:"M100.827 31.3584L-11.6787 30.8591",stroke:"#5C6773"}),a.default.createElement("path",{d:"M100.809 35.3584L-11.6963 34.8591",stroke:"#5C6773"}),a.default.createElement("path",{d:"M100.792 39.3584L-11.7139 38.8591",stroke:"#5C6773"}),a.default.createElement("path",{d:"M100.774 43.3582L-11.7314 42.8589",stroke:"#5C6773"}),a.default.createElement("path",{d:"M100.757 47.3582L-11.749 46.8589",stroke:"#5C6773"}),a.default.createElement("path",{d:"M100.738 51.3582L-11.7676 50.8589",stroke:"#5C6773"}),a.default.createElement("path",{d:"M51.557 17.2144H27.9482V40.3573H51.557V17.2144Z",stroke:"#00A4FD",strokeDasharray:"2 2"}),a.default.createElement("path",{d:"M61.9682 11.6431H38.3594V34.786H61.9682V11.6431Z",fill:"#818D99"}),a.default.createElement("path",{d:"M63.3594 10.1431H61.3594C61.0832 10.1431 60.8594 10.3669 60.8594 10.6431V12.6431C60.8594 12.9192 61.0832 13.1431 61.3594 13.1431H63.3594C63.6355 13.1431 63.8594 12.9192 63.8594 12.6431V10.6431C63.8594 10.3669 63.6355 10.1431 63.3594 10.1431Z",fill:"#00A4FD"}),a.default.createElement("path",{d:"M63.3594 33.1431H61.3594C61.0832 33.1431 60.8594 33.3669 60.8594 33.6431V35.6431C60.8594 35.9192 61.0832 36.1431 61.3594 36.1431H63.3594C63.6355 36.1431 63.8594 35.9192 63.8594 35.6431V33.6431C63.8594 33.3669 63.6355 33.1431 63.3594 33.1431Z",fill:"#00A4FD"}),a.default.createElement("path",{d:"M39.3594 33.1431H37.3594C37.0832 33.1431 36.8594 33.3669 36.8594 33.6431V35.6431C36.8594 35.9192 37.0832 36.1431 37.3594 36.1431H39.3594C39.6355 36.1431 39.8594 35.9192 39.8594 35.6431V33.6431C39.8594 33.3669 39.6355 33.1431 39.3594 33.1431Z",fill:"#00A4FD"}),a.default.createElement("path",{d:"M39.3594 10.1431H37.3594C37.0832 10.1431 36.8594 10.3669 36.8594 10.6431V12.6431C36.8594 12.9192 37.0832 13.1431 37.3594 13.1431H39.3594C39.6355 13.1431 39.8594 12.9192 39.8594 12.6431V10.6431C39.8594 10.3669 39.6355 10.1431 39.3594 10.1431Z",fill:"#00A4FD"}),a.default.createElement("path",{d:"M61.9682 11.6431H38.3594V34.786H61.9682V11.6431Z",stroke:"#00A4FD"}),a.default.createElement("path",{d:"M52.6809 26.0151L55.5383 36.5367C55.7168 37.1938 56.6101 37.2999 56.9287 36.7017L58.9211 32.9615L62.7323 31.9653C63.375 31.7973 63.4908 30.9402 62.9167 30.5996L53.7875 25.1835C53.2068 24.839 52.5048 25.3666 52.6809 26.0151Z",fill:"#171D21",stroke:"white"}),a.default.createElement("path",{d:"M-0.00011003 1.20401e-05V-0.887085H-0.887207V1.20401e-05H-0.00011003ZM89.9166 1.20401e-05H90.8037V-0.887085H89.9166V1.20401e-05ZM89.9166 52V52.8871H90.8037V52H89.9166ZM-0.00011003 52H-0.887207V52.8871H-0.00011003V52ZM-0.00011003 0.887109H89.9166V-0.887085H-0.00011003V0.887109ZM89.0295 1.20401e-05V52H90.8037V1.20401e-05H89.0295ZM89.9166 51.1129H-0.00011003V52.8871H89.9166V51.1129ZM0.886987 52V1.20401e-05H-0.887207V52H0.886987Z",fill:"#C3CBD4"})),a.default.createElement("defs",null,a.default.createElement("clipPath",{id:"clip0"},a.default.createElement("rect",{width:"90",height:"52",fill:"white"})))))};t.default=o}).call(this,"src/assets/AbsoluteLayoutImage/dark/index.jsx")},"./src/assets/AbsoluteLayoutImage/light/index.jsx":
/*!********************************************************!*\
  !*** ./src/assets/AbsoluteLayoutImage/light/index.jsx ***!
  \********************************************************/
/*! no static exports found */function(e,t,i){"use strict";(function(e){var n=i(/*! @babel/runtime/helpers/interopRequireDefault */"@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n(i(/*! @babel/runtime/helpers/extends */"@babel/runtime/helpers/extends")),a=n(i(/*! react */"react")),r=(0,i(/*! @splunk/enterprise-dashboard-utils/testSupport */"@splunk/enterprise-dashboard-utils/testSupport").createTestHook)(e)("absolute-dashboard-layout-image-light"),o=function(){return a.default.createElement("div",(0,s.default)({"aria-describedby":"absolute layout image"},r),a.default.createElement("svg",{width:"90",height:"52",viewBox:"0 0 90 52",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.default.createElement("g",{clipPath:"url(#clip0)"},a.default.createElement("path",{d:"M0 0H89.9167V52H0V0Z",fill:"white"}),a.default.createElement("path",{d:"M3.08714 -27.5804L2.5835 84.9253",stroke:"#E1E6EB"}),a.default.createElement("path",{d:"M7.08714 -27.5629L6.5835 84.9428",stroke:"#E1E6EB"}),a.default.createElement("path",{d:"M11.0871 -27.5448L10.5835 84.9609",stroke:"#E1E6EB"}),a.default.createElement("path",{d:"M15.0871 -27.5267L14.5835 84.979",stroke:"#E1E6EB"}),a.default.createElement("path",{d:"M19.0871 -27.5092L18.5835 84.9965",stroke:"#E1E6EB"}),a.default.createElement("path",{d:"M23.0871 -27.4911L22.5835 85.0146",stroke:"#E1E6EB"}),a.default.createElement("path",{d:"M27.0871 -27.473L26.5835 85.0327",stroke:"#E1E6EB"}),a.default.createElement("path",{d:"M31.0871 -27.4554L30.5835 85.0503",stroke:"#E1E6EB"}),a.default.createElement("path",{d:"M35.0871 -27.4375L34.5835 85.0682",stroke:"#E1E6EB"}),a.default.createElement("path",{d:"M39.0871 -27.4193L38.5835 85.0864",stroke:"#E1E6EB"}),a.default.createElement("path",{d:"M43.0861 -27.4017L42.5825 85.104",stroke:"#E1E6EB"}),a.default.createElement("path",{d:"M47.0861 -27.3837L46.5825 85.122",stroke:"#E1E6EB"}),a.default.createElement("path",{d:"M51.0861 -27.3656L50.5825 85.1401",stroke:"#E1E6EB"}),a.default.createElement("path",{d:"M55.0861 -27.348L54.5825 85.1577",stroke:"#E1E6EB"}),a.default.createElement("path",{d:"M59.0861 -27.33L58.5825 85.1757",stroke:"#E1E6EB"}),a.default.createElement("path",{d:"M63.0861 -27.3119L62.5825 85.1938",stroke:"#E1E6EB"}),a.default.createElement("path",{d:"M67.0861 -27.2943L66.5825 85.2114",stroke:"#E1E6EB"}),a.default.createElement("path",{d:"M71.0861 -27.2762L70.5825 85.2295",stroke:"#E1E6EB"}),a.default.createElement("path",{d:"M75.0861 -27.2583L74.5825 85.2474",stroke:"#E1E6EB"}),a.default.createElement("path",{d:"M79.0861 -27.2406L78.5825 85.2651",stroke:"#E1E6EB"}),a.default.createElement("path",{d:"M83.0861 -27.2225L82.5825 85.2832",stroke:"#E1E6EB"}),a.default.createElement("path",{d:"M87.0861 -27.2045L86.5825 85.3012",stroke:"#E1E6EB"}),a.default.createElement("path",{d:"M100.952 3.35839L-11.5537 2.85913",stroke:"#E1E6EB"}),a.default.createElement("path",{d:"M100.933 7.35839L-11.5723 6.85913",stroke:"#E1E6EB"}),a.default.createElement("path",{d:"M100.916 11.3584L-11.5898 10.8591",stroke:"#E1E6EB"}),a.default.createElement("path",{d:"M100.898 15.3584L-11.6074 14.8591",stroke:"#E1E6EB"}),a.default.createElement("path",{d:"M100.881 19.3584L-11.625 18.8591",stroke:"#E1E6EB"}),a.default.createElement("path",{d:"M100.863 23.3584L-11.6426 22.8591",stroke:"#E1E6EB"}),a.default.createElement("path",{d:"M100.846 27.3584L-11.6602 26.8591",stroke:"#E1E6EB"}),a.default.createElement("path",{d:"M100.827 31.3584L-11.6787 30.8591",stroke:"#E1E6EB"}),a.default.createElement("path",{d:"M100.809 35.3584L-11.6963 34.8591",stroke:"#E1E6EB"}),a.default.createElement("path",{d:"M100.792 39.3584L-11.7139 38.8591",stroke:"#E1E6EB"}),a.default.createElement("path",{d:"M100.774 43.3582L-11.7314 42.8589",stroke:"#E1E6EB"}),a.default.createElement("path",{d:"M100.757 47.3582L-11.749 46.8589",stroke:"#E1E6EB"}),a.default.createElement("path",{d:"M100.738 51.3582L-11.7676 50.8589",stroke:"#E1E6EB"}),a.default.createElement("path",{d:"M51.557 17.2144H27.9482V40.3573H51.557V17.2144Z",stroke:"#00A4FD",strokeDasharray:"2 2"}),a.default.createElement("path",{d:"M61.9682 11.6431H38.3594V34.786H61.9682V11.6431Z",fill:"#C3CBD4"}),a.default.createElement("path",{d:"M63.3594 10.1431H61.3594C61.0832 10.1431 60.8594 10.3669 60.8594 10.6431V12.6431C60.8594 12.9192 61.0832 13.1431 61.3594 13.1431H63.3594C63.6355 13.1431 63.8594 12.9192 63.8594 12.6431V10.6431C63.8594 10.3669 63.6355 10.1431 63.3594 10.1431Z",fill:"#00A4FD"}),a.default.createElement("path",{d:"M63.3594 33.1431H61.3594C61.0832 33.1431 60.8594 33.3669 60.8594 33.6431V35.6431C60.8594 35.9192 61.0832 36.1431 61.3594 36.1431H63.3594C63.6355 36.1431 63.8594 35.9192 63.8594 35.6431V33.6431C63.8594 33.3669 63.6355 33.1431 63.3594 33.1431Z",fill:"#00A4FD"}),a.default.createElement("path",{d:"M39.3594 33.1431H37.3594C37.0832 33.1431 36.8594 33.3669 36.8594 33.6431V35.6431C36.8594 35.9192 37.0832 36.1431 37.3594 36.1431H39.3594C39.6355 36.1431 39.8594 35.9192 39.8594 35.6431V33.6431C39.8594 33.3669 39.6355 33.1431 39.3594 33.1431Z",fill:"#00A4FD"}),a.default.createElement("path",{d:"M39.3594 10.1431H37.3594C37.0832 10.1431 36.8594 10.3669 36.8594 10.6431V12.6431C36.8594 12.9192 37.0832 13.1431 37.3594 13.1431H39.3594C39.6355 13.1431 39.8594 12.9192 39.8594 12.6431V10.6431C39.8594 10.3669 39.6355 10.1431 39.3594 10.1431Z",fill:"#00A4FD"}),a.default.createElement("path",{d:"M61.9682 11.6431H38.3594V34.786H61.9682V11.6431Z",stroke:"#00A4FD"}),a.default.createElement("path",{d:"M52.6809 26.0151L55.5383 36.5367C55.7168 37.1938 56.6101 37.2999 56.9287 36.7017L58.9211 32.9615L62.7323 31.9653C63.375 31.7973 63.4908 30.9402 62.9167 30.5996L53.7875 25.1835C53.2068 24.839 52.5048 25.3666 52.6809 26.0151Z",fill:"#171D21",stroke:"white"}),a.default.createElement("path",{d:"M-0.00011003 1.20401e-05V-0.887085H-0.887207V1.20401e-05H-0.00011003ZM89.9166 1.20401e-05H90.8037V-0.887085H89.9166V1.20401e-05ZM89.9166 52V52.8871H90.8037V52H89.9166ZM-0.00011003 52H-0.887207V52.8871H-0.00011003V52ZM-0.00011003 0.887109H89.9166V-0.887085H-0.00011003V0.887109ZM89.0295 1.20401e-05V52H90.8037V1.20401e-05H89.0295ZM89.9166 51.1129H-0.00011003V52.8871H89.9166V51.1129ZM0.886987 52V1.20401e-05H-0.887207V52H0.886987Z",fill:"#818D99"})),a.default.createElement("defs",null,a.default.createElement("clipPath",{id:"clip0"},a.default.createElement("rect",{width:"90",height:"52",fill:"white"})))))};t.default=o}).call(this,"src/assets/AbsoluteLayoutImage/light/index.jsx")},"./src/assets/GridLayoutImage/dark/index.jsx":
/*!***************************************************!*\
  !*** ./src/assets/GridLayoutImage/dark/index.jsx ***!
  \***************************************************/
/*! no static exports found */function(e,t,i){"use strict";(function(e){var n=i(/*! @babel/runtime/helpers/interopRequireDefault */"@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n(i(/*! @babel/runtime/helpers/extends */"@babel/runtime/helpers/extends")),a=n(i(/*! react */"react")),r=(0,i(/*! @splunk/enterprise-dashboard-utils/testSupport */"@splunk/enterprise-dashboard-utils/testSupport").createTestHook)(e)("grid-dashboard-layout-image-dark"),o=function(){return a.default.createElement("div",(0,s.default)({"aria-describedby":"grid layout image"},r),a.default.createElement("svg",{width:"90",height:"52",viewBox:"0 0 90 52",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.default.createElement("g",{clipPath:"url(#clip0)"},a.default.createElement("path",{d:"M21.7502 27.402C21.7502 27.1406 21.3473 26.9287 20.8502 26.9287C20.3531 26.9287 19.9502 27.1406 19.9502 27.402V51.5269C19.9502 51.7882 20.3531 52.0001 20.8502 52.0001C21.3473 52.0001 21.7502 51.7882 21.7502 51.5269V27.402Z",fill:"#00A4FD"}),a.default.createElement("path",{d:"M58.1825 0.5H0.5V23.6429H58.1825V0.5Z",fill:"#818D99",stroke:"#C3CBD4"}),a.default.createElement("path",{d:"M89.4162 0.5H62.0215V23.6429H89.4162V0.5Z",fill:"#818D99",stroke:"#C3CBD4"}),a.default.createElement("path",{d:"M89.4167 27.4287H23.2158V51.5001H89.4167V27.4287Z",fill:"#818D99",stroke:"#C3CBD4"}),a.default.createElement("path",{d:"M18.4298 27.4287H0.5V37.5716H18.4298V27.4287Z",fill:"#818D99",stroke:"#C3CBD4"}),a.default.createElement("path",{d:"M18.4298 41.3572H0.5V51.5001H18.4298V41.3572Z",fill:"#818D99",stroke:"#C3CBD4"}),a.default.createElement("mask",{id:"mask0","mask-type":"alpha",maskUnits:"userSpaceOnUse",x:"17",y:"32",width:"16",height:"15"},a.default.createElement("path",{d:"M32.9521 32.9722H17.9521V46.9722H32.9521V32.9722Z",fill:"white"}),a.default.createElement("path",{d:"M24.8989 33.9722C24.6227 33.9722 24.3989 34.196 24.3989 34.4722V39.4812H22.5059V38.5479C22.5059 38.353 22.2929 38.2331 22.1263 38.3341L19.0725 40.1856C18.912 40.2829 18.912 40.5158 19.0725 40.6131L22.1263 42.4646C22.2929 42.5656 22.5059 42.4457 22.5059 42.2508V41.3175H24.3989V45.4083C24.3989 45.6845 24.6227 45.9083 24.8989 45.9083H25.7919C26.068 45.9083 26.2919 45.6845 26.2919 45.4083V41.3175H28.1849V42.2508C28.1849 42.4457 28.3979 42.5656 28.5645 42.4646L31.6182 40.6131C31.7787 40.5158 31.7787 40.2829 31.6182 40.1856L28.5645 38.3341C28.3979 38.2331 28.1849 38.353 28.1849 38.5479V39.4812H26.2919V34.4722C26.2919 34.196 26.068 33.9722 25.7919 33.9722H24.8989Z",fill:"black"})),a.default.createElement("g",{mask:"url(#mask0)"},a.default.createElement("path",{d:"M24.3989 39.4812V40.4812H25.3989V39.4812H24.3989ZM22.5059 39.4812H21.5059V40.4812H22.5059V39.4812ZM22.1263 38.3341L21.6078 37.479L22.1263 38.3341ZM19.0725 40.1856L19.591 41.0407L19.0725 40.1856ZM19.0725 40.6131L19.591 39.758L19.0725 40.6131ZM22.1263 42.4646L21.6078 43.3197L22.1263 42.4646ZM22.5059 41.3175V40.3175H21.5059V41.3175H22.5059ZM24.3989 41.3175H25.3989V40.3175H24.3989V41.3175ZM26.2919 41.3175V40.3175H25.2919V41.3175H26.2919ZM28.1849 41.3175H29.1849V40.3175H28.1849V41.3175ZM28.5645 42.4646L29.0829 43.3197L28.5645 42.4646ZM31.6182 40.6131L31.0998 39.758L31.6182 40.6131ZM31.6182 40.1856L31.0998 41.0407L31.6182 40.1856ZM28.5645 38.3341L29.0829 37.479L28.5645 38.3341ZM28.1849 39.4812V40.4812H29.1849V39.4812H28.1849ZM26.2919 39.4812H25.2919V40.4812H26.2919V39.4812ZM25.3989 34.4722C25.3989 34.7483 25.175 34.9722 24.8989 34.9722V32.9722C24.0705 32.9722 23.3989 33.6437 23.3989 34.4722H25.3989ZM25.3989 39.4812V34.4722H23.3989V39.4812H25.3989ZM22.5059 40.4812H24.3989V38.4812H22.5059V40.4812ZM23.5059 39.4812V38.5479H21.5059V39.4812H23.5059ZM23.5059 38.5479C23.5059 37.5736 22.4409 36.9739 21.6078 37.479L22.6447 39.1892C22.1449 39.4922 21.5059 39.1324 21.5059 38.5479H23.5059ZM21.6078 37.479L18.5541 39.3305L19.591 41.0407L22.6447 39.1892L21.6078 37.479ZM18.5541 39.3304C17.7515 39.8171 17.7515 40.9816 18.5541 41.4682L19.591 39.758C20.0725 40.05 20.0725 40.7487 19.591 41.0407L18.5541 39.3304ZM18.5541 41.4682L21.6078 43.3197L22.6447 41.6095L19.591 39.758L18.5541 41.4682ZM21.6078 43.3197C22.4409 43.8248 23.5059 43.225 23.5059 42.2508H21.5059C21.5059 41.6663 22.1449 41.3064 22.6447 41.6095L21.6078 43.3197ZM23.5059 42.2508V41.3175H21.5059V42.2508H23.5059ZM24.3989 40.3175H22.5059V42.3175H24.3989V40.3175ZM25.3989 45.4083V41.3175H23.3989V45.4083H25.3989ZM24.8989 44.9083C25.175 44.9083 25.3989 45.1322 25.3989 45.4083H23.3989C23.3989 46.2368 24.0705 46.9083 24.8989 46.9083V44.9083ZM25.7919 44.9083H24.8989V46.9083H25.7919V44.9083ZM25.2919 45.4083C25.2919 45.1322 25.5157 44.9083 25.7919 44.9083V46.9083C26.6203 46.9083 27.2919 46.2368 27.2919 45.4083H25.2919ZM25.2919 41.3175V45.4083H27.2919V41.3175H25.2919ZM28.1849 40.3175H26.2919V42.3175H28.1849V40.3175ZM29.1849 42.2508V41.3175H27.1849V42.2508H29.1849ZM28.046 41.6095C28.5458 41.3064 29.1849 41.6663 29.1849 42.2508H27.1849C27.1849 43.225 28.2499 43.8248 29.0829 43.3197L28.046 41.6095ZM31.0998 39.758L28.046 41.6095L29.0829 43.3197L32.1367 41.4682L31.0998 39.758ZM31.0998 41.0407C30.6182 40.7487 30.6182 40.05 31.0998 39.758L32.1367 41.4682C32.9393 40.9816 32.9393 39.8171 32.1367 39.3305L31.0998 41.0407ZM28.046 39.1892L31.0998 41.0407L32.1367 39.3305L29.0829 37.479L28.046 39.1892ZM29.1849 38.5479C29.1849 39.1324 28.5458 39.4922 28.046 39.1892L29.0829 37.479C28.2499 36.9739 27.1849 37.5736 27.1849 38.5479H29.1849ZM29.1849 39.4812V38.5479H27.1849V39.4812H29.1849ZM26.2919 40.4812H28.1849V38.4812H26.2919V40.4812ZM25.2919 34.4722V39.4812H27.2919V34.4722H25.2919ZM25.7919 34.9722C25.5157 34.9722 25.2919 34.7483 25.2919 34.4722H27.2919C27.2919 33.6437 26.6203 32.9722 25.7919 32.9722V34.9722ZM24.8989 34.9722H25.7919V32.9722H24.8989V34.9722Z",fill:"white"}),a.default.createElement("path",{d:"M24.8989 33.9722C24.6227 33.9722 24.3989 34.196 24.3989 34.4722V39.4812H22.5059V38.5479C22.5059 38.353 22.2929 38.2331 22.1263 38.3341L19.0725 40.1856C18.912 40.2829 18.912 40.5158 19.0725 40.6131L22.1263 42.4646C22.2929 42.5656 22.5059 42.4457 22.5059 42.2508V41.3175H24.3989V45.4083C24.3989 45.6845 24.6227 45.9083 24.8989 45.9083H25.7919C26.068 45.9083 26.2919 45.6845 26.2919 45.4083V41.3175H28.1849V42.2508C28.1849 42.4457 28.3979 42.5656 28.5645 42.4646L31.6182 40.6131C31.7787 40.5158 31.7787 40.2829 31.6182 40.1856L28.5645 38.3341C28.3979 38.2331 28.1849 38.353 28.1849 38.5479V39.4812H26.2919V34.4722C26.2919 34.196 26.068 33.9722 25.7919 33.9722H24.8989Z",fill:"#171D21"}))),a.default.createElement("defs",null,a.default.createElement("clipPath",{id:"clip0"},a.default.createElement("rect",{width:"90",height:"52",fill:"white"})))))};t.default=o}).call(this,"src/assets/GridLayoutImage/dark/index.jsx")},"./src/assets/GridLayoutImage/light/index.jsx":
/*!****************************************************!*\
  !*** ./src/assets/GridLayoutImage/light/index.jsx ***!
  \****************************************************/
/*! no static exports found */function(e,t,i){"use strict";(function(e){var n=i(/*! @babel/runtime/helpers/interopRequireDefault */"@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n(i(/*! @babel/runtime/helpers/extends */"@babel/runtime/helpers/extends")),a=n(i(/*! react */"react")),r=(0,i(/*! @splunk/enterprise-dashboard-utils/testSupport */"@splunk/enterprise-dashboard-utils/testSupport").createTestHook)(e)("grid-dashboard-layout-image-light"),o=function(){return a.default.createElement("div",(0,s.default)({"aria-describedby":"grid layout image"},r),a.default.createElement("svg",{width:"90",height:"52",viewBox:"0 0 90 52",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.default.createElement("g",{clipPath:"url(#clip0)"},a.default.createElement("path",{d:"M21.7502 27.402C21.7502 27.1406 21.3473 26.9287 20.8502 26.9287C20.3531 26.9287 19.9502 27.1406 19.9502 27.402V51.5269C19.9502 51.7882 20.3531 52.0001 20.8502 52.0001C21.3473 52.0001 21.7502 51.7882 21.7502 51.5269V27.402Z",fill:"#00A4FD"}),a.default.createElement("path",{d:"M58.1825 0.5H0.5V23.6429H58.1825V0.5Z",fill:"#C3CBD4",stroke:"#818D99"}),a.default.createElement("path",{d:"M89.4162 0.5H62.0215V23.6429H89.4162V0.5Z",fill:"#C3CBD4",stroke:"#818D99"}),a.default.createElement("path",{d:"M89.4167 27.4287H23.2158V51.5001H89.4167V27.4287Z",fill:"#C3CBD4",stroke:"#818D99"}),a.default.createElement("path",{d:"M18.4298 27.4287H0.5V37.5716H18.4298V27.4287Z",fill:"#C3CBD4",stroke:"#818D99"}),a.default.createElement("path",{d:"M18.4298 41.3572H0.5V51.5001H18.4298V41.3572Z",fill:"#C3CBD4",stroke:"#818D99"}),a.default.createElement("mask",{id:"mask0","mask-type":"alpha",maskUnits:"userSpaceOnUse",x:"17",y:"32",width:"16",height:"15"},a.default.createElement("path",{d:"M32.9521 32.9722H17.9521V46.9722H32.9521V32.9722Z",fill:"white"}),a.default.createElement("path",{d:"M24.8989 33.9722C24.6227 33.9722 24.3989 34.196 24.3989 34.4722V39.4812H22.5059V38.5479C22.5059 38.353 22.2929 38.2331 22.1263 38.3341L19.0725 40.1856C18.912 40.2829 18.912 40.5158 19.0725 40.6131L22.1263 42.4646C22.2929 42.5656 22.5059 42.4457 22.5059 42.2508V41.3175H24.3989V45.4083C24.3989 45.6845 24.6227 45.9083 24.8989 45.9083H25.7919C26.068 45.9083 26.2919 45.6845 26.2919 45.4083V41.3175H28.1849V42.2508C28.1849 42.4457 28.3979 42.5656 28.5645 42.4646L31.6182 40.6131C31.7787 40.5158 31.7787 40.2829 31.6182 40.1856L28.5645 38.3341C28.3979 38.2331 28.1849 38.353 28.1849 38.5479V39.4812H26.2919V34.4722C26.2919 34.196 26.068 33.9722 25.7919 33.9722H24.8989Z",fill:"black"})),a.default.createElement("g",{mask:"url(#mask0)"},a.default.createElement("path",{d:"M24.3989 39.4812V40.4812H25.3989V39.4812H24.3989ZM22.5059 39.4812H21.5059V40.4812H22.5059V39.4812ZM22.1263 38.3341L21.6078 37.479L22.1263 38.3341ZM19.0725 40.1856L19.591 41.0407L19.0725 40.1856ZM19.0725 40.6131L19.591 39.758L19.0725 40.6131ZM22.1263 42.4646L21.6078 43.3197L22.1263 42.4646ZM22.5059 41.3175V40.3175H21.5059V41.3175H22.5059ZM24.3989 41.3175H25.3989V40.3175H24.3989V41.3175ZM26.2919 41.3175V40.3175H25.2919V41.3175H26.2919ZM28.1849 41.3175H29.1849V40.3175H28.1849V41.3175ZM28.5645 42.4646L29.0829 43.3197L28.5645 42.4646ZM31.6182 40.6131L31.0998 39.758L31.6182 40.6131ZM31.6182 40.1856L31.0998 41.0407L31.6182 40.1856ZM28.5645 38.3341L29.0829 37.479L28.5645 38.3341ZM28.1849 39.4812V40.4812H29.1849V39.4812H28.1849ZM26.2919 39.4812H25.2919V40.4812H26.2919V39.4812ZM25.3989 34.4722C25.3989 34.7483 25.175 34.9722 24.8989 34.9722V32.9722C24.0705 32.9722 23.3989 33.6437 23.3989 34.4722H25.3989ZM25.3989 39.4812V34.4722H23.3989V39.4812H25.3989ZM22.5059 40.4812H24.3989V38.4812H22.5059V40.4812ZM23.5059 39.4812V38.5479H21.5059V39.4812H23.5059ZM23.5059 38.5479C23.5059 37.5736 22.4409 36.9739 21.6078 37.479L22.6447 39.1892C22.1449 39.4922 21.5059 39.1324 21.5059 38.5479H23.5059ZM21.6078 37.479L18.5541 39.3305L19.591 41.0407L22.6447 39.1892L21.6078 37.479ZM18.5541 39.3304C17.7515 39.8171 17.7515 40.9816 18.5541 41.4682L19.591 39.758C20.0725 40.05 20.0725 40.7487 19.591 41.0407L18.5541 39.3304ZM18.5541 41.4682L21.6078 43.3197L22.6447 41.6095L19.591 39.758L18.5541 41.4682ZM21.6078 43.3197C22.4409 43.8248 23.5059 43.225 23.5059 42.2508H21.5059C21.5059 41.6663 22.1449 41.3064 22.6447 41.6095L21.6078 43.3197ZM23.5059 42.2508V41.3175H21.5059V42.2508H23.5059ZM24.3989 40.3175H22.5059V42.3175H24.3989V40.3175ZM25.3989 45.4083V41.3175H23.3989V45.4083H25.3989ZM24.8989 44.9083C25.175 44.9083 25.3989 45.1322 25.3989 45.4083H23.3989C23.3989 46.2368 24.0705 46.9083 24.8989 46.9083V44.9083ZM25.7919 44.9083H24.8989V46.9083H25.7919V44.9083ZM25.2919 45.4083C25.2919 45.1322 25.5157 44.9083 25.7919 44.9083V46.9083C26.6203 46.9083 27.2919 46.2368 27.2919 45.4083H25.2919ZM25.2919 41.3175V45.4083H27.2919V41.3175H25.2919ZM28.1849 40.3175H26.2919V42.3175H28.1849V40.3175ZM29.1849 42.2508V41.3175H27.1849V42.2508H29.1849ZM28.046 41.6095C28.5458 41.3064 29.1849 41.6663 29.1849 42.2508H27.1849C27.1849 43.225 28.2499 43.8248 29.0829 43.3197L28.046 41.6095ZM31.0998 39.758L28.046 41.6095L29.0829 43.3197L32.1367 41.4682L31.0998 39.758ZM31.0998 41.0407C30.6182 40.7487 30.6182 40.05 31.0998 39.758L32.1367 41.4682C32.9393 40.9816 32.9393 39.8171 32.1367 39.3305L31.0998 41.0407ZM28.046 39.1892L31.0998 41.0407L32.1367 39.3305L29.0829 37.479L28.046 39.1892ZM29.1849 38.5479C29.1849 39.1324 28.5458 39.4922 28.046 39.1892L29.0829 37.479C28.2499 36.9739 27.1849 37.5736 27.1849 38.5479H29.1849ZM29.1849 39.4812V38.5479H27.1849V39.4812H29.1849ZM26.2919 40.4812H28.1849V38.4812H26.2919V40.4812ZM25.2919 34.4722V39.4812H27.2919V34.4722H25.2919ZM25.7919 34.9722C25.5157 34.9722 25.2919 34.7483 25.2919 34.4722H27.2919C27.2919 33.6437 26.6203 32.9722 25.7919 32.9722V34.9722ZM24.8989 34.9722H25.7919V32.9722H24.8989V34.9722Z",fill:"white"}),a.default.createElement("path",{d:"M24.8989 33.9722C24.6227 33.9722 24.3989 34.196 24.3989 34.4722V39.4812H22.5059V38.5479C22.5059 38.353 22.2929 38.2331 22.1263 38.3341L19.0725 40.1856C18.912 40.2829 18.912 40.5158 19.0725 40.6131L22.1263 42.4646C22.2929 42.5656 22.5059 42.4457 22.5059 42.2508V41.3175H24.3989V45.4083C24.3989 45.6845 24.6227 45.9083 24.8989 45.9083H25.7919C26.068 45.9083 26.2919 45.6845 26.2919 45.4083V41.3175H28.1849V42.2508C28.1849 42.4457 28.3979 42.5656 28.5645 42.4646L31.6182 40.6131C31.7787 40.5158 31.7787 40.2829 31.6182 40.1856L28.5645 38.3341C28.3979 38.2331 28.1849 38.353 28.1849 38.5479V39.4812H26.2919V34.4722C26.2919 34.196 26.068 33.9722 25.7919 33.9722H24.8989Z",fill:"#171D21"}))),a.default.createElement("defs",null,a.default.createElement("clipPath",{id:"clip0"},a.default.createElement("rect",{width:"90",height:"52",fill:"white"})))))};t.default=o}).call(this,"src/assets/GridLayoutImage/light/index.jsx")},"./src/assets/LockIcon/index.jsx":
/*!***************************************!*\
  !*** ./src/assets/LockIcon/index.jsx ***!
  \***************************************/
/*! no static exports found */function(e,t,i){"use strict";var n=i(/*! @babel/runtime/helpers/interopRequireDefault */"@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n(i(/*! react */"react")),a=function(){return s.default.createElement("div",{"aria-describedby":"lock icon"},s.default.createElement("svg",{width:"1.00em",height:"1.00em",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},s.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.01042 2.73031C6.91951 2.73031 6.03516 3.61466 6.03516 4.70557V6.60384H9.98568V4.70557C9.98568 3.61466 9.10133 2.73031 8.01042 2.73031ZM4.70182 4.70557V6.60384H4.0013C3.26492 6.60384 2.66797 7.2008 2.66797 7.93717V13.2705C2.66797 14.0069 3.26492 14.6038 4.0013 14.6038H12.0013C12.7377 14.6038 13.3346 14.0069 13.3346 13.2705V7.93717C13.3346 7.2008 12.7377 6.60384 12.0013 6.60384H11.319V4.70557C11.319 2.87828 9.83771 1.39697 8.01042 1.39697C6.18313 1.39697 4.70182 2.87828 4.70182 4.70557ZM12.0013 7.93717H4.0013V13.2705H12.0013V7.93717ZM7.33464 11.3333C7.33464 11.7015 7.63311 12 8.0013 12C8.36949 12 8.66797 11.7015 8.66797 11.3333V10C8.66797 9.63181 8.36949 9.33333 8.0013 9.33333C7.63311 9.33333 7.33464 9.63181 7.33464 10V11.3333Z"})))};t.default=a},"./src/assets/MultiUserIcon/index.jsx":
/*!********************************************!*\
  !*** ./src/assets/MultiUserIcon/index.jsx ***!
  \********************************************/
/*! no static exports found */function(e,t,i){"use strict";var n=i(/*! @babel/runtime/helpers/interopRequireDefault */"@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n(i(/*! react */"react")),a=function(){return s.default.createElement("div",{"aria-describedby":"multi user icon"},s.default.createElement("svg",{width:"1.00em",height:"1.00em",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},s.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.6667 5.33268C10.6667 6.80544 9.47276 7.99935 8 7.99935C6.52724 7.99935 5.33333 6.80544 5.33333 5.33268C5.33333 3.85992 6.52724 2.66602 8 2.66602C9.47276 2.66602 10.6667 3.85992 10.6667 5.33268ZM8 6.66602C8.73638 6.66602 9.33333 6.06906 9.33333 5.33268C9.33333 4.5963 8.73638 3.99935 8 3.99935C7.26362 3.99935 6.66667 4.5963 6.66667 5.33268C6.66667 6.06906 7.26362 6.66602 8 6.66602ZM10.5604 11.3327C10.2946 10.5576 9.55944 10.0005 8.6942 10.0005H7.3058C6.44056 10.0005 5.70543 10.5576 5.43958 11.3327H10.5604ZM4 11.973C4 10.1472 5.48006 8.66715 7.3058 8.66715H8.6942C10.5199 8.66715 12 10.1472 12 11.973C12 12.3661 11.6789 12.666 11.3066 12.666H4.69338C4.32108 12.666 4 12.3661 4 11.973ZM15.3066 12.666H13.213C13.2906 12.4517 13.3333 12.2188 13.3333 11.973C13.3333 11.7557 13.3184 11.542 13.2895 11.3327H14.5604C14.3158 10.6196 13.6741 10.0911 12.8993 10.011C12.6638 9.50719 12.3404 9.05266 11.9489 8.66715H12.6942C14.5199 8.66715 16 10.1472 16 11.973C16 12.3661 15.6789 12.666 15.3066 12.666ZM4 7.99935C4.30942 7.99935 4.60477 7.93912 4.87497 7.82975C4.59321 7.4776 4.36974 7.07678 4.21918 6.64192C4.14864 6.65769 4.07529 6.66602 4 6.66602C3.44772 6.66602 3 6.2183 3 5.66602C3 5.11373 3.44772 4.66602 4 4.66602C4.01847 4.66602 4.03683 4.66652 4.05506 4.66751C4.13168 4.20974 4.28604 3.77832 4.50412 3.38728C4.34177 3.35153 4.17309 3.33268 4 3.33268C2.71134 3.33268 1.66667 4.37735 1.66667 5.66602C1.66667 6.95468 2.71134 7.99935 4 7.99935ZM12 7.99935C11.6906 7.99935 11.3952 7.93912 11.125 7.82975C11.4068 7.4776 11.6303 7.07678 11.7808 6.64192C11.8514 6.65769 11.9247 6.66602 12 6.66602C12.5523 6.66602 13 6.2183 13 5.66602C13 5.11373 12.5523 4.66602 12 4.66602C11.9815 4.66602 11.9632 4.66652 11.9449 4.66751C11.8683 4.20975 11.714 3.77832 11.4959 3.38728C11.6582 3.35153 11.8269 3.33268 12 3.33268C13.2887 3.33268 14.3333 4.37735 14.3333 5.66602C14.3333 6.95468 13.2887 7.99935 12 7.99935ZM3.3058 8.66715H4.05107C3.65956 9.05266 3.3362 9.50719 3.10073 10.011C2.32589 10.0911 1.68416 10.6196 1.43958 11.3327H2.71049C2.6816 11.542 2.66667 11.7557 2.66667 11.973C2.66667 12.2188 2.70938 12.4517 2.78704 12.666H0.693377C0.321079 12.666 0 12.3661 0 11.973C0 10.1472 1.48006 8.66715 3.3058 8.66715Z"})))};t.default=a},"./src/components/CloneDashboard/index.jsx":
/*!*************************************************!*\
  !*** ./src/components/CloneDashboard/index.jsx ***!
  \*************************************************/
/*! no static exports found */function(e,t,i){"use strict";(function(e){var n=i(/*! @babel/runtime/helpers/interopRequireDefault */"@babel/runtime/helpers/interopRequireDefault"),s=i(/*! @babel/runtime/helpers/typeof */"@babel/runtime/helpers/typeof");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(i(/*! @babel/runtime/regenerator */"@babel/runtime/regenerator")),r=n(i(/*! @babel/runtime/helpers/asyncToGenerator */"@babel/runtime/helpers/asyncToGenerator")),o=n(i(/*! @babel/runtime/helpers/classCallCheck */"@babel/runtime/helpers/classCallCheck")),l=n(i(/*! @babel/runtime/helpers/createClass */"@babel/runtime/helpers/createClass")),d=n(i(/*! @babel/runtime/helpers/assertThisInitialized */"@babel/runtime/helpers/assertThisInitialized")),h=n(i(/*! @babel/runtime/helpers/inherits */"@babel/runtime/helpers/inherits")),u=n(i(/*! @babel/runtime/helpers/possibleConstructorReturn */"@babel/runtime/helpers/possibleConstructorReturn")),c=n(i(/*! @babel/runtime/helpers/getPrototypeOf */"@babel/runtime/helpers/getPrototypeOf")),p=n(i(/*! @babel/runtime/helpers/defineProperty */"@babel/runtime/helpers/defineProperty")),m=n(i(/*! @babel/runtime/helpers/extends */"@babel/runtime/helpers/extends")),f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==s(e)&&"function"!=typeof e)return{default:e};var i=I(t);if(i&&i.has(e))return i.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=a?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}n.default=e,i&&i.set(e,n);return n}(i(/*! react */"react")),g=n(i(/*! prop-types */"prop-types")),v=i(/*! @splunk/ui-utils/i18n */"@splunk/ui-utils/i18n"),b=n(i(/*! @splunk/enterprise-dashboard-utils/convertNameToId */"@splunk/enterprise-dashboard-utils/convertNameToId")),_=i(/*! @splunk/enterprise-dashboard-utils/testSupport */"@splunk/enterprise-dashboard-utils/testSupport"),y=i(/*! @splunk/enterprise-dashboard-api */"@splunk/enterprise-dashboard-api"),w=n(i(/*! @splunk/react-ui/Button */"@splunk/react-ui/Button")),k=n(i(/*! lodash/get */"lodash/get")),T=i(/*! @splunk/enterprise-dashboard-utils/isReservedTitle */"@splunk/enterprise-dashboard-utils/isReservedTitle"),S=n(i(/*! @splunk/react-ui/Message */"@splunk/react-ui/Message")),x=i(/*! @splunk/themes */"@splunk/themes"),C=i(/*! @splunk/enterprise-dashboard-utils/Telemetry */"@splunk/enterprise-dashboard-utils/Telemetry"),E=n(i(/*! ../EditTitleAndId */"./src/components/EditTitleAndId/index.jsx")),M=n(i(/*! ../../assets/LockIcon */"./src/assets/LockIcon/index.jsx")),R=n(i(/*! ../../assets/MultiUserIcon */"./src/assets/MultiUserIcon/index.jsx")),D=i(/*! ./index.styles */"./src/components/CloneDashboard/index.styles.js"),P=i(/*! ../../util/ErrorMessages */"./src/util/ErrorMessages.ts"),L=n(i(/*! ../DashboardLayoutGroup */"./src/components/DashboardLayoutGroup/index.jsx")),O=i(/*! ../../util/KeyboardActionUtil */"./src/util/KeyboardActionUtil.js");function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,i=new WeakMap;return(I=function(e){return e?i:t})(e)}function A(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function N(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?A(Object(i),!0).forEach((function(t){(0,p.default)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):A(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,n=(0,c.default)(e);if(t){var s=(0,c.default)(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return(0,u.default)(this,i)}}var z=(0,_.createTestHook)(e),B=z("dashboard-description"),$=z("dashboard-sharing"),F=[{label:(0,v._)("Private"),help:(0,v._)("Visible only to you"),value:"user",icon:f.default.createElement(M.default,null)},{label:(0,v._)("Shared in App"),help:(0,v._)("Visible to app users"),value:"app",icon:f.default.createElement(R.default,null)}],V=f.default.memo((function(e){var t=e.description,i=e.handleDescriptionChange;return f.default.createElement(D.StyledControlGroup,{label:(0,v._)("Description")},f.default.createElement(D.StyledDescriptionText,(0,m.default)({placeholder:(0,v._)("Optional"),value:t,onChange:i,multiline:!0,rowsMin:1,rowsMax:1},B)))}));V.propTypes={description:g.default.string.isRequired,handleDescriptionChange:g.default.func.isRequired};var U=f.default.memo((function(e){var t=e.canChangePerms,i=e.sharing,n=e.handleSharingChange;return t?f.default.createElement(D.StyledControlGroup,{label:(0,v._)("Permissions")},f.default.createElement("div",null,f.default.createElement(D.StyledSelect,(0,m.default)({value:i,onChange:n},$),F.map((function(e){var t=e.label,i=e.help,n=e.value,s=e.icon;return f.default.createElement(D.StyledSelectOption,(0,m.default)({label:t,key:n,icon:s,value:n,description:i},z("dashboard-sharing-".concat(n))))}))))):null}));U.propTypes={canChangePerms:g.default.bool.isRequired,sharing:g.default.string.isRequired,handleSharingChange:g.default.func.isRequired};var H=f.default.memo((function(e){var t=e.handleCloseModal;return f.default.createElement(D.StyledModal.Header,{"aria-labelledby":"modal-header-text",title:f.default.createElement("span",{id:"modal-header-text"},(0,v._)("Clone in Dashboard Studio")),onRequestClose:t})}));H.propTypes={handleCloseModal:g.default.func.isRequired};var q=f.default.memo((function(e){var t=e.handleCloseModal,i=e.handleCloneDashboard,n=e.dashboardType;return f.default.createElement(D.StyledModal.Footer,null,f.default.createElement(w.default,(0,m.default)({appearance:"default",onClick:t,label:(0,v._)("Cancel")},z("cancel-clone-dashboard"))),f.default.createElement(w.default,(0,m.default)({appearance:"primary",onClick:i,label:"UDF"===n?(0,v._)("Clone"):(0,v._)("Convert & Save")},z("clone-dashboard"))))}));q.propTypes={handleCloseModal:g.default.func.isRequired,handleCloneDashboard:g.default.func.isRequired,dashboardType:g.default.string};var G=f.default.createElement(S.default,{appearance:"fill",type:"info"},(0,v._)("Some custom formatting and configurations to your dashboard may be lost during the cloning and conversion process. Your original dashboard will not be affected.")),Z=function(e){(0,h.default)(i,e);var t=j(i);function i(e){var n;return(0,o.default)(this,i),n=t.call(this,e),(0,p.default)((0,d.default)(n),"getInitialState",(function(){var e="".concat(n.props.dashboardTitle," Copy");return{title:e,id:(0,b.default)(e),isIdEditable:!1,highlightTitleInput:!1,highlightIdInput:!1,error:null,description:n.props.dashboardDescription||"",sharing:"user",canChangePerms:!0,layout:null}})),(0,p.default)((0,d.default)(n),"handlePermsUpdate",(0,r.default)(a.default.mark((function e(){var t;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,y.getPerms)();case 2:t=e.sent,n.setState({canChangePerms:(0,k.default)(t,"entry[0].acl.can_change_perms")});case 4:case"end":return e.stop()}}),e)})))),(0,p.default)((0,d.default)(n),"handleCloseModal",(function(e){n.props.onCloseModal(e),n.setState(N({},n.getInitialState()))})),(0,p.default)((0,d.default)(n),"handleCloneDashboard",(0,r.default)(a.default.mark((function e(){var t,i,s,r,o,l,d,h,u,c,p,m,f,g;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.state,i=t.title,s=t.id,r=t.description,o=t.sharing,l=t.layout,d=n.props.dashboardType,i){e.next=6;break}n.setState({error:P.EMPTY_TITLE_FIELD,highlightTitleInput:!0}),e.next=55;break;case 6:if(s){e.next=10;break}n.setState({error:P.EMPTY_ID_FIELD,isIdEditable:!0,highlightIdInput:!0}),e.next=55;break;case 10:if(!(i.length>=1024)){e.next=14;break}n.setState({error:(0,P.PARAMETER_TOO_LONG)("title",1024),highlightTitleInput:!0}),e.next=55;break;case 14:if(!(s.length>=247)){e.next=18;break}n.setState({error:(0,P.PARAMETER_TOO_LONG)("id",247),highlightIdInput:!0}),e.next=55;break;case 18:if(!(0,T.isReservedTitle)(i)){e.next=22;break}n.setState({error:(0,P.RESERVED_TITLE)("title",i),highlightTitleInput:!0}),e.next=55;break;case 22:if(!(0,T.isReservedTitle)(s)){e.next=26;break}n.setState({error:(0,P.RESERVED_TITLE)("ID",s),highlightIdInput:!0}),e.next=55;break;case 26:if(i.match(/^((?![<>]).)*$/)){e.next=30;break}n.setState({error:P.INVALID_DASHBOARD_NAME,highlightTitleInput:!0}),e.next=55;break;case 30:if("SIMPLEXML"!==d||l){e.next=34;break}n.setState({error:P.UNSELECTED_DASHBOARD_LAYOUT}),e.next=55;break;case 34:if(e.prev=34,h=null,u=n.props.splunkTheme.colorScheme,"SIMPLEXML"!==d){e.next=44;break}return c=n.props.getSimpleXmlDefinition(i,r),e.next=41,(0,y.cloneSimpleXmlToUdf)({id:s,title:i,description:r,sharing:o,simpleXmlDefinition:c,assets:{},layout:l});case 41:h=e.sent,e.next=47;break;case 44:return e.next=46,(0,y.cloneUdfDashboard)({id:s,title:i,description:r,sharing:o,theme:u,assets:n.props.getUdfAssets(),definition:n.props.getUdfDefinition()});case 46:h=e.sent;case 47:m=(p=h).status,f=p.message,g=p.response,n.props.trackEvent((0,C.convertTelemetry)(m)),m===y.SUCCESS?(n.handleCloseModal(),n.props.handleSuccess(s,g)):m===y.FAIL&&n.setState({error:f}),e.next=55;break;case 52:e.prev=52,e.t0=e.catch(34),n.setState({error:e.t0.message});case 55:case"end":return e.stop()}}),e,null,[[34,52]])})))),(0,p.default)((0,d.default)(n),"handleIdChange",(function(e,t){var i=t.value,s=void 0===i?"":i,a=n.state.highlightIdInput;a&&(a=!1),n.setState({id:s,highlightIdInput:a})})),(0,p.default)((0,d.default)(n),"handleTitleChange",(function(e,t){var i=t.value,s=void 0===i?"":i,a=n.state.highlightTitleInput,r=n.state,o=r.id,l=r.title;if(a&&(a=!1),o===(0,b.default)(l)){var d=(0,b.default)(s);n.handleIdChange(void 0,{value:d})}n.setState({highlightTitleInput:a,title:s})})),(0,p.default)((0,d.default)(n),"handleIdEditableChange",(function(){n.setState({isIdEditable:!0})})),(0,p.default)((0,d.default)(n),"handleDescriptionChange",(function(e,t){var i=t.value,s=void 0===i?"":i;n.setState({description:s})})),(0,p.default)((0,d.default)(n),"handleSharingChange",(function(e,t){var i=t.value;n.setState({sharing:i})})),(0,p.default)((0,d.default)(n),"handleSaveByEnter",(function(e){"Enter"===e.key&&n.handleCloneDashboard()})),(0,p.default)((0,d.default)(n),"handleLayoutChange",(function(e,t){var i=t.value;n.setState({layout:i})})),(0,p.default)((0,d.default)(n),"handleLayoutKeyDown",(function(e,t){(0,O.toggleSelectedRadioButton)(e,t,(function(e){return"grid"===e?"absolute":"grid"}),(function(e){return n.setState({layout:e})}))})),n.state=N({},n.getInitialState()),n}return(0,l.default)(i,[{key:"componentDidMount",value:function(){this.handlePermsUpdate()}},{key:"render",value:function(){var e=this.state,t=e.title,i=e.id,n=e.isIdEditable,s=e.highlightTitleInput,a=e.highlightIdInput,r=e.error,o=e.description,l=e.sharing,d=e.canChangePerms,h=e.layout,u=this.props.splunkTheme.colorScheme,c=this.props.open;return f.default.createElement(D.StyledModal,(0,m.default)({},z("clone-dashboard-dialog"),{open:c}),f.default.createElement(H,{handleCloseModal:this.handleCloseModal}),f.default.createElement(D.StyledModal.Body,null,r&&f.default.createElement(S.default,{appearance:"fill",type:"error"},r),f.default.createElement(E.default,{isIdEditable:n,handleIdEditableChange:this.handleIdEditableChange,handleSaveByEnter:this.handleSaveByEnter,title:t,handleTitleChange:this.handleTitleChange,highlightTitleInput:s,id:i,handleIdChange:this.handleIdChange,highlightIdInput:a}),f.default.createElement(V,{description:o,handleDescriptionChange:this.handleDescriptionChange}),f.default.createElement(U,{canChangePerms:d,sharing:l,handleSharingChange:this.handleSharingChange}),"UDF"===this.props.dashboardType?null:f.default.createElement(f.default.Fragment,null,f.default.createElement(L.default,{hideSimpleXml:!0,handleLayoutChange:this.handleLayoutChange,handleLayoutKeyDown:this.handleLayoutKeyDown,layout:h,colorScheme:u}),G)),f.default.createElement(q,{dashboardType:this.props.dashboardType,handleCloseModal:this.handleCloseModal,handleCloneDashboard:this.handleCloneDashboard}))}}]),i}(f.PureComponent);(0,p.default)(Z,"defaultProps",{onCloseModal:function(){},getSimpleXmlDefinition:function(){},getUdfDefinition:function(){},getUdfAssets:function(){return{}},handleSuccess:function(){},dashboardTitle:"",trackEvent:function(){},dashboardType:"SIMPLEXML"}),Z.propTypes={colorScheme:g.default.oneOf(["light","dark"]),open:g.default.bool,onCloseModal:g.default.func,trackEvent:g.default.func,handleSuccess:g.default.func,dashboardTitle:g.default.string,dashboardType:g.default.oneOf(["SIMPLEXML","UDF"]),dashboardDescription:g.default.string,getSimpleXmlDefinition:g.default.func,getUdfDefinition:g.default.func,getUdfAssets:g.default.func,splunkTheme:g.default.object};var Y=(0,x.withSplunkTheme)(Z);t.default=Y}).call(this,"src/components/CloneDashboard/index.jsx")},"./src/components/CloneDashboard/index.styles.js":
/*!*******************************************************!*\
  !*** ./src/components/CloneDashboard/index.styles.js ***!
  \*******************************************************/
/*! no static exports found */function(e,t,i){"use strict";var n=i(/*! @babel/runtime/helpers/interopRequireDefault */"@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(t,"__esModule",{value:!0}),t.StyledSelectOption=t.StyledSelect=t.StyledModal=t.StyledDescriptionText=t.StyledControlGroup=void 0;var s,a,r,o,l,d=n(i(/*! @babel/runtime/helpers/taggedTemplateLiteral */"@babel/runtime/helpers/taggedTemplateLiteral")),h=n(i(/*! @splunk/react-ui/Select */"@splunk/react-ui/Select")),u=n(i(/*! styled-components */"styled-components")),c=n(i(/*! @splunk/react-ui/ControlGroup */"@splunk/react-ui/ControlGroup")),p=n(i(/*! @splunk/react-ui/Modal */"@splunk/react-ui/Modal")),m=n(i(/*! @splunk/react-ui/Text */"@splunk/react-ui/Text")),f=(0,u.default)(p.default)(s||(s=(0,d.default)(["\n    width: 550px;\n"])));t.StyledModal=f;var g=(0,u.default)(h.default)(a||(a=(0,d.default)(["\n    &&& {\n        width: 60%;\n    }\n    svg {\n        display: block;\n        padding-right: 1px;\n        padding-bottom: -1px;\n    }\n"])));t.StyledSelect=g;var v=(0,u.default)(h.default.Option)(r||(r=(0,d.default)(["\n    & [data-test='label'] svg {\n        display: block;\n        padding-right: 1px;\n        padding-bottom: -1px;\n    }\n"])));t.StyledSelectOption=v;var b=(0,u.default)(c.default)(o||(o=(0,d.default)(["\n    label {\n        text-align-last: left;\n        text-align: left;\n    }\n    > div {\n        justify-content: flex-start;\n    }\n"])));t.StyledControlGroup=b;var _=(0,u.default)(m.default)(l||(l=(0,d.default)(["\n    textarea {\n        resize: vertical;\n        max-height: 170px;\n        font-family: inherit;\n    }\n"])));t.StyledDescriptionText=_},"./src/components/CreateNewDashboard/index.styles.js":
/*!***********************************************************!*\
  !*** ./src/components/CreateNewDashboard/index.styles.js ***!
  \***********************************************************/
/*! no static exports found */function(e,t,i){"use strict";var n=i(/*! @babel/runtime/helpers/interopRequireDefault */"@babel/runtime/helpers/interopRequireDefault"),s=i(/*! @babel/runtime/helpers/typeof */"@babel/runtime/helpers/typeof");Object.defineProperty(t,"__esModule",{value:!0}),t.TypeControlGroupStyledCardBody=t.StyledSelectOption=t.StyledSelect=t.StyledNewText=t.StyledModal=t.StyledLayoutSelectTitle=t.StyledDisabledCardHeader=t.StyledDisabledCard=t.StyledDescriptionText=t.StyledDashboardTypeTitleContainer=t.StyledDashboardStudioText=t.StyledControlGroup=t.StyledCardSubtitleText=t.StyledCardHeader=t.StyledCardBody=t.StyledCard=t.StyledBuildDashboardTooltip=t.StyledBuildDashboardTitle=t.StyledBuildDashboardLabel=void 0;var a,r,o,l,d,h,u,c,p,m,f,g,v,b,_,y,w,k,T,S,x=n(i(/*! @babel/runtime/helpers/taggedTemplateLiteral */"@babel/runtime/helpers/taggedTemplateLiteral")),C=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==s(e)&&"function"!=typeof e)return{default:e};var i=L(t);if(i&&i.has(e))return i.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=a?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}n.default=e,i&&i.set(e,n);return n}(i(/*! styled-components */"styled-components")),E=n(i(/*! @splunk/react-ui/Card */"@splunk/react-ui/Card")),M=n(i(/*! @splunk/react-ui/Select */"@splunk/react-ui/Select")),R=n(i(/*! @splunk/react-ui/ControlGroup */"@splunk/react-ui/ControlGroup")),D=n(i(/*! @splunk/react-ui/Modal */"@splunk/react-ui/Modal")),P=n(i(/*! @splunk/react-ui/Text */"@splunk/react-ui/Text"));function L(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,i=new WeakMap;return(L=function(e){return e?i:t})(e)}var O=(0,C.default)(D.default)(a||(a=(0,x.default)(["\n    width: 550px;\n"])));t.StyledModal=O;var I=(0,C.default)(E.default)(r||(r=(0,x.default)(["\n    & {\n        border-radius: 4px;\n        margin: 0 8px;\n        > div {\n            flex-direction: row;\n        }\n        h1 {\n            margin-bottom: 5px;\n            font-size: 14px;\n        }\n        h2 {\n            line-height: 1;\n            font-size: 14px;\n        }\n        &:first-child {\n            margin-left: 0;\n        }\n        &:last-child {\n            margin-right: 0;\n        }\n        & * {\n            cursor: pointer;\n        }\n        &[data-clickable='true']:hover:not(:focus) {\n            box-shadow: 0px 1px 5px 0px rgba(0, 0, 0, 0.1);\n        }\n        &[data-clickable='true'][data-selected='true']:not(:focus) {\n            border-color: #818d99;\n            box-shadow: 0px 1px 5px 0px rgba(0, 0, 0, 0.1);\n        }\n    }\n"])));t.StyledCard=I;var A=(0,C.default)(E.default.Header)(o||(o=(0,x.default)(["\n    padding: 16px;\n    text-align: center;\n    vertical-align: center;\n"])));t.StyledDisabledCardHeader=A;var N=(0,C.default)(E.default.Header)(l||(l=(0,x.default)(["\n    padding: 16px;\n\n    &[data-test='dashboard-layout-header'] {\n        padding-top: 23px;\n    }\n"])));t.StyledCardHeader=N;var j=(0,C.default)(I)(d||(d=(0,x.default)(["\n    & {\n        &[data-card-has-border='true'] {\n            border-color: #f2f4f5;\n        }\n        background-color: #fcfdfd;\n        text-align: center;\n        & * {\n            cursor: default;\n        }\n    }\n"])));t.StyledDisabledCard=j;var z=(0,C.default)(E.default.Body)(h||(h=(0,x.default)(["\n    &&& {\n        padding: 12px 0px 12px 6px;\n        overflow: hidden;\n        svg {\n            display: block;\n            height: 60px;\n            width: 100px;\n        }\n    }\n"])));t.StyledCardBody=z;var B=(0,C.default)(E.default.Body)(u||(u=(0,x.default)(["\n    &&& {\n        padding: 16px;\n    }\n"])));t.TypeControlGroupStyledCardBody=B;var $=(0,C.default)(R.default)(c||(c=(0,x.default)(["\n    label {\n        text-align-last: left;\n        text-align: left;\n    }\n\n    > div {\n        justify-content: flex-start;\n    }\n\n    ",";\n"])),(function(e){return e.nolabel?(0,C.css)(p||(p=(0,x.default)(["\n                  margin-top: -22px;\n              "]))):null}));t.StyledControlGroup=$;var F=(0,C.default)(M.default)(m||(m=(0,x.default)(["\n    &&& {\n        width: 60%;\n    }\n    svg {\n        display: block;\n        padding-right: 1px;\n        padding-bottom: -1px;\n    }\n"])));t.StyledSelect=F;var V=(0,C.default)(M.default.Option)(f||(f=(0,x.default)(["\n    & [data-test='label'] svg {\n        display: block;\n        padding-right: 1px;\n        padding-bottom: -1px;\n    }\n"])));t.StyledSelectOption=V;var U=C.default.div(g||(g=(0,x.default)(["\n    display: flex;\n    margin-top: 6px;\n    margin-bottom: -5px;\n"])));t.StyledBuildDashboardTitle=U;var H=C.default.span(v||(v=(0,x.default)(["\n    flex-grow: 1;\n    margin-top: 6px;\n"])));t.StyledBuildDashboardLabel=H;var q=C.default.span(b||(b=(0,x.default)(["\n    button > span {\n        border-bottom: 0.01em solid currentColor;\n        display: inline-block;\n        line-height: 0.85;\n    }\n"])));t.StyledBuildDashboardTooltip=q;var G=C.default.span(_||(_=(0,x.default)(["\n    display: table;\n    margin: 0 auto;\n    padding: 8px;\n    font-size: 14px;\n"])));t.StyledLayoutSelectTitle=G;var Z=C.default.span(y||(y=(0,x.default)(["\n    white-space: initial;\n    line-height: 20%;\n    font-size: 14px;\n"])));t.StyledCardSubtitleText=Z;var Y=C.default.div(w||(w=(0,x.default)(["\n    display: flex;\n"])));t.StyledDashboardTypeTitleContainer=Y;var J=C.default.span(k||(k=(0,x.default)(["\n    flex-grow: 1;\n"])));t.StyledDashboardStudioText=J;var X=C.default.span(T||(T=(0,x.default)(["\n    color: #0264d7;\n    font-size: 0.8em;\n    padding-top: 2px;\n    padding-left: 5px;\n"])));t.StyledNewText=X;var W=(0,C.default)(P.default)(S||(S=(0,x.default)(["\n    textarea {\n        resize: vertical;\n        max-height: 170px;\n        font-family: inherit;\n    }\n"])));t.StyledDescriptionText=W},"./src/components/DashboardLayoutGroup/index.jsx":
/*!*******************************************************!*\
  !*** ./src/components/DashboardLayoutGroup/index.jsx ***!
  \*******************************************************/
/*! no static exports found */function(e,t,i){"use strict";(function(e){var n=i(/*! @babel/runtime/helpers/interopRequireDefault */"@babel/runtime/helpers/interopRequireDefault"),s=i(/*! @babel/runtime/helpers/typeof */"@babel/runtime/helpers/typeof");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(i(/*! @babel/runtime/helpers/extends */"@babel/runtime/helpers/extends")),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==s(e)&&"function"!=typeof e)return{default:e};var i=v(t);if(i&&i.has(e))return i.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=a?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}n.default=e,i&&i.set(e,n);return n}(i(/*! react */"react")),o=n(i(/*! lodash/get */"lodash/get")),l=n(i(/*! lodash/invoke */"lodash/invoke")),d=i(/*! @splunk/ui-utils/i18n */"@splunk/ui-utils/i18n"),h=n(i(/*! prop-types */"prop-types")),u=i(/*! @splunk/enterprise-dashboard-utils/testSupport */"@splunk/enterprise-dashboard-utils/testSupport"),c=i(/*! ../CreateNewDashboard/index.styles */"./src/components/CreateNewDashboard/index.styles.js"),p=n(i(/*! ../../assets/AbsoluteLayoutImage/light */"./src/assets/AbsoluteLayoutImage/light/index.jsx")),m=n(i(/*! ../../assets/AbsoluteLayoutImage/dark */"./src/assets/AbsoluteLayoutImage/dark/index.jsx")),f=n(i(/*! ../../assets/GridLayoutImage/light */"./src/assets/GridLayoutImage/light/index.jsx")),g=n(i(/*! ../../assets/GridLayoutImage/dark */"./src/assets/GridLayoutImage/dark/index.jsx"));function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,i=new WeakMap;return(v=function(e){return e?i:t})(e)}var b=(0,u.createTestHook)(e),_=b("dashboard-layout-absolute"),y=b("dashboard-layout-header"),w=b("dashboard-layout-grid"),k=r.default.memo((function(e){var t=e.hideSimpleXml,i=e.layout,n=e.handleLayoutChange,s=e.handleLayoutKeyDown,h=e.colorScheme,u=(0,r.useRef)(null),v=(0,r.useRef)(null);return(0,r.useEffect)((function(){var e=(0,o.default)(u,"current"),t=(0,o.default)(v,"current");document.activeElement!==e&&document.activeElement!==t||("absolute"===i?(0,l.default)(e,"focus"):"grid"===i&&(0,l.default)(t,"focus"))})),r.default.createElement(c.StyledControlGroup,{labelPosition:"top",label:t?(0,d._)("Select layout mode"):"",role:"radiogroup",nolabel:!t},r.default.createElement(c.StyledCard,(0,a.default)({value:"absolute",role:"radio","aria-checked":"absolute"===i,selected:"absolute"===i,tabIndex:"grid"!==i?"0":"-1",elementRef:u,onClick:n,onKeyDown:function(e){return s(e,"absolute")}},_),r.default.createElement(c.StyledCardHeader,(0,a.default)({title:(0,d._)("Absolute"),subtitle:(0,d._)("Full layout control")},y)),r.default.createElement(c.StyledCardBody,null,"light"===h?r.default.createElement(p.default,null):r.default.createElement(m.default,null))),r.default.createElement(c.StyledCard,(0,a.default)({value:"grid",role:"radio","aria-checked":"grid"===i,selected:"grid"===i,elementRef:v,tabIndex:"grid"===i?"0":"-1",onClick:n,onKeyDown:function(e){return s(e,"grid")}},w),r.default.createElement(c.StyledCardHeader,(0,a.default)({title:(0,d._)("Grid"),subtitle:(0,d._)("Quick organization")},y)),r.default.createElement(c.StyledCardBody,null,"light"===h?r.default.createElement(f.default,null):r.default.createElement(g.default,null))))}));k.propTypes={handleLayoutChange:h.default.func,hideSimpleXml:h.default.bool,layout:h.default.string,handleLayoutKeyDown:h.default.func,colorScheme:h.default.string},k.defaultProps={colorScheme:"light"};var T=k;t.default=T}).call(this,"src/components/DashboardLayoutGroup/index.jsx")},"./src/components/EditTitleAndId/index.jsx":
/*!*************************************************!*\
  !*** ./src/components/EditTitleAndId/index.jsx ***!
  \*************************************************/
/*! no static exports found */function(e,t,i){"use strict";(function(e){var n=i(/*! @babel/runtime/helpers/interopRequireDefault */"@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n(i(/*! @babel/runtime/helpers/extends */"@babel/runtime/helpers/extends")),a=n(i(/*! react */"react")),r=n(i(/*! prop-types */"prop-types")),o=i(/*! @splunk/ui-utils/i18n */"@splunk/ui-utils/i18n"),l=n(i(/*! @splunk/react-icons/Pencil */"@splunk/react-icons/Pencil")),d=n(i(/*! @splunk/react-ui/Text */"@splunk/react-ui/Text")),h=i(/*! @splunk/enterprise-dashboard-utils/testSupport */"@splunk/enterprise-dashboard-utils/testSupport"),u=i(/*! ./index.styles */"./src/components/EditTitleAndId/index.styles.js"),c=(0,h.createTestHook)(e),p=function(e){var t=e.isIdEditable,i=e.handleIdEditableChange,n=e.handleSaveByEnter,r=e.title,h=e.handleTitleChange,p=e.highlightTitleInput,m=e.id,f=e.handleIdChange,g=e.highlightIdInput,v=a.default.createElement(u.StyledControlGroup,{label:(0,o._)("Dashboard Title"),help:t?null:a.default.createElement(u.StyledTitleHelp,null,a.default.createElement(u.StyledIdText,c("dashboard-id-text"),m),a.default.createElement(u.StyledEditIdButton,(0,s.default)({tabIndex:"0",onClick:i,role:"button",onKeyPress:i},c("edit-id-button")),a.default.createElement(l.default,null)," ",(0,o._)("Edit ID")))},a.default.createElement(d.default,(0,s.default)({placeholder:(0,o._)("Required"),value:r,onKeyDown:n,onChange:h,error:p},c("dashboard-name")))),b=t?a.default.createElement(u.StyledControlGroup,{label:(0,o._)("Dashboard ID"),tooltip:a.default.createElement(u.StyledTooltipDiv,null,(0,o._)("The Dashboard ID is used as the filename on disk.\nThis cannot be changed later.")),help:(0,o._)("You can use letters, numbers, dashes, and underscores.")},a.default.createElement(d.default,(0,s.default)({placeholder:(0,o._)("Required"),autoFocus:!0,value:m,onChange:f,"data-test":"dashboard-id",error:g,onKeyDown:n},c("dashboard-id")))):null;return a.default.createElement(a.default.Fragment,null,v,b)};p.propTypes={isIdEditable:r.default.bool,handleIdEditableChange:r.default.func,handleSaveByEnter:r.default.func,title:r.default.string,handleTitleChange:r.default.func,highlightTitleInput:r.default.bool,id:r.default.string,handleIdChange:r.default.func,highlightIdInput:r.default.bool};var m=a.default.memo(p);t.default=m}).call(this,"src/components/EditTitleAndId/index.jsx")},"./src/components/EditTitleAndId/index.styles.js":
/*!*******************************************************!*\
  !*** ./src/components/EditTitleAndId/index.styles.js ***!
  \*******************************************************/
/*! no static exports found */function(e,t,i){"use strict";var n=i(/*! @babel/runtime/helpers/interopRequireDefault */"@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(t,"__esModule",{value:!0}),t.StyledTooltipDiv=t.StyledTitleHelp=t.StyledIdText=t.StyledEditIdButton=t.StyledControlGroup=void 0;var s,a,r,o,l,d=n(i(/*! @babel/runtime/helpers/taggedTemplateLiteral */"@babel/runtime/helpers/taggedTemplateLiteral")),h=n(i(/*! styled-components */"styled-components")),u=n(i(/*! @splunk/react-ui/ControlGroup */"@splunk/react-ui/ControlGroup")),c=i(/*! @splunk/themes */"@splunk/themes"),p=h.default.div(s||(s=(0,d.default)(["\n    display: flex;\n"])));t.StyledTitleHelp=p;var m=h.default.span(a||(a=(0,d.default)(["\n    flex-grow: 1;\n    word-break: break-word;\n"])));t.StyledIdText=m;var f=h.default.span(r||(r=(0,d.default)(["\n    & {\n        cursor: pointer;\n        flex: 0 0 50px;\n        border-radius: 2px;\n    }\n\n    &:focus {\n        box-shadow: 0 0 0 3px ",";\n        outline: 0;\n        z-index: 3;\n    }\n"])),c.variables.focusColor);t.StyledEditIdButton=f;var g=(0,h.default)(u.default)(o||(o=(0,d.default)(["\n    label {\n        text-align-last: left;\n        text-align: left;\n    }\n    > div {\n        justify-content: flex-start;\n    }\n"])));t.StyledControlGroup=g;var v=h.default.div(l||(l=(0,d.default)(["\n    max-width: 232px;\n    text-align: center;\n"])));t.StyledTooltipDiv=v},"./src/util/ErrorMessages.ts":
/*!***********************************!*\
  !*** ./src/util/ErrorMessages.ts ***!
  \***********************************/
/*! no static exports found */function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UNSELECTED_EXISTING_DASHBOARD=t.UNSELECTED_DASHBOARD_TYPE=t.UNSELECTED_DASHBOARD_LAYOUT=t.RESERVED_TITLE=t.PARAMETER_TOO_LONG=t.NOT_ALLOWED_EMAIL_DOMAIN=t.INVALID_EMAIL_FIELD=t.INVALID_DASHBOARD_NAME=t.EMPTY_TITLE_FIELD=t.EMPTY_ID_FIELD=t.EMPTY_EMAIL_FIELD=t.EMPTY_CRON_SCHEDULE_FIELD=void 0;var n=i(/*! @splunk/ui-utils/i18n */"@splunk/ui-utils/i18n"),s=(0,n._)("Title cannot be empty.");t.EMPTY_TITLE_FIELD=s;var a=(0,n._)("ID cannot be empty.");t.EMPTY_ID_FIELD=a;var r=(0,n._)("You cannot use < or > in a dashboard name.");t.INVALID_DASHBOARD_NAME=r;var o=(0,n._)("You must select a dashboard type.");t.UNSELECTED_DASHBOARD_TYPE=o;var l=(0,n._)("You must select a dashboard layout.");t.UNSELECTED_DASHBOARD_LAYOUT=l;var d=(0,n._)("You must select an existing dashboard.");t.UNSELECTED_EXISTING_DASHBOARD=d;var h=(0,n._)("Email Address list is empty.");t.EMPTY_EMAIL_FIELD=h;var u=(0,n._)("This email domain is not approved. To resolve this issue, contact your Splunk Administrator.");t.NOT_ALLOWED_EMAIL_DOMAIN=u;var c=(0,n._)("Email Address list is invalid");t.INVALID_EMAIL_FIELD=c;var p=(0,n._)("Cron expression cannot be empty.");t.EMPTY_CRON_SCHEDULE_FIELD=p;t.RESERVED_TITLE=function(e,t){return(0,n._)("Cannot create ".concat(e,' with name "').concat(t,'".'))};t.PARAMETER_TOO_LONG=function(e,t){return(0,n._)('Parameter "'.concat(e,'" must be less than ').concat(t," characters."))}},"./src/util/KeyboardActionUtil.js":
/*!****************************************!*\
  !*** ./src/util/KeyboardActionUtil.js ***!
  \****************************************/
/*! no static exports found */function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toggleSelectedRadioButton=void 0;t.toggleSelectedRadioButton=function(e,t,i,n){var s;switch(e.key){case"ArrowDown":case"ArrowRight":case"ArrowUp":case"ArrowLeft":s=i(t);break;case" ":s=t;break;default:return}n(s)}},"@babel/runtime/helpers/assertThisInitialized":
/*!***************************************************************!*\
  !*** external "@babel/runtime/helpers/assertThisInitialized" ***!
  \***************************************************************/
/*! no static exports found */function(e,t){e.exports=i(222)},"@babel/runtime/helpers/asyncToGenerator":
/*!**********************************************************!*\
  !*** external "@babel/runtime/helpers/asyncToGenerator" ***!
  \**********************************************************/
/*! no static exports found */function(e,t){e.exports=i(180)},"@babel/runtime/helpers/classCallCheck":
/*!********************************************************!*\
  !*** external "@babel/runtime/helpers/classCallCheck" ***!
  \********************************************************/
/*! no static exports found */function(e,t){e.exports=i(111)},"@babel/runtime/helpers/createClass":
/*!*****************************************************!*\
  !*** external "@babel/runtime/helpers/createClass" ***!
  \*****************************************************/
/*! no static exports found */function(e,t){e.exports=i(112)},"@babel/runtime/helpers/defineProperty":
/*!********************************************************!*\
  !*** external "@babel/runtime/helpers/defineProperty" ***!
  \********************************************************/
/*! no static exports found */function(e,t){e.exports=i(30)},"@babel/runtime/helpers/extends":
/*!*************************************************!*\
  !*** external "@babel/runtime/helpers/extends" ***!
  \*************************************************/
/*! no static exports found */function(e,t){e.exports=i(73)},"@babel/runtime/helpers/getPrototypeOf":
/*!********************************************************!*\
  !*** external "@babel/runtime/helpers/getPrototypeOf" ***!
  \********************************************************/
/*! no static exports found */function(e,t){e.exports=i(197)},"@babel/runtime/helpers/inherits":
/*!**************************************************!*\
  !*** external "@babel/runtime/helpers/inherits" ***!
  \**************************************************/
/*! no static exports found */function(e,t){e.exports=i(223)},"@babel/runtime/helpers/interopRequireDefault":
/*!***************************************************************!*\
  !*** external "@babel/runtime/helpers/interopRequireDefault" ***!
  \***************************************************************/
/*! no static exports found */function(e,t){e.exports=i(5)},"@babel/runtime/helpers/possibleConstructorReturn":
/*!*******************************************************************!*\
  !*** external "@babel/runtime/helpers/possibleConstructorReturn" ***!
  \*******************************************************************/
/*! no static exports found */function(e,t){e.exports=i(221)},"@babel/runtime/helpers/taggedTemplateLiteral":
/*!***************************************************************!*\
  !*** external "@babel/runtime/helpers/taggedTemplateLiteral" ***!
  \***************************************************************/
/*! no static exports found */function(e,t){e.exports=i(244)},"@babel/runtime/helpers/typeof":
/*!************************************************!*\
  !*** external "@babel/runtime/helpers/typeof" ***!
  \************************************************/
/*! no static exports found */function(e,t){e.exports=i(75)},"@babel/runtime/regenerator":
/*!*********************************************!*\
  !*** external "@babel/runtime/regenerator" ***!
  \*********************************************/
/*! no static exports found */function(e,t){e.exports=i(181)},"@splunk/enterprise-dashboard-api":
/*!***************************************************!*\
  !*** external "@splunk/enterprise-dashboard-api" ***!
  \***************************************************/
/*! no static exports found */function(e,t){e.exports=i(440)},"@splunk/enterprise-dashboard-utils/Telemetry":
/*!***************************************************************!*\
  !*** external "@splunk/enterprise-dashboard-utils/Telemetry" ***!
  \***************************************************************/
/*! no static exports found */function(e,t){e.exports=i(313)},"@splunk/enterprise-dashboard-utils/convertNameToId":
/*!*********************************************************************!*\
  !*** external "@splunk/enterprise-dashboard-utils/convertNameToId" ***!
  \*********************************************************************/
/*! no static exports found */function(e,t){e.exports=i(730)},"@splunk/enterprise-dashboard-utils/isReservedTitle":
/*!*********************************************************************!*\
  !*** external "@splunk/enterprise-dashboard-utils/isReservedTitle" ***!
  \*********************************************************************/
/*! no static exports found */function(e,t){e.exports=i(731)},"@splunk/enterprise-dashboard-utils/testSupport":
/*!*****************************************************************!*\
  !*** external "@splunk/enterprise-dashboard-utils/testSupport" ***!
  \*****************************************************************/
/*! no static exports found */function(e,t){e.exports=i(467)},"@splunk/react-icons/Pencil":
/*!*********************************************!*\
  !*** external "@splunk/react-icons/Pencil" ***!
  \*********************************************/
/*! no static exports found */function(e,t){e.exports=i(308)},"@splunk/react-ui/Button":
/*!******************************************!*\
  !*** external "@splunk/react-ui/Button" ***!
  \******************************************/
/*! no static exports found */function(e,t){e.exports=i(14)},"@splunk/react-ui/Card":
/*!****************************************!*\
  !*** external "@splunk/react-ui/Card" ***!
  \****************************************/
/*! no static exports found */function(e,t){e.exports=i(135)},"@splunk/react-ui/ControlGroup":
/*!************************************************!*\
  !*** external "@splunk/react-ui/ControlGroup" ***!
  \************************************************/
/*! no static exports found */function(e,t){e.exports=i(18)},"@splunk/react-ui/Message":
/*!*******************************************!*\
  !*** external "@splunk/react-ui/Message" ***!
  \*******************************************/
/*! no static exports found */function(e,t){e.exports=i(20)},"@splunk/react-ui/Modal":
/*!*****************************************!*\
  !*** external "@splunk/react-ui/Modal" ***!
  \*****************************************/
/*! no static exports found */function(e,t){e.exports=i(24)},"@splunk/react-ui/Select":
/*!******************************************!*\
  !*** external "@splunk/react-ui/Select" ***!
  \******************************************/
/*! no static exports found */function(e,t){e.exports=i(39)},"@splunk/react-ui/Text":
/*!****************************************!*\
  !*** external "@splunk/react-ui/Text" ***!
  \****************************************/
/*! no static exports found */function(e,t){e.exports=i(23)},"@splunk/themes":
/*!*********************************!*\
  !*** external "@splunk/themes" ***!
  \*********************************/
/*! no static exports found */function(e,t){e.exports=i(19)},"@splunk/ui-utils/i18n":
/*!****************************************!*\
  !*** external "@splunk/ui-utils/i18n" ***!
  \****************************************/
/*! no static exports found */function(e,t){e.exports=i(7)},"lodash/get":
/*!*****************************!*\
  !*** external "lodash/get" ***!
  \*****************************/
/*! no static exports found */function(e,t){e.exports=i(204)},"lodash/invoke":
/*!********************************!*\
  !*** external "lodash/invoke" ***!
  \********************************/
/*! no static exports found */function(e,t){e.exports=i(733)},"prop-types":
/*!*****************************!*\
  !*** external "prop-types" ***!
  \*****************************/
/*! no static exports found */function(e,t){e.exports=i(2)},react:
/*!************************!*\
  !*** external "react" ***!
  \************************/
/*! no static exports found */function(e,t){e.exports=i(0)},"styled-components":
/*!************************************!*\
  !*** external "styled-components" ***!
  \************************************/
/*! no static exports found */function(e,t){e.exports=i(9)}})},262:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=t.repeat=function(e,t){return new Array(t+1).join(e)},s=t.pad=function(e,t){return n("0",t-e.toString().length)+e};t.formatTime=function(e){return s(e.getHours(),2)+":"+s(e.getMinutes(),2)+":"+s(e.getSeconds(),2)+"."+s(e.getMilliseconds(),3)},t.timer="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance:Date},334:function(e,t,i){e.exports=function(e){var t={};function i(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(n,s,function(t){return e[t]}.bind(null,s));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=19)}({17:function(e,t){e.exports=i(72)},18:function(e,t){e.exports=i(236)},19:function(e,t,i){"use strict";i.r(t),i.d(t,"makeCreateToast",(function(){return b}));var n=i(17),s=i(18);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function o(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?r(Object(i),!0).forEach((function(t){f(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,n=m(e);if(t){var s=m(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return c(this,i)}}function c(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var g=[],v=!1,b=function(e){return function(t){e.create(t)}},_=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(r,e);var t,i,s,a=u(r);function r(){var e;l(this,r);for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return f(p(e=a.call.apply(a,[this].concat(i))),"validateToastProps",(function(e){if(!e.message)return"No toast message";if(!e.type)return"No toast type";if(e.action){if(!e.action.label)return"Toast with action has no label";if(!e.action.callback)return"Toast with action has no callback"}return null})),e}return t=r,(i=[{key:"create",value:function(e){var t=this.validateToastProps(e);if(t)console.warn("Cannot create toast: ".concat(t));else{var i=o(o({},e),{},{id:Object(n.createGUID)(),timeOut:e.timeout||5e3});this.emitCreate(i)}}},{key:"emitCreate",value:function(e){v?this.emit("toast_create",e):g.push(e)}},{key:"addCreateListener",value:function(e){var t=this;v=!0,this.addListener("toast_create",e),g.forEach((function(e){t.emitCreate(e)})),g=[]}},{key:"removeCreateListener",value:function(e){v=!1,this.removeListener("toast_create",e)}}])&&d(t.prototype,i),s&&d(t,s),r}(s.EventEmitter);t.default=new _}})},526:function(e,t,i){(t=e.exports=i(3)(!1)).push([e.i,".exportButtonContainer---pages-lite---dev---1hEZN{display:inline-block}.thirdGroup---pages-lite---dev---1Tc-V li>a,.thirdGroup---pages-lite---dev---1Tc-V li>a:hover{color:#dc4e41}.newLabel---pages-lite---dev---2JJJr{color:#006eaa;font-weight:500;padding-right:5px;float:right;letter-spacing:1px}",""]),t.locals={exportButtonContainer:"exportButtonContainer---pages-lite---dev---1hEZN",thirdGroup:"thirdGroup---pages-lite---dev---1Tc-V",newLabel:"newLabel---pages-lite---dev---2JJJr"}},527:function(e,t,i){(e.exports=i(3)(!1)).push([e.i,".fieldset{margin-bottom:15px}.fieldset:empty{margin-bottom:0}.fieldset:after,.fieldset:before{display:table;content:\"\";line-height:0}.fieldset:after{clear:both}.fieldset .form-submit{padding-top:25px}.fieldset .element,.fieldset .form-submit,.fieldset .input{display:inline-block;vertical-align:top;margin-right:10px}.fieldset .input{width:220px}.fieldset.hide-label>.input>label{display:none}.fieldset.hide-label .form-submit{padding-top:0}.edit-mode .fieldset.empty:not(.editable),.view-mode .fieldset:empty{display:none}.edit-mode .fieldset{padding-top:0}.edit-mode .fieldset .input{padding-right:14px;padding-top:10px;padding-bottom:0;border-right:1px dotted #c3cbd4;min-height:83px}.edit-mode .fieldset .input.ui-sortable-helper{padding-left:14px;border-right:1px solid transparent;background:#fff;-webkit-box-shadow:2px 2px 5px rgba(0,0,0,.2);box-shadow:2px 2px 5px rgba(0,0,0,.2);border-radius:4px}.edit-mode .fieldset .input.ui-sortable-placeholder{padding:10px 14px 5px 0}.edit-mode .fieldset .input.ui-sortable-placeholder .placeholder-inner{border-radius:4px;border:1px dashed #c3cbd4;height:60px}.edit-mode .fieldset .input:last-child{border-right:1px solid transparent}.edit-mode .fieldset .input .drag-handle{background:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='4' height='4'%3E%3Cpath fill='%23818D99' d='M0 0h2v2H0z'/%3E%3C/svg%3E\");cursor:move;height:8px;margin:0 0 5px;z-index:3;width:186px}.edit-mode .fieldset .edit-dropdown{float:right}.edit-mode .fieldset .edit-dropdown:after,.edit-mode .fieldset .edit-dropdown:before{display:table;content:\"\";line-height:0}.edit-mode .fieldset .edit-dropdown:after{clear:both}.edit-mode .fieldset .edit-dropdown{margin-top:-4px;z-index:2}.edit-mode .fieldset .edit-dropdown a{display:inline-block;font-size:17px;padding-left:6px;color:#5c6773}.edit-mode .fieldset .edit-dropdown a:hover{color:#5c6773}.edit-mode .fieldset .form-submit{padding-top:48px}.edit-mode .fieldset label.global-trp{color:#6b7785}.fieldset{min-height:50px}.fieldset.hide-label{min-height:27px}.dashboard-panel .fieldset{padding:10px 12px;margin-bottom:0;min-height:20px}",""])},528:function(e,t,i){(e.exports=i(3)(!1)).push([e.i,".run-search.disabled{color:#c3cbd4}.shared-searchbarinput{margin-bottom:8px}",""])},533:function(e,t,i){(e.exports=i(3)(!1)).push([e.i,".untitled .show-global-filters{margin-left:0;font-style:normal}.show-global-filters{margin-left:10px;font-size:12px;font-weight:500}",""])},534:function(e,t,i){(t=e.exports=i(3)(!1)).push([e.i,".fullWidth---pages-lite---dev---2F2Qh{width:100%}",""]),t.locals={fullWidth:"fullWidth---pages-lite---dev---2F2Qh"}},535:function(e,t,i){(e.exports=i(3)(!1)).push([e.i,".edit-mode .dashboard-messages{border-top:1px solid #c3cbd4}.dashboard-messages{margin:0 -20px}",""])},536:function(e,t,i){(e.exports=i(3)(!1)).push([e.i,".static-options-footer{padding-left:21px;margin-bottom:10px}.static-options-footer i.icon-plus{padding-right:5px}.input-editor-body .input-editor-format .splunk-timerange.splunk-view{width:200px}.input-editor-body .input-editor-format .splunkjs-mvc-simpleform-edit-dynamicoptionscontrol .inline-search-options .splunk-timerange.splunk-view{margin-left:135px}.input-editor-body .input-editor-format .shared-controls-syntheticradiocontrol{width:200px}.popdown-dialog.dashboard-form-input-editor-popdown{z-index:1050}",""])},537:function(e,t,i){"use strict";function n(e){return function(t){var i=t.dispatch,n=t.getState;return function(t){return function(s){return"function"==typeof s?s(i,n,e):t(s)}}}}i.r(t);var s=n();s.withExtraArgument=n,t.default=s},538:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logger=t.defaults=void 0;var n,s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},a=i(539),r=i(262),o=i(542),l=(n=o)&&n.__esModule?n:{default:n};function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=s({},l.default,e),i=t.logger,n=t.transformer,o=t.stateTransformer,d=t.errorTransformer,h=t.predicate,u=t.logErrors,c=t.diffPredicate;if(void 0===i)return function(){return function(e){return function(t){return e(t)}}};if(n&&console.error("Option 'transformer' is deprecated, use 'stateTransformer' instead!"),e.getState&&e.dispatch)return console.error("[redux-logger] redux-logger not installed. Make sure to pass logger instance as middleware:\n\n// Logger with default options\nimport { logger } from 'redux-logger'\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n\n\n// Or you can create your own logger with custom options http://bit.ly/redux-logger-options\nimport createLogger from 'redux-logger'\n\nconst logger = createLogger({\n  // ...options\n});\n\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n"),function(){return function(e){return function(t){return e(t)}}};var p=[];return function(e){var i=e.getState;return function(e){return function(n){if("function"==typeof h&&!h(i,n))return e(n);var l={};p.push(l),l.started=r.timer.now(),l.startedTime=new Date,l.prevState=o(i()),l.action=n;var m=void 0;if(u)try{m=e(n)}catch(e){l.error=d(e)}else m=e(n);l.took=r.timer.now()-l.started,l.nextState=o(i());var f=t.diff&&"function"==typeof c?c(i,n):t.diff;if((0,a.printBuffer)(p,s({},t,{diff:f})),p.length=0,l.error)throw l.error;return m}}}}var h=d();t.defaults=l.default,t.logger=h,t.default=d,e.exports=t.default},539:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.printBuffer=function(e,t){var i=t.logger,n=t.actionTransformer,s=t.titleFormatter,r=void 0===s?function(e){var t=e.timestamp,i=e.duration;return function(e,n,s){var a=["action"];return a.push("%c"+String(e.type)),t&&a.push("%c@ "+n),i&&a.push("%c(in "+s.toFixed(2)+" ms)"),a.join(" ")}}(t):s,d=t.collapsed,h=t.colors,u=t.level,c=t.diff;e.forEach((function(s,p){var m=s.started,f=s.startedTime,g=s.action,v=s.prevState,b=s.error,_=s.took,y=s.nextState,w=e[p+1];w&&(y=w.prevState,_=w.started-m);var k=n(g),T="function"==typeof d?d((function(){return y}),g,s):d,S=(0,a.formatTime)(f),x=h.title?"color: "+h.title(k)+";":"",C=["color: gray; font-weight: lighter;"];C.push(x),t.timestamp&&C.push("color: gray; font-weight: lighter;"),t.duration&&C.push("color: gray; font-weight: lighter;");var E=r(k,S,_);try{T?h.title?i.groupCollapsed.apply(i,["%c "+E].concat(C)):i.groupCollapsed(E):h.title?i.group.apply(i,["%c "+E].concat(C)):i.group(E)}catch(e){i.log(E)}var M=l(u,k,[v],"prevState"),R=l(u,k,[k],"action"),D=l(u,k,[b,v],"error"),P=l(u,k,[y],"nextState");M&&(h.prevState?i[M]("%c prev state","color: "+h.prevState(v)+"; font-weight: bold",v):i[M]("prev state",v)),R&&(h.action?i[R]("%c action    ","color: "+h.action(k)+"; font-weight: bold",k):i[R]("action    ",k)),b&&D&&(h.error?i[D]("%c error     ","color: "+h.error(b,v)+"; font-weight: bold;",b):i[D]("error     ",b)),P&&(h.nextState?i[P]("%c next state","color: "+h.nextState(y)+"; font-weight: bold",y):i[P]("next state",y)),c&&(0,o.default)(v,y,i,T);try{i.groupEnd()}catch(e){i.log("—— log end ——")}}))};var s,a=i(262),r=i(540),o=(s=r)&&s.__esModule?s:{default:s};function l(e,t,i,s){switch(void 0===e?"undefined":n(e)){case"object":return"function"==typeof e[s]?e[s].apply(e,function(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}(i)):e[s];case"function":return e(t);default:return e}}},540:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,i,n){var s=(0,a.default)(e,t);try{n?i.groupCollapsed("diff"):i.group("diff")}catch(e){i.log("diff")}s?s.forEach((function(e){var t=e.kind,n=function(e){var t=e.kind,i=e.path,n=e.lhs,s=e.rhs,a=e.index,r=e.item;switch(t){case"E":return[i.join("."),n,"→",s];case"N":return[i.join("."),s];case"D":return[i.join(".")];case"A":return[i.join(".")+"["+a+"]",r];default:return[]}}(e);i.log.apply(i,["%c "+r[t].text,o(t)].concat(function(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}(n)))})):i.log("—— no diff ——");try{i.groupEnd()}catch(e){i.log("—— diff end —— ")}};var n,s=i(541),a=(n=s)&&n.__esModule?n:{default:n};var r={E:{color:"#2196F3",text:"CHANGED:"},N:{color:"#4CAF50",text:"ADDED:"},D:{color:"#F44336",text:"DELETED:"},A:{color:"#2196F3",text:"ARRAY:"}};function o(e){return"color: "+r[e].color+"; font-weight: bold"}e.exports=t.default},541:function(e,t,i){(function(i){var n;
/*!
 * deep-diff.
 * Licensed under the MIT License.
 */!function(s,a){"use strict";void 0===(n=function(){return function(e){var t,n,s=[];t="object"==typeof i&&i?i:"undefined"!=typeof window?window:{};(n=t.DeepDiff)&&s.push((function(){void 0!==n&&t.DeepDiff===m&&(t.DeepDiff=n,n=e)}));function a(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function r(e,t){Object.defineProperty(this,"kind",{value:e,enumerable:!0}),t&&t.length&&Object.defineProperty(this,"path",{value:t,enumerable:!0})}function o(e,t,i){o.super_.call(this,"E",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0}),Object.defineProperty(this,"rhs",{value:i,enumerable:!0})}function l(e,t){l.super_.call(this,"N",e),Object.defineProperty(this,"rhs",{value:t,enumerable:!0})}function d(e,t){d.super_.call(this,"D",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0})}function h(e,t,i){h.super_.call(this,"A",e),Object.defineProperty(this,"index",{value:t,enumerable:!0}),Object.defineProperty(this,"item",{value:i,enumerable:!0})}function u(e,t,i){var n=e.slice((i||t)+1||e.length);return e.length=t<0?e.length+t:t,e.push.apply(e,n),e}function c(e){var t=typeof e;return"object"!==t?t:e===Math?"math":null===e?"null":Array.isArray(e)?"array":"[object Date]"===Object.prototype.toString.call(e)?"date":void 0!==e.toString&&/^\/.*\//.test(e.toString())?"regexp":"object"}function p(t,i,n,s,a,r,m){var f=(a=a||[]).slice(0);if(void 0!==r){if(s){if("function"==typeof s&&s(f,r))return;if("object"==typeof s){if(s.prefilter&&s.prefilter(f,r))return;if(s.normalize){var g=s.normalize(f,r,t,i);g&&(t=g[0],i=g[1])}}}f.push(r)}"regexp"===c(t)&&"regexp"===c(i)&&(t=t.toString(),i=i.toString());var v=typeof t,b=typeof i;if("undefined"===v)"undefined"!==b&&n(new l(f,i));else if("undefined"===b)n(new d(f,t));else if(c(t)!==c(i))n(new o(f,t,i));else if("[object Date]"===Object.prototype.toString.call(t)&&"[object Date]"===Object.prototype.toString.call(i)&&t-i!=0)n(new o(f,t,i));else if("object"===v&&null!==t&&null!==i){if((m=m||[]).indexOf(t)<0){if(m.push(t),Array.isArray(t)){var _;t.length;for(_=0;_<t.length;_++)_>=i.length?n(new h(f,_,new d(e,t[_]))):p(t[_],i[_],n,s,f,_,m);for(;_<i.length;)n(new h(f,_,new l(e,i[_++])))}else{var y=Object.keys(t),w=Object.keys(i);y.forEach((function(a,r){var o=w.indexOf(a);o>=0?(p(t[a],i[a],n,s,f,a,m),w=u(w,o)):p(t[a],e,n,s,f,a,m)})),w.forEach((function(t){p(e,i[t],n,s,f,t,m)}))}m.length=m.length-1}}else t!==i&&("number"===v&&isNaN(t)&&isNaN(i)||n(new o(f,t,i)))}function m(t,i,n,s){return s=s||[],p(t,i,(function(e){e&&s.push(e)}),n),s.length?s:e}function f(e,t,i){if(e&&t&&i&&i.kind){for(var n=e,s=-1,a=i.path?i.path.length-1:0;++s<a;)void 0===n[i.path[s]]&&(n[i.path[s]]="number"==typeof i.path[s]?[]:{}),n=n[i.path[s]];switch(i.kind){case"A":!function e(t,i,n){if(n.path&&n.path.length){var s,a=t[i],r=n.path.length-1;for(s=0;s<r;s++)a=a[n.path[s]];switch(n.kind){case"A":e(a[n.path[s]],n.index,n.item);break;case"D":delete a[n.path[s]];break;case"E":case"N":a[n.path[s]]=n.rhs}}else switch(n.kind){case"A":e(t[i],n.index,n.item);break;case"D":t=u(t,i);break;case"E":case"N":t[i]=n.rhs}return t}(i.path?n[i.path[s]]:n,i.index,i.item);break;case"D":delete n[i.path[s]];break;case"E":case"N":n[i.path[s]]=i.rhs}}}return a(o,r),a(l,r),a(d,r),a(h,r),Object.defineProperties(m,{diff:{value:m,enumerable:!0},observableDiff:{value:p,enumerable:!0},applyDiff:{value:function(e,t,i){if(e&&t){p(e,t,(function(n){i&&!i(e,t,n)||f(e,t,n)}))}},enumerable:!0},applyChange:{value:f,enumerable:!0},revertChange:{value:function(e,t,i){if(e&&t&&i&&i.kind){var n,s,a=e;for(s=i.path.length-1,n=0;n<s;n++)void 0===a[i.path[n]]&&(a[i.path[n]]={}),a=a[i.path[n]];switch(i.kind){case"A":!function e(t,i,n){if(n.path&&n.path.length){var s,a=t[i],r=n.path.length-1;for(s=0;s<r;s++)a=a[n.path[s]];switch(n.kind){case"A":e(a[n.path[s]],n.index,n.item);break;case"D":case"E":a[n.path[s]]=n.lhs;break;case"N":delete a[n.path[s]]}}else switch(n.kind){case"A":e(t[i],n.index,n.item);break;case"D":case"E":t[i]=n.lhs;break;case"N":t=u(t,i)}return t}(a[i.path[n]],i.index,i.item);break;case"D":case"E":a[i.path[n]]=i.lhs;break;case"N":delete a[i.path[n]]}}},enumerable:!0},isConflict:{value:function(){return void 0!==n},enumerable:!0},noConflict:{value:function(){return s&&(s.forEach((function(e){e()})),s=null),m},enumerable:!0}}),m}()}.apply(t,[]))||(e.exports=n)}()}).call(this,i(48))},542:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={level:"log",logger:console,logErrors:!0,collapsed:void 0,predicate:void 0,duration:!1,timestamp:!0,stateTransformer:function(e){return e},actionTransformer:function(e){return e},errorTransformer:function(e){return e},colors:{title:function(){return"inherit"},prevState:function(){return"#9E9E9E"},action:function(){return"#03A9F4"},nextState:function(){return"#4CAF50"},error:function(){return"#F20404"}},diff:!1,diffPredicate:void 0,transformer:void 0},e.exports=t.default},543:function(e,t,i){(t=e.exports=i(3)(!1)).push([e.i,".linkLabel---pages-lite---dev---1m361{font-size:12px;word-wrap:break-word;word-break:break-all}.padTopBottom---pages-lite---dev---1WMuL{padding-top:5px;padding-bottom:5px}",""]),t.locals={linkLabel:"linkLabel---pages-lite---dev---1m361",padTopBottom:"padTopBottom---pages-lite---dev---1WMuL"}},544:function(e,t,i){(e.exports=i(3)(!1)).push([e.i,".time-range-scope-select .dropdown-toggle{overflow:hidden;text-overflow:ellipsis}.timerange-control .time-label{margin-right:5px}",""])},545:function(e,t,i){(e.exports=i(3)(!1)).push([e.i,".modal.edit-search-string .content-wrapper{width:800px}.modal.edit-search-string .slide-area{width:1440px}.modal.edit-search-string .control-group.hide-time-range-picker{margin-bottom:0}.modal.edit-search-string .edit-search-form-main .controls .btn.timerange-control,.modal.edit-search-string .edit-search-form-main .controls .dropdown-toggle,.modal.edit-search-string .edit-search-form-main .controls .shared-controls-textcontrol{width:50%}",""])},546:function(e,t,i){(t=e.exports=i(3)(!1)).push([e.i,".flexContainer---pages-lite---dev---2FiTe{display:-webkit-box;display:-ms-flexbox;display:flex;padding-top:10px}",""]),t.locals={flexContainer:"flexContainer---pages-lite---dev---2FiTe"}},547:function(e,t,i){(t=e.exports=i(3)(!1)).push([e.i,".container---pages-lite---dev---2YJwX{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}.flexGrow---pages-lite---dev---2iqF7{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1}",""]),t.locals={container:"container---pages-lite---dev---2YJwX",flexGrow:"flexGrow---pages-lite---dev---2iqF7"}},549:function(e,t,i){(e.exports=i(3)(!1)).push([e.i,"/*  */\n\n.splunk-paginator {\n    user-select: none;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    margin-bottom: 5px;\n    padding-left: 15px;\n}\n.splunk-paginator .disabled, .splunk-paginator .selected {\n    color: #999;\n    cursor: default;\n}\n.splunk-paginator a {\n    border: 1px solid transparent;\n    border-radius: 3px;\n    padding-left: 5px;\n    padding-right: 5px;\n    text-decoration: none;\n    min-width: 20px;\n    line-height: 20px;\n    display: inline-block;\n    text-align: center;\n}\n.splunk-paginator a.selected, .splunk-paginator a:hover {\n    background: #eee;\n}\n.splunk-paginator span {\n    padding-left: 5px;\n    padding-right: 5px;\n}\n.splunk-paginator a.disabled:hover {\n    background: none;\n}",""])},550:function(e,t,i){(t=e.exports=i(3)(!1)).push([e.i,".dashboardPanel---pages-lite---dev---1UN1T{background-color:#fff}",""]),t.locals={dashboardPanel:"dashboardPanel---pages-lite---dev---1UN1T"}},551:function(e,t,i){(e.exports=i(3)(!1)).push([e.i,".hide-label .hide-global-filters{padding-top:6px}.hide-global-filters{line-height:32px;margin-top:25px;margin-left:10px;font-size:12px;display:inline-block}",""])},552:function(e,t,i){e.exports=function(e){var t={};function i(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(n,s,function(t){return e[t]}.bind(null,s));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=20)}([function(e,t,i){"use strict";i.r(t),i.d(t,"TOAST_TYPES",(function(){return n})),i.d(t,"TOAST_POSITIONS",(function(){return s}));var n={INFO:"info",WARNING:"warning",SUCCESS:"success",ERROR:"error"},s={TOP_LEFT:"top-left",TOP_CENTER:"top-center",TOP_RIGHT:"top-right",BOTTOM_LEFT:"bottom-left",BOTTOM_CENTER:"bottom-center",BOTTOM_RIGHT:"bottom-right"}},function(e,t){e.exports=i(0)},function(e,t){e.exports=i(19)},function(e,t){e.exports=i(2)},function(e,t){e.exports=i(9)},function(e,t){e.exports=i(12)},function(e,t){e.exports=i(334)},function(e,t){e.exports=i(169)},function(e,t){e.exports=i(114)},function(e,t){e.exports=i(57)},function(e,t){e.exports=i(147)},function(e,t){e.exports=i(225)},function(e,t){e.exports=i(115)},function(e,t){e.exports=i(131)},function(e,t){e.exports=i(148)},function(e,t){e.exports=i(168)},function(e,t){e.exports=i(553)},,,,function(e,t,i){"use strict";i.r(t);var n,s,a,r=i(1),o=i.n(r),l=i(3),d=i.n(l),h=i(5),u=i(11),c=i.n(u),p=i(6),m=i.n(p),f=i(7),g=i(8),v=i.n(g),b=i(9),_=i(10),y=i.n(_),w=i(12),k=i.n(w),T=i(13),S=i.n(T),x=i(14),C=i.n(x),E=i(15),M=i.n(E),R=i(0),D=i(4),P=i.n(D),L=i(16),O=i.n(L),I=i(2);function A(){var e=W(["\n    ","\n    position: fixed;\n    z-index: ",";\n    ",";\n"]);return A=function(){return e},e}function N(){var e=W(["\n    bottom: 16px;\n    left: 50%;\n    margin-left: calc(-1 * "," / 2);\n"]);return N=function(){return e},e}function j(){var e=W(["\n    bottom: 16px;\n    right: 16px;\n"]);return j=function(){return e},e}function z(){var e=W(["\n    bottom: 16px;\n    left: 16px;\n"]);return z=function(){return e},e}function B(){var e=W(["\n    top: 16px;\n    left: 16px;\n"]);return B=function(){return e},e}function $(){var e=W(["\n    top: 16px;\n    right: 16px;\n"]);return $=function(){return e},e}function F(){var e=W(["\n    top: 16px;\n    left: 50%;\n    margin-left: calc(-1 * "," / 2);\n"]);return F=function(){return e},e}function V(){var e=W(["\n    width: ",";\n\n    & > div:not(:nth-last-child(1)) {\n        margin-bottom: 16px;\n    }\n"]);return V=function(){return e},e}function U(){var e=W(["\n    display: block;\n    position: relative;\n    float: right;\n    margin: 3px 12px 12px 0;\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    width: auto;\n    color: ",";\n    padding: 1px 0 2px;\n    border: none;\n    font-size: 14px;\n    line-height: 20px;\n    cursor: pointer;\n    max-width: calc(100% - 24px);\n    background-color: ",";\n"]);return U=function(){return e},e}function H(){var e=W(["\n    overflow-y: auto;\n    overflow-x: hidden;\n    margin-left: 47px;\n    width: 453px;\n    padding-top: 8px;\n"]);return H=function(){return e},e}function q(){var e=W(["\n            border-radius: "," 0 0 ",";\n        "]);return q=function(){return e},e}function G(){var e=W(["\n    width: 36px;\n    height: 100%;\n    display: flex;\n    position: absolute;\n    align-items: center;\n    padding-left: 11px;\n    background: ",";\n    color: ",";\n    ","\n"]);return G=function(){return e},e}function Z(){var e=W(["\n    display: inline-block;\n    height: 100%;\n    padding-top: 5px;\n    margin-left: 12px;\n    margin-right: 12px;\n    max-width: 404px;\n    hyphens: auto;\n    text-overflow: ellipsis;\n    padding-bottom: ",";\n"]);return Z=function(){return e},e}function Y(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function J(){var e=W(["\n            border: 1px solid\n                ",";\n        "]);return J=function(){return e},e}function X(){var e=W(["\n    width: ",";\n    min-height: 46px;\n    position: relative;\n    background-color: ",";\n    box-shadow: ",";\n    ",";\n    border-radius: ",";\n"]);return X=function(){return e},e}function W(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var K=P.a.div(X(),"500px",Object(I.pick)({enterprise:I.variables.backgroundColor,prisma:I.variables.backgroundColorPopup}),Object(I.pick)({enterprise:I.variables.overlayShadow,prisma:I.variables.embossShadow}),Object(I.pick)({enterprise:Object(D.css)(J(),Object(I.pickVariant)("$type",(n={},Y(n,R.TOAST_TYPES.INFO,I.variables.cat1Color),Y(n,R.TOAST_TYPES.WARNING,I.variables.warningColor),Y(n,R.TOAST_TYPES.SUCCESS,I.variables.successColor),Y(n,R.TOAST_TYPES.ERROR,I.variables.errorColor),n)))}),I.variables.borderRadius),Q=P.a.div(Z(),(function(e){return e.action?null:"13px"})),ee=P.a.div(G(),Object(I.pick)({enterprise:Object(I.pickVariant)("$type",(s={},Y(s,R.TOAST_TYPES.INFO,I.variables.cat1Color),Y(s,R.TOAST_TYPES.WARNING,I.variables.warningColor),Y(s,R.TOAST_TYPES.SUCCESS,I.variables.successColor),Y(s,R.TOAST_TYPES.ERROR,I.variables.errorColor),s)),prisma:Object(I.pickVariant)("$type",(a={},Y(a,R.TOAST_TYPES.INFO,I.variables.contentColorActive),Y(a,R.TOAST_TYPES.WARNING,I.variables.accentColorWarning),Y(a,R.TOAST_TYPES.SUCCESS,I.variables.accentColorPositive),Y(a,R.TOAST_TYPES.ERROR,I.variables.accentColorNegative),a))}),Object(I.pick)({enterprise:I.variables.white,prisma:I.variables.contentColorInverted}),Object(I.pick)({prisma:Object(D.css)(q(),I.variables.borderRadius,I.variables.borderRadius)})),te=P.a.div(H()),ie=P.a.button(U(),I.variables.linkColor,Object(I.pick)({enterprise:I.variables.backgroundColor,prisma:"transparent"})),ne=P()(O.a)(V(),"500px"),se=Object(D.css)(F(),"500px"),ae=Object(D.css)($()),re=Object(D.css)(B()),oe=Object(D.css)(z()),le=Object(D.css)(j()),de=Object(D.css)(N(),"500px"),he=P.a.div(A(),I.mixins.reset("block"),I.variables.zindexToastMessages,(function(e){switch(e.position){case R.TOAST_POSITIONS.TOP_LEFT:return re;case R.TOAST_POSITIONS.TOP_CENTER:return se;case R.TOAST_POSITIONS.TOP_RIGHT:return ae;case R.TOAST_POSITIONS.BOTTOM_LEFT:return oe;case R.TOAST_POSITIONS.BOTTOM_CENTER:return de;case R.TOAST_POSITIONS.BOTTOM_RIGHT:return le;default:return se}})),ue=function(e){var t=e.children;return o.a.createElement("svg",{viewBox:"0 0 24 24",width:"24px",height:"24px",xmlns:"http://www.w3.org/2000/svg"},t)};ue.propTypes={children:d.a.node.isRequired};var ce=function(e){var t=e.type,i="prisma"===M()().family?function(e){switch(e){case R.TOAST_TYPES.SUCCESS:return o.a.createElement(ue,null,o.a.createElement("path",{fillRule:"evenodd",d:"M22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12ZM16.8738 8.62627C17.2643 9.01679 17.2643 9.64996 16.8738 10.0405L11.5853 15.329C10.9996 15.9147 10.0499 15.9148 9.46414 15.3291L7.12637 12.9921C6.73579 12.6016 6.7357 11.9684 7.12616 11.5779C7.51663 11.1873 8.1498 11.1872 8.54038 11.5776L10.5246 13.5613L15.4596 8.62627C15.8501 8.23574 16.4833 8.23574 16.8738 8.62627Z",fill:"currentColor"}));case R.TOAST_TYPES.INFO:return o.a.createElement(ue,null,o.a.createElement("path",{fillRule:"evenodd",d:"M22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12ZM11.0001 16.0094V11.9999C11.0001 11.4476 11.4478 10.9999 12.0001 10.9999C12.5524 10.9999 13.0001 11.4476 13.0001 11.9999V16.0094C13.0001 16.5617 12.5524 17.0094 12.0001 17.0094C11.4478 17.0094 11.0001 16.5617 11.0001 16.0094ZM12 6.9999C12.6628 6.9999 13.2 7.53716 13.2 8.1999C13.2 8.86264 12.6628 9.3999 12 9.3999C11.3373 9.3999 10.8 8.86264 10.8 8.1999C10.8 7.53716 11.3373 6.9999 12 6.9999Z",fill:"currentColor"}));case R.TOAST_TYPES.ERROR:return o.a.createElement(ue,null,o.a.createElement("path",{fillRule:"evenodd",d:"M22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22C17.5228 22 22 17.5228 22 12ZM11.0001 7.9906V12.0001C11.0001 12.5524 11.4478 13.0001 12.0001 13.0001C12.5524 13.0001 13.0001 12.5524 13.0001 12.0001V7.9906C13.0001 7.43832 12.5524 6.9906 12.0001 6.9906C11.4478 6.9906 11.0001 7.43832 11.0001 7.9906ZM12.0001 17.0001C12.6628 17.0001 13.2001 16.4628 13.2001 15.8001C13.2001 15.1374 12.6628 14.6001 12.0001 14.6001C11.3373 14.6001 10.8001 15.1374 10.8001 15.8001C10.8001 16.4628 11.3373 17.0001 12.0001 17.0001Z",fill:"currentColor"}));case R.TOAST_TYPES.WARNING:return o.a.createElement(ue,null,o.a.createElement("path",{fillRule:"evenodd",d:"M10.6827 2.82369C11.2341 1.72544 12.7659 1.72544 13.3173 2.82369L21.8338 19.7867C22.3412 20.7973 21.6254 22 20.5165 22H3.48349C2.37462 22 1.65878 20.7973 2.16616 19.7867L10.6827 2.82369ZM11.0002 13.6618V11.0133C11.0002 10.461 11.4479 10.0133 12.0002 10.0133C12.5525 10.0133 13.0002 10.461 13.0002 11.0133V13.6618C13.0002 14.2141 12.5525 14.6618 12.0002 14.6618C11.4479 14.6618 11.0002 14.2141 11.0002 13.6618ZM13.2002 16.9347C13.2002 17.5975 12.6629 18.1347 12.0002 18.1347C11.3374 18.1347 10.8002 17.5975 10.8002 16.9347C10.8002 16.272 11.3374 15.7347 12.0002 15.7347C12.6629 15.7347 13.2002 16.272 13.2002 16.9347Z",fill:"currentColor"}));default:return o.a.createElement(ue,null,o.a.createElement("path",{fillRule:"evenodd",d:"M22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12ZM11.0001 16.0094V11.9999C11.0001 11.4476 11.4478 10.9999 12.0001 10.9999C12.5524 10.9999 13.0001 11.4476 13.0001 11.9999V16.0094C13.0001 16.5617 12.5524 17.0094 12.0001 17.0094C11.4478 17.0094 11.0001 16.5617 11.0001 16.0094ZM12 6.9999C12.6628 6.9999 13.2 7.53716 13.2 8.1999C13.2 8.86264 12.6628 9.3999 12 9.3999C11.3373 9.3999 10.8 8.86264 10.8 8.1999C10.8 7.53716 11.3373 6.9999 12 6.9999Z",fill:"currentColor"}))}}(t):function(e){switch(e){case R.TOAST_TYPES.SUCCESS:return o.a.createElement(k.a,{size:"24px"});case R.TOAST_TYPES.INFO:return o.a.createElement(y.a,{size:"24px"});case R.TOAST_TYPES.ERROR:return o.a.createElement(S.a,{size:"26px"});case R.TOAST_TYPES.WARNING:return o.a.createElement(C.a,{size:"24px"});default:return o.a.createElement(y.a,{size:"24px"})}}(t);return o.a.createElement(ee,{role:"img","data-test":t,"aria-label":"".concat(t," toast icon"),$type:t},i)};ce.propTypes={type:d.a.string.isRequired};var pe=ce;function me(e){return(me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fe(){return(fe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function ge(e,t){if(null==e)return{};var i,n,s=function(e,t){if(null==e)return{};var i,n,s={},a=Object.keys(e);for(n=0;n<a.length;n++)i=a[n],t.indexOf(i)>=0||(s[i]=e[i]);return s}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)i=a[n],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(s[i]=e[i])}return s}function ve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function be(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _e(e,t){return(_e=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ye(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,n=Te(e);if(t){var s=Te(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return we(this,i)}}function we(e,t){return!t||"object"!==me(t)&&"function"!=typeof t?ke(e):t}function ke(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Te(e){return(Te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Se(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var xe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_e(e,t)}(a,e);var t,i,n,s=ye(a);function a(){var e;ve(this,a);for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return Se(ke(e=s.call.apply(s,[this].concat(i))),"onMouseEnter",(function(){e.props.autoDismiss&&e.pause()})),Se(ke(e),"onMouseLeave",(function(){e.props.autoDismiss&&e.resume()})),Se(ke(e),"onActionClick",(function(){e.fulfillActionCallback()})),Se(ke(e),"handleCloseKeyDown",(function(t){t.keyCode===Object(b.keycode)("enter")&&e.requestHide()})),Se(ke(e),"handleActionButtonKeyDown",(function(t){t.keyCode===Object(b.keycode)("enter")&&e.fulfillActionCallback()})),Se(ke(e),"isValidToastType",(function(e){switch(e){case R.TOAST_TYPES.SUCCESS:case R.TOAST_TYPES.INFO:case R.TOAST_TYPES.ERROR:case R.TOAST_TYPES.WARNING:return!0;default:return!1}})),Se(ke(e),"Timer",(function(t,i){var n=i,s=i;return e.pause=function(){window.clearTimeout(e.timerId),s-=new Date-n},e.resume=function(){return n=new Date,window.setTimeout((function(){t()}),s)},e.resume()})),Se(ke(e),"requestHide",(function(){(0,e.props.onRequestHide)()})),e}return t=a,(i=[{key:"componentDidMount",value:function(){if(this.props.autoDismiss){var e=this.props.timeout||5e3;this.timerId=this.Timer(this.requestHide,e)}}},{key:"componentWillUnmount",value:function(){this.props.autoDismiss&&this.timerId&&window.clearTimeout(this.timerId)}},{key:"fulfillActionCallback",value:function(){var e=this.props,t=e.dismissOnActionClick;e.action.callback(),t&&this.requestHide()}},{key:"render",value:function(){var e=this.props,t=e.type,i=e.action,n=e.message,s=e.onFocus,a=e.onBlur,r=(e.onRequestHide,ge(e,["type","action","message","onFocus","onBlur","onRequestHide"])),l=o.a.createElement(pe,{type:t}),d=o.a.createElement(Q,{"data-test":"toast-message","aria-label":n,lang:navigator.language||navigator.userLanguage,title:n},n),h=i?o.a.createElement(ie,fe({"data-test":"toast-action",tabIndex:0,onClick:this.onActionClick,onFocus:s,onBlur:a,onKeyDown:this.handleActionButtonKeyDown,type:"button"},i.props),i.label):null,u=o.a.createElement("div",{role:"button","data-test":"toast-dismiss",style:{position:"absolute",top:"13px",right:"12px",color:"#818d99",cursor:"pointer"},tabIndex:0,focusable:"true",onClick:this.requestHide,onFocus:s,onBlur:a,onKeyDown:this.handleCloseKeyDown},o.a.createElement(v.a,{size:"12px"})),c=o.a.createElement("div",{style:{display:"inline-block",marginTop:"5px",marginRight:"12px",float:"right",color:"#818d99",cursor:"pointer"}},o.a.createElement(v.a,{size:"12px"})),p=o.a.createElement(te,{role:"group","aria-label":"Toast content"},d," ",c," ",h," ",u);return o.a.createElement(K,fe({role:"group","data-test":"toast","aria-label":"Toast container",onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,$type:t},r),l,p)}}])&&be(t.prototype,i),n&&be(t,n),a}(o.a.Component);xe.propTypes={message:d.a.string.isRequired,type:d.a.string.isRequired,autoDismiss:d.a.bool,dismissOnActionClick:d.a.bool,action:d.a.shape({label:d.a.oneOfType([d.a.string,d.a.node]).isRequired,callback:d.a.func.isRequired,props:d.a.object}),timeout:d.a.number,onRequestHide:d.a.func,onFocus:d.a.func,onBlur:d.a.func},xe.defaultProps={autoDismiss:!0,dismissOnActionClick:!0,onRequestHide:function(){},onFocus:function(){},onBlur:function(){}};var Ce=xe;function Ee(e){return(Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Me(){return(Me=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function Re(e,t){if(null==e)return{};var i,n,s=function(e,t){if(null==e)return{};var i,n,s={},a=Object.keys(e);for(n=0;n<a.length;n++)i=a[n],t.indexOf(i)>=0||(s[i]=e[i]);return s}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)i=a[n],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(s[i]=e[i])}return s}function De(e){return function(e){if(Array.isArray(e))return Pe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Pe(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Pe(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function Le(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Oe(e,t){return(Oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ie(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,n=je(e);if(t){var s=je(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return Ae(this,i)}}function Ae(e,t){return!t||"object"!==Ee(t)&&"function"!=typeof t?Ne(e):t}function Ne(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function je(e){return(je=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ze(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var Be={from:{transform:"translateY(-100%)",opacity:"0"},to:{transform:"translateY(0)",opacity:""}},$e={from:{transform:"translateY(100%)",opacity:"0"},to:{transform:"translateY(0)",opacity:""}},Fe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Oe(e,t)}(a,e);var t,i,n,s=Ie(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),ze(Ne(t=s.call(this,e)),"handleModalMount",(function(e){t.el=e,e&&Object(h.defer)(f.takeFocus,e,"container")})),ze(Ne(t),"handleModalKeyDown",(function(e){Object(f.handleTab)(t.el,e)})),ze(Ne(t),"handleToastCreate",(function(e){var i=-1!==t.props.position.indexOf("top");t.setState((function(t){return i?{toasts:[e].concat(De(t.toasts))}:{toasts:[].concat(De(t.toasts),[e])}}))})),ze(Ne(t),"handleToastFocus",(function(e){t.setState((function(t){var i=t.toasts.filter((function(t){return t.id===e}));return i.length>0&&t.focusedToast!==i[0]?{focusedToast:i[0]}:null}))})),ze(Ne(t),"handleRequestHide",(function(e){t.setState((function(t){var i=t.focusedToast||e;return{toasts:t.toasts.filter((function(e){return i.id!==e.id})),focusedToast:null}}))})),ze(Ne(t),"renderLayer",(function(){var e=t.props,i=e.position,n=e.animationDuration,s=-1!==i.indexOf("top"),a=s?Be:$e;return o.a.createElement(he,{ref:t.handleModalMount,position:i,"data-test":"toast-messages",role:"group","aria-label":"Toast messages container",tabIndex:-1,onKeyDown:t.handleModalKeyDown},o.a.createElement(ne,{enterAnimation:a,appearAnimation:a,leaveAnimation:"fade",duration:Object(h.isNil)(n)?200:n,easing:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",verticalAlignment:s?"top":"bottom"},t.state.toasts.map((function(e){var i=e.id,n=e.message,s=e.type,a=e.autoDismiss,r=e.dismissOnActionClick,l=e.action,d=e.timeOut,h=Re(e,["id","message","type","autoDismiss","dismissOnActionClick","action","timeOut"]);return o.a.createElement(Ce,Me({key:i,message:n,type:s,autoDismiss:a,dismissOnActionClick:r,action:l,timeout:d,onRequestHide:function(){return t.handleRequestHide(e)},onFocus:function(){return t.handleToastFocus(i)},onBlur:function(){return t.handleToastBlur()}},h))}))))})),t.state={toasts:e.toasts||[],focusedToast:null},t}return t=a,(i=[{key:"componentDidMount",value:function(){m.a.addCreateListener(this.handleToastCreate)}},{key:"componentWillUnmount",value:function(){this.setState({toasts:[],focusedToast:null}),m.a.removeCreateListener(this.handleToastCreate)}},{key:"handleToastBlur",value:function(){this.state.focusedToast&&this.setState({focusedToast:null})}},{key:"render",value:function(){var e=this,t=-1!==this.props.position.indexOf("top")?0:Math.max(this.state.toasts.length-1,0),i=this.state.toasts.length>0;return this.props.escapeToCloseToasts?o.a.createElement(c.a,{closeReasons:["escapeKey"],render:this.renderLayer,onRequestClose:function(){return e.handleRequestHide(e.state.toasts[t])},open:i},i&&this.renderLayer()):this.renderLayer()}}])&&Le(t.prototype,i),n&&Le(t,n),a}(o.a.Component);Fe.propTypes={position:d.a.oneOf(Object(h.values)(R.TOAST_POSITIONS)).isRequired,animationDuration:d.a.number,toasts:d.a.arrayOf(d.a.object),escapeToCloseToasts:d.a.bool},Fe.defaultProps={escapeToCloseToasts:!0};var Ve=Fe,Ue=function(e){return o.a.createElement(Ve,{position:e.position})};Ue.propTypes={position:d.a.oneOf(["top-left","top-center","top-right","bottom-left","bottom-center","bottom-right"])},Ue.defaultProps={position:"top-center"};t.default=Ue}])},554:function(e,t,i){(e.exports=i(3)(!1)).push([e.i,".side-bar-master .background-cover{z-index:1038;position:fixed;top:0;left:0;height:100%;width:100%}.side-bar-master .sidebar{z-index:1038;position:fixed;top:0;right:0;height:100%;background-color:#fff;border-right:1px solid #c3cbd4}.side-bar-master .sidebar .close{position:absolute;right:0;margin:3px}.side-bar-master .sidebar.first{-webkit-box-shadow:0 0 12px rgba(0,0,0,.3);box-shadow:0 0 12px rgba(0,0,0,.3)}",""])},555:function(e,t,i){(e.exports=i(3)(!1)).push([e.i,'.dashboard-xml-editor-wrapper{margin:0 -20px -15px}.dashboard-rendering .dashboard{visibility:hidden}.dashboard-loading{position:absolute;width:100%}.ace_marker-layer .splunk_error_marker{position:absolute;background:#f8dcd9;z-index:4}.ace_marker-layer .splunk_warning_marker{position:absolute;background:#fef2d7;z-index:4}.xml-editor-message{margin:0}.xml-editor-message .dashboard-message{border-top:1px solid #c3cbd4;border-bottom:1px solid #c3cbd4;padding:6px 20px 6px 47px}.xml-editor-message .dashboard-message .icon{font-size:20px;top:6px}.ace-tm{background:#fff;color:#3c444d}#dashboard-editor .ace_text-input:focus{z-index:0}#dashboard-editor .ace_gutter-cell.ace_error{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABGdBTUEAALGPC/xhBQAAAZpJREFUOBGVUz0vQ2EUPuf2cquCCpOPQQwkDYO2f4CBxUjQxsZi6GwUE3/C4iMhsQkRzJIiMYiSiD9gQSJR7T2e0/tRvb138A5vz3m+znvfe0sUvfgpnz19zmXPIOEomRFFPOczC3DNwDqtdZQuNPlhLtVqWokSyCE1CtFr5ftrNHX0UA4GhZ7AbGlb88xq0FqxoNnlGuGbuXRXh2W8sIgpxIcYz8w0L0w/n9/2cObo9v2vo+kEnZaxjok9EO2M7BVXR/aLK0L2rmLK/TVr3RBwnxsfAFZQAhMT+usso90tCq7GIxoD4mRtgonXWKF+X0WkwbrirsbpsPsneMylx5hl2WPw3H1ejVsc9GrVqNbr/QCDeAv37fcQeFORJV4NmA1H60TgbohKixOTRix26UD1XUSO8QpagMzWUaeyq9Wp0YO7K52IyNh2UKA9Ai6wn4RxrocZn+kiMvaDIhGqfJbt3krru3Rz8o2pdpKATJZMvK+NsL8KHtzstPiWKAlTmBkwvPja5JyFPwLRblu7Iq0R1LzgvW5G/4n8AuIHZ4o4A6cIAAAAAElFTkSuQmCC");background-size:13px;background-position:5px 1px}#dashboard-editor .ace_gutter-cell.ace_warning{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABGdBTUEAALGPC/xhBQAAAOZJREFUOBGlU0sKwjAQfala6AX8oG517UoR9EjuFZdeR9y6cWcFPYjgBSxYbXypBCXtiK0DYT6Z92byGRXvsYCHJYCAq4hESLBS8QFXooqCbaHI+wNsSAJDIMlW3zHUD4ygsZOSRAKdYO1PcfInOGqFTWECBdQtSGs0re1quQOFtk0mWcfarhYJCHoTqBIE+oOAR+i6la1ftYar2cGAn2wOBZ+r5+5bXyQgqMLb7/MJqegJYn4iu82VS238uv04xJkUrbwsuQOgcQsxS0EC2Ox96yCvYCZmnjHKRH8PcJg4kiVJ0nF+AiYeNcdJrP7XAAAAAElFTkSuQmCC");background-size:13px;background-position:5px 1px}#dashboard-editor .ace_tooltip{background:#3c444d;color:#f7f8fa;padding:8px 10px;border:0;border-radius:5px;font-family:Splunk Platform Sans,Proxima Nova,Roboto,Droid,Helvetica Neue,Helvetica,Arial,sans-serif;font-size:14px;line-height:140%}',""])},847:function(e,t,i){var n=i(97);(e.exports=i(3)(!1)).push([e.i,'/* required styles */\n\n.leaflet-map-pane,\n.leaflet-tile,\n.leaflet-marker-icon,\n.leaflet-marker-shadow,\n.leaflet-tile-pane,\n.leaflet-overlay-pane,\n.leaflet-shadow-pane,\n.leaflet-marker-pane,\n.leaflet-popup-pane,\n.leaflet-overlay-pane svg,\n.leaflet-zoom-box,\n.leaflet-image-layer,\n.leaflet-layer { /* TODO optimize classes */\n\tposition: absolute;\n\t}\n.leaflet-container {\n\toverflow: hidden;\n\toutline: 0;\n\t}\n.leaflet-tile,\n.leaflet-marker-icon,\n.leaflet-marker-shadow {\n\t-moz-user-select: none;\n\t-webkit-user-select: none;\n\tuser-select: none;\n\t}\n.leaflet-marker-icon,\n.leaflet-marker-shadow {\n\tdisplay: block;\n\t}\n.leaflet-clickable {\n\tcursor: pointer;\n\t}\n.leaflet-dragging, .leaflet-dragging .leaflet-clickable {\n\tcursor: move;\n\t}\n.leaflet-container img {\n    /* map is broken in FF if you have max-width: 100% on tiles */\n\tmax-width: none !important;\n\t}\n.leaflet-container img.leaflet-image-layer {\n    /* stupid Android 2 doesn\'t understand "max-width: none" properly */\n    max-width: 15000px !important;\n    }\n\n.leaflet-tile-pane { z-index: 2; }\n.leaflet-objects-pane { z-index: 3; }\n.leaflet-overlay-pane { z-index: 4; }\n.leaflet-shadow-pane { z-index: 5; }\n.leaflet-marker-pane { z-index: 6; }\n.leaflet-popup-pane { z-index: 7; }\n\n.leaflet-tile {\n    filter: inherit;\n    visibility: hidden;\n\t}\n.leaflet-tile-loaded {\n\tvisibility: inherit;\n\t}\n\n.leaflet-zoom-box {\n    width: 0;\n    height: 0;\n    }\n\n/* Leaflet controls */\n\n.leaflet-control {\n\tposition: relative;\n\tz-index: 7;\n\tpointer-events: auto;\n\t}\n.leaflet-top,\n.leaflet-bottom {\n\tposition: absolute;\n\tz-index: 1000;\n\tpointer-events: none;\n\t}\n.leaflet-top {\n\ttop: 0;\n\t}\n.leaflet-right {\n\tright: 0;\n\t}\n.leaflet-bottom {\n\tbottom: 0;\n\t}\n.leaflet-left {\n\tleft: 0;\n\t}\n.leaflet-control {\n\tfloat: left;\n\tclear: both;\n\t}\n.leaflet-right .leaflet-control {\n\tfloat: right;\n\t}\n.leaflet-top .leaflet-control {\n\tmargin-top: 10px;\n\t}\n.leaflet-bottom .leaflet-control {\n\tmargin-bottom: 10px;\n\t}\n.leaflet-left .leaflet-control {\n\tmargin-left: 10px;\n\t}\n.leaflet-right .leaflet-control {\n\tmargin-right: 10px;\n\t}\n\n.leaflet-control-zoom {\n\t-moz-border-radius: 7px;\n\t-webkit-border-radius: 7px;\n\tborder-radius: 7px;\n\t}\n.leaflet-control-zoom {\n\tpadding: 5px;\n\tbackground: rgba(0, 0, 0, 0.25);\n\t}\n.leaflet-control-zoom a {\n\tbackground-color: rgba(255, 255, 255, 0.75);\n\t}\n.leaflet-control-zoom a, .leaflet-control-layers a {\n\tbackground-position: 50% 50%;\n\tbackground-repeat: no-repeat;\n\tdisplay: block;\n\t}\n.leaflet-control-zoom a {\n\t-moz-border-radius: 4px;\n\t-webkit-border-radius: 4px;\n\tborder-radius: 4px;\n\twidth: 19px;\n\theight: 19px;\n\t}\n.leaflet-control-zoom a:hover {\n\tbackground-color: #fff;\n\t}\n.leaflet-touch .leaflet-control-zoom a {\n\twidth: 27px;\n\theight: 27px;\n\t}\n.leaflet-control-zoom-in {\n\tbackground-image: url('+n(i("contrib/leaflet/images/zoom-in.png"))+");\n\tmargin-bottom: 5px;\n\t}\n.leaflet-control-zoom-out {\n\tbackground-image: url("+n(i("contrib/leaflet/images/zoom-out.png"))+");\n\t}\n\n.leaflet-control-layers {\n\tbox-shadow: 0 1px 7px #999;\n\tbackground: #f8f8f9;\n\t-moz-border-radius: 8px;\n\t-webkit-border-radius: 8px;\n\tborder-radius: 8px;\n\t}\n.leaflet-control-layers a {\n\tbackground-image: url("+n(i("contrib/leaflet/images/layers.png"))+');\n\twidth: 36px;\n\theight: 36px;\n\t}\n.leaflet-touch .leaflet-control-layers a {\n\twidth: 44px;\n\theight: 44px;\n\t}\n.leaflet-control-layers .leaflet-control-layers-list,\n.leaflet-control-layers-expanded .leaflet-control-layers-toggle {\n\tdisplay: none;\n\t}\n.leaflet-control-layers-expanded .leaflet-control-layers-list {\n\tdisplay: block;\n\tposition: relative;\n\t}\n.leaflet-control-layers-expanded {\n\tpadding: 6px 10px 6px 6px;\n\tfont: 12px/1.5 "Helvetica Neue", Arial, Helvetica, sans-serif;\n\tcolor: #333;\n\tbackground: #fff;\n\t}\n.leaflet-control-layers input {\n\tmargin-top: 2px;\n\tposition: relative;\n\ttop: 1px;\n\t}\n.leaflet-control-layers label {\n\tdisplay: block;\n\t}\n.leaflet-control-layers-separator {\n\theight: 0;\n\tborder-top: 1px solid #ddd;\n\tmargin: 5px -10px 5px -6px;\n\t}\n\n.leaflet-container .leaflet-control-attribution {\n\tbackground-color: rgba(255, 255, 255, 0.7);\n\tbox-shadow: 0 0 5px #bbb;\n\tmargin: 0;\n    }\n\n.leaflet-control-attribution,\n.leaflet-control-scale-line {\n\tpadding: 0 5px;\n\tcolor: #333;\n\t}\n\n.leaflet-container .leaflet-control-attribution,\n.leaflet-container .leaflet-control-scale {\n\tfont: 11px/1.5 "Helvetica Neue", Arial, Helvetica, sans-serif;\n\t}\n\n.leaflet-left .leaflet-control-scale {\n\tmargin-left: 5px;\n\t}\n.leaflet-bottom .leaflet-control-scale {\n\tmargin-bottom: 5px;\n\t}\n\n.leaflet-control-scale-line {\n\tborder: 2px solid #777;\n\tborder-top: none;\n\tcolor: black;\n\tline-height: 1;\n\tfont-size: 10px;\n\tpadding-bottom: 2px;\n\ttext-shadow: 1px 1px 1px #fff;\n\tbackground-color: rgba(255, 255, 255, 0.5);\n\t}\n.leaflet-control-scale-line:not(:first-child) {\n\tborder-top: 2px solid #777;\n\tpadding-top: 1px;\n\tborder-bottom: none;\n\tmargin-top: -2px;\n\t}\n.leaflet-control-scale-line:not(:first-child):not(:last-child) {\n\tborder-bottom: 2px solid #777;\n\t}\n\n.leaflet-touch .leaflet-control-attribution, .leaflet-touch .leaflet-control-layers {\n\tbox-shadow: none;\n\t}\n.leaflet-touch .leaflet-control-layers {\n\tborder: 5px solid #bbb;\n\t}\n\n\n/* Zoom and fade animations */\n\n.leaflet-fade-anim .leaflet-tile, .leaflet-fade-anim .leaflet-popup {\n\topacity: 0;\n\n\t-webkit-transition: opacity 0.2s linear;\n\t-moz-transition: opacity 0.2s linear;\n\t-o-transition: opacity 0.2s linear;\n\ttransition: opacity 0.2s linear;\n\t}\n.leaflet-fade-anim .leaflet-tile-loaded, .leaflet-fade-anim .leaflet-map-pane .leaflet-popup {\n\topacity: 1;\n\t}\n\n.leaflet-zoom-anim .leaflet-zoom-animated {\n\t-webkit-transition: -webkit-transform 0.25s cubic-bezier(0.25,0.1,0.25,0.75);\n\t-moz-transition: -moz-transform 0.25s cubic-bezier(0.25,0.1,0.25,0.75);\n\t-o-transition: -o-transform 0.25s cubic-bezier(0.25,0.1,0.25,0.75);\n\ttransition: transform 0.25s cubic-bezier(0.25,0.1,0.25,0.75);\n\t}\n\n.leaflet-zoom-anim .leaflet-tile,\n.leaflet-pan-anim .leaflet-tile,\n.leaflet-touching .leaflet-zoom-animated {\n    -webkit-transition: none;\n    -moz-transition: none;\n    -o-transition: none;\n    transition: none;\n    }\n\n.leaflet-zoom-anim .leaflet-zoom-hide {\n\tvisibility: hidden;\n\t}\n\n\n/* Popup layout */\n\n.leaflet-popup {\n\tposition: absolute;\n\ttext-align: center;\n\t}\n.leaflet-popup-content-wrapper {\n\tpadding: 1px;\n\ttext-align: left;\n\t}\n.leaflet-popup-content {\n\tmargin: 14px 20px;\n\t}\n.leaflet-popup-tip-container {\n\tmargin: 0 auto;\n\twidth: 40px;\n\theight: 20px;\n\tposition: relative;\n\toverflow: hidden;\n\t}\n.leaflet-popup-tip {\n\twidth: 15px;\n\theight: 15px;\n\tpadding: 1px;\n\n\tmargin: -8px auto 0;\n\n\t-moz-transform: rotate(45deg);\n\t-webkit-transform: rotate(45deg);\n\t-ms-transform: rotate(45deg);\n\t-o-transform: rotate(45deg);\n\ttransform: rotate(45deg);\n\t}\n.leaflet-container a.leaflet-popup-close-button {\n\tposition: absolute;\n\ttop: 0;\n\tright: 0;\n\tpadding: 4px 5px 0 0;\n\ttext-align: center;\n\twidth: 18px;\n\theight: 14px;\n\tfont: 16px/14px Tahoma, Verdana, sans-serif;\n\tcolor: #c3c3c3;\n\ttext-decoration: none;\n\tfont-weight: bold;\n\t}\n.leaflet-container a.leaflet-popup-close-button:hover {\n\tcolor: #999;\n\t}\n.leaflet-popup-content p {\n\tmargin: 18px 0;\n\t}\n.leaflet-popup-scrolled {\n\toverflow: auto;\n\tborder-bottom: 1px solid #ddd;\n\tborder-top: 1px solid #ddd;\n\t}\n\n\n/* Visual appearance */\n\n.leaflet-container {\n\tbackground: #ddd;\n\t}\n.leaflet-container a {\n\tcolor: #0078A8;\n\t}\n.leaflet-container a.leaflet-active {\n    outline: 2px solid orange;\n    }\n.leaflet-zoom-box {\n\tborder: 2px dotted #05f;\n\tbackground: white;\n\topacity: 0.5;\n\t}\n.leaflet-div-icon {\n    background: #fff;\n    border: 1px solid #666;\n    }\n.leaflet-editing-icon {\n    border-radius: 2px;\n    }\n.leaflet-popup-content-wrapper, .leaflet-popup-tip {\n\tbackground: white;\n\n\tbox-shadow: 0 3px 10px #888;\n\t-moz-box-shadow: 0 3px 10px #888;\n\t-webkit-box-shadow: 0 3px 14px #999;\n\t}\n.leaflet-popup-content-wrapper {\n\t-moz-border-radius: 20px;\n\t-webkit-border-radius: 20px;\n\tborder-radius: 20px;\n\t}\n.leaflet-popup-content {\n\tfont: 12px/1.4 "Helvetica Neue", Arial, Helvetica, sans-serif;\n\t}\n',""])},848:function(e,t){(function(){!function(e,i){var n,s;typeof t!=i+""?n=t:(s=e.L,(n={}).noConflict=function(){return e.L=s,this},e.L=n),n.version="0.4.5",n.Util={extend:function(e){for(var t,i=Array.prototype.slice.call(arguments,1),n=0,s=i.length;n<s;n++)for(var a in t=i[n]||{})t.hasOwnProperty(a)&&(e[a]=t[a]);return e},bind:function(e,t){var i=arguments.length>2?Array.prototype.slice.call(arguments,2):null;return function(){return e.apply(t,i||arguments)}},stamp:function(){var e=0,t="_leaflet_id";return function(i){return i[t]=i[t]||++e,i[t]}}(),limitExecByInterval:function(e,t,i){var n,s;return function a(){var r=arguments;n?s=!0:(n=!0,setTimeout((function(){n=!1,s&&(a.apply(i,r),s=!1)}),t),e.apply(i,r))}},falseFn:function(){return!1},formatNum:function(e,t){var i=Math.pow(10,t||5);return Math.round(e*i)/i},splitWords:function(e){return e.replace(/^\s+|\s+$/g,"").split(/\s+/)},setOptions:function(e,t){return e.options=n.Util.extend({},e.options,t),e.options},getParamString:function(e){var t=[];for(var i in e)e.hasOwnProperty(i)&&t.push(i+"="+e[i]);return"?"+t.join("&")},template:function(e,t){return e.replace(/\{ *([\w_]+) *\}/g,(function(e,i){var n=t[i];if(!t.hasOwnProperty(i))throw Error("No value provided for variable "+e);return n}))},emptyImageUrl:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="},function(){function t(t){var i,n,s=["webkit","moz","o","ms"];for(i=0;i<s.length&&!n;i++)n=e[s[i]+t];return n}function i(t){return e.setTimeout(t,1e3/60)}var s=e.requestAnimationFrame||t("RequestAnimationFrame")||i,a=e.cancelAnimationFrame||t("CancelAnimationFrame")||t("CancelRequestAnimationFrame")||function(t){e.clearTimeout(t)};n.Util.requestAnimFrame=function(t,a,r,o){if(t=n.Util.bind(t,a),!r||s!==i)return s.call(e,t,o);t()},n.Util.cancelAnimFrame=function(t){t&&a.call(e,t)}}(),n.Class=function(){},n.Class.extend=function(e){var t=function(){this.initialize&&this.initialize.apply(this,arguments)},i=function(){};i.prototype=this.prototype;var s=new i;for(var a in s.constructor=t,t.prototype=s,this)this.hasOwnProperty(a)&&"prototype"!==a&&(t[a]=this[a]);return e.statics&&(n.Util.extend(t,e.statics),delete e.statics),e.includes&&(n.Util.extend.apply(null,[s].concat(e.includes)),delete e.includes),e.options&&s.options&&(e.options=n.Util.extend({},s.options,e.options)),n.Util.extend(s,e),t},n.Class.include=function(e){n.Util.extend(this.prototype,e)},n.Class.mergeOptions=function(e){n.Util.extend(this.prototype.options,e)};var a="_leaflet_events";n.Mixin={},n.Mixin.Events={addEventListener:function(e,t,i){var s,r,o,l=this[a]=this[a]||{};if("object"==typeof e){for(s in e)e.hasOwnProperty(s)&&this.addEventListener(s,e[s],t);return this}for(r=0,o=(e=n.Util.splitWords(e)).length;r<o;r++)l[e[r]]=l[e[r]]||[],l[e[r]].push({action:t,context:i||this});return this},hasEventListeners:function(e){return a in this&&e in this[a]&&this[a][e].length>0},removeEventListener:function(e,t,i){var s,r,o,l,d,h=this[a];if("object"==typeof e){for(s in e)e.hasOwnProperty(s)&&this.removeEventListener(s,e[s],t);return this}for(r=0,o=(e=n.Util.splitWords(e)).length;r<o;r++)if(this.hasEventListeners(e[r]))for(d=(l=h[e[r]]).length-1;d>=0;d--)(!t||l[d].action===t)&&(!i||l[d].context===i)&&l.splice(d,1);return this},fireEvent:function(e,t){if(!this.hasEventListeners(e))return this;for(var i=n.Util.extend({type:e,target:this},t),s=this[a][e].slice(),r=0,o=s.length;r<o;r++)s[r].action.call(s[r].context||this,i);return this}},n.Mixin.Events.on=n.Mixin.Events.addEventListener,n.Mixin.Events.off=n.Mixin.Events.removeEventListener,n.Mixin.Events.fire=n.Mixin.Events.fireEvent,function(){var t=navigator.userAgent.toLowerCase(),s=!!e.ActiveXObject,a=s&&!e.XMLHttpRequest,r=-1!==t.indexOf("webkit"),o=-1!==t.indexOf("gecko"),l=-1!==t.indexOf("chrome"),d=e.opera,h=-1!==t.indexOf("android"),u=-1!==t.search("android [23]"),c=typeof orientation!=i+"",p=document.documentElement,m=s&&"transition"in p.style,f=r&&"WebKitCSSMatrix"in e&&"m11"in new e.WebKitCSSMatrix,g=o&&"MozPerspective"in p.style,v=d&&"OTransition"in p.style,b=!e.L_NO_TOUCH&&function(){var e="ontouchstart";if(e in p)return!0;var t=document.createElement("div"),i=!1;return!!t.setAttribute&&(t.setAttribute(e,"return;"),"function"==typeof t[e]&&(i=!0),t.removeAttribute(e),t=null,i)}(),_="devicePixelRatio"in e&&e.devicePixelRatio>1||"matchMedia"in e&&e.matchMedia("(min-resolution:144dpi)").matches;n.Browser={ua:t,ie:s,ie6:a,webkit:r,gecko:o,opera:d,android:h,android23:u,chrome:l,ie3d:m,webkit3d:f,gecko3d:g,opera3d:v,any3d:!e.L_DISABLE_3D&&(m||f||g||v),mobile:c,mobileWebkit:c&&r,mobileWebkit3d:c&&f,mobileOpera:c&&d,touch:b,retina:_}}(),n.Point=function(e,t,i){this.x=i?Math.round(e):e,this.y=i?Math.round(t):t},n.Point.prototype={add:function(e){return this.clone()._add(n.point(e))},_add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.clone()._subtract(n.point(e))},_subtract:function(e){return this.x-=e.x,this.y-=e.y,this},divideBy:function(e,t){return new n.Point(this.x/e,this.y/e,t)},multiplyBy:function(e,t){return new n.Point(this.x*e,this.y*e,t)},distanceTo:function(e){var t=(e=n.point(e)).x-this.x,i=e.y-this.y;return Math.sqrt(t*t+i*i)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},clone:function(){return new n.Point(this.x,this.y)},toString:function(){return"Point("+n.Util.formatNum(this.x)+", "+n.Util.formatNum(this.y)+")"}},n.point=function(e,t,i){return e instanceof n.Point?e:e instanceof Array?new n.Point(e[0],e[1]):isNaN(e)?e:new n.Point(e,t,i)},n.Bounds=n.Class.extend({initialize:function(e,t){if(e)for(var i=t?[e,t]:e,n=0,s=i.length;n<s;n++)this.extend(i[n])},extend:function(e){return e=n.point(e),this.min||this.max?(this.min.x=Math.min(e.x,this.min.x),this.max.x=Math.max(e.x,this.max.x),this.min.y=Math.min(e.y,this.min.y),this.max.y=Math.max(e.y,this.max.y)):(this.min=e.clone(),this.max=e.clone()),this},getCenter:function(e){return new n.Point((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:function(){return new n.Point(this.min.x,this.max.y)},getTopRight:function(){return new n.Point(this.max.x,this.min.y)},contains:function(e){var t,i;return(e="number"==typeof e[0]||e instanceof n.Point?n.point(e):n.bounds(e))instanceof n.Bounds?(t=e.min,i=e.max):t=i=e,t.x>=this.min.x&&i.x<=this.max.x&&t.y>=this.min.y&&i.y<=this.max.y},intersects:function(e){e=n.bounds(e);var t=this.min,i=this.max,s=e.min,a=e.max,r=a.x>=t.x&&s.x<=i.x,o=a.y>=t.y&&s.y<=i.y;return r&&o}}),n.bounds=function(e,t){return!e||e instanceof n.Bounds?e:new n.Bounds(e,t)},n.Transformation=n.Class.extend({initialize:function(e,t,i,n){this._a=e,this._b=t,this._c=i,this._d=n},transform:function(e,t){return this._transform(e.clone(),t)},_transform:function(e,t){return t=t||1,e.x=t*(this._a*e.x+this._b),e.y=t*(this._c*e.y+this._d),e},untransform:function(e,t){return t=t||1,new n.Point((e.x/t-this._b)/this._a,(e.y/t-this._d)/this._c)}}),n.DomUtil={get:function(e){return"string"==typeof e?document.getElementById(e):e},getStyle:function(e,t){var i=e.style[t];if(!i&&e.currentStyle&&(i=e.currentStyle[t]),!i||"auto"===i){var n=document.defaultView.getComputedStyle(e,null);i=n?n[t]:null}return"auto"===i?null:i},getViewportOffset:function(e){var t=0,i=0,s=e,a=document.body;do{if(t+=s.offsetTop||0,i+=s.offsetLeft||0,s.offsetParent===a&&"absolute"===n.DomUtil.getStyle(s,"position"))break;if("fixed"===n.DomUtil.getStyle(s,"position")){t+=a.scrollTop||0,i+=a.scrollLeft||0;break}s=s.offsetParent}while(s);s=e;do{if(s===a)break;t-=s.scrollTop||0,i-=s.scrollLeft||0,s=s.parentNode}while(s);return new n.Point(i,t)},create:function(e,t,i){var n=document.createElement(e);return n.className=t,i&&i.appendChild(n),n},disableTextSelection:function(){document.selection&&document.selection.empty&&document.selection.empty(),this._onselectstart||(this._onselectstart=document.onselectstart,document.onselectstart=n.Util.falseFn)},enableTextSelection:function(){document.onselectstart=this._onselectstart,this._onselectstart=null},hasClass:function(e,t){return e.className.length>0&&RegExp("(^|\\s)"+t+"(\\s|$)").test(e.className)},addClass:function(e,t){n.DomUtil.hasClass(e,t)||(e.className+=(e.className?" ":"")+t)},removeClass:function(e,t){e.className=e.className.replace(/(\S+)\s*/g,(function(e,i){return i===t?"":e})).replace(/(^\s+|\s+$)/,"")},setOpacity:function(e,t){if("opacity"in e.style)e.style.opacity=t;else if(n.Browser.ie){var i=!1,s="DXImageTransform.Microsoft.Alpha";try{i=e.filters.item(s)}catch(e){}t=Math.round(100*t),i?(i.Enabled=100!==t,i.Opacity=t):e.style.filter+=" progid:"+s+"(opacity="+t+")"}},testProp:function(e){for(var t=document.documentElement.style,i=0;i<e.length;i++)if(e[i]in t)return e[i];return!1},getTranslateString:function(e){var t=n.Browser.webkit3d,i=(t?",0":"")+")";return"translate"+(t?"3d":"")+"("+e.x+"px,"+e.y+"px"+i},getScaleString:function(e,t){return n.DomUtil.getTranslateString(t.add(t.multiplyBy(-1*e)))+(" scale("+e+") ")},setPosition:function(e,t,i){e._leaflet_pos=t,!i&&n.Browser.any3d?(e.style[n.DomUtil.TRANSFORM]=n.DomUtil.getTranslateString(t),n.Browser.mobileWebkit3d&&(e.style.WebkitBackfaceVisibility="hidden")):(e.style.left=t.x+"px",e.style.top=t.y+"px")},getPosition:function(e){return e._leaflet_pos}},n.Util.extend(n.DomUtil,{TRANSITION:n.DomUtil.testProp(["transition","webkitTransition","OTransition","MozTransition","msTransition"]),TRANSFORM:n.DomUtil.testProp(["transform","WebkitTransform","OTransform","MozTransform","msTransform"])}),n.LatLng=function(e,t,i){var n=parseFloat(e),s=parseFloat(t);if(isNaN(n)||isNaN(s))throw Error("Invalid LatLng object: ("+e+", "+t+")");!0!==i&&(n=Math.max(Math.min(n,90),-90),s=(s+180)%360+(s<-180||180===s?180:-180)),this.lat=n,this.lng=s},n.Util.extend(n.LatLng,{DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,MAX_MARGIN:1e-9}),n.LatLng.prototype={equals:function(e){return!!e&&(e=n.latLng(e),Math.max(Math.abs(this.lat-e.lat),Math.abs(this.lng-e.lng))<=n.LatLng.MAX_MARGIN)},toString:function(){return"LatLng("+n.Util.formatNum(this.lat)+", "+n.Util.formatNum(this.lng)+")"},distanceTo:function(e){e=n.latLng(e);var t=n.LatLng.DEG_TO_RAD,i=(e.lat-this.lat)*t,s=(e.lng-this.lng)*t,a=this.lat*t,r=e.lat*t,o=Math.sin(i/2),l=Math.sin(s/2),d=o*o+l*l*Math.cos(a)*Math.cos(r);return 12756274*Math.atan2(Math.sqrt(d),Math.sqrt(1-d))}},n.latLng=function(e,t,i){return e instanceof n.LatLng?e:e instanceof Array?new n.LatLng(e[0],e[1]):isNaN(e)?e:new n.LatLng(e,t,i)},n.LatLngBounds=n.Class.extend({initialize:function(e,t){if(e)for(var i=t?[e,t]:e,n=0,s=i.length;n<s;n++)this.extend(i[n])},extend:function(e){return(e="number"==typeof e[0]||e instanceof n.LatLng?n.latLng(e):n.latLngBounds(e))instanceof n.LatLng?this._southWest||this._northEast?(this._southWest.lat=Math.min(e.lat,this._southWest.lat),this._southWest.lng=Math.min(e.lng,this._southWest.lng),this._northEast.lat=Math.max(e.lat,this._northEast.lat),this._northEast.lng=Math.max(e.lng,this._northEast.lng)):(this._southWest=new n.LatLng(e.lat,e.lng,!0),this._northEast=new n.LatLng(e.lat,e.lng,!0)):e instanceof n.LatLngBounds&&(this.extend(e._southWest),this.extend(e._northEast)),this},pad:function(e){var t=this._southWest,i=this._northEast,s=Math.abs(t.lat-i.lat)*e,a=Math.abs(t.lng-i.lng)*e;return new n.LatLngBounds(new n.LatLng(t.lat-s,t.lng-a),new n.LatLng(i.lat+s,i.lng+a))},getCenter:function(){return new n.LatLng((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new n.LatLng(this._northEast.lat,this._southWest.lng,!0)},getSouthEast:function(){return new n.LatLng(this._southWest.lat,this._northEast.lng,!0)},contains:function(e){e="number"==typeof e[0]||e instanceof n.LatLng?n.latLng(e):n.latLngBounds(e);var t,i,s=this._southWest,a=this._northEast;return e instanceof n.LatLngBounds?(t=e.getSouthWest(),i=e.getNorthEast()):t=i=e,t.lat>=s.lat&&i.lat<=a.lat&&t.lng>=s.lng&&i.lng<=a.lng},intersects:function(e){e=n.latLngBounds(e);var t=this._southWest,i=this._northEast,s=e.getSouthWest(),a=e.getNorthEast(),r=a.lat>=t.lat&&s.lat<=i.lat,o=a.lng>=t.lng&&s.lng<=i.lng;return r&&o},toBBoxString:function(){var e=this._southWest,t=this._northEast;return[e.lng,e.lat,t.lng,t.lat].join(",")},equals:function(e){return!!e&&(e=n.latLngBounds(e),this._southWest.equals(e.getSouthWest())&&this._northEast.equals(e.getNorthEast()))}}),n.latLngBounds=function(e,t){return!e||e instanceof n.LatLngBounds?e:new n.LatLngBounds(e,t)},n.Projection={},n.Projection.SphericalMercator={MAX_LATITUDE:85.0511287798,project:function(e){var t=n.LatLng.DEG_TO_RAD,i=this.MAX_LATITUDE,s=Math.max(Math.min(i,e.lat),-i),a=e.lng*t,r=s*t;return r=Math.log(Math.tan(Math.PI/4+r/2)),new n.Point(a,r)},unproject:function(e){var t=n.LatLng.RAD_TO_DEG,i=e.x*t,s=(2*Math.atan(Math.exp(e.y))-Math.PI/2)*t;return new n.LatLng(s,i,!0)}},n.Projection.LonLat={project:function(e){return new n.Point(e.lng,e.lat)},unproject:function(e){return new n.LatLng(e.y,e.x,!0)}},n.CRS={latLngToPoint:function(e,t){var i=this.projection.project(e),n=this.scale(t);return this.transformation._transform(i,n)},pointToLatLng:function(e,t){var i=this.scale(t),n=this.transformation.untransform(e,i);return this.projection.unproject(n)},project:function(e){return this.projection.project(e)},scale:function(e){return 256*Math.pow(2,e)}},n.CRS.EPSG3857=n.Util.extend({},n.CRS,{code:"EPSG:3857",projection:n.Projection.SphericalMercator,transformation:new n.Transformation(.5/Math.PI,.5,-.5/Math.PI,.5),project:function(e){return this.projection.project(e).multiplyBy(6378137)}}),n.CRS.EPSG900913=n.Util.extend({},n.CRS.EPSG3857,{code:"EPSG:900913"}),n.CRS.EPSG4326=n.Util.extend({},n.CRS,{code:"EPSG:4326",projection:n.Projection.LonLat,transformation:new n.Transformation(1/360,.5,-1/360,.5)}),n.Map=n.Class.extend({includes:n.Mixin.Events,options:{crs:n.CRS.EPSG3857,fadeAnimation:n.DomUtil.TRANSITION&&!n.Browser.android23,trackResize:!0,markerZoomAnimation:n.DomUtil.TRANSITION&&n.Browser.any3d},initialize:function(e,t){t=n.Util.setOptions(this,t),this._initContainer(e),this._initLayout(),this._initHooks(),this._initEvents(),t.maxBounds&&this.setMaxBounds(t.maxBounds),t.center&&t.zoom!==i&&this.setView(n.latLng(t.center),t.zoom,!0),this._initLayers(t.layers)},setView:function(e,t){return this._resetView(n.latLng(e),this._limitZoom(t)),this},setZoom:function(e){return this.setView(this.getCenter(),e)},zoomIn:function(){return this.setZoom(this._zoom+1)},zoomOut:function(){return this.setZoom(this._zoom-1)},fitBounds:function(e){var t=this.getBoundsZoom(e);return this.setView(n.latLngBounds(e).getCenter(),t)},fitWorld:function(){var e=new n.LatLng(-60,-170),t=new n.LatLng(85,179);return this.fitBounds(new n.LatLngBounds(e,t))},panTo:function(e){return this.setView(e,this._zoom)},panBy:function(e){return this.fire("movestart"),this._rawPanBy(n.point(e)),this.fire("move"),this.fire("moveend")},setMaxBounds:function(e){if(e=n.latLngBounds(e),this.options.maxBounds=e,!e)return this._boundsMinZoom=null,this;var t=this.getBoundsZoom(e,!0);return this._boundsMinZoom=t,this._loaded&&(this._zoom<t?this.setView(e.getCenter(),t):this.panInsideBounds(e)),this},panInsideBounds:function(e){e=n.latLngBounds(e);var t=this.getBounds(),i=this.project(t.getSouthWest()),s=this.project(t.getNorthEast()),a=this.project(e.getSouthWest()),r=this.project(e.getNorthEast()),o=0,l=0;return s.y<r.y&&(l=r.y-s.y),s.x>r.x&&(o=r.x-s.x),i.y>a.y&&(l=a.y-i.y),i.x<a.x&&(o=a.x-i.x),this.panBy(new n.Point(o,l,!0))},addLayer:function(e){var t=n.Util.stamp(e);if(this._layers[t])return this;this._layers[t]=e,e.options&&!isNaN(e.options.maxZoom)&&(this._layersMaxZoom=Math.max(this._layersMaxZoom||0,e.options.maxZoom)),e.options&&!isNaN(e.options.minZoom)&&(this._layersMinZoom=Math.min(this._layersMinZoom||1/0,e.options.minZoom)),this.options.zoomAnimation&&n.TileLayer&&e instanceof n.TileLayer&&(this._tileLayersNum++,this._tileLayersToLoad++,e.on("load",this._onTileLayerLoad,this));var i=function(){e.onAdd(this),this.fire("layeradd",{layer:e})};return this._loaded?i.call(this):this.on("load",i,this),this},removeLayer:function(e){var t=n.Util.stamp(e);if(this._layers[t])return e.onRemove(this),delete this._layers[t],this.options.zoomAnimation&&n.TileLayer&&e instanceof n.TileLayer&&(this._tileLayersNum--,this._tileLayersToLoad--,e.off("load",this._onTileLayerLoad,this)),this.fire("layerremove",{layer:e})},hasLayer:function(e){var t=n.Util.stamp(e);return this._layers.hasOwnProperty(t)},invalidateSize:function(e){var t=this.getSize();if(this._sizeChanged=!0,this.options.maxBounds&&this.setMaxBounds(this.options.maxBounds),!this._loaded)return this;var i=t.subtract(this.getSize()).divideBy(2,!0);return!0===e?this.panBy(i):(this._rawPanBy(i),this.fire("move"),clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(n.Util.bind(this.fire,this,"moveend"),200)),this},addHandler:function(e,t){if(t)return this[e]=new t(this),this.options[e]&&this[e].enable(),this},getCenter:function(){return this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds(),t=this.unproject(e.getBottomLeft()),i=this.unproject(e.getTopRight());return new n.LatLngBounds(t,i)},getMinZoom:function(){var e=this.options.minZoom||0,t=this._layersMinZoom||0,i=this._boundsMinZoom||0;return Math.max(e,t,i)},getMaxZoom:function(){var e=this.options.maxZoom===i?1/0:this.options.maxZoom,t=this._layersMaxZoom===i?1/0:this._layersMaxZoom;return Math.min(e,t)},getBoundsZoom:function(e,t){e=n.latLngBounds(e);var i,s,a,r=this.getSize(),o=this.options.minZoom||0,l=this.getMaxZoom(),d=e.getNorthEast(),h=e.getSouthWest(),u=!0;t&&o--;do{o++,s=this.project(d,o),a=this.project(h,o),i=new n.Point(Math.abs(s.x-a.x),Math.abs(a.y-s.y)),u=t?i.x<r.x||i.y<r.y:i.x<=r.x&&i.y<=r.y}while(u&&o<=l);return u&&t?null:t?o:o-1},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new n.Point(this._container.clientWidth,this._container.clientHeight),this._sizeChanged=!1),this._size},getPixelBounds:function(){var e=this._getTopLeftPoint();return new n.Bounds(e,e.add(this.getSize()))},getPixelOrigin:function(){return this._initialTopLeftPoint},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(e){var t=this.options.crs;return t.scale(e)/t.scale(this._zoom)},getScaleZoom:function(e){return this._zoom+Math.log(e)/Math.LN2},project:function(e,t){return t=t===i?this._zoom:t,this.options.crs.latLngToPoint(n.latLng(e),t)},unproject:function(e,t){return t=t===i?this._zoom:t,this.options.crs.pointToLatLng(n.point(e),t)},layerPointToLatLng:function(e){var t=n.point(e).add(this._initialTopLeftPoint);return this.unproject(t)},latLngToLayerPoint:function(e){return this.project(n.latLng(e))._round()._subtract(this._initialTopLeftPoint)},containerPointToLayerPoint:function(e){return n.point(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return n.point(e).add(this._getMapPanePos())},containerPointToLatLng:function(e){var t=this.containerPointToLayerPoint(n.point(e));return this.layerPointToLatLng(t)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(n.latLng(e)))},mouseEventToContainerPoint:function(e){return n.DomEvent.getMousePosition(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(e){var t=this._container=n.DomUtil.get(e);if(t._leaflet)throw Error("Map container is already initialized.");t._leaflet=!0},_initLayout:function(){var e=this._container;e.innerHTML="",n.DomUtil.addClass(e,"leaflet-container"),n.Browser.touch&&n.DomUtil.addClass(e,"leaflet-touch"),this.options.fadeAnimation&&n.DomUtil.addClass(e,"leaflet-fade-anim");var t=n.DomUtil.getStyle(e,"position");"absolute"!==t&&"relative"!==t&&"fixed"!==t&&(e.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._mapPane=e.mapPane=this._createPane("leaflet-map-pane",this._container),this._tilePane=e.tilePane=this._createPane("leaflet-tile-pane",this._mapPane),this._objectsPane=e.objectsPane=this._createPane("leaflet-objects-pane",this._mapPane),e.shadowPane=this._createPane("leaflet-shadow-pane"),e.overlayPane=this._createPane("leaflet-overlay-pane"),e.markerPane=this._createPane("leaflet-marker-pane"),e.popupPane=this._createPane("leaflet-popup-pane");var t=" leaflet-zoom-hide";this.options.markerZoomAnimation||(n.DomUtil.addClass(e.markerPane,t),n.DomUtil.addClass(e.shadowPane,t),n.DomUtil.addClass(e.popupPane,t))},_createPane:function(e,t){return n.DomUtil.create("div",e,t||this._objectsPane)},_initializers:[],_initHooks:function(){var e,t;for(e=0,t=this._initializers.length;e<t;e++)this._initializers[e].call(this)},_initLayers:function(e){var t,i;for(e=e?e instanceof Array?e:[e]:[],this._layers={},this._tileLayersNum=0,t=0,i=e.length;t<i;t++)this.addLayer(e[t])},_resetView:function(e,t,i,s){var a=this._zoom!==t;s||(this.fire("movestart"),a&&this.fire("zoomstart")),this._zoom=t,this._initialTopLeftPoint=this._getNewTopLeftPoint(e),i?this._initialTopLeftPoint._add(this._getMapPanePos()):n.DomUtil.setPosition(this._mapPane,new n.Point(0,0)),this._tileLayersToLoad=this._tileLayersNum,this.fire("viewreset",{hard:!i}),this.fire("move"),(a||s)&&this.fire("zoomend"),this.fire("moveend",{hard:!i}),this._loaded||(this._loaded=!0,this.fire("load"))},_rawPanBy:function(e){n.DomUtil.setPosition(this._mapPane,this._getMapPanePos().subtract(e))},_initEvents:function(){if(n.DomEvent){n.DomEvent.on(this._container,"click",this._onMouseClick,this);var t,i,s=["dblclick","mousedown","mouseup","mouseenter","mouseleave","mousemove","contextmenu"];for(t=0,i=s.length;t<i;t++)n.DomEvent.on(this._container,s[t],this._fireMouseEvent,this);this.options.trackResize&&n.DomEvent.on(e,"resize",this._onResize,this)}},_onResize:function(){n.Util.cancelAnimFrame(this._resizeRequest),this._resizeRequest=n.Util.requestAnimFrame(this.invalidateSize,this,!1,this._container)},_onMouseClick:function(e){!this._loaded||this.dragging&&this.dragging.moved()||(this.fire("preclick"),this._fireMouseEvent(e))},_fireMouseEvent:function(e){if(this._loaded){var t=e.type;if(t="mouseenter"===t?"mouseover":"mouseleave"===t?"mouseout":t,this.hasEventListeners(t)){"contextmenu"===t&&n.DomEvent.preventDefault(e);var i=this.mouseEventToContainerPoint(e),s=this.containerPointToLayerPoint(i),a=this.layerPointToLatLng(s);this.fire(t,{latlng:a,layerPoint:s,containerPoint:i,originalEvent:e})}}},_onTileLayerLoad:function(){this._tileLayersToLoad--,this._tileLayersNum&&!this._tileLayersToLoad&&this._tileBg&&(clearTimeout(this._clearTileBgTimer),this._clearTileBgTimer=setTimeout(n.Util.bind(this._clearTileBg,this),500))},_getMapPanePos:function(){return n.DomUtil.getPosition(this._mapPane)},_getTopLeftPoint:function(){if(!this._loaded)throw Error("Set map center and zoom first.");return this._initialTopLeftPoint.subtract(this._getMapPanePos())},_getNewTopLeftPoint:function(e,t){var i=this.getSize().divideBy(2);return this.project(e,t)._subtract(i)._round()},_latLngToNewLayerPoint:function(e,t,i){var n=this._getNewTopLeftPoint(i,t).add(this._getMapPanePos());return this.project(e,t)._subtract(n)},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize().divideBy(2))},_getCenterOffset:function(e){return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())},_limitZoom:function(e){var t=this.getMinZoom(),i=this.getMaxZoom();return Math.max(t,Math.min(i,e))}}),n.Map.addInitHook=function(e){var t=Array.prototype.slice.call(arguments,1),i="function"==typeof e?e:function(){this[e].apply(this,t)};this.prototype._initializers.push(i)},n.map=function(e,t){return new n.Map(e,t)},n.Projection.Mercator={MAX_LATITUDE:85.0840591556,R_MINOR:6356752.3142,R_MAJOR:6378137,project:function(e){var t=n.LatLng.DEG_TO_RAD,i=this.MAX_LATITUDE,s=Math.max(Math.min(i,e.lat),-i),a=this.R_MAJOR,r=this.R_MINOR,o=e.lng*t*a,l=s*t,d=r/a,h=Math.sqrt(1-d*d),u=h*Math.sin(l);u=Math.pow((1-u)/(1+u),.5*h);var c=Math.tan(.5*(.5*Math.PI-l))/u;return l=-r*Math.log(c),new n.Point(o,l)},unproject:function(e){for(var t,i=n.LatLng.RAD_TO_DEG,s=this.R_MAJOR,a=this.R_MINOR,r=e.x*i/s,o=a/s,l=Math.sqrt(1-o*o),d=Math.exp(-e.y/a),h=Math.PI/2-2*Math.atan(d),u=15,c=.1;Math.abs(c)>1e-7&&--u>0;)t=l*Math.sin(h),h+=c=Math.PI/2-2*Math.atan(d*Math.pow((1-t)/(1+t),.5*l))-h;return new n.LatLng(h*i,r,!0)}},n.CRS.EPSG3395=n.Util.extend({},n.CRS,{code:"EPSG:3395",projection:n.Projection.Mercator,transformation:function(){var e=n.Projection.Mercator,t=e.R_MAJOR,i=e.R_MINOR;return new n.Transformation(.5/(Math.PI*t),.5,-.5/(Math.PI*i),.5)}()}),n.TileLayer=n.Class.extend({includes:n.Mixin.Events,options:{minZoom:0,maxZoom:18,tileSize:256,subdomains:"abc",errorTileUrl:"",attribution:"",zoomOffset:0,opacity:1,unloadInvisibleTiles:n.Browser.mobile,updateWhenIdle:n.Browser.mobile},initialize:function(e,t){(t=n.Util.setOptions(this,t)).detectRetina&&n.Browser.retina&&t.maxZoom>0&&(t.tileSize=Math.floor(t.tileSize/2),t.zoomOffset++,t.minZoom>0&&t.minZoom--,this.options.maxZoom--),this._url=e;var i=this.options.subdomains;"string"==typeof i&&(this.options.subdomains=i.split(""))},onAdd:function(e){this._map=e,this._initContainer(),this._createTileProto(),e.on({viewreset:this._resetCallback,moveend:this._update},this),this.options.updateWhenIdle||(this._limitedUpdate=n.Util.limitExecByInterval(this._update,150,this),e.on("move",this._limitedUpdate,this)),this._reset(),this._update()},addTo:function(e){return e.addLayer(this),this},onRemove:function(e){e._panes.tilePane.removeChild(this._container),e.off({viewreset:this._resetCallback,moveend:this._update},this),this.options.updateWhenIdle||e.off("move",this._limitedUpdate,this),this._container=null,this._map=null},bringToFront:function(){var e=this._map._panes.tilePane;return this._container&&(e.appendChild(this._container),this._setAutoZIndex(e,Math.max)),this},bringToBack:function(){var e=this._map._panes.tilePane;return this._container&&(e.insertBefore(this._container,e.firstChild),this._setAutoZIndex(e,Math.min)),this},getAttribution:function(){return this.options.attribution},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},setUrl:function(e,t){return this._url=e,t||this.redraw(),this},redraw:function(){return this._map&&(this._map._panes.tilePane.empty=!1,this._reset(!0),this._update()),this},_updateZIndex:function(){this._container&&this.options.zIndex!==i&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(e,t){for(var i,n=e.getElementsByClassName("leaflet-layer"),s=-t(1/0,-1/0),a=0,r=n.length;a<r;a++)n[a]!==this._container&&(i=parseInt(n[a].style.zIndex,10),isNaN(i)||(s=t(s,i)));this._container.style.zIndex=isFinite(s)?s+t(1,-1):""},_updateOpacity:function(){n.DomUtil.setOpacity(this._container,this.options.opacity);var e,t=this._tiles;if(n.Browser.webkit)for(e in t)t.hasOwnProperty(e)&&(t[e].style.webkitTransform+=" translate(0,0)")},_initContainer:function(){var e=this._map._panes.tilePane;this._container&&!e.empty||(this._container=n.DomUtil.create("div","leaflet-layer"),this._updateZIndex(),e.appendChild(this._container),this.options.opacity<1&&this._updateOpacity())},_resetCallback:function(e){this._reset(e.hard)},_reset:function(e){var t,i=this._tiles;for(t in i)i.hasOwnProperty(t)&&this.fire("tileunload",{tile:i[t]});this._tiles={},this._tilesToLoad=0,this.options.reuseTiles&&(this._unusedTiles=[]),e&&this._container&&(this._container.innerHTML=""),this._initContainer()},_update:function(e){if(!this._map._panTransition||!this._map._panTransition._inProgress){var t=this._map.getPixelBounds(),i=this._map.getZoom(),s=this.options.tileSize;if(!(i>this.options.maxZoom||i<this.options.minZoom)){var a=new n.Point(Math.floor(t.min.x/s),Math.floor(t.min.y/s)),r=new n.Point(Math.floor(t.max.x/s),Math.floor(t.max.y/s)),o=new n.Bounds(a,r);this._addTilesFromCenterOut(o),(this.options.unloadInvisibleTiles||this.options.reuseTiles)&&this._removeOtherTiles(o)}}},_addTilesFromCenterOut:function(e){var t,i,s,a=[],r=e.getCenter();for(t=e.min.y;t<=e.max.y;t++)for(i=e.min.x;i<=e.max.x;i++)s=new n.Point(i,t),this._tileShouldBeLoaded(s)&&a.push(s);var o=a.length;if(0!==o){a.sort((function(e,t){return e.distanceTo(r)-t.distanceTo(r)}));var l=document.createDocumentFragment();for(this._tilesToLoad||this.fire("loading"),this._tilesToLoad+=o,i=0;i<o;i++)this._addTile(a[i],l);this._container.appendChild(l)}},_tileShouldBeLoaded:function(e){if(e.x+":"+e.y in this._tiles)return!1;if(!this.options.continuousWorld){var t=this._getWrapTileNum();if(this.options.noWrap&&(e.x<0||e.x>=t)||e.y<0||e.y>=t)return!1}return!0},_removeOtherTiles:function(e){var t,i,n,s;for(s in this._tiles)this._tiles.hasOwnProperty(s)&&(t=s.split(":"),i=parseInt(t[0],10),n=parseInt(t[1],10),(i<e.min.x||i>e.max.x||n<e.min.y||n>e.max.y)&&this._removeTile(s))},_removeTile:function(e){var t=this._tiles[e];this.fire("tileunload",{tile:t,url:t.src}),this.options.reuseTiles?(n.DomUtil.removeClass(t,"leaflet-tile-loaded"),this._unusedTiles.push(t)):t.parentNode===this._container&&this._container.removeChild(t),n.Browser.android||(t.src=n.Util.emptyImageUrl),delete this._tiles[e]},_addTile:function(e,t){var i=this._getTilePos(e),s=this._getTile();n.DomUtil.setPosition(s,i,n.Browser.chrome||n.Browser.android23),this._tiles[e.x+":"+e.y]=s,this._loadTile(s,e),s.parentNode!==this._container&&t.appendChild(s)},_getZoomForUrl:function(){var e=this.options,t=this._map.getZoom();return e.zoomReverse&&(t=e.maxZoom-t),t+e.zoomOffset},_getTilePos:function(e){var t=this._map.getPixelOrigin(),i=this.options.tileSize;return e.multiplyBy(i).subtract(t)},getTileUrl:function(e){return this._adjustTilePoint(e),n.Util.template(this._url,n.Util.extend({s:this._getSubdomain(e),z:this._getZoomForUrl(),x:e.x,y:e.y},this.options))},_getWrapTileNum:function(){return Math.pow(2,this._getZoomForUrl())},_adjustTilePoint:function(e){var t=this._getWrapTileNum();!this.options.continuousWorld&&!this.options.noWrap&&(e.x=(e.x%t+t)%t),this.options.tms&&(e.y=t-e.y-1)},_getSubdomain:function(e){var t=(e.x+e.y)%this.options.subdomains.length;return this.options.subdomains[t]},_createTileProto:function(){var e=this._tileImg=n.DomUtil.create("img","leaflet-tile");e.galleryimg="no";var t=this.options.tileSize;e.style.width=t+"px",e.style.height=t+"px"},_getTile:function(){if(this.options.reuseTiles&&this._unusedTiles.length>0){var e=this._unusedTiles.pop();return this._resetTile(e),e}return this._createTile()},_resetTile:function(e){},_createTile:function(){var e=this._tileImg.cloneNode(!1);return e.onselectstart=e.onmousemove=n.Util.falseFn,e},_loadTile:function(e,t){e._layer=this,e.onload=this._tileOnLoad,e.onerror=this._tileOnError,e.src=this.getTileUrl(t)},_tileLoaded:function(){this._tilesToLoad--,this._tilesToLoad||this.fire("load")},_tileOnLoad:function(e){var t=this._layer;this.src!==n.Util.emptyImageUrl&&(n.DomUtil.addClass(this,"leaflet-tile-loaded"),t.fire("tileload",{tile:this,url:this.src})),t._tileLoaded()},_tileOnError:function(e){var t=this._layer;t.fire("tileerror",{tile:this,url:this.src});var i=t.options.errorTileUrl;i&&(this.src=i),t._tileLoaded()}}),n.tileLayer=function(e,t){return new n.TileLayer(e,t)},n.TileLayer.WMS=n.TileLayer.extend({defaultWmsParams:{service:"WMS",request:"GetMap",version:"1.1.1",layers:"",styles:"",format:"image/jpeg",transparent:!1},initialize:function(e,t){this._url=e;var i=n.Util.extend({},this.defaultWmsParams);for(var s in t.detectRetina&&n.Browser.retina?i.width=i.height=2*this.options.tileSize:i.width=i.height=this.options.tileSize,t)this.options.hasOwnProperty(s)||(i[s]=t[s]);this.wmsParams=i,n.Util.setOptions(this,t)},onAdd:function(e){var t=parseFloat(this.wmsParams.version)>=1.3?"crs":"srs";this.wmsParams[t]=e.options.crs.code,n.TileLayer.prototype.onAdd.call(this,e)},getTileUrl:function(e,t){var i=this._map,s=i.options.crs,a=this.options.tileSize,r=e.multiplyBy(a),o=r.add(new n.Point(a,a)),l=s.project(i.unproject(r,t)),d=s.project(i.unproject(o,t)),h=[l.x,d.y,d.x,l.y].join(",");return n.Util.template(this._url,{s:this._getSubdomain(e)})+n.Util.getParamString(this.wmsParams)+"&bbox="+h},setParams:function(e,t){return n.Util.extend(this.wmsParams,e),t||this.redraw(),this}}),n.tileLayer.wms=function(e,t){return new n.TileLayer.WMS(e,t)},n.TileLayer.Canvas=n.TileLayer.extend({options:{async:!1},initialize:function(e){n.Util.setOptions(this,e)},redraw:function(){var e,t=this._tiles;for(e in t)t.hasOwnProperty(e)&&this._redrawTile(t[e])},_redrawTile:function(e){this.drawTile(e,e._tilePoint,e._zoom)},_createTileProto:function(){var e=this._canvasProto=n.DomUtil.create("canvas","leaflet-tile"),t=this.options.tileSize;e.width=t,e.height=t},_createTile:function(){var e=this._canvasProto.cloneNode(!1);return e.onselectstart=e.onmousemove=n.Util.falseFn,e},_loadTile:function(e,t,i){e._layer=this,e._tilePoint=t,e._zoom=i,this.drawTile(e,t,i),this.options.async||this.tileDrawn(e)},drawTile:function(e,t,i){},tileDrawn:function(e){this._tileOnLoad.call(e)}}),n.tileLayer.canvas=function(e){return new n.TileLayer.Canvas(e)},n.ImageOverlay=n.Class.extend({includes:n.Mixin.Events,options:{opacity:1},initialize:function(e,t,i){this._url=e,this._bounds=n.latLngBounds(t),n.Util.setOptions(this,i)},onAdd:function(e){this._map=e,this._image||this._initImage(),e._panes.overlayPane.appendChild(this._image),e.on("viewreset",this._reset,this),e.options.zoomAnimation&&n.Browser.any3d&&e.on("zoomanim",this._animateZoom,this),this._reset()},onRemove:function(e){e.getPanes().overlayPane.removeChild(this._image),e.off("viewreset",this._reset,this),e.options.zoomAnimation&&e.off("zoomanim",this._animateZoom,this)},addTo:function(e){return e.addLayer(this),this},setOpacity:function(e){return this.options.opacity=e,this._updateOpacity(),this},bringToFront:function(){return this._image&&this._map._panes.overlayPane.appendChild(this._image),this},bringToBack:function(){var e=this._map._panes.overlayPane;return this._image&&e.insertBefore(this._image,e.firstChild),this},_initImage:function(){this._image=n.DomUtil.create("img","leaflet-image-layer"),this._map.options.zoomAnimation&&n.Browser.any3d?n.DomUtil.addClass(this._image,"leaflet-zoom-animated"):n.DomUtil.addClass(this._image,"leaflet-zoom-hide"),this._updateOpacity(),n.Util.extend(this._image,{galleryimg:"no",onselectstart:n.Util.falseFn,onmousemove:n.Util.falseFn,onload:n.Util.bind(this._onImageLoad,this),src:this._url})},_animateZoom:function(e){var t=this._map,i=this._image,s=t.getZoomScale(e.zoom),a=this._bounds.getNorthWest(),r=this._bounds.getSouthEast(),o=t._latLngToNewLayerPoint(a,e.zoom,e.center),l=t._latLngToNewLayerPoint(r,e.zoom,e.center).subtract(o),d=t.latLngToLayerPoint(r).subtract(t.latLngToLayerPoint(a)),h=o.add(l.subtract(d).divideBy(2));i.style[n.DomUtil.TRANSFORM]=n.DomUtil.getTranslateString(h)+" scale("+s+") "},_reset:function(){var e=this._image,t=this._map.latLngToLayerPoint(this._bounds.getNorthWest()),i=this._map.latLngToLayerPoint(this._bounds.getSouthEast()).subtract(t);n.DomUtil.setPosition(e,t),e.style.width=i.x+"px",e.style.height=i.y+"px"},_onImageLoad:function(){this.fire("load")},_updateOpacity:function(){n.DomUtil.setOpacity(this._image,this.options.opacity)}}),n.imageOverlay=function(e,t,i){return new n.ImageOverlay(e,t,i)},n.Icon=n.Class.extend({options:{className:""},initialize:function(e){n.Util.setOptions(this,e)},createIcon:function(){return this._createIcon("icon")},createShadow:function(){return this._createIcon("shadow")},_createIcon:function(e){var t=this._getIconUrl(e);if(!t){if("icon"===e)throw Error("iconUrl not set in Icon options (see the docs).");return null}var i=this._createImg(t);return this._setIconStyles(i,e),i},_setIconStyles:function(e,t){var i,s=this.options,a=n.point(s[t+"Size"]);!(i="shadow"===t?n.point(s.shadowAnchor||s.iconAnchor):n.point(s.iconAnchor))&&a&&(i=a.divideBy(2,!0)),e.className="leaflet-marker-"+t+" "+s.className,i&&(e.style.marginLeft=-i.x+"px",e.style.marginTop=-i.y+"px"),a&&(e.style.width=a.x+"px",e.style.height=a.y+"px")},_createImg:function(e){var t;return n.Browser.ie6?(t=document.createElement("div")).style.filter='progid:DXImageTransform.Microsoft.AlphaImageLoader(src="'+e+'")':(t=document.createElement("img")).src=e,t},_getIconUrl:function(e){return this.options[e+"Url"]}}),n.icon=function(e){return new n.Icon(e)},n.Icon.Default=n.Icon.extend({options:{iconSize:new n.Point(25,41),iconAnchor:new n.Point(13,41),popupAnchor:new n.Point(1,-34),shadowSize:new n.Point(41,41)},_getIconUrl:function(e){var t=e+"Url";if(this.options[t])return this.options[t];var i=n.Icon.Default.imagePath;if(!i)throw Error("Couldn't autodetect L.Icon.Default.imagePath, set it manually.");return i+"/marker-"+e+".png"}}),n.Icon.Default.imagePath=function(){var e,t,i,n=document.getElementsByTagName("script"),s=/\/?leaflet[\-\._]?([\w\-\._]*)\.js\??/;for(e=0,t=n.length;e<t;e++)if((i=n[e].src).match(s))return i.split(s)[0]+"/images"}(),n.Marker=n.Class.extend({includes:n.Mixin.Events,options:{icon:new n.Icon.Default,title:"",clickable:!0,draggable:!1,zIndexOffset:0,opacity:1},initialize:function(e,t){n.Util.setOptions(this,t),this._latlng=n.latLng(e)},onAdd:function(e){this._map=e,e.on("viewreset",this.update,this),this._initIcon(),this.update(),e.options.zoomAnimation&&e.options.markerZoomAnimation&&e.on("zoomanim",this._animateZoom,this)},addTo:function(e){return e.addLayer(this),this},onRemove:function(e){this._removeIcon(),this.closePopup&&this.closePopup(),e.off({viewreset:this.update,zoomanim:this._animateZoom},this),this._map=null},getLatLng:function(){return this._latlng},setLatLng:function(e){this._latlng=n.latLng(e),this.update(),this._popup&&this._popup.setLatLng(e)},setZIndexOffset:function(e){this.options.zIndexOffset=e,this.update()},setIcon:function(e){this._map&&this._removeIcon(),this.options.icon=e,this._map&&(this._initIcon(),this.update())},update:function(){if(this._icon){var e=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(e)}},_initIcon:function(){var e=this.options,t=this._map,i=t.options.zoomAnimation&&t.options.markerZoomAnimation?"leaflet-zoom-animated":"leaflet-zoom-hide",s=!1;this._icon||(this._icon=e.icon.createIcon(),e.title&&(this._icon.title=e.title),this._initInteraction(),s=this.options.opacity<1,n.DomUtil.addClass(this._icon,i)),this._shadow||(this._shadow=e.icon.createShadow(),this._shadow&&(n.DomUtil.addClass(this._shadow,i),s=this.options.opacity<1)),s&&this._updateOpacity();var a=this._map._panes;a.markerPane.appendChild(this._icon),this._shadow&&a.shadowPane.appendChild(this._shadow)},_removeIcon:function(){var e=this._map._panes;e.markerPane.removeChild(this._icon),this._shadow&&e.shadowPane.removeChild(this._shadow),this._icon=this._shadow=null},_setPos:function(e){n.DomUtil.setPosition(this._icon,e),this._shadow&&n.DomUtil.setPosition(this._shadow,e),this._icon.style.zIndex=e.y+this.options.zIndexOffset},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);this._setPos(t)},_initInteraction:function(){if(this.options.clickable){var e=this._icon,t=["dblclick","mousedown","mouseover","mouseout"];n.DomUtil.addClass(e,"leaflet-clickable"),n.DomEvent.on(e,"click",this._onMouseClick,this);for(var i=0;i<t.length;i++)n.DomEvent.on(e,t[i],this._fireMouseEvent,this);n.Handler.MarkerDrag&&(this.dragging=new n.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable())}},_onMouseClick:function(e){n.DomEvent.stopPropagation(e),this.dragging&&this.dragging.moved()||this._map.dragging&&this._map.dragging.moved()||this.fire(e.type,{originalEvent:e})},_fireMouseEvent:function(e){this.fire(e.type,{originalEvent:e}),"mousedown"!==e.type&&n.DomEvent.stopPropagation(e)},setOpacity:function(e){this.options.opacity=e,this._map&&this._updateOpacity()},_updateOpacity:function(){n.DomUtil.setOpacity(this._icon,this.options.opacity),this._shadow&&n.DomUtil.setOpacity(this._shadow,this.options.opacity)}}),n.marker=function(e,t){return new n.Marker(e,t)},n.DivIcon=n.Icon.extend({options:{iconSize:new n.Point(12,12),className:"leaflet-div-icon"},createIcon:function(){var e=document.createElement("div"),t=this.options;return t.html&&(e.innerHTML=t.html),t.bgPos&&(e.style.backgroundPosition=-t.bgPos.x+"px "+-t.bgPos.y+"px"),this._setIconStyles(e,"icon"),e},createShadow:function(){return null}}),n.divIcon=function(e){return new n.DivIcon(e)},n.Map.mergeOptions({closePopupOnClick:!0}),n.Popup=n.Class.extend({includes:n.Mixin.Events,options:{minWidth:50,maxWidth:300,maxHeight:null,autoPan:!0,closeButton:!0,offset:new n.Point(0,6),autoPanPadding:new n.Point(5,5),className:""},initialize:function(e,t){n.Util.setOptions(this,e),this._source=t},onAdd:function(e){this._map=e,this._container||this._initLayout(),this._updateContent();var t=e.options.fadeAnimation;t&&n.DomUtil.setOpacity(this._container,0),e._panes.popupPane.appendChild(this._container),e.on("viewreset",this._updatePosition,this),n.Browser.any3d&&e.on("zoomanim",this._zoomAnimation,this),e.options.closePopupOnClick&&e.on("preclick",this._close,this),this._update(),t&&n.DomUtil.setOpacity(this._container,1)},addTo:function(e){return e.addLayer(this),this},openOn:function(e){return e.openPopup(this),this},onRemove:function(e){e._panes.popupPane.removeChild(this._container),n.Util.falseFn(this._container.offsetWidth),e.off({viewreset:this._updatePosition,preclick:this._close,zoomanim:this._zoomAnimation},this),e.options.fadeAnimation&&n.DomUtil.setOpacity(this._container,0),this._map=null},setLatLng:function(e){return this._latlng=n.latLng(e),this._update(),this},setContent:function(e){return this._content=e,this._update(),this},_close:function(){var e=this._map;e&&(e._popup=null,e.removeLayer(this).fire("popupclose",{popup:this}))},_initLayout:function(){var e,t="leaflet-popup",i=this._container=n.DomUtil.create("div",t+" "+this.options.className+" leaflet-zoom-animated");this.options.closeButton&&((e=this._closeButton=n.DomUtil.create("a",t+"-close-button",i)).href="#close",e.innerHTML="&#215;",n.DomEvent.on(e,"click",this._onCloseButtonClick,this));var s=this._wrapper=n.DomUtil.create("div",t+"-content-wrapper",i);n.DomEvent.disableClickPropagation(s),this._contentNode=n.DomUtil.create("div",t+"-content",s),n.DomEvent.on(this._contentNode,"mousewheel",n.DomEvent.stopPropagation),this._tipContainer=n.DomUtil.create("div",t+"-tip-container",i),this._tip=n.DomUtil.create("div",t+"-tip",this._tipContainer)},_update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},_updateContent:function(){if(this._content){if("string"==typeof this._content)this._contentNode.innerHTML=this._content;else{for(;this._contentNode.hasChildNodes();)this._contentNode.removeChild(this._contentNode.firstChild);this._contentNode.appendChild(this._content)}this.fire("contentupdate")}},_updateLayout:function(){var e=this._contentNode,t=e.style;t.width="",t.whiteSpace="nowrap";var i=e.offsetWidth;i=Math.min(i,this.options.maxWidth),i=Math.max(i,this.options.minWidth),t.width=i+1+"px",t.whiteSpace="",t.height="";var s=e.offsetHeight,a=this.options.maxHeight,r="leaflet-popup-scrolled";a&&s>a?(t.height=a+"px",n.DomUtil.addClass(e,r)):n.DomUtil.removeClass(e,r),this._containerWidth=this._container.offsetWidth},_updatePosition:function(){var e=this._map.latLngToLayerPoint(this._latlng),t=n.Browser.any3d,i=this.options.offset;t&&n.DomUtil.setPosition(this._container,e),this._containerBottom=-i.y-(t?0:e.y),this._containerLeft=-Math.round(this._containerWidth/2)+i.x+(t?0:e.x),this._container.style.bottom=this._containerBottom+"px",this._container.style.left=this._containerLeft+"px"},_zoomAnimation:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);n.DomUtil.setPosition(this._container,t)},_adjustPan:function(){if(this.options.autoPan){var e=this._map,t=this._container.offsetHeight,i=this._containerWidth,s=new n.Point(this._containerLeft,-t-this._containerBottom);n.Browser.any3d&&s._add(n.DomUtil.getPosition(this._container));var a=e.layerPointToContainerPoint(s),r=this.options.autoPanPadding,o=e.getSize(),l=0,d=0;a.x<0&&(l=a.x-r.x),a.x+i>o.x&&(l=a.x+i-o.x+r.x),a.y<0&&(d=a.y-r.y),a.y+t>o.y&&(d=a.y+t-o.y+r.y),(l||d)&&e.panBy(new n.Point(l,d))}},_onCloseButtonClick:function(e){this._close(),n.DomEvent.stop(e)}}),n.popup=function(e,t){return new n.Popup(e,t)},n.Marker.include({openPopup:function(){return this._popup&&this._map&&(this._popup.setLatLng(this._latlng),this._map.openPopup(this._popup)),this},closePopup:function(){return this._popup&&this._popup._close(),this},bindPopup:function(e,t){var i=n.point(this.options.icon.options.popupAnchor)||new n.Point(0,0);return i=i.add(n.Popup.prototype.options.offset),t&&t.offset&&(i=i.add(t.offset)),t=n.Util.extend({offset:i},t),this._popup||this.on("click",this.openPopup,this),this._popup=new n.Popup(t,this).setContent(e),this},unbindPopup:function(){return this._popup&&(this._popup=null,this.off("click",this.openPopup)),this}}),n.Map.include({openPopup:function(e){return this.closePopup(),this._popup=e,this.addLayer(e).fire("popupopen",{popup:this._popup})},closePopup:function(){return this._popup&&this._popup._close(),this}}),n.LayerGroup=n.Class.extend({initialize:function(e){var t,i;if(this._layers={},e)for(t=0,i=e.length;t<i;t++)this.addLayer(e[t])},addLayer:function(e){var t=n.Util.stamp(e);return this._layers[t]=e,this._map&&this._map.addLayer(e),this},removeLayer:function(e){var t=n.Util.stamp(e);return delete this._layers[t],this._map&&this._map.removeLayer(e),this},clearLayers:function(){return this.eachLayer(this.removeLayer,this),this},invoke:function(e){var t,i,n=Array.prototype.slice.call(arguments,1);for(t in this._layers)this._layers.hasOwnProperty(t)&&((i=this._layers[t])[e]&&i[e].apply(i,n));return this},onAdd:function(e){this._map=e,this.eachLayer(e.addLayer,e)},onRemove:function(e){this.eachLayer(e.removeLayer,e),this._map=null},addTo:function(e){return e.addLayer(this),this},eachLayer:function(e,t){for(var i in this._layers)this._layers.hasOwnProperty(i)&&e.call(t,this._layers[i])}}),n.layerGroup=function(e){return new n.LayerGroup(e)},n.FeatureGroup=n.LayerGroup.extend({includes:n.Mixin.Events,addLayer:function(e){return this._layers[n.Util.stamp(e)]||(e.on("click dblclick mouseover mouseout mousemove contextmenu",this._propagateEvent,this),n.LayerGroup.prototype.addLayer.call(this,e),this._popupContent&&e.bindPopup&&e.bindPopup(this._popupContent)),this},removeLayer:function(e){return e.off("click dblclick mouseover mouseout mousemove contextmenu",this._propagateEvent,this),n.LayerGroup.prototype.removeLayer.call(this,e),this._popupContent?this.invoke("unbindPopup"):this},bindPopup:function(e){return this._popupContent=e,this.invoke("bindPopup",e)},setStyle:function(e){return this.invoke("setStyle",e)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var e=new n.LatLngBounds;return this.eachLayer((function(t){e.extend(t instanceof n.Marker?t.getLatLng():t.getBounds())}),this),e},_propagateEvent:function(e){e.layer=e.target,e.target=this,this.fire(e.type,e)}}),n.featureGroup=function(e){return new n.FeatureGroup(e)},n.Path=n.Class.extend({includes:[n.Mixin.Events],statics:{CLIP_PADDING:n.Browser.mobile?Math.max(0,Math.min(.5,(1280/Math.max(e.innerWidth,e.innerHeight)-1)/2)):.5},options:{stroke:!0,color:"#0033ff",dashArray:null,weight:5,opacity:.5,fill:!1,fillColor:null,fillOpacity:.2,clickable:!0},initialize:function(e){n.Util.setOptions(this,e)},onAdd:function(e){this._map=e,this._container||(this._initElements(),this._initEvents()),this.projectLatlngs(),this._updatePath(),this._container&&this._map._pathRoot.appendChild(this._container),e.on({viewreset:this.projectLatlngs,moveend:this._updatePath},this)},addTo:function(e){return e.addLayer(this),this},onRemove:function(e){e._pathRoot.removeChild(this._container),this._map=null,n.Browser.vml&&(this._container=null,this._stroke=null,this._fill=null),e.off({viewreset:this.projectLatlngs,moveend:this._updatePath},this)},projectLatlngs:function(){},setStyle:function(e){return n.Util.setOptions(this,e),this._container&&this._updateStyle(),this},redraw:function(){return this._map&&(this.projectLatlngs(),this._updatePath()),this}}),n.Map.include({_updatePathViewport:function(){var e=n.Path.CLIP_PADDING,t=this.getSize(),i=n.DomUtil.getPosition(this._mapPane).multiplyBy(-1)._subtract(t.multiplyBy(e)),s=i.add(t.multiplyBy(1+2*e));this._pathViewport=new n.Bounds(i,s)}}),n.Path.SVG_NS="http://www.w3.org/2000/svg",n.Browser.svg=!!document.createElementNS&&!!document.createElementNS(n.Path.SVG_NS,"svg").createSVGRect,n.Path=n.Path.extend({statics:{SVG:n.Browser.svg},bringToFront:function(){return this._container&&this._map._pathRoot.appendChild(this._container),this},bringToBack:function(){if(this._container){var e=this._map._pathRoot;e.insertBefore(this._container,e.firstChild)}return this},getPathString:function(){},_createElement:function(e){return document.createElementNS(n.Path.SVG_NS,e)},_initElements:function(){this._map._initPathRoot(),this._initPath(),this._initStyle()},_initPath:function(){this._container=this._createElement("g"),this._path=this._createElement("path"),this._container.appendChild(this._path)},_initStyle:function(){this.options.stroke&&(this._path.setAttribute("stroke-linejoin","round"),this._path.setAttribute("stroke-linecap","round")),this.options.fill&&this._path.setAttribute("fill-rule","evenodd"),this._updateStyle()},_updateStyle:function(){this.options.stroke?(this._path.setAttribute("stroke",this.options.color),this._path.setAttribute("stroke-opacity",this.options.opacity),this._path.setAttribute("stroke-width",this.options.weight),this.options.dashArray?this._path.setAttribute("stroke-dasharray",this.options.dashArray):this._path.removeAttribute("stroke-dasharray")):this._path.setAttribute("stroke","none"),this.options.fill?(this._path.setAttribute("fill",this.options.fillColor||this.options.color),this._path.setAttribute("fill-opacity",this.options.fillOpacity)):this._path.setAttribute("fill","none")},_updatePath:function(){var e=this.getPathString();e||(e="M0 0"),this._path.setAttribute("d",e)},_initEvents:function(){if(this.options.clickable){(n.Browser.svg||!n.Browser.vml)&&this._path.setAttribute("class","leaflet-clickable"),n.DomEvent.on(this._container,"click",this._onMouseClick,this);for(var e=["dblclick","mousedown","mouseover","mouseout","mousemove","contextmenu"],t=0;t<e.length;t++)n.DomEvent.on(this._container,e[t],this._fireMouseEvent,this)}},_onMouseClick:function(e){this._map.dragging&&this._map.dragging.moved()||(this._fireMouseEvent(e),n.DomEvent.stopPropagation(e))},_fireMouseEvent:function(e){if(this.hasEventListeners(e.type)){"contextmenu"===e.type&&n.DomEvent.preventDefault(e);var t=this._map,i=t.mouseEventToContainerPoint(e),s=t.containerPointToLayerPoint(i),a=t.layerPointToLatLng(s);this.fire(e.type,{latlng:a,layerPoint:s,containerPoint:i,originalEvent:e})}}}),n.Map.include({_initPathRoot:function(){this._pathRoot||(this._pathRoot=n.Path.prototype._createElement("svg"),this._panes.overlayPane.appendChild(this._pathRoot),this.options.zoomAnimation&&n.Browser.any3d?(this._pathRoot.setAttribute("class"," leaflet-zoom-animated"),this.on({zoomanim:this._animatePathZoom,zoomend:this._endPathZoom})):this._pathRoot.setAttribute("class"," leaflet-zoom-hide"),this.on("moveend",this._updateSvgViewport),this._updateSvgViewport())},_animatePathZoom:function(e){var t=this.getZoomScale(e.zoom),i=this._getCenterOffset(e.center).divideBy(1-1/t),s=this.containerPointToLayerPoint(this.getSize().multiplyBy(-n.Path.CLIP_PADDING)).add(i).round();this._pathRoot.style[n.DomUtil.TRANSFORM]=n.DomUtil.getTranslateString(s.multiplyBy(-1).add(n.DomUtil.getPosition(this._pathRoot)).multiplyBy(t).add(s))+" scale("+t+") ",this._pathZooming=!0},_endPathZoom:function(){this._pathZooming=!1},_updateSvgViewport:function(){if(!this._pathZooming){this._updatePathViewport();var e=this._pathViewport,t=e.min,i=e.max,s=i.x-t.x,a=i.y-t.y,r=this._pathRoot,o=this._panes.overlayPane;n.Browser.mobileWebkit&&o.removeChild(r),n.DomUtil.setPosition(r,t),r.setAttribute("width",s),r.setAttribute("height",a),r.setAttribute("viewBox",[t.x,t.y,s,a].join(" ")),n.Browser.mobileWebkit&&o.appendChild(r)}}}),n.Path.include({bindPopup:function(e,t){return this._popup&&this._popup.options===t||(this._popup=new n.Popup(t,this)),this._popup.setContent(e),this._openPopupAdded||(this.on("click",this._openPopup,this),this._openPopupAdded=!0),this},openPopup:function(e){return this._popup&&(e=e||this._latlng||this._latlngs[Math.floor(this._latlngs.length/2)],this._openPopup({latlng:e})),this},_openPopup:function(e){this._popup.setLatLng(e.latlng),this._map.openPopup(this._popup)}}),n.Browser.vml=function(){try{var e=document.createElement("div");e.innerHTML='<v:shape adj="1"/>';var t=e.firstChild;return t.style.behavior="url(#default#VML)",t&&"object"==typeof t.adj}catch(e){return!1}}(),n.Path=n.Browser.svg||!n.Browser.vml?n.Path:n.Path.extend({statics:{VML:!0,CLIP_PADDING:.02},_createElement:function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(e){return document.createElement("<lvml:"+e+' class="lvml">')}}catch(e){return function(e){return document.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),_initPath:function(){var e=this._container=this._createElement("shape");n.DomUtil.addClass(e,"leaflet-vml-shape"),this.options.clickable&&n.DomUtil.addClass(e,"leaflet-clickable"),e.coordsize="1 1",this._path=this._createElement("path"),e.appendChild(this._path),this._map._pathRoot.appendChild(e)},_initStyle:function(){this._updateStyle()},_updateStyle:function(){var e=this._stroke,t=this._fill,i=this.options,n=this._container;n.stroked=i.stroke,n.filled=i.fill,i.stroke?(e||((e=this._stroke=this._createElement("stroke")).endcap="round",n.appendChild(e)),e.weight=i.weight+"px",e.color=i.color,e.opacity=i.opacity,i.dashArray?e.dashStyle=i.dashArray.replace(/ *, */g," "):e.dashStyle=""):e&&(n.removeChild(e),this._stroke=null),i.fill?(t||(t=this._fill=this._createElement("fill"),n.appendChild(t)),t.color=i.fillColor||i.color,t.opacity=i.fillOpacity):t&&(n.removeChild(t),this._fill=null)},_updatePath:function(){var e=this._container.style;e.display="none",this._path.v=this.getPathString()+" ",e.display=""}}),n.Map.include(n.Browser.svg||!n.Browser.vml?{}:{_initPathRoot:function(){if(!this._pathRoot){var e=this._pathRoot=document.createElement("div");e.className="leaflet-vml-container",this._panes.overlayPane.appendChild(e),this.on("moveend",this._updatePathViewport),this._updatePathViewport()}}}),n.Browser.canvas=!!document.createElement("canvas").getContext,n.Path=n.Path.SVG&&!e.L_PREFER_CANVAS||!n.Browser.canvas?n.Path:n.Path.extend({statics:{CANVAS:!0,SVG:!1},redraw:function(){return this._map&&(this.projectLatlngs(),this._requestUpdate()),this},setStyle:function(e){return n.Util.setOptions(this,e),this._map&&(this._updateStyle(),this._requestUpdate()),this},onRemove:function(e){e.off("viewreset",this.projectLatlngs,this).off("moveend",this._updatePath,this),this._requestUpdate(),this._map=null},_requestUpdate:function(){this._map&&(n.Util.cancelAnimFrame(this._fireMapMoveEnd),this._updateRequest=n.Util.requestAnimFrame(this._fireMapMoveEnd,this._map))},_fireMapMoveEnd:function(){this.fire("moveend")},_initElements:function(){this._map._initPathRoot(),this._ctx=this._map._canvasCtx},_updateStyle:function(){var e=this.options;e.stroke&&(this._ctx.lineWidth=e.weight,this._ctx.strokeStyle=e.color),e.fill&&(this._ctx.fillStyle=e.fillColor||e.color)},_drawPath:function(){var e,t,i,s,a,r;for(this._ctx.beginPath(),e=0,i=this._parts.length;e<i;e++){for(t=0,s=this._parts[e].length;t<s;t++)a=this._parts[e][t],r=(0===t?"move":"line")+"To",this._ctx[r](a.x,a.y);this instanceof n.Polygon&&this._ctx.closePath()}},_checkIfEmpty:function(){return!this._parts.length},_updatePath:function(){if(!this._checkIfEmpty()){var e=this._ctx,t=this.options;this._drawPath(),e.save(),this._updateStyle(),t.fill&&(t.fillOpacity<1&&(e.globalAlpha=t.fillOpacity),e.fill()),t.stroke&&(t.opacity<1&&(e.globalAlpha=t.opacity),e.stroke()),e.restore()}},_initEvents:function(){this.options.clickable&&this._map.on("click",this._onClick,this)},_onClick:function(e){this._containsPoint(e.layerPoint)&&this.fire("click",e)}}),n.Map.include(n.Path.SVG&&!e.L_PREFER_CANVAS||!n.Browser.canvas?{}:{_initPathRoot:function(){var e,t=this._pathRoot;t||((t=this._pathRoot=document.createElement("canvas")).style.position="absolute",(e=this._canvasCtx=t.getContext("2d")).lineCap="round",e.lineJoin="round",this._panes.overlayPane.appendChild(t),this.options.zoomAnimation&&(this._pathRoot.className="leaflet-zoom-animated",this.on("zoomanim",this._animatePathZoom),this.on("zoomend",this._endPathZoom)),this.on("moveend",this._updateCanvasViewport),this._updateCanvasViewport())},_updateCanvasViewport:function(){if(!this._pathZooming){this._updatePathViewport();var e=this._pathViewport,t=e.min,i=e.max.subtract(t),s=this._pathRoot;n.DomUtil.setPosition(s,t),s.width=i.x,s.height=i.y,s.getContext("2d").translate(-t.x,-t.y)}}}),n.LineUtil={simplify:function(e,t){if(!t||!e.length)return e.slice();var i=t*t;return e=this._reducePoints(e,i),e=this._simplifyDP(e,i)},pointToSegmentDistance:function(e,t,i){return Math.sqrt(this._sqClosestPointOnSegment(e,t,i,!0))},closestPointOnSegment:function(e,t,i){return this._sqClosestPointOnSegment(e,t,i)},_simplifyDP:function(e,t){var n=e.length,s=new(typeof Uint8Array!=i+""?Uint8Array:Array)(n);s[0]=s[n-1]=1,this._simplifyDPStep(e,s,t,0,n-1);var a,r=[];for(a=0;a<n;a++)s[a]&&r.push(e[a]);return r},_simplifyDPStep:function(e,t,i,n,s){var a,r,o,l=0;for(r=n+1;r<=s-1;r++)(o=this._sqClosestPointOnSegment(e[r],e[n],e[s],!0))>l&&(a=r,l=o);l>i&&(t[a]=1,this._simplifyDPStep(e,t,i,n,a),this._simplifyDPStep(e,t,i,a,s))},_reducePoints:function(e,t){for(var i=[e[0]],n=1,s=0,a=e.length;n<a;n++)this._sqDist(e[n],e[s])>t&&(i.push(e[n]),s=n);return s<a-1&&i.push(e[a-1]),i},clipSegment:function(e,t,i,n){i.min,i.max;var s=n?this._lastCode:this._getBitCode(e,i),a=this._getBitCode(t,i);for(this._lastCode=a;;){if(!(s|a))return[e,t];if(s&a)return!1;var r=s||a,o=this._getEdgeIntersection(e,t,r,i),l=this._getBitCode(o,i);r===s?(e=o,s=l):(t=o,a=l)}},_getEdgeIntersection:function(e,t,i,s){var a=t.x-e.x,r=t.y-e.y,o=s.min,l=s.max;return 8&i?new n.Point(e.x+a*(l.y-e.y)/r,l.y):4&i?new n.Point(e.x+a*(o.y-e.y)/r,o.y):2&i?new n.Point(l.x,e.y+r*(l.x-e.x)/a):1&i?new n.Point(o.x,e.y+r*(o.x-e.x)/a):void 0},_getBitCode:function(e,t){var i=0;return e.x<t.min.x?i|=1:e.x>t.max.x&&(i|=2),e.y<t.min.y?i|=4:e.y>t.max.y&&(i|=8),i},_sqDist:function(e,t){var i=t.x-e.x,n=t.y-e.y;return i*i+n*n},_sqClosestPointOnSegment:function(e,t,i,s){var a,r=t.x,o=t.y,l=i.x-r,d=i.y-o,h=l*l+d*d;return h>0&&((a=((e.x-r)*l+(e.y-o)*d)/h)>1?(r=i.x,o=i.y):a>0&&(r+=l*a,o+=d*a)),l=e.x-r,d=e.y-o,s?l*l+d*d:new n.Point(r,o)}},n.Polyline=n.Path.extend({initialize:function(e,t){n.Path.prototype.initialize.call(this,t),this._latlngs=this._convertLatLngs(e),n.Handler.PolyEdit&&(this.editing=new n.Handler.PolyEdit(this),this.options.editable&&this.editing.enable())},options:{smoothFactor:1,noClip:!1},projectLatlngs:function(){this._originalPoints=[];for(var e=0,t=this._latlngs.length;e<t;e++)this._originalPoints[e]=this._map.latLngToLayerPoint(this._latlngs[e])},getPathString:function(){for(var e=0,t=this._parts.length,i="";e<t;e++)i+=this._getPathPartStr(this._parts[e]);return i},getLatLngs:function(){return this._latlngs},setLatLngs:function(e){return this._latlngs=this._convertLatLngs(e),this.redraw()},addLatLng:function(e){return this._latlngs.push(n.latLng(e)),this.redraw()},spliceLatLngs:function(e,t){var i=[].splice.apply(this._latlngs,arguments);return this._convertLatLngs(this._latlngs),this.redraw(),i},closestLayerPoint:function(e){for(var t,i,s=1/0,a=this._parts,r=null,o=0,l=a.length;o<l;o++)for(var d=a[o],h=1,u=d.length;h<u;h++){t=d[h-1],i=d[h];var c=n.LineUtil._sqClosestPointOnSegment(e,t,i,!0);c<s&&(s=c,r=n.LineUtil._sqClosestPointOnSegment(e,t,i))}return r&&(r.distance=Math.sqrt(s)),r},getBounds:function(){for(var e=new n.LatLngBounds,t=this.getLatLngs(),i=0,s=t.length;i<s;i++)e.extend(t[i]);return e},onAdd:function(e){n.Path.prototype.onAdd.call(this,e),this.editing&&this.editing.enabled()&&this.editing.addHooks()},onRemove:function(e){this.editing&&this.editing.enabled()&&this.editing.removeHooks(),n.Path.prototype.onRemove.call(this,e)},_convertLatLngs:function(e){var t,i;for(t=0,i=e.length;t<i;t++){if(e[t]instanceof Array&&"number"!=typeof e[t][0])return;e[t]=n.latLng(e[t])}return e},_initEvents:function(){n.Path.prototype._initEvents.call(this)},_getPathPartStr:function(e){for(var t,i=n.Path.VML,s=0,a=e.length,r="";s<a;s++)t=e[s],i&&t._round(),r+=(s?"L":"M")+t.x+" "+t.y;return r},_clipPoints:function(){var e,t,i,s=this._originalPoints,a=s.length;if(this.options.noClip)this._parts=[s];else{this._parts=[];var r=this._parts,o=this._map._pathViewport,l=n.LineUtil;for(e=0,t=0;e<a-1;e++)(i=l.clipSegment(s[e],s[e+1],o,e))&&(r[t]=r[t]||[],r[t].push(i[0]),i[1]===s[e+1]&&e!==a-2||(r[t].push(i[1]),t++))}},_simplifyPoints:function(){for(var e=this._parts,t=n.LineUtil,i=0,s=e.length;i<s;i++)e[i]=t.simplify(e[i],this.options.smoothFactor)},_updatePath:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),n.Path.prototype._updatePath.call(this))}}),n.polyline=function(e,t){return new n.Polyline(e,t)},n.PolyUtil={},n.PolyUtil.clipPolygon=function(e,t){t.min,t.max;var i,s,a,r,o,l,d,h,u,c=[1,4,2,8],p=n.LineUtil;for(s=0,d=e.length;s<d;s++)e[s]._code=p._getBitCode(e[s],t);for(r=0;r<4;r++){for(h=c[r],i=[],s=0,a=(d=e.length)-1;s<d;a=s++)o=e[s],l=e[a],o._code&h?l._code&h||((u=p._getEdgeIntersection(l,o,h,t))._code=p._getBitCode(u,t),i.push(u)):(l._code&h&&((u=p._getEdgeIntersection(l,o,h,t))._code=p._getBitCode(u,t),i.push(u)),i.push(o));e=i}return e},n.Polygon=n.Polyline.extend({options:{fill:!0},initialize:function(e,t){n.Polyline.prototype.initialize.call(this,e,t),e&&e[0]instanceof Array&&"number"!=typeof e[0][0]&&(this._latlngs=this._convertLatLngs(e[0]),this._holes=e.slice(1))},projectLatlngs:function(){if(n.Polyline.prototype.projectLatlngs.call(this),this._holePoints=[],this._holes)for(var e=0,t=this._holes.length;e<t;e++){this._holePoints[e]=[];for(var i=0,s=this._holes[e].length;i<s;i++)this._holePoints[e][i]=this._map.latLngToLayerPoint(this._holes[e][i])}},_clipPoints:function(){var e=this._originalPoints,t=[];if(this._parts=[e].concat(this._holePoints),!this.options.noClip){for(var i=0,s=this._parts.length;i<s;i++){var a=n.PolyUtil.clipPolygon(this._parts[i],this._map._pathViewport);a.length&&t.push(a)}this._parts=t}},_getPathPartStr:function(e){return n.Polyline.prototype._getPathPartStr.call(this,e)+(n.Browser.svg?"z":"x")}}),n.polygon=function(e,t){return new n.Polygon(e,t)},function(){function e(e){return n.FeatureGroup.extend({initialize:function(e,t){this._layers={},this._options=t,this.setLatLngs(e)},setLatLngs:function(t){var i=0,n=t.length;for(this.eachLayer((function(e){i<n?e.setLatLngs(t[i++]):this.removeLayer(e)}),this);i<n;)this.addLayer(new e(t[i++],this._options));return this}})}n.MultiPolyline=e(n.Polyline),n.MultiPolygon=e(n.Polygon),n.multiPolyline=function(e,t){return new n.MultiPolyline(e,t)},n.multiPolygon=function(e,t){return new n.MultiPolygon(e,t)}}(),n.Rectangle=n.Polygon.extend({initialize:function(e,t){n.Polygon.prototype.initialize.call(this,this._boundsToLatLngs(e),t)},setBounds:function(e){this.setLatLngs(this._boundsToLatLngs(e))},_boundsToLatLngs:function(e){return[(e=n.latLngBounds(e)).getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast(),e.getSouthWest()]}}),n.rectangle=function(e,t){return new n.Rectangle(e,t)},n.Circle=n.Path.extend({initialize:function(e,t,i){n.Path.prototype.initialize.call(this,i),this._latlng=n.latLng(e),this._mRadius=t},options:{fill:!0},setLatLng:function(e){return this._latlng=n.latLng(e),this.redraw()},setRadius:function(e){return this._mRadius=e,this.redraw()},projectLatlngs:function(){var e=this._getLngRadius(),t=new n.LatLng(this._latlng.lat,this._latlng.lng-e,!0),i=this._map.latLngToLayerPoint(t);this._point=this._map.latLngToLayerPoint(this._latlng),this._radius=Math.max(Math.round(this._point.x-i.x),1)},getBounds:function(){var e=this._map,t=this._radius*Math.cos(Math.PI/4),i=e.project(this._latlng),s=new n.Point(i.x-t,i.y+t),a=new n.Point(i.x+t,i.y-t),r=e.unproject(s),o=e.unproject(a);return new n.LatLngBounds(r,o)},getLatLng:function(){return this._latlng},getPathString:function(){var e=this._point,t=this._radius;return this._checkIfEmpty()?"":n.Browser.svg?"M"+e.x+","+(e.y-t)+"A"+t+","+t+",0,1,1,"+(e.x-.1)+","+(e.y-t)+" z":(e._round(),t=Math.round(t),"AL "+e.x+","+e.y+" "+t+","+t+" 0,23592600")},getRadius:function(){return this._mRadius},_getLngRadius:function(){var e=40075017*Math.cos(n.LatLng.DEG_TO_RAD*this._latlng.lat);return this._mRadius/e*360},_checkIfEmpty:function(){if(!this._map)return!1;var e=this._map._pathViewport,t=this._radius,i=this._point;return i.x-t>e.max.x||i.y-t>e.max.y||i.x+t<e.min.x||i.y+t<e.min.y}}),n.circle=function(e,t,i){return new n.Circle(e,t,i)},n.CircleMarker=n.Circle.extend({options:{radius:10,weight:2},initialize:function(e,t){n.Circle.prototype.initialize.call(this,e,null,t),this._radius=this.options.radius},projectLatlngs:function(){this._point=this._map.latLngToLayerPoint(this._latlng)},setRadius:function(e){return this._radius=e,this.redraw()}}),n.circleMarker=function(e,t){return new n.CircleMarker(e,t)},n.Polyline.include(n.Path.CANVAS?{_containsPoint:function(e,t){var i,s,a,r,o,l,d=this.options.weight/2;for(n.Browser.touch&&(d+=10),i=0,r=this._parts.length;i<r;i++)for(s=0,a=(o=(l=this._parts[i]).length)-1;s<o;a=s++)if((t||0!==s)&&n.LineUtil.pointToSegmentDistance(e,l[a],l[s])<=d)return!0;return!1}}:{}),n.Polygon.include(n.Path.CANVAS?{_containsPoint:function(e){var t,i,s,a,r,o,l,d,h=!1;if(n.Polyline.prototype._containsPoint.call(this,e,!0))return!0;for(a=0,l=this._parts.length;a<l;a++)for(r=0,o=(d=(t=this._parts[a]).length)-1;r<d;o=r++)i=t[r],s=t[o],i.y>e.y!=s.y>e.y&&e.x<(s.x-i.x)*(e.y-i.y)/(s.y-i.y)+i.x&&(h=!h);return h}}:{}),n.Circle.include(n.Path.CANVAS?{_drawPath:function(){var e=this._point;this._ctx.beginPath(),this._ctx.arc(e.x,e.y,this._radius,0,2*Math.PI,!1)},_containsPoint:function(e){var t=this._point,i=this.options.stroke?this.options.weight/2:0;return e.distanceTo(t)<=this._radius+i}}:{}),n.GeoJSON=n.FeatureGroup.extend({initialize:function(e,t){n.Util.setOptions(this,t),this._layers={},e&&this.addData(e)},addData:function(e){var t,i,s=e instanceof Array?e:e.features;if(s){for(t=0,i=s.length;t<i;t++)this.addData(s[t]);return this}var a=this.options;if(!a.filter||a.filter(e)){var r=n.GeoJSON.geometryToLayer(e,a.pointToLayer);return r.feature=e,this.resetStyle(r),a.onEachFeature&&a.onEachFeature(e,r),this.addLayer(r)}},resetStyle:function(e){var t=this.options.style;t&&this._setLayerStyle(e,t)},setStyle:function(e){this.eachLayer((function(t){this._setLayerStyle(t,e)}),this)},_setLayerStyle:function(e,t){"function"==typeof t&&(t=t(e.feature)),e.setStyle&&e.setStyle(t)}}),n.Util.extend(n.GeoJSON,{geometryToLayer:function(e,t){var i,s,a,r,o,l="Feature"===e.type?e.geometry:e,d=l.coordinates,h=[];switch(l.type){case"Point":return i=this.coordsToLatLng(d),t?t(e,i):new n.Marker(i);case"MultiPoint":for(a=0,r=d.length;a<r;a++)i=this.coordsToLatLng(d[a]),o=t?t(e,i):new n.Marker(i),h.push(o);return new n.FeatureGroup(h);case"LineString":return s=this.coordsToLatLngs(d),new n.Polyline(s);case"Polygon":return s=this.coordsToLatLngs(d,1),new n.Polygon(s);case"MultiLineString":return s=this.coordsToLatLngs(d,1),new n.MultiPolyline(s);case"MultiPolygon":return s=this.coordsToLatLngs(d,2),new n.MultiPolygon(s);case"GeometryCollection":for(a=0,r=l.geometries.length;a<r;a++)o=this.geometryToLayer(l.geometries[a],t),h.push(o);return new n.FeatureGroup(h);default:throw Error("Invalid GeoJSON object.")}},coordsToLatLng:function(e,t){var i=parseFloat(e[t?0:1]),s=parseFloat(e[t?1:0]);return new n.LatLng(i,s,!0)},coordsToLatLngs:function(e,t,i){var n,s,a,r=[];for(s=0,a=e.length;s<a;s++)n=t?this.coordsToLatLngs(e[s],t-1,i):this.coordsToLatLng(e[s],i),r.push(n);return r}}),n.geoJson=function(e,t){return new n.GeoJSON(e,t)},n.DomEvent={addListener:function(e,t,i,s){var a,r,o,l=n.Util.stamp(i),d="_leaflet_"+t+l;return e[d]?this:(a=function(t){return i.call(s||e,t||n.DomEvent._getEvent())},n.Browser.touch&&"dblclick"===t&&this.addDoubleTapListener?this.addDoubleTapListener(e,a,l):("addEventListener"in e?"mousewheel"===t?(e.addEventListener("DOMMouseScroll",a,!1),e.addEventListener(t,a,!1)):"mouseenter"===t||"mouseleave"===t?(r=a,o="mouseenter"===t?"mouseover":"mouseout",a=function(t){if(n.DomEvent._checkMouse(e,t))return r(t)},e.addEventListener(o,a,!1)):e.addEventListener(t,a,!1):"attachEvent"in e&&e.attachEvent("on"+t,a),e[d]=a,this))},removeListener:function(e,t,i){var s=n.Util.stamp(i),a="_leaflet_"+t+s,r=e[a];if(r)return n.Browser.touch&&"dblclick"===t&&this.removeDoubleTapListener?this.removeDoubleTapListener(e,s):"removeEventListener"in e?"mousewheel"===t?(e.removeEventListener("DOMMouseScroll",r,!1),e.removeEventListener(t,r,!1)):"mouseenter"===t||"mouseleave"===t?e.removeEventListener("mouseenter"===t?"mouseover":"mouseout",r,!1):e.removeEventListener(t,r,!1):"detachEvent"in e&&e.detachEvent("on"+t,r),e[a]=null,this},stopPropagation:function(e){return e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,this},disableClickPropagation:function(e){var t=n.DomEvent.stopPropagation;return n.DomEvent.addListener(e,n.Draggable.START,t).addListener(e,"click",t).addListener(e,"dblclick",t)},preventDefault:function(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this},stop:function(e){return n.DomEvent.preventDefault(e).stopPropagation(e)},getMousePosition:function(e,t){var i=document.body,s=document.documentElement,a=e.pageX?e.pageX:e.clientX+i.scrollLeft+s.scrollLeft,r=e.pageY?e.pageY:e.clientY+i.scrollTop+s.scrollTop,o=new n.Point(a,r);return t?o._subtract(n.DomUtil.getViewportOffset(t)):o},getWheelDelta:function(e){var t=0;return e.wheelDelta&&(t=e.wheelDelta/120),e.detail&&(t=-e.detail/3),t},_checkMouse:function(e,t){var i=t.relatedTarget;if(!i)return!0;try{for(;i&&i!==e;)i=i.parentNode}catch(e){return!1}return i!==e},_getEvent:function(){var t=e.event;if(!t)for(var i=arguments.callee.caller;i&&(!(t=i.arguments[0])||e.Event!==t.constructor);)i=i.caller;return t}},n.DomEvent.on=n.DomEvent.addListener,n.DomEvent.off=n.DomEvent.removeListener,n.Draggable=n.Class.extend({includes:n.Mixin.Events,statics:{START:n.Browser.touch?"touchstart":"mousedown",END:n.Browser.touch?"touchend":"mouseup",MOVE:n.Browser.touch?"touchmove":"mousemove",TAP_TOLERANCE:15},initialize:function(e,t){this._element=e,this._dragStartTarget=t||e},enable:function(){this._enabled||(n.DomEvent.on(this._dragStartTarget,n.Draggable.START,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(n.DomEvent.off(this._dragStartTarget,n.Draggable.START,this._onDown),this._enabled=!1,this._moved=!1)},_onDown:function(e){if(!(!n.Browser.touch&&e.shiftKey||1!==e.which&&1!==e.button&&!e.touches))if(this._simulateClick=!0,e.touches&&e.touches.length>1)this._simulateClick=!1;else{var t=e.touches&&1===e.touches.length?e.touches[0]:e,i=t.target;n.DomEvent.preventDefault(e),n.Browser.touch&&"a"===i.tagName.toLowerCase()&&n.DomUtil.addClass(i,"leaflet-active"),this._moved=!1,this._moving||(this._startPos=this._newPos=n.DomUtil.getPosition(this._element),this._startPoint=new n.Point(t.clientX,t.clientY),n.DomEvent.on(document,n.Draggable.MOVE,this._onMove,this),n.DomEvent.on(document,n.Draggable.END,this._onUp,this))}},_onMove:function(e){if(!(e.touches&&e.touches.length>1)){var t=e.touches&&1===e.touches.length?e.touches[0]:e,i=new n.Point(t.clientX,t.clientY).subtract(this._startPoint);(i.x||i.y)&&(n.DomEvent.preventDefault(e),this._moved||(this.fire("dragstart"),this._moved=!0,n.Browser.touch||(n.DomUtil.disableTextSelection(),this._setMovingCursor())),this._newPos=this._startPos.add(i),this._moving=!0,n.Util.cancelAnimFrame(this._animRequest),this._animRequest=n.Util.requestAnimFrame(this._updatePosition,this,!0,this._dragStartTarget))}},_updatePosition:function(){this.fire("predrag"),n.DomUtil.setPosition(this._element,this._newPos),this.fire("drag")},_onUp:function(e){if(this._simulateClick&&e.changedTouches){var t=e.changedTouches[0],i=t.target,s=this._newPos&&this._newPos.distanceTo(this._startPos)||0;"a"===i.tagName.toLowerCase()&&n.DomUtil.removeClass(i,"leaflet-active"),s<n.Draggable.TAP_TOLERANCE&&this._simulateEvent("click",t)}n.Browser.touch||(n.DomUtil.enableTextSelection(),this._restoreCursor()),n.DomEvent.off(document,n.Draggable.MOVE,this._onMove),n.DomEvent.off(document,n.Draggable.END,this._onUp),this._moved&&(n.Util.cancelAnimFrame(this._animRequest),this.fire("dragend")),this._moving=!1},_setMovingCursor:function(){n.DomUtil.addClass(document.body,"leaflet-dragging")},_restoreCursor:function(){n.DomUtil.removeClass(document.body,"leaflet-dragging")},_simulateEvent:function(t,i){var n=document.createEvent("MouseEvents");n.initMouseEvent(t,!0,!0,e,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),i.target.dispatchEvent(n)}}),n.Handler=n.Class.extend({initialize:function(e){this._map=e},enable:function(){this._enabled||(this._enabled=!0,this.addHooks())},disable:function(){this._enabled&&(this._enabled=!1,this.removeHooks())},enabled:function(){return!!this._enabled}}),n.Map.mergeOptions({dragging:!0,inertia:!n.Browser.android23,inertiaDeceleration:3e3,inertiaMaxSpeed:1500,inertiaThreshold:n.Browser.touch?32:14,worldCopyJump:!0}),n.Map.Drag=n.Handler.extend({addHooks:function(){this._draggable||(this._draggable=new n.Draggable(this._map._mapPane,this._map._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._map.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDrag,this),this._map.on("viewreset",this._onViewReset,this)));this._draggable.enable()},removeHooks:function(){this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){var e=this._map;e.fire("movestart").fire("dragstart"),e._panTransition&&e._panTransition._onTransitionEnd(!0),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(){if(this._map.options.inertia){var e=this._lastTime=+new Date,t=this._lastPos=this._draggable._newPos;this._positions.push(t),this._times.push(e),e-this._times[0]>200&&(this._positions.shift(),this._times.shift())}this._map.fire("move").fire("drag")},_onViewReset:function(){var e=this._map.getSize().divideBy(2),t=this._map.latLngToLayerPoint(new n.LatLng(0,0));this._initialWorldOffset=t.subtract(e).x,this._worldWidth=this._map.project(new n.LatLng(0,180)).x},_onPreDrag:function(){this._map;var e=this._worldWidth,t=Math.round(e/2),i=this._initialWorldOffset,n=this._draggable._newPos.x,s=(n-t+i)%e+t-i,a=(n+t+i)%e-t-i,r=Math.abs(s+i)<Math.abs(a+i)?s:a;this._draggable._newPos.x=r},_onDragEnd:function(){var e=this._map,t=e.options,s=+new Date-this._lastTime;if(!t.inertia||s>t.inertiaThreshold||this._positions[0]===i)e.fire("moveend");else{var a=this._lastPos.subtract(this._positions[0]),r=(this._lastTime+s-this._times[0])/1e3,o=a.multiplyBy(.58/r),l=o.distanceTo(new n.Point(0,0)),d=Math.min(t.inertiaMaxSpeed,l),h=o.multiplyBy(d/l),u=d/t.inertiaDeceleration,c=h.multiplyBy(-u/2).round(),p={duration:u,easing:"ease-out"};n.Util.requestAnimFrame(n.Util.bind((function(){this._map.panBy(c,p)}),this))}e.fire("dragend"),t.maxBounds&&n.Util.requestAnimFrame(this._panInsideMaxBounds,e,!0,e._container)},_panInsideMaxBounds:function(){this.panInsideBounds(this.options.maxBounds)}}),n.Map.addInitHook("addHandler","dragging",n.Map.Drag),n.Map.mergeOptions({doubleClickZoom:!0}),n.Map.DoubleClickZoom=n.Handler.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick)},_onDoubleClick:function(e){this.setView(e.latlng,this._zoom+1)}}),n.Map.addInitHook("addHandler","doubleClickZoom",n.Map.DoubleClickZoom),n.Map.mergeOptions({scrollWheelZoom:!n.Browser.touch}),n.Map.ScrollWheelZoom=n.Handler.extend({addHooks:function(){n.DomEvent.on(this._map._container,"mousewheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){n.DomEvent.off(this._map._container,"mousewheel",this._onWheelScroll)},_onWheelScroll:function(e){var t=n.DomEvent.getWheelDelta(e);this._delta+=t,this._lastMousePos=this._map.mouseEventToContainerPoint(e),clearTimeout(this._timer),this._timer=setTimeout(n.Util.bind(this._performZoom,this),40),n.DomEvent.preventDefault(e)},_performZoom:function(){var e=this._map,t=Math.round(this._delta),i=e.getZoom();if(t=Math.max(Math.min(t,4),-4),t=e._limitZoom(i+t)-i,this._delta=0,t){var n=i+t,s=this._getCenterForScrollWheelZoom(this._lastMousePos,n);e.setView(s,n)}},_getCenterForScrollWheelZoom:function(e,t){var i=this._map,n=i.getZoomScale(t),s=i.getSize().divideBy(2),a=e.subtract(s).multiplyBy(1-1/n),r=i._getTopLeftPoint().add(s).add(a);return i.unproject(r)}}),n.Map.addInitHook("addHandler","scrollWheelZoom",n.Map.ScrollWheelZoom),n.Util.extend(n.DomEvent,{addDoubleTapListener:function(e,t,i){function n(e){if(1===e.touches.length){var t=Date.now(),i=t-(a||t);r=e.touches[0],o=i>0&&i<=l,a=t}}function s(e){o&&(r.type="dblclick",t(r),a=null)}var a,r,o=!1,l=250,d="_leaflet_",h="touchstart",u="touchend";return e[d+h+i]=n,e[d+u+i]=s,e.addEventListener(h,n,!1),e.addEventListener(u,s,!1),this},removeDoubleTapListener:function(e,t){var i="_leaflet_";return e.removeEventListener(e,e[i+"touchstart"+t],!1),e.removeEventListener(e,e[i+"touchend"+t],!1),this}}),n.Map.mergeOptions({touchZoom:n.Browser.touch&&!n.Browser.android23}),n.Map.TouchZoom=n.Handler.extend({addHooks:function(){n.DomEvent.on(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){n.DomEvent.off(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(e){var t=this._map;if(e.touches&&2===e.touches.length&&!t._animatingZoom&&!this._zooming){var i=t.mouseEventToLayerPoint(e.touches[0]),s=t.mouseEventToLayerPoint(e.touches[1]),a=t._getCenterLayerPoint();this._startCenter=i.add(s).divideBy(2,!0),this._startDist=i.distanceTo(s),this._moved=!1,this._zooming=!0,this._centerOffset=a.subtract(this._startCenter),n.DomEvent.on(document,"touchmove",this._onTouchMove,this).on(document,"touchend",this._onTouchEnd,this),n.DomEvent.preventDefault(e)}},_onTouchMove:function(e){if(e.touches&&2===e.touches.length){var t=this._map,i=t.mouseEventToLayerPoint(e.touches[0]),s=t.mouseEventToLayerPoint(e.touches[1]);this._scale=i.distanceTo(s)/this._startDist,this._delta=i.add(s).divideBy(2,!0).subtract(this._startCenter),1!==this._scale&&(this._moved||(n.DomUtil.addClass(t._mapPane,"leaflet-zoom-anim leaflet-touching"),t.fire("movestart").fire("zoomstart")._prepareTileBg(),this._moved=!0),n.Util.cancelAnimFrame(this._animRequest),this._animRequest=n.Util.requestAnimFrame(this._updateOnMove,this,!0,this._map._container),n.DomEvent.preventDefault(e))}},_updateOnMove:function(){var e=this._map,t=this._getScaleOrigin(),i=e.layerPointToLatLng(t);e.fire("zoomanim",{center:i,zoom:e.getScaleZoom(this._scale)}),e._tileBg.style[n.DomUtil.TRANSFORM]=n.DomUtil.getTranslateString(this._delta)+" "+n.DomUtil.getScaleString(this._scale,this._startCenter)},_onTouchEnd:function(e){if(this._moved&&this._zooming){var t=this._map;this._zooming=!1,n.DomUtil.removeClass(t._mapPane,"leaflet-touching"),n.DomEvent.off(document,"touchmove",this._onTouchMove).off(document,"touchend",this._onTouchEnd);var i=this._getScaleOrigin(),s=t.layerPointToLatLng(i),a=t.getZoom(),r=t.getScaleZoom(this._scale)-a,o=r>0?Math.ceil(r):Math.floor(r),l=t._limitZoom(a+o);t.fire("zoomanim",{center:s,zoom:l}),t._runAnimation(s,l,t.getZoomScale(l)/this._scale,i,!0)}},_getScaleOrigin:function(){var e=this._centerOffset.subtract(this._delta).divideBy(this._scale);return this._startCenter.add(e)}}),n.Map.addInitHook("addHandler","touchZoom",n.Map.TouchZoom),n.Map.mergeOptions({boxZoom:!0}),n.Map.BoxZoom=n.Handler.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane},addHooks:function(){n.DomEvent.on(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){n.DomEvent.off(this._container,"mousedown",this._onMouseDown)},_onMouseDown:function(e){if(!e.shiftKey||1!==e.which&&1!==e.button)return!1;n.DomUtil.disableTextSelection(),this._startLayerPoint=this._map.mouseEventToLayerPoint(e),this._box=n.DomUtil.create("div","leaflet-zoom-box",this._pane),n.DomUtil.setPosition(this._box,this._startLayerPoint),this._container.style.cursor="crosshair",n.DomEvent.on(document,"mousemove",this._onMouseMove,this).on(document,"mouseup",this._onMouseUp,this).preventDefault(e),this._map.fire("boxzoomstart")},_onMouseMove:function(e){var t=this._startLayerPoint,i=this._box,s=this._map.mouseEventToLayerPoint(e),a=s.subtract(t),r=new n.Point(Math.min(s.x,t.x),Math.min(s.y,t.y));n.DomUtil.setPosition(i,r),i.style.width=Math.abs(a.x)-4+"px",i.style.height=Math.abs(a.y)-4+"px"},_onMouseUp:function(e){this._pane.removeChild(this._box),this._container.style.cursor="",n.DomUtil.enableTextSelection(),n.DomEvent.off(document,"mousemove",this._onMouseMove).off(document,"mouseup",this._onMouseUp);var t=this._map,i=t.mouseEventToLayerPoint(e),s=new n.LatLngBounds(t.layerPointToLatLng(this._startLayerPoint),t.layerPointToLatLng(i));t.fitBounds(s),t.fire("boxzoomend",{boxZoomBounds:s})}}),n.Map.addInitHook("addHandler","boxZoom",n.Map.BoxZoom),n.Map.mergeOptions({keyboard:!0,keyboardPanOffset:80,keyboardZoomOffset:1}),n.Map.Keyboard=n.Handler.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61],zoomOut:[189,109]},initialize:function(e){this._map=e,this._setPanOffset(e.options.keyboardPanOffset),this._setZoomOffset(e.options.keyboardZoomOffset)},addHooks:function(){var e=this._map._container;-1===e.tabIndex&&(e.tabIndex="0"),n.DomEvent.addListener(e,"focus",this._onFocus,this).addListener(e,"blur",this._onBlur,this).addListener(e,"mousedown",this._onMouseDown,this),this._map.on("focus",this._addHooks,this).on("blur",this._removeHooks,this)},removeHooks:function(){this._removeHooks();var e=this._map._container;n.DomEvent.removeListener(e,"focus",this._onFocus,this).removeListener(e,"blur",this._onBlur,this).removeListener(e,"mousedown",this._onMouseDown,this),this._map.off("focus",this._addHooks,this).off("blur",this._removeHooks,this)},_onMouseDown:function(){this._focused||this._map._container.focus()},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanOffset:function(e){var t,i,n=this._panKeys={},s=this.keyCodes;for(t=0,i=s.left.length;t<i;t++)n[s.left[t]]=[-1*e,0];for(t=0,i=s.right.length;t<i;t++)n[s.right[t]]=[e,0];for(t=0,i=s.down.length;t<i;t++)n[s.down[t]]=[0,e];for(t=0,i=s.up.length;t<i;t++)n[s.up[t]]=[0,-1*e]},_setZoomOffset:function(e){var t,i,n=this._zoomKeys={},s=this.keyCodes;for(t=0,i=s.zoomIn.length;t<i;t++)n[s.zoomIn[t]]=e;for(t=0,i=s.zoomOut.length;t<i;t++)n[s.zoomOut[t]]=-e},_addHooks:function(){n.DomEvent.addListener(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){n.DomEvent.removeListener(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(e){var t=e.keyCode;if(this._panKeys.hasOwnProperty(t))this._map.panBy(this._panKeys[t]);else{if(!this._zoomKeys.hasOwnProperty(t))return;this._map.setZoom(this._map.getZoom()+this._zoomKeys[t])}n.DomEvent.stop(e)}}),n.Map.addInitHook("addHandler","keyboard",n.Map.Keyboard),n.Handler.MarkerDrag=n.Handler.extend({initialize:function(e){this._marker=e},addHooks:function(){var e=this._marker._icon;this._draggable||(this._draggable=new n.Draggable(e,e).on("dragstart",this._onDragStart,this).on("drag",this._onDrag,this).on("dragend",this._onDragEnd,this)),this._draggable.enable()},removeHooks:function(){this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(e){this._marker.closePopup().fire("movestart").fire("dragstart")},_onDrag:function(e){var t=n.DomUtil.getPosition(this._marker._icon);this._marker._shadow&&n.DomUtil.setPosition(this._marker._shadow,t),this._marker._latlng=this._marker._map.layerPointToLatLng(t),this._marker.fire("move").fire("drag")},_onDragEnd:function(){this._marker.fire("moveend").fire("dragend")}}),n.Handler.PolyEdit=n.Handler.extend({options:{icon:new n.DivIcon({iconSize:new n.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"})},initialize:function(e,t){this._poly=e,n.Util.setOptions(this,t)},addHooks:function(){this._poly._map&&(this._markerGroup||this._initMarkers(),this._poly._map.addLayer(this._markerGroup))},removeHooks:function(){this._poly._map&&(this._poly._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers)},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new n.LayerGroup),this._markers=[];var e,t,i,s,a,r,o=this._poly._latlngs;for(e=0,i=o.length;e<i;e++)(s=this._createMarker(o[e],e)).on("click",this._onMarkerClick,this),this._markers.push(s);for(e=0,t=i-1;e<i;t=e++)(0!==e||n.Polygon&&this._poly instanceof n.Polygon)&&(a=this._markers[t],r=this._markers[e],this._createMiddleMarker(a,r),this._updatePrevNext(a,r))},_createMarker:function(e,t){var i=new n.Marker(e,{draggable:!0,icon:this.options.icon});return i._origLatLng=e,i._index=t,i.on("drag",this._onMarkerDrag,this),i.on("dragend",this._fireEdit,this),this._markerGroup.addLayer(i),i},_fireEdit:function(){this._poly.fire("edit")},_onMarkerDrag:function(e){var t=e.target;n.Util.extend(t._origLatLng,t._latlng),t._middleLeft&&t._middleLeft.setLatLng(this._getMiddleLatLng(t._prev,t)),t._middleRight&&t._middleRight.setLatLng(this._getMiddleLatLng(t,t._next)),this._poly.redraw()},_onMarkerClick:function(e){if(!(this._poly._latlngs.length<3)){var t=e.target,i=t._index;t._prev&&t._next&&(this._createMiddleMarker(t._prev,t._next),this._updatePrevNext(t._prev,t._next)),this._markerGroup.removeLayer(t),t._middleLeft&&this._markerGroup.removeLayer(t._middleLeft),t._middleRight&&this._markerGroup.removeLayer(t._middleRight),this._markers.splice(i,1),this._poly.spliceLatLngs(i,1),this._updateIndexes(i,-1),this._poly.fire("edit")}},_updateIndexes:function(e,t){this._markerGroup.eachLayer((function(i){i._index>e&&(i._index+=t)}))},_createMiddleMarker:function(e,t){var i,n,s,a=this._getMiddleLatLng(e,t),r=this._createMarker(a);r.setOpacity(.6),e._middleRight=t._middleLeft=r,n=function(){var n=t._index;r._index=n,r.off("click",i).on("click",this._onMarkerClick,this),a.lat=r.getLatLng().lat,a.lng=r.getLatLng().lng,this._poly.spliceLatLngs(n,0,a),this._markers.splice(n,0,r),r.setOpacity(1),this._updateIndexes(n,1),t._index++,this._updatePrevNext(e,r),this._updatePrevNext(r,t)},s=function(){r.off("dragstart",n,this),r.off("dragend",s,this),this._createMiddleMarker(e,r),this._createMiddleMarker(r,t)},i=function(){n.call(this),s.call(this),this._poly.fire("edit")},r.on("click",i,this).on("dragstart",n,this).on("dragend",s,this),this._markerGroup.addLayer(r)},_updatePrevNext:function(e,t){e._next=t,t._prev=e},_getMiddleLatLng:function(e,t){var i=this._poly._map,n=i.latLngToLayerPoint(e.getLatLng()),s=i.latLngToLayerPoint(t.getLatLng());return i.layerPointToLatLng(n._add(s).divideBy(2))}}),n.Control=n.Class.extend({options:{position:"topright"},initialize:function(e){n.Util.setOptions(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var t=this._map;return t&&t.removeControl(this),this.options.position=e,t&&t.addControl(this),this},addTo:function(e){this._map=e;var t=this._container=this.onAdd(e),i=this.getPosition(),s=e._controlCorners[i];return n.DomUtil.addClass(t,"leaflet-control"),-1!==i.indexOf("bottom")?s.insertBefore(t,s.firstChild):s.appendChild(t),this},removeFrom:function(e){var t=this.getPosition();return e._controlCorners[t].removeChild(this._container),this._map=null,this.onRemove&&this.onRemove(e),this}}),n.control=function(e){return new n.Control(e)},n.Map.include({addControl:function(e){return e.addTo(this),this},removeControl:function(e){return e.removeFrom(this),this},_initControlPos:function(){function e(e,a){var r=i+e+" "+i+a;t[e+a]=n.DomUtil.create("div",r,s)}var t=this._controlCorners={},i="leaflet-",s=this._controlContainer=n.DomUtil.create("div",i+"control-container",this._container);e("top","left"),e("top","right"),e("bottom","left"),e("bottom","right")}}),n.Control.Zoom=n.Control.extend({options:{position:"topleft"},onAdd:function(e){var t="leaflet-control-zoom",i=n.DomUtil.create("div",t);return this._createButton("Zoom in",t+"-in",i,e.zoomIn,e),this._createButton("Zoom out",t+"-out",i,e.zoomOut,e),i},_createButton:function(e,t,i,s,a){var r=n.DomUtil.create("a",t,i);return r.href="#",r.title=e,n.DomEvent.on(r,"click",n.DomEvent.stopPropagation).on(r,"click",n.DomEvent.preventDefault).on(r,"click",s,a).on(r,"dblclick",n.DomEvent.stopPropagation),r}}),n.Map.mergeOptions({zoomControl:!0}),n.Map.addInitHook((function(){this.options.zoomControl&&(this.zoomControl=new n.Control.Zoom,this.addControl(this.zoomControl))})),n.control.zoom=function(e){return new n.Control.Zoom(e)},n.Control.Attribution=n.Control.extend({options:{position:"bottomright",prefix:'Powered by <a href="http://leaflet.cloudmade.com">Leaflet</a>'},initialize:function(e){n.Util.setOptions(this,e),this._attributions={}},onAdd:function(e){return this._container=n.DomUtil.create("div","leaflet-control-attribution"),n.DomEvent.disableClickPropagation(this._container),e.on("layeradd",this._onLayerAdd,this).on("layerremove",this._onLayerRemove,this),this._update(),this._container},onRemove:function(e){e.off("layeradd",this._onLayerAdd).off("layerremove",this._onLayerRemove)},setPrefix:function(e){return this.options.prefix=e,this._update(),this},addAttribution:function(e){if(e)return this._attributions[e]||(this._attributions[e]=0),this._attributions[e]++,this._update(),this},removeAttribution:function(e){if(e)return this._attributions[e]--,this._update(),this},_update:function(){if(this._map){var e=[];for(var t in this._attributions)this._attributions.hasOwnProperty(t)&&this._attributions[t]&&e.push(t);var i=[];this.options.prefix&&i.push(this.options.prefix),e.length&&i.push(e.join(", ")),this._container.innerHTML=i.join(" &#8212; ")}},_onLayerAdd:function(e){e.layer.getAttribution&&this.addAttribution(e.layer.getAttribution())},_onLayerRemove:function(e){e.layer.getAttribution&&this.removeAttribution(e.layer.getAttribution())}}),n.Map.mergeOptions({attributionControl:!0}),n.Map.addInitHook((function(){this.options.attributionControl&&(this.attributionControl=(new n.Control.Attribution).addTo(this))})),n.control.attribution=function(e){return new n.Control.Attribution(e)},n.Control.Scale=n.Control.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0,updateWhenIdle:!1},onAdd:function(e){this._map=e;var t="leaflet-control-scale",i=n.DomUtil.create("div",t),s=this.options;return this._addScales(s,t,i),e.on(s.updateWhenIdle?"moveend":"move",this._update,this),this._update(),i},onRemove:function(e){e.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(e,t,i){e.metric&&(this._mScale=n.DomUtil.create("div",t+"-line",i)),e.imperial&&(this._iScale=n.DomUtil.create("div",t+"-line",i))},_update:function(){var e=this._map.getBounds(),t=e.getCenter().lat,i=6378137*Math.PI*Math.cos(t*Math.PI/180)*(e.getNorthEast().lng-e.getSouthWest().lng)/180,n=this._map.getSize(),s=this.options,a=0;n.x>0&&(a=i*(s.maxWidth/n.x)),this._updateScales(s,a)},_updateScales:function(e,t){e.metric&&t&&this._updateMetric(t),e.imperial&&t&&this._updateImperial(t)},_updateMetric:function(e){var t=this._getRoundNum(e);this._mScale.style.width=this._getScaleWidth(t/e)+"px",this._mScale.innerHTML=t<1e3?t+" m":t/1e3+" km"},_updateImperial:function(e){var t,i,n,s=3.2808399*e,a=this._iScale;s>5280?(t=s/5280,i=this._getRoundNum(t),a.style.width=this._getScaleWidth(i/t)+"px",a.innerHTML=i+" mi"):(n=this._getRoundNum(s),a.style.width=this._getScaleWidth(n/s)+"px",a.innerHTML=n+" ft")},_getScaleWidth:function(e){return Math.round(this.options.maxWidth*e)-10},_getRoundNum:function(e){var t=Math.pow(10,(Math.floor(e)+"").length-1),i=e/t;return t*(i=i>=10?10:i>=5?5:i>=3?3:i>=2?2:1)}}),n.control.scale=function(e){return new n.Control.Scale(e)},n.Control.Layers=n.Control.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0},initialize:function(e,t,i){for(var s in n.Util.setOptions(this,i),this._layers={},this._lastZIndex=0,e)e.hasOwnProperty(s)&&this._addLayer(e[s],s);for(s in t)t.hasOwnProperty(s)&&this._addLayer(t[s],s,!0)},onAdd:function(e){return this._initLayout(),this._update(),this._container},addBaseLayer:function(e,t){return this._addLayer(e,t),this._update(),this},addOverlay:function(e,t){return this._addLayer(e,t,!0),this._update(),this},removeLayer:function(e){var t=n.Util.stamp(e);return delete this._layers[t],this._update(),this},_initLayout:function(){var e="leaflet-control-layers",t=this._container=n.DomUtil.create("div",e);n.Browser.touch?n.DomEvent.on(t,"click",n.DomEvent.stopPropagation):n.DomEvent.disableClickPropagation(t);var i=this._form=n.DomUtil.create("form",e+"-list");if(this.options.collapsed){n.DomEvent.on(t,"mouseover",this._expand,this).on(t,"mouseout",this._collapse,this);var s=this._layersLink=n.DomUtil.create("a",e+"-toggle",t);s.href="#",s.title="Layers",n.Browser.touch?n.DomEvent.on(s,"click",n.DomEvent.stopPropagation).on(s,"click",n.DomEvent.preventDefault).on(s,"click",this._expand,this):n.DomEvent.on(s,"focus",this._expand,this),this._map.on("movestart",this._collapse,this)}else this._expand();this._baseLayersList=n.DomUtil.create("div",e+"-base",i),this._separator=n.DomUtil.create("div",e+"-separator",i),this._overlaysList=n.DomUtil.create("div",e+"-overlays",i),t.appendChild(i)},_addLayer:function(e,t,i){var s=n.Util.stamp(e);this._layers[s]={layer:e,name:t,overlay:i},this.options.autoZIndex&&e.setZIndex&&(this._lastZIndex++,e.setZIndex(this._lastZIndex))},_update:function(){if(this._container){this._baseLayersList.innerHTML="",this._overlaysList.innerHTML="";var e=!1,t=!1;for(var i in this._layers)if(this._layers.hasOwnProperty(i)){var n=this._layers[i];this._addItem(n),t=t||n.overlay,e=e||!n.overlay}this._separator.style.display=t&&e?"":"none"}},_createRadioElement:function(e,t){var i='<input type="radio" name="'+e+'"';t&&(i+=' checked="checked"'),i+="/>";var n=document.createElement("div");return n.innerHTML=i,n.firstChild},_addItem:function(e){var t,i=document.createElement("label"),s=this._map.hasLayer(e.layer);e.overlay?((t=document.createElement("input")).type="checkbox",t.defaultChecked=s):t=this._createRadioElement("leaflet-base-layers",s),t.layerId=n.Util.stamp(e.layer),n.DomEvent.on(t,"click",this._onInputClick,this);var a=document.createTextNode(" "+e.name);i.appendChild(t),i.appendChild(a),(e.overlay?this._overlaysList:this._baseLayersList).appendChild(i)},_onInputClick:function(){var e,t,i,n=this._form.getElementsByTagName("input"),s=n.length;for(e=0;e<s;e++)t=n[e],i=this._layers[t.layerId],t.checked?this._map.addLayer(i.layer,!i.overlay):this._map.removeLayer(i.layer)},_expand:function(){n.DomUtil.addClass(this._container,"leaflet-control-layers-expanded")},_collapse:function(){this._container.className=this._container.className.replace(" leaflet-control-layers-expanded","")}}),n.control.layers=function(e,t,i){return new n.Control.Layers(e,t,i)},n.Transition=n.Class.extend({includes:n.Mixin.Events,statics:{CUSTOM_PROPS_SETTERS:{position:n.DomUtil.setPosition},implemented:function(){return n.Transition.NATIVE||n.Transition.TIMER}},options:{easing:"ease",duration:.5},_setProperty:function(e,t){var i=n.Transition.CUSTOM_PROPS_SETTERS;e in i?i[e](this._el,t):this._el.style[e]=t}}),n.Transition=n.Transition.extend({statics:function(){var e=n.DomUtil.TRANSITION;return{NATIVE:!!e,TRANSITION:e,PROPERTY:e+"Property",DURATION:e+"Duration",EASING:e+"TimingFunction",END:"webkitTransition"===e||"OTransition"===e?e+"End":"transitionend",CUSTOM_PROPS_PROPERTIES:{position:n.Browser.any3d?n.DomUtil.TRANSFORM:"top, left"}}}(),options:{fakeStepInterval:100},initialize:function(e,t){this._el=e,n.Util.setOptions(this,t),n.DomEvent.on(e,n.Transition.END,this._onTransitionEnd,this),this._onFakeStep=n.Util.bind(this._onFakeStep,this)},run:function(e){var t,i=[],s=n.Transition.CUSTOM_PROPS_PROPERTIES;for(t in e)e.hasOwnProperty(t)&&(t=s[t]?s[t]:t,t=this._dasherize(t),i.push(t));for(t in this._el.style[n.Transition.DURATION]=this.options.duration+"s",this._el.style[n.Transition.EASING]=this.options.easing,this._el.style[n.Transition.PROPERTY]="all",e)e.hasOwnProperty(t)&&this._setProperty(t,e[t]);n.Util.falseFn(this._el.offsetWidth),this._inProgress=!0,n.Browser.mobileWebkit&&(this.backupEventFire=setTimeout(n.Util.bind(this._onBackupFireEnd,this),1.2*this.options.duration*1e3)),n.Transition.NATIVE?(clearInterval(this._timer),this._timer=setInterval(this._onFakeStep,this.options.fakeStepInterval)):this._onTransitionEnd()},_dasherize:function(){function e(e){return"-"+e.toLowerCase()}var t=/([A-Z])/g;return function(i){return i.replace(t,e)}}(),_onFakeStep:function(){this.fire("step")},_onTransitionEnd:function(e){this._inProgress&&(this._inProgress=!1,clearInterval(this._timer),this._el.style[n.Transition.TRANSITION]="",clearTimeout(this.backupEventFire),delete this.backupEventFire,this.fire("step"),e&&e.type&&this.fire("end"))},_onBackupFireEnd:function(){var e=document.createEvent("Event");e.initEvent(n.Transition.END,!0,!1),this._el.dispatchEvent(e)}}),n.Transition=n.Transition.NATIVE?n.Transition:n.Transition.extend({statics:{getTime:Date.now||function(){return+new Date},TIMER:!0,EASINGS:{linear:function(e){return e},"ease-out":function(e){return e*(2-e)}},CUSTOM_PROPS_GETTERS:{position:n.DomUtil.getPosition},UNIT_RE:/^[\d\.]+(\D*)$/},options:{fps:50},initialize:function(e,t){this._el=e,n.Util.extend(this.options,t),this._easing=n.Transition.EASINGS[this.options.easing]||n.Transition.EASINGS["ease-out"],this._step=n.Util.bind(this._step,this),this._interval=Math.round(1e3/this.options.fps)},run:function(e){this._props={};var t=n.Transition.CUSTOM_PROPS_GETTERS,i=n.Transition.UNIT_RE;for(var s in this.fire("start"),e)if(e.hasOwnProperty(s)){var a={};if(s in t)a.from=t[s](this._el);else{var r=this._el.style[s].match(i);a.from=parseFloat(r[0]),a.unit=r[1]}a.to=e[s],this._props[s]=a}clearInterval(this._timer),this._timer=setInterval(this._step,this._interval),this._startTime=n.Transition.getTime()},_step:function(){var e=n.Transition.getTime()-this._startTime,t=1e3*this.options.duration;e<t?this._runFrame(this._easing(e/t)):(this._runFrame(1),this._complete())},_runFrame:function(e){var t,i,s,a=n.Transition.CUSTOM_PROPS_SETTERS;for(t in this._props)this._props.hasOwnProperty(t)&&(i=this._props[t],t in a?(s=i.to.subtract(i.from).multiplyBy(e).add(i.from),a[t](this._el,s)):this._el.style[t]=(i.to-i.from)*e+i.from+i.unit);this.fire("step")},_complete:function(){clearInterval(this._timer),this.fire("end")}}),n.Map.include(n.Transition&&n.Transition.implemented()?{setView:function(e,t,i){t=this._limitZoom(t);var n=this._zoom!==t;if(this._loaded&&!i&&this._layers&&(n?this._zoomToIfClose&&this._zoomToIfClose(e,t):this._panByIfClose(e)))return clearTimeout(this._sizeTimer),this;return this._resetView(e,t),this},panBy:function(e,t){return(e=n.point(e)).x||e.y?(this._panTransition||(this._panTransition=new n.Transition(this._mapPane),this._panTransition.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),n.Util.setOptions(this._panTransition,n.Util.extend({duration:.25},t)),this.fire("movestart"),n.DomUtil.addClass(this._mapPane,"leaflet-pan-anim"),this._panTransition.run({position:n.DomUtil.getPosition(this._mapPane).subtract(e)}),this):this},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){n.DomUtil.removeClass(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_panByIfClose:function(e){var t=this._getCenterOffset(e)._floor();return!!this._offsetIsWithinView(t)&&(this.panBy(t),!0)},_offsetIsWithinView:function(e,t){var i=t||1,n=this.getSize();return Math.abs(e.x)<=n.x*i&&Math.abs(e.y)<=n.y*i}}:{}),n.Map.mergeOptions({zoomAnimation:n.DomUtil.TRANSITION&&!n.Browser.android23&&!n.Browser.mobileOpera}),n.DomUtil.TRANSITION&&n.Map.addInitHook((function(){n.DomEvent.on(this._mapPane,n.Transition.END,this._catchTransitionEnd,this)})),n.Map.include(n.DomUtil.TRANSITION?{_zoomToIfClose:function(e,t){if(this._animatingZoom)return!0;if(!this.options.zoomAnimation)return!1;var i=this.getZoomScale(t),s=this._getCenterOffset(e).divideBy(1-1/i);if(!this._offsetIsWithinView(s,1))return!1;n.DomUtil.addClass(this._mapPane,"leaflet-zoom-anim"),this.fire("movestart").fire("zoomstart"),this.fire("zoomanim",{center:e,zoom:t});var a=this._getCenterLayerPoint().add(s);return this._prepareTileBg(),this._runAnimation(e,t,i,a),!0},_catchTransitionEnd:function(e){this._animatingZoom&&this._onZoomTransitionEnd()},_runAnimation:function(e,t,i,s,a){this._animateToCenter=e,this._animateToZoom=t,this._animatingZoom=!0;var r=n.DomUtil.TRANSFORM,o=this._tileBg;clearTimeout(this._clearTileBgTimer),n.Util.falseFn(o.offsetWidth);var l=n.DomUtil.getScaleString(i,s),d=o.style[r];o.style[r]=a?d+" "+l:l+" "+d},_prepareTileBg:function(){var e=this._tilePane,t=this._tileBg;if(t&&this._getLoadedTilesPercentage(t)>.5&&this._getLoadedTilesPercentage(e)<.5)return e.style.visibility="hidden",e.empty=!0,void this._stopLoadingImages(e);t||((t=this._tileBg=this._createPane("leaflet-tile-pane",this._mapPane)).style.zIndex=1),t.style[n.DomUtil.TRANSFORM]="",t.style.visibility="hidden",t.empty=!0,e.empty=!1,this._tilePane=this._panes.tilePane=t;var i=this._tileBg=e;n.DomUtil.addClass(i,"leaflet-zoom-animated"),this._stopLoadingImages(i)},_getLoadedTilesPercentage:function(e){var t,i,n=e.getElementsByTagName("img"),s=0;for(t=0,i=n.length;t<i;t++)n[t].complete&&s++;return s/i},_stopLoadingImages:function(e){var t,i,s,a=Array.prototype.slice.call(e.getElementsByTagName("img"));for(t=0,i=a.length;t<i;t++)(s=a[t]).complete||(s.onload=n.Util.falseFn,s.onerror=n.Util.falseFn,s.src=n.Util.emptyImageUrl,s.parentNode.removeChild(s))},_onZoomTransitionEnd:function(){this._restoreTileFront(),n.Util.falseFn(this._tileBg.offsetWidth),this._resetView(this._animateToCenter,this._animateToZoom,!0,!0),n.DomUtil.removeClass(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1},_restoreTileFront:function(){this._tilePane.innerHTML="",this._tilePane.style.visibility="",this._tilePane.style.zIndex=2,this._tileBg.style.zIndex=1},_clearTileBg:function(){!this._animatingZoom&&!this.touchZoom._zooming&&(this._tileBg.innerHTML="")}}:{}),n.Map.include({_defaultLocateOptions:{watch:!1,setView:!1,maxZoom:1/0,timeout:1e4,maximumAge:0,enableHighAccuracy:!1},locate:function(e){if(e=this._locationOptions=n.Util.extend(this._defaultLocateOptions,e),!navigator.geolocation)return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var t=n.Util.bind(this._handleGeolocationResponse,this),i=n.Util.bind(this._handleGeolocationError,this);return e.watch?this._locationWatchId=navigator.geolocation.watchPosition(t,i,e):navigator.geolocation.getCurrentPosition(t,i,e),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch(this._locationWatchId),this},_handleGeolocationError:function(e){var t=e.code,i=e.message||(1===t?"permission denied":2===t?"position unavailable":"timeout");this._locationOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:t,message:"Geolocation error: "+i+"."})},_handleGeolocationResponse:function(e){var t=180*e.coords.accuracy/4e7,i=2*t,s=e.coords.latitude,a=e.coords.longitude,r=new n.LatLng(s,a),o=new n.LatLng(s-t,a-i),l=new n.LatLng(s+t,a+i),d=new n.LatLngBounds(o,l),h=this._locationOptions;if(h.setView){var u=Math.min(this.getBoundsZoom(d),h.maxZoom);this.setView(r,u)}this.fire("locationfound",{latlng:r,bounds:d,accuracy:e.coords.accuracy})}})}(this)}).call(window)},"collections/shared/Times":function(e,t,i){var n,s;n=[i("collections/services/data/ui/Times"),i("require/underscore")],void 0===(s=function(e,t){return e.extend({},{createFromPresets:function(i,n){var s=[];t.isEmpty(i)||t.each(i,(function(e){var i=t.uniqueId("time_");s.push({name:i,id:i,links:{},author:"nobody",acl:{},content:e})})),t.isEmpty(n)||s.push({name:"settings",links:{},author:"nobody",acl:{},content:n});var a=new e;return a.setFromSplunkD({links:{create:"/services/data/ui/times/_new",_reload:"/services/data/ui/times/_reload"},origin:"",updated:"",generator:{},entry:s}),a}})}.apply(t,n))||(e.exports=s)},context:function(e,t){Splunk.Context=$.klass({logger:Splunk.Logger.getLogger("search_context.js"),_root:{},initialize:function(){this._root={}},enforceByValue:function(e){return e instanceof Object?"function"==typeof e.clone?e.clone():"function"==typeof e?e:e instanceof Array?$.extend(!0,[],e):$.extend(!0,{},e):e},get:function(e){return this.has(e)?this.enforceByValue(this._root[e]):null},getAll:function(e){if(""==e)return this.enforceByValue(this._root);var t={};for(var i in this._root)if(this._root.hasOwnProperty(i)){var n;if(i==e)n="";else{if(-1==i.indexOf(e+"."))continue;n=i.replace(e+".","")}t[n]=this.enforceByValue(this._root[i])}return t},has:function(e){return this._root.hasOwnProperty(e)},set:function(e,t){t=this.enforceByValue(t),this._root[e]=t},clone:function(){var e=new Splunk.Context;for(var t in this._root)this._root.hasOwnProperty(t)&&e.set(t,this.get(t));return e}})},"contrib/google-code-prettify/prettify":function(e,t){var i=null;window.PR_SHOULD_USE_CONTINUATION=!0,function(){function e(e,t,i,n){t&&(i(e={a:t,d:e}),n.push.apply(n,e.e))}function t(t,n){var s,a={};!function(){for(var e=t.concat(n),r=[],o={},l=0,d=e.length;l<d;++l){var h=e[l],u=h[3];if(u)for(var c=u.length;--c>=0;)a[u.charAt(c)]=h;u=""+(h=h[1]),o.hasOwnProperty(u)||(r.push(h),o[u]=i)}r.push(/[\S\s]/),s=function(e){function t(e){var t=e.charCodeAt(0);if(92!==t)return t;var i=e.charAt(1);return(t=u[i])?t:"0"<=i&&i<="7"?parseInt(e.substring(1),8):"u"===i||"x"===i?parseInt(e.substring(2),16):e.charCodeAt(1)}function i(e){return e<32?(e<16?"\\x0":"\\x")+e.toString(16):("\\"!==(e=String.fromCharCode(e))&&"-"!==e&&"["!==e&&"]"!==e||(e="\\"+e),e)}function n(e){for(var n=e.substring(1,e.length-1).match(/\\u[\dA-Fa-f]{4}|\\x[\dA-Fa-f]{2}|\\[0-3][0-7]{0,2}|\\[0-7]{1,2}|\\[\S\s]|[^\\]/g),s=(e=[],[]),a="^"===n[0],r=a?1:0,o=n.length;r<o;++r){var l=n[r];if(/\\[bdsw]/i.test(l))e.push(l);else{var d;l=t(l);r+2<o&&"-"===n[r+1]?(d=t(n[r+2]),r+=2):d=l,s.push([l,d]),d<65||l>122||(d<65||l>90||s.push([32|Math.max(65,l),32|Math.min(d,90)]),d<97||l>122||s.push([-33&Math.max(97,l),-33&Math.min(d,122)]))}}for(s.sort((function(e,t){return e[0]-t[0]||t[1]-e[1]})),n=[],l=[NaN,NaN],r=0;r<s.length;++r)(o=s[r])[0]<=l[1]+1?l[1]=Math.max(l[1],o[1]):n.push(l=o);for(s=["["],a&&s.push("^"),s.push.apply(s,e),r=0;r<n.length;++r)o=n[r],s.push(i(o[0])),o[1]>o[0]&&(o[1]+1>o[0]&&s.push("-"),s.push(i(o[1])));return s.push("]"),s.join("")}function s(e){for(var t=e.source.match(/\[(?:[^\\\]]|\\[\S\s])*]|\\u[\dA-Fa-f]{4}|\\x[\dA-Fa-f]{2}|\\\d+|\\[^\dux]|\(\?[!:=]|[()^]|[^()[\\^]+/g),i=t.length,s=[],o=0,l=0;o<i;++o){var d=t[o];"("===d?++l:"\\"===d.charAt(0)&&(d=+d.substring(1))&&d<=l&&(s[d]=-1)}for(o=1;o<s.length;++o)-1===s[o]&&(s[o]=++a);for(l=o=0;o<i;++o)"("===(d=t[o])?void 0===s[++l]&&(t[o]="(?:"):"\\"===d.charAt(0)&&(d=+d.substring(1))&&d<=l&&(t[o]="\\"+s[l]);for(l=o=0;o<i;++o)"^"===t[o]&&"^"!==t[o+1]&&(t[o]="");if(e.ignoreCase&&r)for(o=0;o<i;++o)e=(d=t[o]).charAt(0),d.length>=2&&"["===e?t[o]=n(d):"\\"!==e&&(t[o]=d.replace(/[A-Za-z]/g,(function(e){return e=e.charCodeAt(0),"["+String.fromCharCode(-33&e,32|e)+"]"})));return t.join("")}for(var a=0,r=!1,o=!1,l=0,d=e.length;l<d;++l){var h=e[l];if(h.ignoreCase)o=!0;else if(/[a-z]/i.test(h.source.replace(/\\u[\da-f]{4}|\\x[\da-f]{2}|\\[^UXux]/gi,""))){r=!0,o=!1;break}}var u={b:8,t:9,n:10,v:11,f:12,r:13},c=[];for(l=0,d=e.length;l<d;++l){if((h=e[l]).global||h.multiline)throw Error(""+h);c.push("(?:"+s(h)+")")}return RegExp(c.join("|"),o?"gi":"g")}(r)}();var o=n.length;return function t(i){for(var l=i.d,d=[l,"pln"],h=0,u=i.a.match(s)||[],c={},p=0,m=u.length;p<m;++p){var f,g=u[p],v=c[g],b=void 0;if("string"==typeof v)f=!1;else{var _=a[g.charAt(0)];if(_)b=g.match(_[1]),v=_[0];else{for(f=0;f<o;++f)if(_=n[f],b=g.match(_[1])){v=_[0];break}b||(v="pln")}!(f=v.length>=5&&"lang-"===v.substring(0,5))||b&&"string"==typeof b[1]||(f=!1,v="src"),f||(c[g]=v)}if(_=h,h+=g.length,f){f=b[1];var y=g.indexOf(f),w=y+f.length;b[2]&&(y=(w=g.length-b[2].length)-f.length),v=v.substring(5),e(l+_,g.substring(0,y),t,d),e(l+_+y,f,r(v,f),d),e(l+_+w,g.substring(w),t,d)}else d.push(l+_,v)}i.e=d}}function n(e){var n=[],s=[];e.tripleQuotedStrings?n.push(["str",/^(?:'''(?:[^'\\]|\\[\S\s]|''?(?=[^']))*(?:'''|$)|"""(?:[^"\\]|\\[\S\s]|""?(?=[^"]))*(?:"""|$)|'(?:[^'\\]|\\[\S\s])*(?:'|$)|"(?:[^"\\]|\\[\S\s])*(?:"|$))/,i,"'\""]):e.multiLineStrings?n.push(["str",/^(?:'(?:[^'\\]|\\[\S\s])*(?:'|$)|"(?:[^"\\]|\\[\S\s])*(?:"|$)|`(?:[^\\`]|\\[\S\s])*(?:`|$))/,i,"'\"`"]):n.push(["str",/^(?:'(?:[^\n\r'\\]|\\.)*(?:'|$)|"(?:[^\n\r"\\]|\\.)*(?:"|$))/,i,"\"'"]),e.verbatimStrings&&s.push(["str",/^@"(?:[^"]|"")*(?:"|$)/,i]);var a=e.hashComments;return a&&(e.cStyleComments?(a>1?n.push(["com",/^#(?:##(?:[^#]|#(?!##))*(?:###|$)|.*)/,i,"#"]):n.push(["com",/^#(?:(?:define|elif|else|endif|error|ifdef|include|ifndef|line|pragma|undef|warning)\b|[^\n\r]*)/,i,"#"]),s.push(["str",/^<(?:(?:(?:\.\.\/)*|\/?)(?:[\w-]+(?:\/[\w-]+)+)?[\w-]+\.h|[a-z]\w*)>/,i])):n.push(["com",/^#[^\n\r]*/,i,"#"])),e.cStyleComments&&(s.push(["com",/^\/\/[^\n\r]*/,i]),s.push(["com",/^\/\*[\S\s]*?(?:\*\/|$)/,i])),e.regexLiterals&&s.push(["lang-regex",/^(?:^^\.?|[!+-]|!=|!==|#|%|%=|&|&&|&&=|&=|\(|\*|\*=|\+=|,|-=|->|\/|\/=|:|::|;|<|<<|<<=|<=|=|==|===|>|>=|>>|>>=|>>>|>>>=|[?@[^]|\^=|\^\^|\^\^=|{|\||\|=|\|\||\|\|=|~|break|case|continue|delete|do|else|finally|instanceof|return|throw|try|typeof)\s*(\/(?=[^*/])(?:[^/[\\]|\\[\S\s]|\[(?:[^\\\]]|\\[\S\s])*(?:]|$))+\/)/]),(a=e.types)&&s.push(["typ",a]),(e=(""+e.keywords).replace(/^ | $/g,"")).length&&s.push(["kwd",RegExp("^(?:"+e.replace(/[\s,]+/g,"|")+")\\b"),i]),n.push(["pln",/^\s+/,i," \r\n\t "]),s.push(["lit",/^@[$_a-z][\w$@]*/i,i],["typ",/^(?:[@_]?[A-Z]+[a-z][\w$@]*|\w+_t\b)/,i],["pln",/^[$_a-z][\w$@]*/i,i],["lit",/^(?:0x[\da-f]+|(?:\d(?:_\d+)*\d*(?:\.\d*)?|\.\d\+)(?:e[+-]?\d+)?)[a-z]*/i,i,"0123456789"],["pln",/^\\[\S\s]?/,i],["pun",/^.[^\s\w"-$'./@\\`]*/,i]),t(n,s)}function s(e,t){function n(e){switch(e.nodeType){case 1:if(r.test(e.className))break;if("BR"===e.nodeName)s(e),e.parentNode&&e.parentNode.removeChild(e);else for(e=e.firstChild;e;e=e.nextSibling)n(e);break;case 3:case 4:if(d){var t=e.nodeValue,i=t.match(o);if(i){var a=t.substring(0,i.index);e.nodeValue=a,(t=t.substring(i.index+i[0].length))&&e.parentNode.insertBefore(l.createTextNode(t),e.nextSibling),s(e),a||e.parentNode.removeChild(e)}}}}function s(e){for(;!e.nextSibling;)if(!(e=e.parentNode))return;var t;for(e=function e(t,i){var n=i?t.cloneNode(!1):t;if(s=t.parentNode){var s=e(s,1),a=t.nextSibling;s.appendChild(n);for(var r=a;r;r=a)a=r.nextSibling,s.appendChild(r)}return n}(e.nextSibling,0);(t=e.parentNode)&&1===t.nodeType;)e=t;h.push(e)}var a,r=/(?:^|\s)nocode(?:\s|$)/,o=/\r\n?|\n/,l=e.ownerDocument;e.currentStyle?a=e.currentStyle.whiteSpace:window.getComputedStyle&&(a=l.defaultView.getComputedStyle(e,i).getPropertyValue("white-space"));var d=a&&"pre"===a.substring(0,3);for(a=l.createElement("LI");e.firstChild;)a.appendChild(e.firstChild);for(var h=[a],u=0;u<h.length;++u)n(h[u]);t===(0|t)&&h[0].setAttribute("value",t);var c=l.createElement("OL");c.className="linenums";for(var p=Math.max(0,t-1|0)||0,m=(u=0,h.length);u<m;++u)(a=h[u]).className="L"+(u+p)%10,a.firstChild||a.appendChild(l.createTextNode(" ")),c.appendChild(a);e.appendChild(c)}function a(e,t){for(var i=t.length;--i>=0;){var n=t[i];b.hasOwnProperty(n)?window.console&&console.warn("cannot override language handler %s",n):b[n]=e}}function r(e,t){return e&&b.hasOwnProperty(e)||(e=/^\s*</.test(t)?"default-markup":"default-code"),b[e]}function o(e){var t=e.g;try{var n=(h=function(e){var t,n=/(?:^|\s)nocode(?:\s|$)/,s=[],a=0,r=[],o=0;e.currentStyle?t=e.currentStyle.whiteSpace:window.getComputedStyle&&(t=document.defaultView.getComputedStyle(e,i).getPropertyValue("white-space"));var l=t&&"pre"===t.substring(0,3);return function e(t){switch(t.nodeType){case 1:if(n.test(t.className))break;for(var i=t.firstChild;i;i=i.nextSibling)e(i);"BR"!==(i=t.nodeName)&&"LI"!==i||(s[o]="\n",r[o<<1]=a++,r[o++<<1|1]=t);break;case 3:case 4:(i=t.nodeValue).length&&(i=l?i.replace(/\r\n?/g,"\n"):i.replace(/[\t\n\r ]+/g," "),s[o]=i,r[o<<1]=a,a+=i.length,r[o++<<1|1]=t)}}(e),{a:s.join("").replace(/\n$/,""),c:r}}(e.h)).a;e.a=n,e.c=h.c,e.d=0,r(t,n)(e);var s,a,o=/\bMSIE\b/.test(navigator.userAgent),l=(t=/\n/g,e.a),d=l.length,h=0,u=e.c,c=u.length,p=(n=0,e.e),m=p.length;e=0;for(p[m]=d,a=s=0;a<m;)p[a]!==p[a+2]?(p[s++]=p[a++],p[s++]=p[a++]):a+=2;for(m=s,a=s=0;a<m;){for(var f=p[a],g=p[a+1],v=a+2;v+2<=m&&p[v+1]===g;)v+=2;p[s++]=f,p[s++]=g,a=v}for(p.length=s;n<c;){var b,_=u[n+2]||d,y=p[e+2]||d,w=(v=Math.min(_,y),u[n+1]);if(1!==w.nodeType&&(b=l.substring(h,v))){o&&(b=b.replace(t,"\r")),w.nodeValue=b;var k=w.ownerDocument,T=k.createElement("SPAN");T.className=p[e+1];var S=w.parentNode;S.replaceChild(T,w),T.appendChild(w),h<_&&(u[n+1]=w=k.createTextNode(l.substring(v,_)),S.insertBefore(w,T.nextSibling))}(h=v)>=_&&(n+=2),h>=y&&(e+=2)}}catch(e){"console"in window&&console.log(e&&e.stack?e.stack:e)}}var l,d,h=[l=[[d=["break,continue,do,else,for,if,return,while"],"auto,case,char,const,default,double,enum,extern,float,goto,int,long,register,short,signed,sizeof,static,struct,switch,typedef,union,unsigned,void,volatile"],"catch,class,delete,false,import,new,operator,private,protected,public,this,throw,true,try,typeof"],"alignof,align_union,asm,axiom,bool,concept,concept_map,const_cast,constexpr,decltype,dynamic_cast,explicit,export,friend,inline,late_check,mutable,namespace,nullptr,reinterpret_cast,static_assert,static_cast,template,typeid,typename,using,virtual,where"],u=[l,"abstract,boolean,byte,extends,final,finally,implements,import,instanceof,null,native,package,strictfp,super,synchronized,throws,transient"],c=[u,"as,base,by,checked,decimal,delegate,descending,dynamic,event,fixed,foreach,from,group,implicit,in,interface,internal,into,is,lock,object,out,override,orderby,params,partial,readonly,ref,sbyte,sealed,stackalloc,string,select,uint,ulong,unchecked,unsafe,ushort,var"],p=[d,"and,as,assert,class,def,del,elif,except,exec,finally,from,global,import,in,is,lambda,nonlocal,not,or,pass,print,raise,try,with,yield,False,True,None"],m=[d,"alias,and,begin,case,class,def,defined,elsif,end,ensure,false,in,module,next,nil,not,or,redo,rescue,retry,self,super,then,true,undef,unless,until,when,yield,BEGIN,END"],f=/^(DIR|FILE|vector|(de|priority_)?queue|list|stack|(const_)?iterator|(multi)?(set|map)|bitset|u?(int|float)\d*)/,g=/\S/,v=n({keywords:[h,c,l=[l,"debugger,eval,export,function,get,null,set,undefined,var,with,Infinity,NaN"],"caller,delete,die,do,dump,elsif,eval,exit,foreach,for,goto,if,import,last,local,my,next,no,our,print,package,redo,require,sub,undef,unless,until,use,wantarray,while,BEGIN,END"+p,m,d=[d,"case,done,elif,esac,eval,fi,function,in,local,set,then,until"]],hashComments:!0,cStyleComments:!0,multiLineStrings:!0,regexLiterals:!0}),b={};a(v,["default-code"]),a(t([],[["pln",/^[^<?]+/],["dec",/^<!\w[^>]*(?:>|$)/],["com",/^<\!--[\S\s]*?(?:--\>|$)/],["lang-",/^<\?([\S\s]+?)(?:\?>|$)/],["lang-",/^<%([\S\s]+?)(?:%>|$)/],["pun",/^(?:<[%?]|[%?]>)/],["lang-",/^<xmp\b[^>]*>([\S\s]+?)<\/xmp\b[^>]*>/i],["lang-js",/^<script\b[^>]*>([\S\s]*?)(<\/script\b[^>]*>)/i],["lang-css",/^<style\b[^>]*>([\S\s]*?)(<\/style\b[^>]*>)/i],["lang-in.tag",/^(<\/?[a-z][^<>]*>)/i]]),["default-markup","htm","html","mxml","xhtml","xml","xsl"]),a(t([["pln",/^\s+/,i," \t\r\n"],["atv",/^(?:"[^"]*"?|'[^']*'?)/,i,"\"'"]],[["tag",/^^<\/?[a-z](?:[\w-.:]*\w)?|\/?>$/i],["atn",/^(?!style[\s=]|on)[a-z](?:[\w:-]*\w)?/i],["lang-uq.val",/^=\s*([^\s"'>]*(?:[^\s"'/>]|\/(?=\s)))/],["pun",/^[/<->]+/],["lang-js",/^on\w+\s*=\s*"([^"]+)"/i],["lang-js",/^on\w+\s*=\s*'([^']+)'/i],["lang-js",/^on\w+\s*=\s*([^\s"'>]+)/i],["lang-css",/^style\s*=\s*"([^"]+)"/i],["lang-css",/^style\s*=\s*'([^']+)'/i],["lang-css",/^style\s*=\s*([^\s"'>]+)/i]]),["in.tag"]),a(t([],[["atv",/^[\S\s]+/]]),["uq.val"]),a(n({keywords:h,hashComments:!0,cStyleComments:!0,types:f}),["c","cc","cpp","cxx","cyc","m"]),a(n({keywords:"null,true,false"}),["json"]),a(n({keywords:c,hashComments:!0,cStyleComments:!0,verbatimStrings:!0,types:f}),["cs"]),a(n({keywords:u,cStyleComments:!0}),["java"]),a(n({keywords:d,hashComments:!0,multiLineStrings:!0}),["bsh","csh","sh"]),a(n({keywords:p,hashComments:!0,multiLineStrings:!0,tripleQuotedStrings:!0}),["cv","py"]),a(n({keywords:"caller,delete,die,do,dump,elsif,eval,exit,foreach,for,goto,if,import,last,local,my,next,no,our,print,package,redo,require,sub,undef,unless,until,use,wantarray,while,BEGIN,END",hashComments:!0,multiLineStrings:!0,regexLiterals:!0}),["perl","pl","pm"]),a(n({keywords:m,hashComments:!0,multiLineStrings:!0,regexLiterals:!0}),["rb"]),a(n({keywords:l,cStyleComments:!0,regexLiterals:!0}),["js"]),a(n({keywords:"all,and,by,catch,class,else,extends,false,finally,for,if,in,is,isnt,loop,new,no,not,null,of,off,on,or,return,super,then,true,try,unless,until,when,while,yes",hashComments:3,cStyleComments:!0,multilineStrings:!0,tripleQuotedStrings:!0,regexLiterals:!0}),["coffee"]),a(t([],[["str",/^[\S\s]+/]]),["regex"]),window.prettyPrintOne=function(e,t,i){var n=document.createElement("PRE");return n.innerHTML=e,i&&s(n,i),o({g:t,i:i,h:n}),n.innerHTML},window.prettyPrint=function(e){for(var t=[document.getElementsByTagName("pre"),document.getElementsByTagName("code"),document.getElementsByTagName("xmp")],n=[],a=0;a<t.length;++a)for(var r=0,l=t[a].length;r<l;++r)n.push(t[a][r]);t=i;var d=Date;d.now||(d={now:function(){return+new Date}});var h=0,u=/\blang(?:uage)?-([\w.]+)(?!\S)/;!function t(){for(var i=window.PR_SHOULD_USE_CONTINUATION?d.now()+250:1/0;h<n.length&&d.now()<i;h++){var a=n[h];if((r=a.className).indexOf("prettyprint")>=0){var r,l,c;if(c=!(r=r.match(u))){for(var p=void 0,m=(c=a).firstChild;m;m=m.nextSibling){var f=m.nodeType;p=1===f?p?c:m:3===f&&g.test(m.nodeValue)?c:p}c=(l=p===c?void 0:p)&&"CODE"===l.tagName}for(c&&(r=l.className.match(u)),r&&(r=r[1]),c=!1,p=a.parentNode;p;p=p.parentNode)if(("pre"===p.tagName||"code"===p.tagName||"xmp"===p.tagName)&&p.className&&p.className.indexOf("prettyprint")>=0){c=!0;break}c||((c=!!(c=a.className.match(/\blinenums\b(?::(\d+))?/))&&(!c[1]||!c[1].length||+c[1]))&&s(a,c),o({g:r,h:a,i:c}))}}h<n.length?setTimeout(t,250):e&&e()}()},window.PR={createSimpleLexer:t,registerLangHandler:a,sourceDecorator:n,PR_ATTRIB_NAME:"atn",PR_ATTRIB_VALUE:"atv",PR_COMMENT:"com",PR_DECLARATION:"dec",PR_KEYWORD:"kwd",PR_LITERAL:"lit",PR_NOCODE:"nocode",PR_PLAIN:"pln",PR_PUNCTUATION:"pun",PR_SOURCE:"src",PR_STRING:"str",PR_TAG:"tag",PR_TYPE:"typ"}}()},"contrib/jg_lib/events/ErrorEventData":function(e,t,i){var n;
/*!
 * Copyright (c) 2007-2016 Jason Gatt
 * 
 * Released under the MIT license:
 * http://opensource.org/licenses/MIT
 */void 0===(n=function(e,t,n){var s=i("contrib/jg_lib/events/EventData");return i("contrib/jg_lib/Class")(n.i,s,(function(e,t){this.error=null,this.constructor=function(e){this.error=e}}))}.call(t,i,t,e))||(e.exports=n)},"contrib/jg_lib/geom/Matrix":function(e,t,i){var n;
/*!
 * Copyright (c) 2007-2016 Jason Gatt
 * 
 * Released under the MIT license:
 * http://opensource.org/licenses/MIT
 */void 0===(n=function(e,t,n){var s=i("contrib/jg_lib/Class"),a=i("contrib/jg_lib/utils/NumberUtil");return s(n.i,Object,(function(e,t){var i=/^\s*\(?([^\)]+)\)?\s*$/;e.interpolate=function(t,i,n){var s=a.interpolate(t.a,i.a,n),r=a.interpolate(t.b,i.b,n),o=a.interpolate(t.c,i.c,n),l=a.interpolate(t.d,i.d,n),d=a.interpolate(t.tx,i.tx,n),h=a.interpolate(t.ty,i.ty,n);return new e(s,r,o,l,d,h)},e.fromArray=function(t){var i=t.length,n=i>0?t[0]:1,s=i>1?t[1]:0,a=i>2?t[2]:0,r=i>3?t[3]:1,o=i>4?t[4]:0,l=i>5?t[5]:0;return new e(n,s,a,r,o,l)},e.fromString=function(t){var n=(""+t).match(i);return n?e.fromArray(n[1].split(",")):new e},this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this.constructor=function(e,t,i,n,s,a){this.a=null!=e?+e:1,this.b=null!=t?+t:0,this.c=null!=i?+i:0,this.d=null!=n?+n:1,this.tx=null!=s?+s:0,this.ty=null!=a?+a:0},this.translate=function(e,t){return this.tx+=+e,this.ty+=+t,this},this.scale=function(e,t){return null==t&&(t=e),this.a*=e,this.b*=t,this.c*=e,this.d*=t,this.tx*=e,this.ty*=t,this},this.rotate=function(e){e=e/180*Math.PI;var t=Math.cos(e),i=Math.sin(e),n=this.a,s=this.b,a=this.c,r=this.d,o=this.tx,l=this.ty;return this.a=n*t-s*i,this.b=s*t+n*i,this.c=a*t-r*i,this.d=r*t+a*i,this.tx=o*t-l*i,this.ty=l*t+o*i,this},this.skew=function(e,t){e=e/180*Math.PI,t=t/180*Math.PI;var i=Math.tan(e),n=Math.tan(t),s=this.a,a=this.b,r=this.c,o=this.d,l=this.tx,d=this.ty;return this.a=+s+a*i,this.b=+a+s*n,this.c=+r+o*i,this.d=+o+r*n,this.tx=+l+d*i,this.ty=+d+l*n,this},this.concat=function(e){var t=this.a,i=this.b,n=this.c,s=this.d,a=this.tx,r=this.ty,o=e.a,l=e.b,d=e.c,h=e.d,u=e.tx,c=e.ty;return this.a=t*o+i*d,this.b=i*h+t*l,this.c=n*o+s*d,this.d=s*h+n*l,this.tx=a*o+r*d+ +u,this.ty=r*h+a*l+ +c,this},this.invert=function(){var e=this.determinant(),t=this.a/e,i=this.b/e,n=this.c/e,s=this.d/e,a=this.tx,r=this.ty;return this.a=s,this.b=-i,this.c=-n,this.d=t,this.tx=n*r-s*a,this.ty=i*a-t*r,this},this.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},this.determinant=function(){return this.a*this.d-this.b*this.c},this.hasInverse=function(){var e=Math.abs(this.determinant());return e>0&&e<1/0},this.hasNaN=function(){return isNaN(this.a)||isNaN(this.b)||isNaN(this.c)||isNaN(this.d)||isNaN(this.tx)||isNaN(this.ty)},this.hasInfinity=function(){return this.a==1/0||this.a==-1/0||this.b==1/0||this.b==-1/0||this.c==1/0||this.c==-1/0||this.d==1/0||this.d==-1/0||this.tx==1/0||this.tx==-1/0||this.ty==1/0||this.ty==-1/0},this.isFinite=function(){return this.a-this.a==0&&this.b-this.b==0&&this.c-this.c==0&&this.d-this.d==0&&this.tx-this.tx==0&&this.ty-this.ty==0},this.isIdentity=function(){return 1==this.a&&0==this.b&&0==this.c&&1==this.d&&0==this.tx&&0==this.ty},this.approxEquals=function(e,t){return a.approxEqual(this.a,e.a,t)&&a.approxEqual(this.b,e.b,t)&&a.approxEqual(this.c,e.c,t)&&a.approxEqual(this.d,e.d,t)&&a.approxEqual(this.tx,e.tx,t)&&a.approxEqual(this.ty,e.ty,t)},this.equals=function(e){return this.a==e.a&&this.b==e.b&&this.c==e.c&&this.d==e.d&&this.tx==e.tx&&this.ty==e.ty},this.clone=function(){return new e(this.a,this.b,this.c,this.d,this.tx,this.ty)},this.toArray=function(){return[+this.a,+this.b,+this.c,+this.d,+this.tx,+this.ty]},this.toString=function(){return"("+ +this.a+","+ +this.b+","+ +this.c+","+ +this.d+","+ +this.tx+","+ +this.ty+")"}}))}.call(t,i,t,e))||(e.exports=n)},"contrib/jg_lib/geom/Point":function(e,t,i){var n;
/*!
 * Copyright (c) 2007-2016 Jason Gatt
 * 
 * Released under the MIT license:
 * http://opensource.org/licenses/MIT
 */void 0===(n=function(e,t,n){var s=i("contrib/jg_lib/Class"),a=i("contrib/jg_lib/utils/NumberUtil");return s(n.i,Object,(function(e,t){var i=/^\s*\(?([^\)]+)\)?\s*$/;e.distance=function(e,t){var i=t.x-e.x,n=t.y-e.y;return Math.sqrt(i*i+n*n)},e.interpolate=function(t,i,n){var s=a.interpolate(t.x,i.x,n),r=a.interpolate(t.y,i.y,n);return new e(s,r)},e.fromArray=function(t){var i=t.length,n=i>0?t[0]:0,s=i>1?t[1]:0;return new e(n,s)},e.fromString=function(t){var n=(""+t).match(i);return n?e.fromArray(n[1].split(",")):new e},this.x=0,this.y=0,this.constructor=function(e,t){this.x=null!=e?+e:0,this.y=null!=t?+t:0},this.transform=function(e){var t=this.x,i=this.y;return this.x=t*e.a+i*e.c+ +e.tx,this.y=i*e.d+t*e.b+ +e.ty,this},this.translate=function(e,t){return this.x+=+e,this.y+=+t,this},this.add=function(e){return this.x+=+e.x,this.y+=+e.y,this},this.subtract=function(e){return this.x-=+e.x,this.y-=+e.y,this},this.normalize=function(e){e=null!=e?+e:1;var t=this.length(),i=t>0?e/t:0;return this.x*=i,this.y*=i,this},this.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},this.hasNaN=function(){return isNaN(this.x)||isNaN(this.y)},this.hasInfinity=function(){return this.x==1/0||this.x==-1/0||this.y==1/0||this.y==-1/0},this.isFinite=function(){return this.x-this.x==0&&this.y-this.y==0},this.approxEquals=function(e,t){return a.approxEqual(this.x,e.x,t)&&a.approxEqual(this.y,e.y,t)},this.equals=function(e){return this.x==e.x&&this.y==e.y},this.clone=function(){return new e(this.x,this.y)},this.toArray=function(){return[+this.x,+this.y]},this.toString=function(){return"("+ +this.x+","+ +this.y+")"}}))}.call(t,i,t,e))||(e.exports=n)},"contrib/jg_lib/geom/Rectangle":function(e,t,i){var n;
/*!
 * Copyright (c) 2007-2016 Jason Gatt
 * 
 * Released under the MIT license:
 * http://opensource.org/licenses/MIT
 */void 0===(n=function(e,t,n){var s=i("contrib/jg_lib/Class"),a=i("contrib/jg_lib/utils/NumberUtil");return s(n.i,Object,(function(e,t){var i=/^\s*\(?([^\)]+)\)?\s*$/;e.interpolate=function(t,i,n){var s=a.interpolate(t.x,i.x,n),r=a.interpolate(t.y,i.y,n),o=a.interpolate(t.width,i.width,n),l=a.interpolate(t.height,i.height,n);return new e(s,r,o,l)},e.fromArray=function(t){var i=t.length,n=i>0?t[0]:0,s=i>1?t[1]:0,a=i>2?t[2]:0,r=i>3?t[3]:0;return new e(n,s,a,r)},e.fromString=function(t){var n=(""+t).match(i);return n?e.fromArray(n[1].split(",")):new e},this.x=0,this.y=0,this.width=0,this.height=0,this.constructor=function(e,t,i,n){this.x=null!=e?+e:0,this.y=null!=t?+t:0,this.width=null!=i?+i:0,this.height=null!=n?+n:0},this.hasNaN=function(){return isNaN(this.x)||isNaN(this.y)||isNaN(this.width)||isNaN(this.height)},this.hasInfinity=function(){return this.x==1/0||this.x==-1/0||this.y==1/0||this.y==-1/0||this.width==1/0||this.width==-1/0||this.height==1/0||this.height==-1/0},this.isFinite=function(){return this.x-this.x==0&&this.y-this.y==0&&this.width-this.width==0&&this.height-this.height==0},this.approxEquals=function(e,t){return a.approxEqual(this.x,e.x,t)&&a.approxEqual(this.y,e.y,t)&&a.approxEqual(this.width,e.width,t)&&a.approxEqual(this.height,e.height,t)},this.equals=function(e){return this.x==e.x&&this.y==e.y&&this.width==e.width&&this.height==e.height},this.clone=function(){return new e(this.x,this.y,this.width,this.height)},this.toArray=function(){return[+this.x,+this.y,+this.width,+this.height]},this.toString=function(){return"("+ +this.x+","+ +this.y+","+ +this.width+","+ +this.height+")"}}))}.call(t,i,t,e))||(e.exports=n)},"contrib/jg_lib/graphics/Brush":function(e,t,i){var n;
/*!
 * Copyright (c) 2007-2016 Jason Gatt
 * 
 * Released under the MIT license:
 * http://opensource.org/licenses/MIT
 */void 0===(n=function(e,t,n){var s=i("contrib/jg_lib/graphics/Canvas"),a=i("contrib/jg_lib/Class"),r=i("contrib/jg_lib/events/MEventTarget"),o=i("contrib/jg_lib/events/MListenerTarget"),l=i("contrib/jg_lib/events/MObservableTarget"),d=i("contrib/jg_lib/geom/Matrix"),h=i("contrib/jg_lib/geom/Rectangle"),u=i("contrib/jg_lib/properties/MPropertyTarget"),c=i("contrib/jg_lib/properties/Property");return a(n.i,Object,(function(e,t){a.mixin(this,r,o,l,u),this._brushContext=null,this._cachedProperties=null,this._hasChangeListener=!1,this.constructor=function(){},this.beginBrush=function(e,t,i){if(null==e)throw new Error("Parameter canvas must be non-null.");if(!(e instanceof s))throw new Error("Parameter canvas must be of type "+a.getName(s)+".");if(null!=t&&!(t instanceof h))throw new Error("Parameter bounds must be of type "+a.getName(h)+".");if(null!=i&&!(i instanceof d))throw new Error("Parameter transform must be of type "+a.getName(d)+".");this.endBrush(),this._cachedProperties||(this._hasChangeListener||(this.on(this.change,this._selfChange,this,1/0),this._hasChangeListener=!0),this._cachedProperties=this._getProperties(),this.extendProperties(this._cachedProperties));var n={};return n.canvas=e,n.properties=this._cachedProperties,n.path=[],n.bounds=t&&t.isFinite()?t.clone():null,n.transform=i&&i.isFinite()?i.clone():null,this._brushContext=n,this},this.endBrush=function(){var e=this._brushContext;return e?(this.drawBrush(e.canvas,e.properties,e.path,e.bounds,e.transform),this._brushContext=null,this):this},this.moveTo=function(e,t){var i=this._brushContext;return i?(e=(e=+e)>-1/0&&e<1/0?e:0,t=(t=+t)>-1/0&&t<1/0?t:0,i.path.push(["moveTo",e,t]),this):this},this.lineTo=function(e,t){var i=this._brushContext;return i?(e=(e=+e)>-1/0&&e<1/0?e:0,t=(t=+t)>-1/0&&t<1/0?t:0,i.path.push(["lineTo",e,t]),this):this},this.curveTo=function(e,t,i,n){var s=this._brushContext;return s?(e=(e=+e)>-1/0&&e<1/0?e:0,t=(t=+t)>-1/0&&t<1/0?t:0,i=(i=+i)>-1/0&&i<1/0?i:0,n=(n=+n)>-1/0&&n<1/0?n:0,s.path.push(["curveTo",e,t,i,n]),this):this},this.dispose=function(){this.listenOff(),this.off(),this._brushContext=null,this._cachedProperties=null},this.extendProperties=function(e){},this.drawBrush=function(e,t,i,n,s){},this.drawPath=function(e,t){for(var i,n=0,s=t.length;n<s;n++)switch((i=t[n])[0]){case"moveTo":e.moveTo(i[1],i[2]);break;case"lineTo":e.lineTo(i[1],i[2]);break;case"curveTo":e.curveTo(i[1],i[2],i[3],i[4])}},this._getProperties=function(){var e,t={};for(var i in this)(e=this[i])instanceof c&&(t[i]=this.getInternal(e));return t},this._selfChange=function(e){this._cachedProperties=null}}))}.call(t,i,t,e))||(e.exports=n)},"contrib/jg_lib/graphics/Canvas":function(e,t,i){var n;
/*!
 * Copyright (c) 2007-2016 Jason Gatt
 * 
 * Released under the MIT license:
 * http://opensource.org/licenses/MIT
 */void 0===(n=function(e,t,n){var s=i("contrib/jg_lib/graphics/Color"),a=i("contrib/jg_lib/graphics/Gradient"),r=i("contrib/jg_lib/graphics/Pattern"),o=i("contrib/jg_lib/graphics/StrokeStyle"),l=i("contrib/jg_lib/Class"),d=i("contrib/jg_lib/display/Element");return l(n.i,d,(function(e,t){var i=new o,n=function(e){var t=Math.abs(e[0]*e[3]-e[1]*e[2]);return t>0&&t<1/0};this._context=null,this._patternBufferCanvas=null,this._patternBufferContext=null,this._strokePathHandle=null,this._fillPathHandle=null,this._drawingList=null,this._drawnStack=null,this._pathX=0,this._pathY=0,this.constructor=function(e,i){t.constructor.call(this,"canvas"),this._context=this.element.getContext?this.element.getContext("2d"):null,this._drawingList=[],this._drawnStack=[],this.setSize(e||0,i||0)},this.width=function(e){return arguments.length?(this.setSize(e,this.element.height),this):this.element.width},this.height=function(e){return arguments.length?(this.setSize(this.element.width,e),this):this.element.height},this.setSize=function(e,t){t=+t,e=(e=+e)>0&&e<1/0?Math.floor(e):0,t=t>0&&t<1/0?Math.floor(t):0;var i=this.element;return i.width===e&&i.height===t||(i.width=e,i.height=t,this.redraw()),this},this.beginStroke=function(e,t){if(null==e)throw new Error("Parameter style must be non-null.");var d;if(e instanceof s)d="drawSolidStroke",e={color:e.toArray(!0)};else if(e instanceof a)d="drawGradientStroke",(e=e.toObject()).transform&&!n(e.transform)&&(d=null);else{if(!(e instanceof r))throw new Error("Parameter style must be of type "+l.getName(s)+", "+l.getName(a)+", or "+l.getName(r)+".");d="drawPatternStroke",(e=e.toObject()).transform&&!n(e.transform)&&(d=null)}if(null==t)i.toObject(e);else{if(!(t instanceof o))throw new Error("Parameter strokeStyle must be of type "+l.getName(o)+".");t.toObject(e)}return this.endStroke(),d&&(this._strokePathHandle=this.beginPath(d,e)),this},this.endStroke=function(){return this._strokePathHandle?(this.endPath(this._strokePathHandle),this._strokePathHandle=null,this):this},this.beginFill=function(e){if(null==e)throw new Error("Parameter style must be non-null.");var t;if(e instanceof s)t="drawSolidFill",e={color:e.toArray(!0)};else if(e instanceof a)t="drawGradientFill",(e=e.toObject()).transform&&!n(e.transform)&&(t=null);else{if(!(e instanceof r))throw new Error("Parameter style must be of type "+l.getName(s)+", "+l.getName(a)+", or "+l.getName(r)+".");t="drawPatternFill",(e=e.toObject()).transform&&!n(e.transform)&&(t=null)}return this.endFill(),t&&(this._fillPathHandle=this.beginPath(t,e)),this},this.endFill=function(){return this._fillPathHandle?(this.endPath(this._fillPathHandle),this._fillPathHandle=null,this):this},this.moveTo=function(e,t){e=(e=+e)>-1/0&&e<1/0?e:0,t=(t=+t)>-1/0&&t<1/0?t:0,this._pathX=e,this._pathY=t;for(var i,n=["moveTo",e,t],s=this._drawingList,a=0,r=s.length;a<r;a++)"moveTo"===(i=s[a].path)[i.length-1][0]?i[i.length-1]=n:i.push(n);return this},this.lineTo=function(e,t){e=(e=+e)>-1/0&&e<1/0?e:0,t=(t=+t)>-1/0&&t<1/0?t:0,this._pathX=e,this._pathY=t;for(var i=["lineTo",e,t],n=this._drawingList,s=0,a=n.length;s<a;s++)n[s].path.push(i);return this},this.curveTo=function(e,t,i,n){e=(e=+e)>-1/0&&e<1/0?e:0,t=(t=+t)>-1/0&&t<1/0?t:0,i=(i=+i)>-1/0&&i<1/0?i:0,n=(n=+n)>-1/0&&n<1/0?n:0,this._pathX=i,this._pathY=n;for(var s=["curveTo",e,t,i,n],a=this._drawingList,r=0,o=a.length;r<o;r++)a[r].path.push(s);return this},this.clear=function(){if(this._strokePathHandle=null,this._fillPathHandle=null,this._drawingList=[],0===this._drawnStack.length)return this;this._drawnStack=[];var e=this._context;return e?(e.clearRect(0,0,e.canvas.width,e.canvas.height),this):this},this.redraw=function(){var e=this._drawnStack;if(0===e.length)return this;var t,i=this._context;if(!i)return this;i.clearRect(0,0,i.canvas.width,i.canvas.height);for(var n=0,s=e.length;n<s;n++)this[(t=e[n]).name](t.style,t.path);return this},this.getPathData=function(){return this._drawnStack.concat()},this.beginPath=function(e,t){var i={};return i.name=e,i.style=t,i.path=[["moveTo",this._pathX,this._pathY]],this._drawingList.push(i),i},this.endPath=function(e){for(var t,i=this._drawingList,n=0,s=i.length;n<s;n++)if((t=i[n])===e){i.splice(n,1),t.path.length>1&&(this[t.name](t.style,t.path),this._drawnStack.push(t));break}},this.drawSolidStroke=function(e,t){var i=this._context;if(i){var n=this._createColor(i,e);i.save(),this._drawStroke(i,e,t),i.strokeStyle=n,i.stroke(),i.restore()}},this.drawGradientStroke=function(e,t){var i=this._context;if(i){var n=this._createGradient(i,e),s=e.transform;n&&s&&(n=this._transformPattern(n,s)),i.save(),this._drawStroke(i,e,t),i.strokeStyle=n||"rgba(0, 0, 0, 1)",i.stroke(),i.restore()}},this.drawPatternStroke=function(e,t){var i=this._context;if(i){var n=this._createPattern(i,e),s=e.transform;n&&s&&(n=this._transformPattern(n,s)),i.save(),this._drawStroke(i,e,t),i.globalAlpha=e.opacity,i.strokeStyle=n||"rgba(0, 0, 0, 1)",i.stroke(),i.restore()}},this.drawSolidFill=function(e,t){var i=this._context;if(i){var n=this._createColor(i,e);i.save(),this._drawFill(i,e,t),i.fillStyle=n,i.fill(),i.restore()}},this.drawGradientFill=function(e,t){var i=this._context;if(i){var n=this._createGradient(i,e),s=e.transform;i.save(),this._drawFill(i,e,t),n&&s&&i.setTransform(s[0],s[1],s[2],s[3],s[4],s[5]),i.fillStyle=n||"rgba(0, 0, 0, 1)",i.fill(),i.restore()}},this.drawPatternFill=function(e,t){var i=this._context;if(i){var n=this._createPattern(i,e),s=e.transform;i.save(),this._drawFill(i,e,t),n&&s&&i.setTransform(s[0],s[1],s[2],s[3],s[4],s[5]),i.globalAlpha=e.opacity,i.fillStyle=n||"rgba(0, 0, 0, 1)",i.fill(),i.restore()}},this._drawStroke=function(e,t,i){var n,s,a,r,o,l=t.pixelHinting?t.thickness%2/2:0,d=!1;e.beginPath();for(var h=0,u=i.length;h<u;h++)switch((n=i[h])[0]){case"moveTo":d&&s===r&&a===o&&e.closePath(),d=!1,s=n[1],a=n[2],e.moveTo(s+l,a+l);break;case"lineTo":d=!0,r=n[1],o=n[2],e.lineTo(r+l,o+l);break;case"curveTo":d=!0,r=n[3],o=n[4],e.quadraticCurveTo(n[1]+l,n[2]+l,r+l,o+l)}d&&s===r&&a===o&&e.closePath(),e.lineWidth=t.thickness,e.lineCap="none"===t.caps?"butt":t.caps,e.lineJoin=t.joints,e.miterLimit=t.miterLimit,t.dashArray&&e.setLineDash&&(e.setLineDash(t.dashArray),e.lineDashOffset=-t.dashOffset)},this._drawFill=function(e,t,i){var n;e.beginPath();for(var s=0,a=i.length;s<a;s++)switch((n=i[s])[0]){case"moveTo":e.moveTo(n[1],n[2]);break;case"lineTo":e.lineTo(n[1],n[2]);break;case"curveTo":e.quadraticCurveTo(n[1],n[2],n[3],n[4])}},this._createColor=function(e,t){var i=t.color;return"rgba("+i[0]+", "+i[1]+", "+i[2]+", "+i[3]+")"},this._createGradient=function(e,t){var i=t.colors,n=i.length;if(0===n)return null;var s,a=t.startPoint,r=t.endPoint;if("radial"===t.type){var o=t.radius,l=a[0],d=a[1],h=r[0],u=r[1],c=l-h,p=d-u,m=Math.sqrt(c*c+p*p),f=.99*o;if(m>f){var g=f/m;l=h+c*g,d=u+p*g}s=e.createRadialGradient(l,d,0,h,u,o)}else s=e.createLinearGradient(a[0],a[1],r[0],r[1]);for(var v,b=t.offsets,_=0;_<n;_++)v=i[_],s.addColorStop(b[_],"rgba("+v[0]+", "+v[1]+", "+v[2]+", "+v[3]+")");return s},this._createPattern=function(e,t){var i=t.source;return i?e.createPattern(i,t.repeat?"repeat":"no-repeat"):null},this._transformPattern=function(e,t){var i=this._patternBufferCanvas;i||(i=this._patternBufferCanvas=document.createElement("canvas"),this._patternBufferContext=i.getContext?i.getContext("2d"):null);var n=this._patternBufferContext;if(!n)return null;var s=i.width=this.element.width,a=i.height=this.element.height;return n.save(),n.rect(0,0,s,a),n.setTransform(t[0],t[1],t[2],t[3],t[4],t[5]),n.fillStyle=e,n.fill(),e=n.createPattern(i,"no-repeat"),n.clearRect(0,0,s,a),n.restore(),e}}))}.call(t,i,t,e))||(e.exports=n)},"contrib/jg_lib/graphics/DrawingUtil":function(e,t,i){var n;
/*!
 * Copyright (c) 2007-2016 Jason Gatt
 * 
 * Released under the MIT license:
 * http://opensource.org/licenses/MIT
 */void 0===(n=function(e,t,n){var s=i("contrib/jg_lib/Class"),a=i("contrib/jg_lib/geom/Point");return s(n.i,(function(e){e.drawRectangle=function(e,t,i,n,s){if(null==e)throw new Error("Parameter target must be non-null.");var a=t+n,r=i+s;e.moveTo(t,i),e.lineTo(a,i),e.lineTo(a,r),e.lineTo(t,r),e.lineTo(t,i)},e.drawEllipse=function(t,i,n,s,a){if(null==t)throw new Error("Parameter target must be non-null.");i+=s,t.moveTo(i,n),e.arcTo(t,i,n,0,360,s,a)},e.arcTo=function(e,t,i,n,s,r,o){if(null==e)throw new Error("Parameter target must be non-null.");s>360?s=360:s<-360&&(s=-360),null==o&&(o=r);for(var l,d,h,u,c,p=Math.ceil(Math.abs(s)/45),m=s/p/180*Math.PI,f=Math.cos(m/2),g=n/180*Math.PI,v=t-Math.cos(g)*r,b=i-Math.sin(g)*o,_=0;_<p;_++)l=(g+=m)-m/2,d=v+Math.cos(g)*r,h=b+Math.sin(g)*o,u=v+Math.cos(l)*(r/f),c=b+Math.sin(l)*(o/f),e.curveTo(u,c,d,h);return new a(d,h)}}))}.call(t,i,t,e))||(e.exports=n)},"contrib/jg_lib/graphics/Gradient":function(e,t,i){var n;
/*!
 * Copyright (c) 2007-2016 Jason Gatt
 * 
 * Released under the MIT license:
 * http://opensource.org/licenses/MIT
 */void 0===(n=function(e,t,n){var s=i("contrib/jg_lib/graphics/Color"),a=i("contrib/jg_lib/Class"),r=i("contrib/jg_lib/geom/Matrix"),o=i("contrib/jg_lib/geom/Point"),l=i("contrib/jg_lib/utils/NumberUtil");return a(n.i,Object,(function(e,t){this._type="linear",this._startPoint=null,this._endPoint=null,this._radius=NaN,this._colors=null,this._offsets=null,this._transform=null,this.constructor=function(e,t,i,n){this._colors=[],this._offsets=[],null!=e&&this.type(e),null!=t&&this.startPoint(t),null!=i&&this.endPoint(i),null!=n&&this.radius(n)},this.type=function(e){return arguments.length?(this._type="radial"===e?e:"linear",this):this._type},this.startPoint=function(e){return arguments.length?(null==e||e instanceof o||(e=o.fromArray(arguments)),this._startPoint=e&&e.isFinite()?e.toArray():null,this):o.fromArray(this._getStartPoint())},this.endPoint=function(e){return arguments.length?(null==e||e instanceof o||(e=o.fromArray(arguments)),this._endPoint=e&&e.isFinite()?e.toArray():null,this):o.fromArray(this._getEndPoint())},this.radius=function(e){return arguments.length?(e=null!=e?+e:NaN,this._radius=e<1/0?Math.max(e,0):NaN,this):this._getRadius()},this.colors=function(e){var t,i,n,r;if(!arguments.length){for(n=0,r=(t=this._colors.concat()).length;n<r;n++)t[n]=s.fromArray(t[n]);return t}if(null!=e){if(!a.isArray(e))throw new Error("Parameter colors must be of type Array<"+a.getName(s)+">.");for(t=[],n=0,r=e.length;n<r;n++)if(null!=(i=e[n])){if(!(i instanceof s))throw new Error("Parameter colors must be of type Array<"+a.getName(s)+">.");t.push(i.toArray(!0))}e=t}return this._colors=e||[],this},this.offsets=function(e){if(!arguments.length)return this._getOffsets();if(null!=e){if(!a.isArray(e))throw new Error("Parameter offsets must be of type Array<Number>.");for(var t,i=[],n=0,s=e.length;n<s;n++)t=(t=null!=(t=e[n])?+t:NaN)<=1/0?l.minMax(t,0,1):NaN,i.push(t);e=i}return this._offsets=e||[],this},this.transform=function(e){if(!arguments.length)return this._transform?r.fromArray(this._transform):null;if(null!=e&&!(e instanceof r))throw new Error("Parameter transform must be of type "+a.getName(r)+".");return this._transform=e&&e.isFinite()?e.toArray():null,this},this.addColorStop=function(e,t){if(null==e)throw new Error("Parameter color must be non-null.");if(!(e instanceof s))throw new Error("Parameter color must be of type "+a.getName(s)+".");t=(t=null!=t?+t:NaN)<=1/0?l.minMax(t,0,1):NaN;var i=this._colors;i.push(e.toArray(!0));for(var n=i.length,r=this._offsets,o=r.length;o<n;o++)r.push(NaN);return r[n-1]=t,this},this.clearColorStops=function(){return this._colors=[],this._offsets=[],this},this.toObject=function(){var e={};return e.type=this._type,e.startPoint=this._getStartPoint(),e.endPoint=this._getEndPoint(),e.radius=this._getRadius(),e.colors=this._getColors(),e.offsets=this._getOffsets(!0),e.transform=this._transform?this._transform.concat():null,e},this._getStartPoint=function(){return this._startPoint?this._startPoint.concat():"radial"===this._type?[.5,.5]:[0,0]},this._getEndPoint=function(){return this._endPoint?this._endPoint.concat():"radial"===this._type?[.5,.5]:[1,0]},this._getRadius=function(){return this._radius<1/0?this._radius:"radial"===this._type?this._endPoint?Math.min(this._endPoint[0],this._endPoint[1]):.5:0},this._getColors=function(){for(var e=this._colors.concat(),t=0,i=e.length;t<i;t++)e[t]=e[t].concat();return e},this._getOffsets=function(e){for(var t,i=this._colors.length,n=!0===e?this._offsets.slice(0,i):this._offsets.concat(),s=n.length,a=0,r=0;r<i;r++)(t=r<s?n[r]:NaN)>=a?a=t:t=t<a?a:a=l.interpolate(a,1,Math.min(r,1)/(i-r)),r<s?n[r]=t:n.push(t);return n}}))}.call(t,i,t,e))||(e.exports=n)},"contrib/jg_lib/graphics/GroupBrush":function(e,t,i){var n;
/*!
 * Copyright (c) 2007-2016 Jason Gatt
 * 
 * Released under the MIT license:
 * http://opensource.org/licenses/MIT
 */void 0===(n=function(e,t,n){var s=i("contrib/jg_lib/graphics/Brush"),a=i("contrib/jg_lib/Class"),r=i("contrib/jg_lib/properties/ObservableArrayProperty");return a(n.i,s,(function(e,t){this.brushes=new r("brushes",s,[]),this.contentProperty="brushes",this.constructor=function(e){null!=e&&this.set(this.brushes,e)},this.addBrush=function(e){if(null==e)throw new Error("Parameter brush must be non-null.");if(!(e instanceof s))throw new Error("Parameter brush must be of type "+a.getName(s)+".");var t=this.getInternal(this.brushes).concat();return t.push(e),this.setInternal(this.brushes,t),this},this.clearBrushes=function(){return this.setInternal(this.brushes,[]),this},this.drawBrush=function(e,t,i,n,s){for(var a,r=t.brushes,o=0,l=r.length;o<l;o++)(a=r[o]).beginBrush(e,n,s),this.drawPath(a,i),a.endBrush()}}))}.call(t,i,t,e))||(e.exports=n)},"contrib/jg_lib/graphics/ImageSource":function(e,t,i){var n;
/*!
 * Copyright (c) 2007-2016 Jason Gatt
 * 
 * Released under the MIT license:
 * http://opensource.org/licenses/MIT
 */void 0===(n=function(e,t,n){var s=i("contrib/jg_lib/Class"),a=i("contrib/jg_lib/events/ErrorEventData"),r=i("contrib/jg_lib/events/Event"),o=i("contrib/jg_lib/events/EventData"),l=i("contrib/jg_lib/events/MEventTarget"),d=i("contrib/jg_lib/events/MObservableTarget"),h=i("contrib/jg_lib/properties/MPropertyTarget"),u=i("contrib/jg_lib/properties/ObservableProperty"),c=i("contrib/jg_lib/utils/FunctionUtil"),p=i("contrib/jg_lib/utils/Global"),m=i("contrib/jg_lib/utils/URL");return s(n.i,Object,(function(e,t){s.mixin(this,l,d,h),e.load=function(t,i,n,s){if(s.isBuild)n();else{var a=new m(i.toUrl(t)).toString(),r=new e(null,!0);r.on(r.loaded,(function(e){n(r)})),r.on(r.error,(function(e){n.error(e.error)})),r.set(r.url,a)}},e.fromString=function(t){return new e(t)},this.loaded=new r("loaded",o),this.unloaded=new r("unloaded",o),this.error=new r("error",a),this.url=new u("url",String,null).writeFilter((function(e){if(this._readOnly&&this._image)throw new Error('ImageSource "'+this.getInternal(this.url)+'" is read-only.');return e})).onChange((function(e){e.oldValue&&this._unload(),e.newValue&&this._load(e.newValue)})),this._image=null,this._width=0,this._height=0,this._readOnly=!1,this._isLoaded=!1,this.constructor=function(e,t){this._readOnly=!0===t,null!=e&&this.set(this.url,e)},this.width=function(){return this._width},this.height=function(){return this._height},this.readOnly=function(){return this._readOnly},this.isLoaded=function(){return this._isLoaded},this.toRaw=function(e){if(!this._isLoaded)return null;if(!1===e)return this._image;var t=new p.Image;return t.src=this._image.src,t},this.toString=function(){return this.getInternal(this.url)||""},this._load=function(e){try{var t=this._image=new p.Image;t.onload=c.bind(this._onLoaded,this),t.onerror=c.bind(this._onError,this,e),t.src=e}catch(t){this._onError(e)}},this._unload=function(){var e=this._image;e&&(e.onerror=null,e.onload=null,e.removeAttribute&&e.removeAttribute("src"),this._image=null,this._isLoaded&&(this._width=0,this._height=0,this._isLoaded=!1,this.fire(this.unloaded)))},this._onLoaded=function(){var e=this._image;e.onload=null,e.onerror=null,this._width=e.width,this._height=e.height,this._isLoaded=!0,this.fire(this.change),this._image===e&&this.fire(this.loaded)},this._onError=function(e){this._unload(),this.fire(this.error,new a('Failed to load image "'+e+'".'))}}))}.call(t,i,t,e))||(e.exports=n)},"contrib/jg_lib/graphics/MSolidBrush":function(e,t,i){var n;
/*!
 * Copyright (c) 2007-2016 Jason Gatt
 * 
 * Released under the MIT license:
 * http://opensource.org/licenses/MIT
 */void 0===(n=function(e,t,n){var s=i("contrib/jg_lib/graphics/Color"),a=i("contrib/jg_lib/Class"),r=i("contrib/jg_lib/properties/ObservableProperty"),o=i("contrib/jg_lib/utils/NumberUtil");return a(n.i,(function(e){this.color=new r("color",s,new s).readFilter((function(e){return e.clone()})).writeFilter((function(e){return e?e.clone().normalize():new s})).changeComparator((function(e,t){return!e.equals(t)})),this.opacity=new r("opacity",Number,1).writeFilter((function(e){return e<=1/0?o.minMax(e,0,1):1})),this.isSolidBrush=!0,this.getSolidColor=function(e){var t=e.color,i=e.opacity;return i<1&&((t=t.clone()).a*=i),t}}))}.call(t,i,t,e))||(e.exports=n)},"contrib/jg_lib/graphics/MStrokeBrush":function(e,t,i){var n;
/*!
 * Copyright (c) 2007-2016 Jason Gatt
 * 
 * Released under the MIT license:
 * http://opensource.org/licenses/MIT
 */void 0===(n=function(e,t,n){var s=i("contrib/jg_lib/graphics/StrokeStyle"),a=i("contrib/jg_lib/Class"),r=i("contrib/jg_lib/properties/ObservableArrayProperty"),o=i("contrib/jg_lib/properties/ObservableEnumProperty"),l=i("contrib/jg_lib/properties/ObservableProperty");return a(n.i,(function(e){this.thickness=new l("thickness",Number,1).writeFilter((function(e){return e>0&&e<1/0?e:1})),this.caps=new o("caps",String,["none","round","square"]),this.joints=new o("joints",String,["miter","round","bevel"]),this.miterLimit=new l("miterLimit",Number,10).writeFilter((function(e){return e>0&&e<1/0?e:10})),this.dashArray=new r("dashArray",Number,[]).itemWriteFilter((function(e){return e>0&&e<1/0?e:1})),this.dashOffset=new l("dashOffset",Number,0).writeFilter((function(e){return e>-1/0&&e<1/0?e:0})),this.pixelHinting=new l("pixelHinting",Boolean,!0),this.isStrokeBrush=!0,this.getStrokeStyle=function(e){return(new s).thickness(e.thickness).caps(e.caps).joints(e.joints).miterLimit(e.miterLimit).dashArray(e.dashArray).dashOffset(e.dashOffset).pixelHinting(e.pixelHinting)}}))}.call(t,i,t,e))||(e.exports=n)},"contrib/jg_lib/graphics/Pattern":function(e,t,i){var n;
/*!
 * Copyright (c) 2007-2016 Jason Gatt
 * 
 * Released under the MIT license:
 * http://opensource.org/licenses/MIT
 */void 0===(n=function(e,t,n){var s=i("contrib/jg_lib/graphics/ImageSource"),a=i("contrib/jg_lib/Class"),r=i("contrib/jg_lib/geom/Matrix"),o=i("contrib/jg_lib/utils/NumberUtil");return a(n.i,Object,(function(e,t){this._source=null,this._opacity=1,this._repeat=!0,this._transform=null,this.constructor=function(e,t,i){null!=e&&this.source(e),null!=t&&this.opacity(t),null!=i&&this.repeat(i)},this.source=function(e){return arguments.length?(this._source=null!=e?e:null,this):this._source},this.opacity=function(e){return arguments.length?(e=null!=e?+e:1,this._opacity=e<=1/0?o.minMax(e,0,1):1,this):this._opacity},this.repeat=function(e){return arguments.length?(this._repeat=!1!==e,this):this._repeat},this.transform=function(e){if(!arguments.length)return this._transform?r.fromArray(this._transform):null;if(null!=e&&!(e instanceof r))throw new Error("Parameter transform must be of type "+a.getName(r)+".");return this._transform=e&&e.isFinite()?e.toArray():null,this},this.toObject=function(){var e=this._source;e&&(e instanceof s?e=e.toRaw(!1):e.isDOMTarget&&(e=e.getDOMElement()));var t={};return t.source=e,t.opacity=this._opacity,t.repeat=this._repeat,t.transform=this._transform?this._transform.concat():null,t}}))}.call(t,i,t,e))||(e.exports=n)},"contrib/jg_lib/graphics/SolidFillBrush":function(e,t,i){var n;
/*!
 * Copyright (c) 2007-2016 Jason Gatt
 * 
 * Released under the MIT license:
 * http://opensource.org/licenses/MIT
 */void 0===(n=function(e,t,n){var s=i("contrib/jg_lib/graphics/Brush"),a=i("contrib/jg_lib/graphics/MSolidBrush"),r=i("contrib/jg_lib/Class");return r(n.i,s,(function(e,t){r.mixin(this,a),this.constructor=function(e,t){null!=e&&this.set(this.color,e),null!=t&&this.set(this.opacity,t)},this.extendProperties=function(e){e.solidColor=this.getSolidColor(e)},this.drawBrush=function(e,t,i,n,s){e.beginFill(t.solidColor),this.drawPath(e,i),e.endFill()}}))}.call(t,i,t,e))||(e.exports=n)},"contrib/jg_lib/graphics/SolidStrokeBrush":function(e,t,i){var n;
/*!
 * Copyright (c) 2007-2016 Jason Gatt
 * 
 * Released under the MIT license:
 * http://opensource.org/licenses/MIT
 */void 0===(n=function(e,t,n){var s=i("contrib/jg_lib/graphics/Brush"),a=i("contrib/jg_lib/graphics/MSolidBrush"),r=i("contrib/jg_lib/graphics/MStrokeBrush"),o=i("contrib/jg_lib/Class");return o(n.i,s,(function(e,t){o.mixin(this,a,r),this.constructor=function(e,t){null!=e&&this.set(this.color,e),null!=t&&this.set(this.opacity,t)},this.extendProperties=function(e){e.solidColor=this.getSolidColor(e),e.strokeStyle=this.getStrokeStyle(e)},this.drawBrush=function(e,t,i,n,s){e.beginStroke(t.solidColor,t.strokeStyle),this.drawPath(e,i),e.endStroke()}}))}.call(t,i,t,e))||(e.exports=n)},"contrib/jg_lib/graphics/StrokeStyle":function(e,t,i){var n;
/*!
 * Copyright (c) 2007-2016 Jason Gatt
 * 
 * Released under the MIT license:
 * http://opensource.org/licenses/MIT
 */void 0===(n=function(e,t,n){var s=i("contrib/jg_lib/Class");return s(n.i,Object,(function(e,t){this._thickness=1,this._caps="none",this._joints="miter",this._miterLimit=10,this._dashArray=null,this._dashOffset=0,this._pixelHinting=!0,this.constructor=function(e,t,i,n){null!=e&&this.thickness(e),null!=t&&this.caps(t),null!=i&&this.joints(i),null!=n&&this.miterLimit(n)},this.thickness=function(e){return arguments.length?(e=+e,this._thickness=e>0&&e<1/0?e:1,this):this._thickness},this.caps=function(e){return arguments.length?(this._caps="round"===e||"square"===e?e:"none",this):this._caps},this.joints=function(e){return arguments.length?(this._joints="round"===e||"bevel"===e?e:"miter",this):this._joints},this.miterLimit=function(e){return arguments.length?(e=+e,this._miterLimit=e>0&&e<1/0?e:10,this):this._miterLimit},this.dashArray=function(e){if(!arguments.length)return this._dashArray?this._dashArray.concat():null;if(null!=e&&!s.isArray(e))throw new Error("Parameter dashArray must be of type Array<Number>.");var t=e?e.length:0;if(t>0){var i;e=e.concat();for(var n=0;n<t;n++)i=+e[n],e[n]=i>0&&i<1/0?i:1;t%2>0&&(e=e.concat(e))}return this._dashArray=t>0?e:null,this},this.dashOffset=function(e){return arguments.length?(e=+e,this._dashOffset=e>-1/0&&e<1/0?e:0,this):this._dashOffset},this.pixelHinting=function(e){return arguments.length?(this._pixelHinting=!1!==e,this):this._pixelHinting},this.toObject=function(e){return(e=e||{}).thickness=this._thickness,e.caps=this._caps,e.joints=this._joints,e.miterLimit=this._miterLimit,e.dashArray=this._dashArray?this._dashArray.concat():null,e.dashOffset=this._dashOffset,e.pixelHinting=this._pixelHinting,e}}))}.call(t,i,t,e))||(e.exports=n)},"contrib/jg_lib/motion/Easer":function(e,t,i){var n;
/*!
 * Copyright (c) 2007-2016 Jason Gatt
 * 
 * Released under the MIT license:
 * http://opensource.org/licenses/MIT
 */void 0===(n=function(e,t,n){return i("contrib/jg_lib/Class")(n.i,Object,(function(e,t){this.constructor=function(){},this.ease=function(e){throw new Error("Must implement method ease.")}}))}.call(t,i,t,e))||(e.exports=n)},"contrib/jg_lib/motion/InOutEaser":function(e,t,i){var n;
/*!
 * Copyright (c) 2007-2016 Jason Gatt
 * 
 * Released under the MIT license:
 * http://opensource.org/licenses/MIT
 */void 0===(n=function(e,t,n){var s=i("contrib/jg_lib/motion/Easer"),a=i("contrib/jg_lib/Class"),r=i("contrib/jg_lib/utils/NumberUtil");return a(n.i,s,(function(e,t){this._easeInRatio=0,this.constructor=function(e){null!=e&&this.easeInRatio(e)},this.easeInRatio=function(e){if(!arguments.length)return this._easeInRatio;if(null!=e&&!a.isNumber(e))throw new Error("Parameter easeInRatio must be of type Number.");return this._easeInRatio=null!=e&&e<=1/0?r.minMax(e,0,1):0,this},this.ease=function(e){var t=this._easeInRatio;return 1===t?this.easeIn(e):0===t?this.easeOut(e):e<t?this.easeIn(e/t)*t:t+this.easeOut((e-t)/(1-t))*(1-t)},this.easeIn=function(e){throw new Error("Must implement method easeIn.")},this.easeOut=function(e){throw new Error("Must implement method easeOut.")}}))}.call(t,i,t,e))||(e.exports=n)},"contrib/jg_lib/motion/Interpolator":function(e,t,i){var n;
/*!
 * Copyright (c) 2007-2016 Jason Gatt
 * 
 * Released under the MIT license:
 * http://opensource.org/licenses/MIT
 */void 0===(n=function(e,t,n){return i("contrib/jg_lib/Class")(n.i,Object,(function(e,t){this.constructor=function(){},this.interpolate=function(e,t,i){throw new Error("Must implement method interpolate.")}}))}.call(t,i,t,e))||(e.exports=n)},"contrib/jg_lib/motion/NumberInterpolator":function(e,t,i){var n;
/*!
 * Copyright (c) 2007-2016 Jason Gatt
 * 
 * Released under the MIT license:
 * http://opensource.org/licenses/MIT
 */void 0===(n=function(e,t,n){var s=i("contrib/jg_lib/motion/Interpolator"),a=i("contrib/jg_lib/Class"),r=i("contrib/jg_lib/utils/NumberUtil");return a(n.i,s,(function(e,t){this._roundTo=0,this.constructor=function(e){null!=e&&this.roundTo(e)},this.roundTo=function(e){if(!arguments.length)return this._roundTo;if(null!=e&&!a.isNumber(e))throw new Error("Parameter roundTo must be of type Number.");return this._roundTo=null!=e&&e>0&&e<1/0?e:0,this},this.interpolate=function(e,t,i){var n=r.interpolate(e,t,i),s=this._roundTo;return s>0&&(n=r.roundTo(n,s)),n}}))}.call(t,i,t,e))||(e.exports=n)},"contrib/jg_lib/motion/PowerEaser":function(e,t,i){var n;
/*!
 * Copyright (c) 2007-2016 Jason Gatt
 * 
 * Released under the MIT license:
 * http://opensource.org/licenses/MIT
 */void 0===(n=function(e,t,n){var s=i("contrib/jg_lib/motion/InOutEaser"),a=i("contrib/jg_lib/Class");return a(n.i,s,(function(e,t){this._exponent=2,this.constructor=function(e,i){t.constructor.call(this,e),null!=i&&this.exponent(i)},this.exponent=function(e){if(!arguments.length)return this._exponent;if(null!=e&&!a.isNumber(e))throw new Error("Parameter exponent must be of type Number.");return this._exponent=null!=e&&e>0&&e<1/0?e:2,this},this.easeIn=function(e){return Math.pow(e,this._exponent)},this.easeOut=function(e){return 1-Math.pow(1-e,this._exponent)}}))}.call(t,i,t,e))||(e.exports=n)},"contrib/jg_lib/motion/PropertyTween":function(e,t,i){var n;
/*!
 * Copyright (c) 2007-2016 Jason Gatt
 * 
 * Released under the MIT license:
 * http://opensource.org/licenses/MIT
 */void 0===(n=function(e,t,n){var s=i("contrib/jg_lib/motion/Tween"),a=i("contrib/jg_lib/Class"),r=i("contrib/jg_lib/properties/MPropertyTarget"),o=i("contrib/jg_lib/properties/Property");return a(n.i,s,(function(e,t){this._target=null,this._property=null,this.constructor=function(e,i,n,s,l){if(null==e)throw new Error("Parameter target must be non-null.");if(!e.isPropertyTarget)throw new Error("Parameter target must have mixin "+a.getName(r)+".");i=o.resolve(e,i),t.constructor.call(this,n,s,l),this._target=e,this._property=i},this.target=function(){return this._target},this.property=function(){return this._property},this.getTweenValue=function(){return this._target.get(this._property)},this.setTweenValue=function(e){this._target.set(this._property,e)}}))}.call(t,i,t,e))||(e.exports=n)},"contrib/jg_lib/motion/Tween":function(e,t,i){var n;
/*!
 * Copyright (c) 2007-2016 Jason Gatt
 * 
 * Released under the MIT license:
 * http://opensource.org/licenses/MIT
 */void 0===(n=function(e,t,n){var s=i("contrib/jg_lib/motion/Easer"),a=i("contrib/jg_lib/motion/Interpolator"),r=i("contrib/jg_lib/motion/NumberInterpolator"),o=i("contrib/jg_lib/Class"),l=i("contrib/jg_lib/async/Clock"),d=i("contrib/jg_lib/async/FrameClock"),h=i("contrib/jg_lib/events/Event"),u=i("contrib/jg_lib/events/EventData"),c=i("contrib/jg_lib/events/MEventTarget");return o(n.i,Object,(function(e,t){o.mixin(this,c);this.tweenStart=new h("tweenStart",u),this.tweenEnd=new h("tweenEnd",u),this._duration=0,this._easer=null,this._interpolator=null,this._clock=d.getInstance(),this._runTime=0,this._runStartValue=null,this._runEndValue=null,this._runState="stopped",this.constructor=function(e,t,i){this._interpolator=new r,null!=e&&this.duration(e),null!=t&&this.easer(t),null!=i&&this.interpolator(i)},this.duration=function(e){if(!arguments.length)return this._duration;if(null!=e&&!o.isNumber(e))throw new Error("Parameter duration must be of type Number.");return this.stop(),this._duration=e<1/0?Math.max(e,0):0,this},this.easer=function(e){if(!arguments.length)return this._easer&&this._easer instanceof i?this._easer.func:this._easer;if(null!=e&&!(e instanceof s)){if(!o.isFunction(e))throw new Error("Parameter easer must be of type Function or "+o.getName(s)+".");e=new i(e)}return this.stop(),this._easer=e||null,this},this.interpolator=function(e){if(!arguments.length)return this._interpolator instanceof n?this._interpolator.func:this._interpolator;if(null!=e&&!(e instanceof a)){if(!o.isFunction(e))throw new Error("Parameter interpolator must be of type Function or "+o.getName(a)+".");e=new n(e)}return this.stop(),this._interpolator=e||new r,this},this.clock=function(e){if(!arguments.length)return this._clock;if(null!=e&&!(e instanceof l))throw new Error("Parameter clock must be of type "+o.getName(l)+".");return this.stop(),this._clock=e||d.getInstance(),this},this.isRunning=function(){return"running"===this._runState},this.isPaused=function(){return"paused"===this._runState},this.isStopped=function(){return"stopped"===this._runState},this.to=function(e){return this.fromTo(this.getTweenValue(),e),this},this.fromTo=function(e,t){this.stop();var i=0,n=this._easer;return n&&(i=n.ease(i)),this.setTweenValue(this._interpolator.interpolate(e,t,i)),this._runStartValue=e,this._runEndValue=t,this._runState="running",this._clock.on(this._clock.tick,this._clockTick,this),this.fire(this.tweenStart),this},this.stop=function(){return"stopped"===this._runState||(this._clock.off(this._clock.tick,this._clockTick,this),this._runTime=0,this._runStartValue=null,this._runEndValue=null,this._runState="stopped",this.fire(this.tweenEnd)),this},this.pause=function(){return"running"!==this._runState||(this._clock.off(this._clock.tick,this._clockTick,this),this._runState="paused"),this},this.resume=function(){return"paused"!==this._runState||(this._runState="running",this._clock.on(this._clock.tick,this._clockTick,this)),this},this.getTweenValue=function(){throw new Error("Must implement method getTweenValue.")},this.setTweenValue=function(e){throw new Error("Must implement method setTweenValue.")},this._clockTick=function(e){try{this._runTime+=e.deltaTime;var t=!1,i=this._runTime/this._duration;i>=1&&(i=1,t=!0);var n=this._easer;n&&(i=n.ease(i)),this.setTweenValue(this._interpolator.interpolate(this._runStartValue,this._runEndValue,i))}catch(e){throw t=!0,e}finally{t&&this.stop()}};var i=o(s,(function(e,t){this.func=null,this.constructor=function(e){this.func=e},this.ease=function(e){return(0,this.func)(e)}})),n=o(a,(function(e,t){this.func=null,this.constructor=function(e){this.func=e},this.interpolate=function(e,t,i){return(0,this.func)(e,t,i)}}))}))}.call(t,i,t,e))||(e.exports=n)},"contrib/leaflet/images/layers.png":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAABJRJREFUeNqklk9IG1kcx78zk8mMhGRiYqKxJsE0CKVsWXtYFoqnHrSHWo899FLoSRYs6KE3ocUiJaFbkP4BqR4UqrCw6UFtaU+lKCsoeLGENJI/mubfmElIM5P5t5c1u7Mpaay/23uPeZ/33nz4vkfouo526vr16+jt7cWNGzdmASASidw7OjpCtVpFO3MQ7YLevn17lWGYVw6HowsAeJ4vSJJ0c3Fx8X2hUEC9Xm8J/C5obW3NQdP0a47jrvh8PlitVgBApVJBMpmEIAgfZVkeff78OV8ul6EoyulBa2trsyzLTnq9XpPT6YTZbDaM1+t1FItFpFIpRRTF8PLy8r1sNouvX7827e6boEgkcpWm6Vdut7vL4/Ggo6MDBEF8czG6rqNWqyGTySCXyxVkWb45Pz//nud5KIrSABpAKysr3Waz+Q+O46709fXBYrHAZDI17QJA0+4URUG1WkU6nYYgCB9VVR2dm5vjq9UqVFX9F7S6uhpiGGbi3LlzJofDAZqmDROpqgpRFEFRVKPNsmyjfVKyLIPneRweHiqSJD1ZWFiYKhaLIF68eDFCUdSSz+dzejwesCxrOCZd1xsKMwxjAEmSBIIgYLFYmr4RRRGZTAbJZLKoquotkyRJdLlcJkVRBAD09PQ0JqvVahBFESzLwmQyQVEUg1UEQUBRFGSzWbAsi46OjsYivnz5gmg0ilKpRNpsNrpxdI8ePfq9VCr9FggEKK/XC5IkQdM0WJYFSZItZdA0DaIoQpZlaJqGVCqFeDyu2u32uYWFhbuyLBtlePny5U+pVGqb53nmwoUL6O/vb6zypDRNAwCQJGnor9VqODg4wP7+PhwOh9Tb2/vzzMzMJ03ToOv6t2Wo1+vY2NiArusIBoPo6uoCSZJQVbUB0DQNFEVB0zQUCgXEYjEQBIGRkRGYzeaGDBMTE1MAWsuws7ODDx8+oLOzE16vF52dnQbQ8fExUqkUjo+PMTQ0hMuXL/+YDIFAAE6nE1tbW9je3obf74fH4wEAZDIZJBIJ+P1+jI2NgeM4SJJ0dhny+TzevHkDQRAAABzHYXh4GC6Xq6UMDx8+vNuUDO3IsLe3BwC4dOnSd2WYnJz81JR135Ph/1H03+hpJcOdO3fal8HlcsHv98NqtTbGdF1HpVJBIpFAPp8/mwwXL15EMBjEu3fvsLm5CZ/PZ5AhmUwiEAjg9u3bYBjm9DKcP38edrvdkAbZbBbr6+solUoAALvdjmvXrqG7u9uQEqVSCZ8/f24tw+PHj7sFQXitquovAwMD8Pv9YFnW8E92d3cBAIODg4Z+URSRSCQQjUZBUdRfHMeNTk9PZ1tefKFQaCSfzy9ZrVbnwMAA3G53SxlyuRyi0SgqlUrR5XLdun///saprvIHDx6EisXihM/nMwUCAdhsNoMM5XIZ8XgcyWRScTqdT549ezb1Q28GAJidne0WBOFPSZJ+DQaD6OvrAwCk02nEYjEwDLPFcdxYOBzOngTumZ5bMzMzI7lcbknTNOc/6V10u923wuHwRivAqUE2mw0URWF8fDwEAE+fPp1SVRXt1t8DAKzuGCketP3pAAAAAElFTkSuQmCC"},"contrib/leaflet/images/zoom-in.png":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAMAAADXT/YiAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyBpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkUwRTZCRkI3NjQzNzExRTBBQUI3RTAwMUU2MTZDRkQ5IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkUwRTZCRkI4NjQzNzExRTBBQUI3RTAwMUU2MTZDRkQ5Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RTBFNkJGQjU2NDM3MTFFMEFBQjdFMDAxRTYxNkNGRDkiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RTBFNkJGQjY2NDM3MTFFMEFBQjdFMDAxRTYxNkNGRDkiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7cwPMXAAAABlBMVEUAAAD///+l2Z/dAAAAAnRSTlP/AOW3MEoAAAAZSURBVHjaYmBkZGRgYACR2Fj4AV69AAEGAAauACW68QgkAAAAAElFTkSuQmCC"},"contrib/leaflet/images/zoom-out.png":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAMAAADXT/YiAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyBpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkU5MjRDMEQ5NjQzNzExRTBCM0JDQkU2MzVGQTBCNjRDIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkU5MjRDMERBNjQzNzExRTBCM0JDQkU2MzVGQTBCNjRDIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RTkyNEMwRDc2NDM3MTFFMEIzQkNCRTYzNUZBMEI2NEMiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RTkyNEMwRDg2NDM3MTFFMEIzQkNCRTYzNUZBMEI2NEMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7uh53jAAAABlBMVEUAAAD///+l2Z/dAAAAAnRSTlP/AOW3MEoAAAAVSURBVHjaYmCEAQZsLPwAr16AAAMACdgAN9MxY1IAAAAASUVORK5CYII="},"contrib/leaflet/leaflet.css":function(e,t,i){var n=i(847);"string"==typeof n&&(n=[[e.i,n,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};i(4)(n,s);n.locals&&(e.exports=n.locals)},"controllers/dashboard/EditSourceModeController":function(e,t,i){var n,s;n=[e,i("require/underscore"),i("shim/jquery"),i("require/backbone"),i("shim/ace-editor"),i("controllers/Base"),i("models/Base"),i("dashboard/DashboardParser"),i("views/dashboard/editor/XMLEditor"),i("shim/splunk.util"),i("util/console"),i("util/Profiler")],void 0===(s=function(e,t,i,n,s,a,r,o,l,d,h,u){return a.extend({initialize:function(e){a.prototype.initialize.apply(this,arguments),this.dashboardParser=o.getDefault(),this.deferreds=e.deferreds,this.model.editor=new r,this.state=e.state,this.setupProfiler()},setupProfiler:function(){u.isEnabled()&&u.get("Dashboard").module(e.i).profileFunctions(this,"validateXML")},enter:function(e){var n=this.state.getDashboardXML();return this.model.editor.set("code",n),this.editorView=new l({model:{application:this.model.application,editor:this.model.editor,state:this.model.state},collection:{dashboardMessages:this.collection.dashboardMessages},readOnly:"source"==e,autoAdjustHeight:!0}),"source"==e&&(this.header=i("<div/>").addClass("dashboard-header"),i("<h2/>").text(d.sprintf(t("Source: %s").t(),this.model.view.entry.content.get("label"))).appendTo(this.header),this.header.appendTo(i("body>.main-section-body"))),this.editorView.render().appendTo(i("body>.main-section-body")),this.validateXML(),this.listenTo(this.model.editor,"change:code",t.debounce(this.validateAndSaveXML,500)),i.Deferred().resolve()},validateAndSaveXML:function(){var e=this.model.editor.get("code");this.validateXML(e),this.saveDashboard(e)},validateXML:function(){var e=this.editorView.getEditorValue(),i={warnings:[],errors:[]},n=null;try{n=this.dashboardParser.parseDashboard(e,t.extend({},{validator:i}))}catch(e){i={errors:[{msg:e.message,line:e.line||-1}],warnings:[]}}this.model.editor.set("validateResults",i),n&&n.settings&&this.model.page.setFromDashboardXML(n.settings),this.editorView.applyAnnotations(),this.deferreds.xmlParsed.resolve()},tearDown:function(){this._tearDownEditor()},_tearDownEditor:function(){this.editorView.remove(),this.$editor=null},saveDashboard:function(e){h.log("Triggering edit:xml"),this.model.controller.trigger("edit:xml",{xml:e})}})}.apply(t,n))||(e.exports=s)},"controllers/dashboard/MainDashboardController":function(e,t,i){var n,s;n=[i("require/underscore"),i("shim/jquery"),i("require/backbone"),i("controllers/Base"),i("views/dashboard/DashboardPage"),i("util/console"),i("uri/route"),i("controllers/dashboard/ViewModeController"),i("controllers/dashboard/EditSourceModeController"),i("controllers/dashboard/helpers/ActionHelper"),i("dashboard/ExtensionLoader"),i("dashboard/DashboardParser"),i("dashboard/state/DashboardState"),i("util/readonly"),i("util/splunkd_utils"),i("util/env"),i("util/sprintf"),i("util/theme_utils")],void 0===(s=function(e,t,i,n,s,a,r,o,l,d,h,u,c,p,m,f,g,v){return n.extend({initialize:function(t){f.DEBUG&&(window._mainController=this),n.prototype.initialize.apply(this,arguments),e.extend(this.model,{controller:new i.Model}),e.extend(this.collection,{dashboardMessages:new i.Collection}),this.state=new c,this.readOnlyModel={state:p.readOnlyModel(this.model.state),controller:p.readOnlyModel(this.model.controller)},this.extensionLoader=new h({model:{application:this.model.application},collection:{appLocals:this.collection.appLocals}}),this.listenTo(this.model.state,"change:mode",this.handleModeChange),this.listenTo(this.model.controller,"all",this.handleControllerEvent),this.deferreds=t.deferreds,this.removePreload=e.once(this.removePreload),this.initState=e.once(this.initState)},isVersionChanged:function(){if(!this.state.xml.isDirty())return!1;var e=u.getDefault();return e.parse(this.state.xml.getState().source).settings.version!==e.parse(this.state.xml.getCommittedState().source,{isStale:!0}).settings.version},isThemeChanged:function(){var e=this.state.dashboard.getDiff(),t=!1;if(this.state.xml.isDirty){var i=u.getDefault();t=v.normalizeToDefaultTheme(i.parse(this.state.xml.getState().source).settings.theme)!==v.normalizeToDefaultTheme(i.parse(this.state.xml.getCommittedState().source,{isStale:!0}).settings.theme)}return e&&e.changed.theme||t},reloadPage:function(){return location.reload()},confirmPageRefresh:function(e){return d.confirmPageRefresh(e)},handleControllerEvent:function(t,i){a.debug(g("Handling controller event %(event)s",{event:t}));Array.prototype.slice.call(arguments,1);var n,s,r=t.split(":"),o=r[0];switch(o){case"mode":return void this.handleModeChangeEvent(r[1]);case"state":if(this.handleStateEvent(r[1],i))return;break;case"edit":if(this.handleEditEvent(t,i))return}switch("action:save"!==t&&"action:save-as"!==t||(n=this.isThemeChanged(),s=this.isVersionChanged()),t){case"action:save":return this.saveState().then(function(){if(this.handleModeChangeEvent("view"),n||s){var t=n?s?e("theme and version").t():e("theme").t():e("version").t();return this.confirmPageRefresh(t).then(function(){return this.reloadPage()}.bind(this))}}.bind(this));case"action:edit-cancel":return void this.revertState().then(function(){this.handleModeChangeEvent("view")}.bind(this));case"action:save-as":return void d.saveAs(this.state.getDashboardXML({updateState:!0}),this.model,this.collection,this.deferreds).then(function(e){this.tearDownController(),this.model.view.setFromSplunkD(e.toSplunkD()),this.state.reset(),this.state.setXML(e.entry.content.get("eai:data")),this.state.commitXML(),this.handleModeChange(),this.reloadPage()}.bind(this));case"action:hideFilters":return void this.model.page.set("hideFilters",!0);case"action:showFilters":return void this.model.page.set("hideFilters",!1)}this.controller&&(this.controller.handleControllerEvent(t,i)||a.warn("Unhandled controller event",t,i))},handleModeChangeEvent:function(e){switch(e){case"edit":this.model.state.set("mode","edit"),this.model.state.set("showVersionModal",!1);break;case"editxml":this.model.state.set("mode","editxml");break;case"source":this.model.state.set("mode","source");break;case"view":this.model.state.set("mode","view"),this.model.state.set("showVersionModal",!1)}},handleStateEvent:function(e,t){switch(e){case"globalFieldsetChildren":return this.model.page.set("globalFieldsetEmpty",t.isEmpty),!0;default:return a.error("Unknown state event %o",e),!1}},handleEditEvent:function(e,t){switch(e){case"edit:xml":this.state.setXML(t.xml);break;default:return!1}return!0},handleModeChange:function(){this.initState(),this.bootstrapDashboardPage().then(this._handleModeChange.bind(this))},_handleModeChange:function(){var e=this.model.state.get("mode");if(e)switch(e){case"view":!1!==this.model.state.get("showVersionModal")&&this.model.state.set("showVersionModal",!0),this.switchToController(o),this.model.page.set({showToolbar:!1}),this.controller.enter(e).then(this.removePreload.bind(this));break;case"edit":this.model.page.set({showToolbar:!0}),this.switchToController(o),this.controller.enter(e).then(this.removePreload.bind(this));break;case"editxml":this.model.page.set({showToolbar:!0}),this.switchToController(l),this.controller.enter(e).then(this.removePreload.bind(this));break;case"source":this.model.page.set({showToolbar:!1}),this.switchToController(l),this.controller.enter(e).then(this.removePreload.bind(this))}},tearDownController:function(){this.controller&&(this.controller.tearDown(),this.controller=null)},switchToController:function(t){return this.controller instanceof t||(this.tearDownController(),this.controller=new t({model:e.extend({},this.model,this.readOnlyModel),collection:e.extend({},this.collection,this.readOnlyCollection),deferreds:e.extend({},this.deferreds),state:this.state,extensionLoader:this.extensionLoader})),this.controller},bootstrapDashboardPage:function(){return"resolved"!==this.deferreds.pageViewRendered.state()&&(this.pageView=new s({el:document.body,model:{application:this.model.application,appNav:this.model.appNav,appLocal:this.model.appLocal,user:this.model.user,serverInfo:this.model.serverInfo,config:this.model.config,tour:this.model.tour,userPref:this.model.userPref,page:this.model.page,state:this.readOnlyModel.state,controller:this.readOnlyModel.controller,url:this.model.url,reportDefaults:this.model.reportDefaults,userPrefGeneralDefault:this.model.userPrefGeneralDefault,scheduledView:this.model.scheduledView},collection:{apps:this.collection.appLocals,tours:this.collection.tours,managers:this.collection.managers,alertActions:this.collection.alertActions},deferreds:{tour:this.deferreds.tour,scheduledView:this.deferreds.scheduledView,reportDefaults:this.deferreds.reportDefaults,xmlParsed:this.deferreds.xmlParsed}}),this.pageView.render(),this.deferreds.pageViewRendered.resolve()),this.deferreds.pageViewRendered},removePreload:function(){this.model.page.set({loading:!1}),t("body>.preload").remove()},initState:function(){var e=this.model.view.entry.content.get("eai:data");this.state.setXML(e),this.state.commitXML(),this.listenTo(this.state,"dirty clean",this.updateDirtyState),this.listenTo(this.state.xml,"dirty clean",this.updateDirtyState),this.state.commit()},updateDirtyState:function(){this.model.state.set({dirty:this.state.isDirty()||this.state.xml.isDirty(),themeDirty:this.isThemeChanged(),versionDirty:this.isVersionChanged()})},saveState:function(){a.info("SAVING STATE"),this.collection.dashboardMessages.remove("save-server-error");var t=this.state.getDashboardXML();return this.model.view.entry.content.set("eai:data",t),this.model.view.save().then(function(){this.state.commitAll()}.bind(this)).fail(function(t){var i=e(m.xhrErrorResponseParser(t)).where({type:"error"})[0];this.collection.dashboardMessages.add({id:"save-server-error",level:"error",dismissable:!0,text:i?i.message:e("Server error").t()})}.bind(this))},revertState:function(){return(this.state.isDirty()||this.state.xml.isDirty())&&this.tearDownController(),this.state.restoreAll(),t.Deferred().resolve()}})}.apply(t,n))||(e.exports=s)},"controllers/dashboard/ViewModeController":function(e,t,i){var n,s;n=[e,i("require/underscore"),i("shim/jquery"),i("require/backbone"),i("shim/requirejs"),i(334),i(2065),i("controllers/Base"),i("models/Base"),i("splunkjs/mvc"),i("splunkjs/mvc/simplexml/controller"),i("dashboard/DashboardParser"),i("dashboard/DashboardFactory"),i("dashboard/manager/FormManager"),i("dashboard/DashboardRefresher"),i("dashboard/EnvironmentTokenModel"),i("controllers/dashboard/helpers/ActionHelper"),i("controllers/dashboard/helpers/EditingHelper"),i("views/dashboard/layout/row_column/RowColumnLayout"),i("views/dashboard/layout/row_column/Row"),i("views/dashboard/form/Input"),i("views/dashboard/element/DashboardElement"),i("views/dashboard/element/Html"),i("views/dashboard/layout/Panel"),i("views/dashboard/layout/PanelRef"),i("views/dashboard/Master"),i("views/dashboard/LoadingStatus"),i("views/dashboard/ErrorStatus"),i("util/console"),i("util/xml"),i("util/Profiler"),i("util/url_parser"),i("util/url"),i("util/create_external_toast_action"),i("dashboard/DashboardMetrics"),i("helpers/VisualizationRegistry"),i("splunkjs/mvc/searchmanager"),i("util/general_utils")],void 0===(s=function(e,t,i,n,s,a,r,o,l,d,h,u,c,p,m,f,g,v,b,_,y,w,k,T,S,x,C,E,M,R,D,P,L,O,I,A,N,j){function z(e){var i=t("This dashboard version is invalid. Update the dashboard version in source.").t();return $(t.extend({},e,{dismissable:!1,level:"error",text:i}))}function B(e){var i=t("This dashboard version is missing. Update the dashboard version in source.").t();return $(t.extend({},e,{dismissable:!0,level:"warning",text:i}))}function $(e){return t.extend({},e,{docsLink:"jquery2.dashboard.unavailable",linkText:t("Learn more").t()})}return o.extend({initialize:function(e){o.prototype.initialize.apply(this,arguments),s.onCustomError(this.onScriptError.bind(this)),this.model=t.extend({renderState:new l,committedState:new l},this.model),this.deferreds=e.deferreds,this.state=e.state,this.componentRegistry=d.Components,this.dashboardParser=u.getDefault(),this.dashboardFactory=c.getDefault(),this.scripts=[],this.stylesheets=[],this.managers=[],this.components=[],this.layouts=[],this.events=[],this.refreshInterval=null,this.extensionLoader=e.extensionLoader,this.extensionLoader.subscribeToAsyncScriptErrors(this.onScriptError.bind(this)),this.createToast=a.makeCreateToast(a.default),this.listenTo(this.extensionLoader,"all",this.checkAddExtensionWarnings),this.checkAddExtensionWarnings(),this.setupProfiler()},getVariableToastProps:function(e){return e?{message:t("A custom JavaScript error caused an issue loading your dashboard, likely due to the dashboard version update. See the developer console for more details.").t(),action:O({href:P.setURLFlag(location.href,"xmlv","1.0",!1),label:t("Open a previous view of the dashboard").t()})}:{message:t("A custom JavaScript error caused an issue loading your dashboard. See the developer console for more details.").t()}},onScriptError:function(){var e=this.model.page.get("allowTempVersionRevert"),t=this.getVariableToastProps(e);I.sendCustomJSErrorEvent(),this.createToast({message:t.message,type:r.TOAST_TYPES.ERROR,action:t.action,autoDismiss:!1})},setupProfiler:function(){this.profiler=D.get("Dashboard",{dashboard_name:this.model.view.entry.get("name")}).module(e.i),D.isEnabled()&&this.profiler.profileFunctions(this,"parseDashboardXML","captureComponents","captureState","tearDown")},checkAddExtensionWarnings:function(){this.extensionLoader.hasExtensionScript()&&(this.collection.dashboardMessages.get("warn-script-ext")||this.collection.dashboardMessages.add(new l({id:"warn-script-ext",mode:"edit",level:"warning",text:t("Warning: Custom scripts included on this page may cause unexpected behavior.").t(),linkText:t("Learn more about custom scripts").t(),docsLink:"learnmore.dashboards.extensions.scripts",dismissable:!0})))},checkDashboardRedirectionWarnings:function(e){if(function(e){return window.$C.IS_DASHBOARD_REDIRECTED&&"1.0"===e}(e)){var t=z({id:"warn-v1.0-redirect",mode:"view"}),i=z({id:"warn-v1.0-redirect-edit",mode:"edit"});this.collection.dashboardMessages.add(t),this.collection.dashboardMessages.add(i)}},checkAddSrcVersionAbsentWarnings:function(e){if(!function(e){return void 0!==e}(e)){var t=B({id:"warn-v1.0-null-version",mode:"view"}),i=B({id:"warn-v1.0-null-version-edit",mode:"edit"});this.collection.dashboardMessages.add(t),this.collection.dashboardMessages.add(i)}},handleControllerEvent:function(e,t){switch(e.split(":")[0]){case"action":return g.handleAction.call(this,e,this.state,this.model,this.collection,this.deferreds);case"edit":return this.handleEditEvent(e,t);case"new":return this.handleNewEvent(e,t);default:M.error("Unknown event %o",e)}},handleEditEvent:function(e,i){if("edit"==this.model.state.get("mode")){var n,s,a,r,o,l,d=t.first(this.layouts);switch(e){case"edit:make-prebuilt-panel":var h=i.panelModel;return v.convertToPrebuiltPanel(i.panelComponent,h,i.panelProperties,{model:this.model,deferreds:this.deferreds,state:this.state}).done(function(){this.state.updateLayout(d.captureStructure())}.bind(this)),!0;case"edit:make-inline-panel":var u=i.panelComponent;return v.convertToInlinePanel(u,{model:this.model,deferreds:this.deferreds}).then(function(e,i,n,s,a){t(a).each(this.state.addStateObject.bind(this.state)),this.state.updateLayout(d.captureStructure())}.bind(this)),!0;case"edit:save-inline-as-report":case"edit:search":return l=this.componentRegistry.get(i.searchManagerId),this.state.updateSearch(i.searchManagerId,l),!0;case"edit:drilldown":return s=this.componentRegistry.get(i.elementId),this.state.updateElement(i.elementId,s),this.state.events.has(i.eventManager.id)?this.state.updateEventManager(i.eventManager.id,i.eventManager):(this.state.addEventManager(i.eventManager),this.managers.push(i.eventManager)),!0;case"edit:delete-drilldown":return s=this.componentRegistry.get(i.elementId),this.state.updateElement(i.elementId,s),i.eventManagerId&&(this.componentRegistry.get(i.eventManagerId),this.state.removeEventManager(i.eventManagerId)),!0;case"edit:update-report-id":case"edit:save-report-as-inline":return l=this.componentRegistry.get(i.searchManagerId),s=this.componentRegistry.get(i.elementId),this.state.updateSearch(i.searchManagerId,l),this.state.updateElement(i.elementId,s),!0;case"edit:use-report-formatting":return s=this.componentRegistry.get(i.elementId),this.state.updateElement(i.elementId,s),!0;case"edit:dashboard":return(n=this.componentRegistry.get(i.dashboardId))?this.state.updateDashboard(n):M.warn("Unable to update dashboard state, dashboard id=%o not found",i.dashboardId),!0;case"edit:fieldset":return(a=this.componentRegistry.get(i.fieldsetId))?this.state.updateFieldset(a):M.warn("Unable to update fieldset state, fieldset id=%o not found",i.fieldsetId),!0;case"edit:element":return(s=this.componentRegistry.get(i.elementId))?this.state.updateElement(i.elementId,s):M.warn("Unable to update element state, element id=%o not found",i.elementId),!0;case"edit:panel":return(r=this.componentRegistry.get(i.panelId))?(this.state.updatePanel(i.panelId,r),d&&this.state.updateLayout(d.captureStructure())):M.warn("Unable to update panel state, panel id=%o not found",i.panelId),!0;case"edit:input":if(o=this.componentRegistry.get(i.inputId)){this.state.updateInput(i.inputId,o);var c=o.settings.get("managerid");c&&(l=this.componentRegistry.get(c),this.state.searches.has(c)?this.state.updateSearch(c,l):this.state.addSearch(l))}else M.warn("Unable to update input state, input id=%o not found",i.inputId);return!0;case"edit:layout":return this.state.updateLayout(d.captureStructure()),!0;case"edit:delete-element":return(s=this.componentRegistry.get(i.elementId))&&s.remove(),this.state.removeElement(i.elementId),this.state.updateLayout(d.captureStructure()),d.$el.trigger("resetDragAndDrop"),d.$el.trigger("elementRemoved"),!0;case"edit:delete-panel":return(r=this.componentRegistry.get(i.panelId))&&r.remove(),this.state.removePanel(i.panelId),this.state.updateLayout(d.captureStructure()),d.$el.trigger("resetDragAndDrop"),d.$el.trigger("elementRemoved"),!0;case"edit:delete-input":return(o=this.componentRegistry.get(i.inputId))&&o.remove(),this.state.removeInput(i.inputId),this.state.updateLayout(d.captureStructure()),d.$el.trigger("inputRemoved"),!0}}},handleNewEvent:function(e,i){if("edit"==this.model.state.get("mode")){var n,s=t.first(this.layouts);switch(e){case"new:element-inline":case"new:element-report":case"new:element-refpanel":case"new:element-panel":return this.dashboardFactory.materialize(i,null,{model:this.model,collection:this.collection,deferreds:this.deferreds,loadPanels:!0,createStateObjects:!0}).then(function(e,i,n,a,r){s.addChild(e),s.$el.trigger("elementCreated"),t(r).each(this.state.addStateObject.bind(this.state)),this.captureComponents(n,i,a),this.state.updateLayout(s.captureStructure())}.bind(this)),!0;case"new:submit-button":return(n=s.getFieldset())&&n.settings.set("submitButton",!0),this.state.updateFieldset(n),!0;case"new:input":return this.dashboardFactory.materialize(i,null,{model:this.model,deferreds:this.deferreds,createStateObjects:!0}).then(function(e,i,n,a,r){s.addChild(e),s.$el.trigger("inputCreated"),t(r).each(this.state.addStateObject.bind(this.state)),this.captureComponents(n,i,a),this.state.updateLayout(s.captureStructure())}.bind(this)),!0;case"new:fieldset":return n=this.componentRegistry.get(i.fieldsetId),this.state.updateFieldset(n),!0}}},enter:function(e){return M.debug("Entering",e,"mode"),this.unbindDashboardRenderer(),this.bindDashboardRenderer(),this.createEnvironmentTokenModel(),p.bootstrapTokenModels(),this.model.renderState.get("structure")?i.Deferred().resolve():this.parseDashboardXML()},tearDown:function(){M.debug("Tearing down view-mode controller"),this.hideLoadingStatus(),this.hideErrorStatus(),m.teardown(),this.tearDownDashboardBody(),this.removeEnvironmentTokenModel(),this.stopListening(),this.resetStateModel()},unbindDashboardRenderer:function(){this.stopListening(this.model.state),this.stopListening(this.model.renderState)},bindDashboardRenderer:function(){this.model.renderState.set({xml:this.state.getDashboardXML()}),this.listenTo(this.model.renderState,"change:xml",this.parseDashboardXML),this.listenTo(this.model.renderState,"change:structure",t.debounce(this.applyDashboardStructure))},createEnvironmentTokenModel:function(){this.componentRegistry.has("env")||this.componentRegistry.registerInstance("env",f.createEnvironmentTokenModel({model:{application:this.model.application,serverInfo:this.model.serverInfo,user:this.model.user,view:this.model.view},deferreds:{serverInfo:this.deferreds.serverInfo,user:this.deferreds.user,view:this.deferreds.view}}))},removeEnvironmentTokenModel:function(){var e=this.componentRegistry.get("env");e&&e instanceof f&&(e.stopListening(),this.componentRegistry.revokeInstance("env"))},parseDashboardXML:function(){var e=null;try{var n=this.model.renderState.get("xml");return n&&n!=this.model.committedState.get("xml")?(this.showLoadingStatus(),M.debug("Parsing dashboard XML",{xml:n}),this.model.committedState.set("xml",n),e=this.dashboardParser.parseDashboard(n,{retainRawXML:!0}),this.model.renderState.set("structure",e)):M.debug("XML did not change"),i.Deferred().resolve()}catch(e){return M.error("Error parsing XML",e),this.showErrorStatus(t("Error parsing dashboard XML: ").t()+e.message),i.Deferred().resolve()}finally{e&&this.model.page.setFromDashboardXML(e.settings),this.deferreds.xmlParsed.resolve()}},readyForDashboardBody:function(){return i.when(this.deferreds.pageViewRendered,this.deferreds.times)},applyDashboardStructure:function(){var e=this.profiler.newTimer();if("resolved"!==this.readyForDashboardBody().state()&&!this._applyPending)return this._applyPending=!0,void i.when(this.readyForDashboardBody()).then(this.applyDashboardStructure.bind(this));if(this.renderPromise&&"resolved"!==this.renderPromise.state()&&!this._applyPending)return this._applyPending=!0,void i.when(this.renderPromise).then(this.applyDashboardStructure.bind(this));this._applyPending=!1,this.showLoadingStatus();var n=this.renderPromise=i.Deferred(),s=this.model.renderState.get("structure"),a=s.settings.version;this.checkAddSrcVersionAbsentWarnings(a),this.checkDashboardRedirectionWarnings(a),t.isEmpty(s.settings.script)||(this.scripts=this.scripts.concat(s.settings.script)),t.isEmpty(s.settings.stylesheet)||(this.stylesheets=this.stylesheets.concat(s.settings.stylesheet)),s.settings.refresh&&(this.refreshInterval=s.settings.refresh),t.isEqual(s,this.model.committedState.get("structure"))||(this.model.page.set("theme",s.settings.theme),this.model.page.setFromDashboardXML(s.settings),this.deferreds.componentReady=i.Deferred(),this.tearDownDashboardBody(),m.teardown(),this.$dashboard=this.$dashboard||i("body>.main-section-body"),this.dashboardFactory.materialize(s,this.$dashboard,{waitForReady:!0,model:this.model,collection:this.collection,deferreds:this.deferreds,loadPanels:!0,createStateObjects:!0}).then(function(t,i,n,a,r){this.hideLoadingStatus(),this.rootComponent=t;var o=this._groupComponents(n);this.layouts=o.layouts,this.captureComponents(o.components,i,a),this.model.committedState.set("structure",s),this.captureState(r),this.profiler.log({function:"applyDashboardStructure",duration:e.fromNow()})}.bind(this)).then(this.applyCustomExtension.bind(this)).then(this.submitTokens.bind(this)).then(this.dashboardReady.bind(this)).then(this.applyAutoRefresh.bind(this)).then(n.resolve))},getDashboardMetricsOptions:function(){return{model:{page:this.model.page,committedState:this.model.committedState,scheduledView:this.model.scheduledView,reportDefaults:this.model.reportDefaults},state:this.state,deferreds:{managers:this.deferreds.managers,reportDefaults:this.deferreds.reportDefaults,scheduledView:this.deferreds.scheduledView,componentReady:this.deferreds.componentReady},managers:this.managers,VisualizationRegistry:A,SearchManager:N,isValidPivotSearch:j.isValidPivotSearch}},sendDashboardMetrics:function(){var e=this.getDashboardMetricsOptions();I.sendDashboardMetrics(e)},captureComponents:function(e,i,n){var s={components:e,managers:i,events:n};t.each(["components","managers","events"],(function(e){var i=t.pluck(this[e],"id"),n=t.filter(s[e],(function(e){return!t.contains(i,e.id)}));this[e]=t.union(this[e],n)}),this)},captureState:function(e){this.state.suspend(),this.state.reset(e),this.state.updateLayout(this.layouts[0].captureStructure()),this.state.commit(),this.state.resume()},tearDownDashboardBody:function(){M.trace("tearDownDashboardBody()"),t(this.events).invoke("dispose"),t(this.components).invoke("remove"),t(this.layouts).invoke("remove"),t(this.managers).invoke("dispose"),this.events=[],this.components=[],this.layouts=[],this.managers=[],this.$dashboard&&this.$dashboard.empty()},resetStateModel:function(){this.model.committedState.unset("xml"),this.model.committedState.unset("structure"),this.model.renderState.unset("structure"),this.model.renderState.unset("xml")},submitTokens:function(){var e=t.first(this.layouts);h._signalReadyByMainController({model:this.model,collection:this.collection});var i=!e.getFieldset()||e.getFieldset().settings.get("autoRun"),n=p.hasSubmitButton(),s=p.hasUrlTokens();(i||!n||s)&&p.submitForm({replaceState:!1})},dashboardReady:function(){this.rootComponent.trigger("dashboard:init",{}),this.deferreds.componentReady.resolve()},applyCustomExtension:function(){var e=this.model.application.get("locale"),n=this.model.application.get("root");this.extensionLoader.loadDefaultExtensions(this.model.application.get("app"),e,n),this.scriptLoadDeferreds=this.scripts.map(function(t){return this.extensionLoader.loadScriptExtension(this.model.view.entry.acl.get("app"),e,n,t)}.bind(this)),i.when(this.scriptLoadDeferreds).then(function(){this.sendDashboardMetrics()}.bind(this)),t.each(this.stylesheets,(function(t){this.extensionLoader.loadStylesheetExtension(this.model.view.entry.acl.get("app"),e,n,t)}),this)},applyAutoRefresh:function(){this.refreshInterval&&m.setup(this.refreshInterval,this.managers)},_groupComponents:function(e){return t.groupBy(e,(function(e){return e instanceof b?"layouts":"components"}))},showLoadingStatus:function(){this.hideErrorStatus();var e=i("body>.main-section-body");e.addClass("dashboard-rendering"),this.children.loadingStatus||(this.children.loadingStatus=new C({model:this.model,collection:this.collection,deferreds:this.deferreds}),this.children.loadingStatus.render().prependTo(e))},hideLoadingStatus:function(){i("body>.main-section-body").removeClass("dashboard-rendering"),this.children.loadingStatus&&(this.children.loadingStatus.remove(),this.children.loadingStatus=null)},showErrorStatus:function(e){this.hideLoadingStatus(),this.hideErrorStatus();var t=i("body>.main-section-body");t.addClass("dashboard-error"),this.children.errorStatus=new E({model:this.model,collection:this.collection,deferreds:this.deferreds,message:e}),this.children.errorStatus.render().prependTo(t)},hideErrorStatus:function(){i("body>.main-section-body").removeClass("dashboard-error"),this.children.errorStatus&&(this.children.errorStatus.remove(),this.children.errorStatus=null)}})}.apply(t,n))||(e.exports=s)},"controllers/dashboard/helpers/ActionHelper":function(e,t,i){var n,s;n=[i("shim/jquery"),i("require/underscore"),i("models/search/Report"),i("controllers/dashboard/helpers/DashboardV2Helper"),i("views/shared/dialogs/TextDialog"),i("views/dashboard/editor/dialogs/SaveAs"),i("views/dashboards/table/controls/SchedulePDF"),i("views/dashboards/table/controls/CloneDashboard"),i("views/shared/documentcontrols/dialogs/permissions_dialog/Master"),i("models/search/Dashboard"),i("models/ACLReadOnly"),i("helpers/Printer"),i("splunkjs/mvc"),i("splunkjs/mvc/utils"),i("shim/splunk.util"),i("uri/route"),i("dashboard/state/DashboardState"),i("dashboard/state/PanelState"),i("dashboard/state/ElementState"),i("dashboard/state/SearchState"),i("dashboard/state/DashboardMasterState"),i("dashboard/serializer/DashboardSerializer"),i("util/pdf_utils"),i("util/console"),i(59),i(26),i("util/url"),i("views/dashboards/table/controls/CloneToStudio")],void 0===(s=function(e,t,i,n,s,a,r,o,l,d,h,u,c,p,m,f,g,v,b,_,y,w,k,T,S,x,C,E){var M=m.sprintf,R={handleAction:function(e,t,i,n,s){switch(e){case"action:print":return R.print(),!0;case"action:export-pdf":return R.exportPDF.call(this),!0;case"action:schedule-pdf":return R.schedulePDF(i),!0;case"action:edit-permission":return R.editPermission(i,n,s),!0;case"action:clone":return R.clone(i,n,s),!0;case"action:make-home":return R.setHome(i),!0;case"action:delete":return R.delete(i),!0;case"action:open-in-v2":return R.openInV2(i,n,s),!0}},print:function(){u.printPage()},exportPDF:function(){var e=new g,i=this.layouts[0].captureStructure({omitFormInputs:!0,omitHidden:!0}),n=0,s={};e.updateLayout(i);var a=new y(null,null,{stateOptions:{tokens:!1}});a.setState(this.components[0]),e.addStateObject(a),t(i.children).each((function(i){t(i.children).each((function(i){var a=c.Components.get(i.id),r=new v(null,null,{stateOptions:{tokens:!1}});r.id=i.id,r.setState(a),e.addStateObject(r),t(i.children).each((function(i){var a=c.Components.get(i.id),r=new b(null,null,{stateOptions:{tokens:!1}});r.id=i.id,r.setState(a),e.addStateObject(r);var o=r.getState()["dashboard.element.managerid"];if(o){var l=t.isArray(o)?o:[o],d=t.chain(l).map((function(e){return c.Components.get(e)})).find((function(e){return"primary"===e.getType()})).value();d&&function t(i,a){if(i){var r=e.searches.get(i);if(!r){var o=c.Components.get(i);o&&((r=new _(null,null,{stateOptions:{tokens:!1}})).id=i,r.setState(o),e.addStateObject(r),t(r.getState().base),a&&(s["sid_"+n]=o.getSid()))}r.isReferenced=r.isReferenced||!a}}(d.id,!0)}n++}))}))}));var r=w.applyDashboardState(e,"<dashboard />",{forceDirty:!0,addGlobalSearches:!0});T.info("GENERATED FLATTENED XML",r),k.downloadReportFromXML(r,this.model.application.get("app"),this.model.application.get("page"),s)},schedulePDF:function(t){var i=new r({model:{scheduledView:t.scheduledView,dashboard:t.view,application:t.application,appLocal:t.state.appLocal},onHiddenRemove:!0});i.render().appendTo(e("body")),i.show()},editPermission:function(t,i,n){n.roles.then((function(){var n=new l({model:{document:t.view,nameModel:t.view.entry.content,user:t.user,serverInfo:t.serverInfo,application:t.application},collection:i.roles,nameLabel:"Dashboard",nameKey:"label",onHiddenRemove:!0});n.render().appendTo(e("body")),n.show()}))},clone:function(t,i,n,s){var a=new d;e.when(n.roles,a.fetch()).done((function(){a.setXML(t.view.entry.content.get("eai:data")),a.meta.set(t.view.meta.toJSON());var n=new o({model:{dashboard:a,acl:new h(e.extend(!0,{},t.view.entry.acl.toJSON())),application:t.application,appLocal:t.state.appLocal,state:t.state,user:t.user,serverInfo:t.serverInfo,cloneDashboardInStudio:s},collection:{roles:i.roles},onHiddenRemove:!0});e("body").append(n.render().el),n.show()}))},setHome:function(e){e.userPref.entry.content.set({"display.page.home.dashboardId":e.view.get("id")}),e.userPref.save({},{success:function(){window.location.href=f.home(e.application.get("root"),e.application.get("locale"))}})},openInV2:function(e,t,i){if(n.isDashboardAppFeatureEnabled())R.clone(e,t,i,E);else{var s="app/"+(n.isDashboardViewAvailable()?S.app:n.getDashboardV2AppName())+"/dashboard",a=x.createURL(s,{from_dashboard_id:e.view.entry.get("name"),from_app:S.app});window.open(a)}},delete:function(e){var i=e.view,n=new s({id:"modal-delete-dashboard"}),a=i.entry.content.get("label")||i.entry.get("name");n.settings.set({primaryButtonLabel:t("Delete").t(),cancelButtonLabel:t("Cancel").t(),titleLabel:t("Delete Dashboard").t()}),n.setText(M(t("Are you sure you want to delete %s?").t(),"<em>"+t.escape(a)+"</em>")),n.render().appendTo(document.body),n.once("click:primaryButton",(function(){i.destroy().done((function(){p.redirect(f.page(e.application.get("root"),e.application.get("locale"),e.application.get("app"),"dashboards")),n.remove()}))}),this),n.show()},saveAs:function(t,i,n,s){var r=e.Deferred(),o=new d;return e.when(s.roles).done((function(){o.setXML(t),o.meta.set(i.view.meta.toJSON());var s=new a({model:{dashboard:o,acl:new h(e.extend(!0,{},i.view.entry.acl.toJSON())),application:i.application,appLocal:i.state.appLocal,state:i.state,user:i.user,serverInfo:i.serverInfo},collection:{roles:n.roles},onHiddenRemove:!0});e("body").append(s.render().el),s.once("success",(function(){r.resolve(o)})),s.show()})),r.promise()},confirmPageRefresh:function(i){var n=e.Deferred(),a=new s({id:"modal_inline",onHiddenRemove:!0});return a.settings.set("primaryButtonLabel",t("Refresh").t()),a.settings.set("cancelButtonLabel",t("Not Now").t()),a.settings.set("titleLabel",t("Page refresh required").t()),a.setText(M(t("You have changed the dashboard %(changedAttr)s. To see this change, you must refresh the page.\n Would you like to refresh the page now?").t(),{changedAttr:i})),e("body").append(a.render().el),a.once("click:primaryButton",n.resolve),a.once("hide hidden",n.reject),a.show(),n.promise()}};return R}.apply(t,n))||(e.exports=s)},"controllers/dashboard/helpers/DrilldownStateConverter":function(e,t,i){"use strict";i(1),Object.defineProperty(t,"__esModule",{value:!0}),t.getReportName=t.applyState=t.generateLinkToDashboard=t.createInitialState=void 0;var n=m(i(53)),s=m(i("require/underscore")),a=m(i("shim/splunk.util")),r=m(i("dashboard/DashboardFactory")),o=m(i("dashboard/manager/FormManager")),l=m(i("splunkjs/mvc/tokenutils")),d=i("controllers/dashboard/helpers/ReportModelHelper"),h=m(i("models/dashboard/DashboardElementReport")),u=i("dashboard/containers/editor/drilldown/search/timeRangeOptionNames"),c=i("dashboard/containers/editor/drilldown/drilldownNames"),p=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(i("controllers/dashboard/helpers/DrilldownTokens"));function m(e){return e&&e.__esModule?e:{default:e}}var f=function(e){try{var t=e.settings.get("events").find((function(e){return"drilldown"===e.type})),i=t.settings.conditions||[],n=s.default.filter(t.settings.actions,(function(e){return"link"===e.type})),a=s.default.filter(t.settings.actions,(function(e){return"set"===e.type||"unset"===e.type||"eval"===e.type})),r=0===i.length,o=0===n.length&&0===a.length,l=1===n.length&&0===a.length,d=0===n.length&&a.length>=1;return r&&(o||l||d)}catch(e){return!0}},g=function(e){return e?e.settings.get("events").find((function(e){return"drilldown"===e.type})):null},v=function(e){var t=(0,d.getDisabledDrilldownAttribute)(e.entry.content.toJSON());return s.default.find(t,(function(t,i){return e.entry.content.get(i)!==t}))},b=function(e,t){var i=e.report,n=e.managerReportContent,r=e.searchModel,d=o.default.getInputs().filter((function(e){return"time"===e.settings.get("type")})).map((function(e){return{label:a.default.sprintf((0,s.default)("Shared Time Picker (%s)").t(),e.settings.get("token")),value:e.settings.get("token")}})),h=function(e,t){var i=t?t.get("earliest_time"):e.get("dispatch.earliest_time"),n=t?t.get("latest_time"):e.get("dispatch.latest_time"),a=u.EXPLICIT_OPTION;s.default.isUndefined(i)&&s.default.isUndefined(n)||"$earliest$"===i&&"$latest$"===n?a=u.GLOBAL_OPTION:l.default.isToken(i)&&l.default.isToken(n)&&(a=u.TOKEN_OPTION);var r={activeTimeRangeOption:a};return a===u.EXPLICIT_OPTION?Object.assign({},r,{activeTimeRange:{earliest:i,latest:n}}):Object.assign({},r,{activeTimeRangeToken:{earliest:l.default.getTokenName(i),latest:l.default.getTokenName(n)}})}(n,r),c=Object.assign({options:[{label:(0,s.default)("Auto").t(),value:"default"},{label:(0,s.default)("Custom").t(),value:"custom"}],activeOption:"default",search:i.entry.content.get("search"),searchError:"",target:"_blank",rel:"noopener,noreferrer",extraTimeRangeOptions:d,activeTimeRange:{},activeTimeRangeToken:{},earliestTokenError:"",latestTokenError:""},h);try{var p=g(t).settings.actions.find((function(e){return"link"===e.type})),m=p.value.match(/^search\?q=([\s\S]*)&earliest=([\s\S]*)&latest=([\s\S]*)/),f=p.value.match(/^search\?q=(.*)/),v=void 0;if(m){try{v=decodeURIComponent(m[1])}catch(e){v=m[1]}var b=m[2],_=m[3],y=void 0,w=void 0,k=void 0;if(l.default.isToken(b)&&l.default.isToken(_)){var T=l.default.getTokenName(b),S=l.default.getTokenName(_),x=T.replace(/\.?earliest$/g,""),C=S.replace(/\.?latest$/g,"");x===C&&d.find((function(e){return e.value===x}))?y=x:(y="earliest"===T&&"latest"===S?u.GLOBAL_OPTION:u.TOKEN_OPTION,w={earliest:T,latest:S})}else y=u.EXPLICIT_OPTION,k={earliest:b,latest:_};return s.default.defaults({},{activeOption:"custom",target:p.target||"_self",search:v,activeTimeRangeOption:y,activeTimeRangeToken:w,activeTimeRange:k},c)}if(f){try{v=decodeURIComponent(f[1])}catch(e){v=f[1]}return s.default.defaults({},{activeOption:"custom",target:p.target||"_self",search:v,activeTimeRangeOption:u.EXPLICIT_OPTION,activeTimeRange:{earliest:"",latest:""}},c)}}catch(e){return c}return c},_=function(e){return/^\/app\/[^/]+\/\w+/.test(e)},y=function(e){var t=e.match(/^\/app\/([^/]+)\/\w+/);if(t)return t[1]},w=function(e){return/^(\/app\/[^/]+\/)?report\?s=.*/.test(e)},k=function(e){return/^https?:\/\//.test(e)},T=function(e){var t=void 0;t=_(e)?e.match(/^\/app\/[^/]+\/report\?s=(.+)/)[1]:e.slice(9);var i=decodeURIComponent(t),n=i.match(/^\/servicesNS\/[^/]+\/[^/]+\/saved\/searches\/(.*)/),s=void 0;s=n?n[1]:i;try{s=decodeURIComponent(s)}catch(e){}return s},S=function(e){return _(e)?e.match(/^\/app\/[^/]+\/(.*)/)[1]:e},x=function(e){return S(e).replace(/\?.*/,"")},C=function(e,t){var i,n={activeApp:e.application.get("app"),activeDashboard:"",params:[{key:"",value:""}],target:"_blank",rel:"noopener,noreferrer"};try{var r=g(t).settings.actions.find((function(e){return"link"===e.type}));if(function(e){return/^search\?q=.*/.test(e)}(i=r.value)||w(i)||k(i))return n;var o=function(e){var t=S(e).split("?")[1];if(!t)return[];var i=a.default.queryStringToProp(t);return s.default.map(i,(function(e,t){return{key:t,value:e}}))}(r.value);return s.default.defaults({},{activeApp:y(r.value),target:r.target||"_self",activeDashboard:x(r.value),params:s.default.isEmpty(o)?void 0:o},n)}catch(e){return n}},E=function(e,t){var i={activeApp:e.application.get("app"),activeReport:"",target:"_blank",rel:"noopener,noreferrer"};try{var n=g(t).settings.actions.find((function(e){return"link"===e.type}));return w(n.value)?s.default.defaults({},{activeApp:y(n.value),target:n.target||"_self",activeReport:T(n.value)},i):i}catch(e){return i}},M=function(e){var t={target:"_blank",rel:"noopener,noreferrer"};try{var i=g(e).settings.actions.find((function(e){return"link"===e.type}));try{i.value=decodeURIComponent(i.value)}catch(e){}return s.default.defaults({},{url:i.value,target:i.target},t)}catch(e){return t}},R=function(e){var t=[{type:"set",token:"",value:""}];try{var i=g(e).settings.actions.filter((function(e){return"set"===e.type||"eval"===e.type||"unset"===e.type}));return{items:i.length>0?i:t}}catch(e){return{items:t}}},D=function(e,t){var i=(0,d.getDrilldownPropertyValue)(e.report.entry.content.toJSON());return l.default.isToken(i)?i:v(e.report)?E(e,t).activeReport?c.LINK_TO_REPORT:function(e){return!!e.activeDashboard}(C(e,t))?c.LINK_TO_DASHBOARD:function(e){return k(e.url)}(M(t))?c.LINK_TO_CUSTOM_URL:function(e){return e.items.filter((function(e){return e.type&&e.token})).length>0}(R(t))?c.EDIT_TOKENS:c.LINK_TO_SEARCH:c.NO_DRILLDOWN},P=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.absolute,n=e.forms[c.LINK_TO_DASHBOARD],s=n.activeApp,a=n.activeDashboard,r=n.params;if(!a)return"";var o=r.filter((function(e){return!!e.key})).map((function(e){return e.key+"="+e.value})).join("&"),l=o?a+"?"+o:a;return s===e.splunkEnv.application.app&&!1===i?l:"/app/"+s+"/"+l},L=function(e,t,i){e.unset("evtmanagerid"),t.report.entry.content.unset("dashboard.element.evtmanagerid"),i&&i.dispose(),t.controller.trigger("edit:delete-drilldown",{eventManagerId:i?i.id:null,elementId:e.get("id")})};t.createInitialState=function(e){var t,i,s=e.model,a=e.eventManager;return{isSupported:f(a),isCustomViz:(i=s.report,"viz"===h.default.getVizType(i)),activeAction:D(s,a),forms:(t={},(0,n.default)(t,c.LINK_TO_SEARCH,b(s,a)),(0,n.default)(t,c.LINK_TO_DASHBOARD,C(s,a)),(0,n.default)(t,c.LINK_TO_REPORT,E(s,a)),(0,n.default)(t,c.LINK_TO_CUSTOM_URL,M(a)),(0,n.default)(t,c.EDIT_TOKENS,R(a)),t),elementEnv:{drilldownTokens:p.getTokens(s.report)},splunkEnv:{application:s.application.toJSON()}}},t.generateLinkToDashboard=P,t.applyState=function(e){var t,i=e.state,n=e.settings,a=e.model,o=e.eventManager;if(i.activeAction===c.NO_DRILLDOWN)(t=a.report).entry.content.set((0,d.getDisabledDrilldownAttribute)(t.entry.content.toJSON())),L(n,a,o);else{if(v(a.report)||function(e){e.entry.content.set((0,d.getEnabledDrilldownAttribute)(e.entry.content.toJSON()))}(a.report),i.activeAction===c.LINK_TO_SEARCH&&"default"===i.forms[c.LINK_TO_SEARCH].activeOption)return void L(n,a,o);var h=function(e){var t={type:"drilldown"},i=void 0,n=void 0,a=void 0;switch(e.activeAction){case c.LINK_TO_SEARCH:switch((i=e.forms[c.LINK_TO_SEARCH]).activeTimeRangeOption){case u.TOKEN_OPTION:n="$"+i.activeTimeRangeToken.earliest+"$",a="$"+i.activeTimeRangeToken.latest+"$";break;case u.EXPLICIT_OPTION:n=i.activeTimeRange.earliest,a=i.activeTimeRange.latest;break;case u.GLOBAL_OPTION:n="$earliest$",a="$latest$";break;default:n="$"+i.activeTimeRangeOption+".earliest$",a="$"+i.activeTimeRangeOption+".latest$"}try{var r=i.search,o=l.default.hasToken(r);r=encodeURIComponent(r),o&&(r=(r=r.replace(/%24/g,"$")).replace(/%7C(?=s|u|h|n)/g,"|")),i.search=r}catch(e){}Object.assign(t,{settings:{actions:[{target:i.target,type:"link",value:"search?q="+i.search+"&earliest="+n+"&latest="+a}]}});break;case c.LINK_TO_DASHBOARD:i=e.forms[c.LINK_TO_DASHBOARD],Object.assign(t,{settings:{actions:[{target:i.target,type:"link",value:encodeURI(P(e))}]}});break;case c.LINK_TO_REPORT:i=e.forms[c.LINK_TO_REPORT],Object.assign(t,{settings:{actions:[{target:i.target,type:"link",value:encodeURI("/app/"+i.activeApp+"/report?s="+i.activeReport)}]}});break;case c.LINK_TO_CUSTOM_URL:i=e.forms[c.LINK_TO_CUSTOM_URL],Object.assign(t,{settings:{actions:[{target:i.target,type:"link",value:i.url}]}});break;case c.EDIT_TOKENS:i=e.forms[c.EDIT_TOKENS],Object.assign(t,{settings:{actions:s.default.filter(i.items,(function(e){return e.type&&e.token}))}})}return{type:"event-manager",settings:{events:[t]}}}(i),p=null;o?(p=o).applySetting(h.settings):(p=r.default.getDefault().instantiate(h,{}),n.set("evtmanagerid",p.id)),a.controller.trigger("edit:drilldown",{eventManagerId:p.id,eventManager:p,elementId:n.get("id")})}},t.getReportName=T},"controllers/dashboard/helpers/DrilldownTokens":function(e,t,i){"use strict";i(1),Object.defineProperty(t,"__esModule",{value:!0}),t.getTokens=t.customVizTokens=t.tableTokens=t.singleValueTokens=t.mapTokens=t.eventTokens=t.chartTokens=void 0;var n=r(i("require/underscore")),s=r(i("models/dashboard/DashboardElementReport")),a=i("controllers/dashboard/helpers/vizTypeNames");function r(e){return e&&e.__esModule?e:{default:e}}var o=t.chartTokens=[{token:"$click.name$",description:(0,n.default)("X-axis field or category name for the clicked location. Not available if the user clicks the chart legend.").t()},{token:"$click.value$",description:(0,n.default)("X-axis field or category value for the clicked location. Not available if the user clicks the chart legend.").t()},{token:"$click.name2$",description:(0,n.default)("Y-axis field or series name for the clicked location. Not available if the user clicks the chart legend.").t()},{token:"$click.value2$",description:(0,n.default)("Y-axis field or series value for the clicked location. Not available if the user clicks the chart legend.").t()},{token:"$row.<fieldname>$",description:(0,n.default)("Access any y-axis field value corresponding to the clicked location x-axis. Not available if the user clicks the chart legend.").t()},{token:"$row.<x-axis-name>$",description:(0,n.default)("Access any x-axis field value corresponding to the clicked location. Not available if the user clicks the chart legend.").t()},{token:"$earliest$",description:(0,n.default)("Earliest time for the clicked chart segment. If not applicable, uses the earliest time for the search.").t()},{token:"$latest$",description:(0,n.default)("Latest time for the clicked chart segment. If not applicable, uses the latest time for the search.").t()},{token:"$trellis.name$",description:(0,n.default)("Trellis layout split field name.").t()},{token:"$trellis.value$",description:(0,n.default)("Trellis layout split field value for the clicked segment.").t()},{token:"$trellis.split.<fieldname>$",description:(0,n.default)("Trellis layout aggregation or field value for the clicked visualization segment.").t()}],l=t.eventTokens=[{token:"$click.name$",description:(0,n.default)("Field name for the clicked element in the event list.").t()},{token:"$click.value$",description:(0,n.default)("Field value for the clicked element in the event list.").t()},{token:"$click.name2$",description:(0,n.default)("Identical to click.name.").t()},{token:"$click.value2$",description:(0,n.default)("Identical to click.value.").t()},{token:"$row.<fieldname>$",description:(0,n.default)("Access any field value in the clicked event.").t()},{token:"$earliest$",description:(0,n.default)("Earliest time for the clicked event. Equivalent to _time field value.").t()},{token:"$latest$",description:(0,n.default)("Latest time for the clicked event. Equivalent to one second after the _time field value.").t()}],d=t.mapTokens=[{token:"$click.name$",description:(0,n.default)("Field name for the clicked location. If multiple fields are associated with the location, uses the first field.").t()},{token:"$click.value$",description:(0,n.default)("Field value for the clicked location. If multiple fields are associated with the location, uses the first field.").t()},{token:"$click.name2$",description:(0,n.default)("Same as click.name.").t()},{token:"$click.value2$",description:(0,n.default)("Same as click.value.").t()},{token:"$click.lat.name$",description:(0,n.default)("For cluster maps: latitude field name for the clicked location.").t()},{token:"$click.lat.value$",description:(0,n.default)("For cluster maps: latitude field value for the clicked location.").t()},{token:"$click.lon.name$",description:(0,n.default)("For cluster maps: longitude field name for the clicked location.").t()},{token:"$click.lon.value$",description:(0,n.default)("For cluster maps: longitude field value for the clicked location.").t()},{token:"$click.bounds.<orientation>$",description:(0,n.default)("For cluster maps: south, west, north, or east outer boundary for the clicked location. For example, use $click.bounds.east$ to get the eastern outer boundary.").t()},{token:"$row.<fieldname>$",description:(0,n.default)("Access field values related to the clicked location. Check the Statistics tab for available fields.").t()},{token:"$earliest$",description:(0,n.default)("Earliest time for the search generating the map.").t()},{token:"$latest$",description:(0,n.default)("Latest time for the search generating the map.").t()},{token:"$trellis.name$",description:(0,n.default)("For choropleth maps: trellis layout split field name.").t()},{token:"$trellis.value$",description:(0,n.default)("For choropleth maps: trellis layout split field value for the clicked segment.").t()},{token:"$trellis.split.<fieldname>$",description:(0,n.default)("For choropleth maps: trellis layout aggregation or field value for the clicked visualization segment.").t()}],h=t.singleValueTokens=[{token:"$click.name$",description:(0,n.default)("Name of the field that the single value represents.").t()},{token:"$click.value$",description:(0,n.default)("Field value that the single value represents.").t()},{token:"$click.name2$",description:(0,n.default)("Same as click.name.").t()},{token:"$click.value2$",description:(0,n.default)("Same as click.value.").t()},{token:"$row.<fieldname>$",description:(0,n.default)("Access any field value from the Statistics table row for the single value.").t()},{token:"$earliest$",description:(0,n.default)("Earliest time of the search driving the single value visualization.").t()},{token:"$latest$",description:(0,n.default)("Latest time of the search driving the single value visualization.").t()},{token:"$trellis.name$",description:(0,n.default)("Trellis layout split field name.").t()},{token:"$trellis.value$",description:(0,n.default)("Trellis layout split field value for the clicked segment.").t()},{token:"$trellis.split.<fieldname>$",description:(0,n.default)("Trellis layout aggregation or field value for the clicked visualization segment.").t()}],u=t.tableTokens=[{token:"$click.name$",description:(0,n.default)("Leftmost field (column) name in the table.").t()},{token:"$click.value$",description:(0,n.default)("Leftmost field (column) value in the clicked table row.").t()},{token:"$click.name2$",description:(0,n.default)("Clicked field (column) name.").t()},{token:"$click.value2$",description:(0,n.default)("Clicked field (column) value. Captures the specific table cell value that users click.").t()},{token:"$row.<fieldname>$",description:(0,n.default)("Access any field (column) value from the clicked table row.").t()},{token:"$earliest$",description:(0,n.default)("Earliest time of the clicked table row, or if not applicable, the earliest time of the search.").t()},{token:"$latest$",description:(0,n.default)("Latest time of the clicked table row, or if not applicable, the latest time of the search.").t()}],c=t.customVizTokens=[];t.getTokens=function(e){switch(s.default.getVizType(e)){case a.CHART:return o;case a.SINGLE_VALUE:return h;case a.MAP:return d;case a.CUSTOM_VIZ:return c;case a.EVENT:return l;case a.TABLE:return u;default:return[]}}},"controllers/dashboard/helpers/EditingHelper":function(e,t,i){var n,s;n=[i("shim/jquery"),i("require/underscore"),i("splunkjs/mvc"),i("models/search/Report"),i("models/dashboard/DashboardElementReport"),i("dashboard/DashboardParser"),i("dashboard/DashboardFactory"),i("views/dashboard/layout/row_column/Row"),i("util/xml"),i("dashboard/serializer/PanelSerializer")],void 0===(s=function(e,t,n,s,a,r,o,l,d,h){return{saveAsReport:function(i,n,s,a){var r=e.Deferred();a=a||{};var l=t.extend({},t.omit(s.entry.content.toJSON({omitNonSavedSearchesDefaults:!0}),"name","description"),{search:i.settings.resolve({tokens:!1}),"dispatch.earliest_time":i.get("earliest_time",{tokens:!1}),"dispatch.latest_time":i.get("latest_time",{tokens:!1})}),d=i.get("sample_ratio");null!=d&&(l["dispatch.sample_ratio"]=String(d)),n.entry.content.set(l);var h=n.entry.content.get("name");return n.entry.set({name:h}),n.save({},{data:{app:a.app,owner:a.owner}}).then((function(){o.getDefault().instantiate({type:"saved-search",id:i.id,settings:{searchname:h,app:a.app,auto_cancel:90,status_buckets:0,preview:!0,timeFormat:"%s.%Q",wait:0,refresh:i.get("refresh"),refreshType:i.get("refreshType"),type:i.get("type")},settingsOptions:{replace:!0}},{replaceDuplicateIDs:!1}),r.resolve()})).fail(r.reject),r},saveAsInlineSearch:function(t,i,n,s){s=s||{};var a=n,r=n.entry.content.toJSON({omitNonSavedSearchesDefaults:!0,onlyDisplayProperties:!0}),l={latest_time:a.entry.content.get("dispatch.latest_time"),earliest_time:a.entry.content.get("dispatch.earliest_time"),search:a.entry.content.get("search",{tokens:!0}),app:s.app,auto_cancel:90,status_buckets:0,preview:!0,timeFormat:"%s.%Q",wait:0,refresh:t.get("refresh"),refreshType:t.get("refreshType"),type:t.get("type")};return a.entry.content.has("displayview")&&(r.displayview=a.entry.content.get("displayview")),a.entry.content.has("dispatch.sample_ratio")&&(l.sample_ratio=a.entry.content.get("dispatch.sample_ratio")),i.set(r,{tokens:!0}),o.getDefault().instantiate({type:"inline-search",id:t.id,settings:l,settingsOptions:{replace:!0}},{replaceDuplicateIDs:!1}),e.Deferred().resolve(a)},updateReportId:function(i,n,s,r,l,d){var h=e.Deferred(),u=this.getComponent(n);if(r&&s.get("id")!=r){s.set({id:r},{silent:!0}),s.entry.set({id:r},{silent:!0}),s.id=r;var c=u.settings.get("managerid")||u.settings.get("manager"),p=this.getElementPanel(u);s.fetch({}).then((function(){l&&p&&p.settings.set("title",l);var e=t.pick(i.settings.toJSON(),"auto_cancel","status_buckets","preview","refresh","refreshType");o.getDefault().instantiate({type:"saved-search",id:c,settings:t.extend({searchname:s.entry.get("name"),app:d.app,auto_cancel:90,status_buckets:0,preview:!0,timeFormat:"%s.%Q",wait:0,refresh:i.get("refresh"),refreshType:i.get("refreshType"),type:i.get("type")},e),settingsOptions:{replace:!0}},{replaceDuplicateIDs:!1}),u.model.elementReport.set(t.pick(s.entry.content.toJSON(),a.getVizTypeReportProperties())),h.resolve()})).fail(h.reject)}else h.resolve();return h},useReportSettingsForElement:function(e,i){var n=t.extend({displayview:!0},a.getDisplayProperties(e.toJSON()),a.NON_SAVEDSEARCHES_DEFAULTS.toJSON());for(var s in n)n[s]=void 0;e.set(t.pick(i.entry.content.toJSON(),a.getVizTypeReportProperties())),e.set(n,{unset:!0})},convertToPrebuiltPanel:function(n,s,a,r){var o=n.captureStructure(),l=r.state,u=l.panels.get(n.id),c=t(o.children).chain().where({type:"input"}).pluck("id").value(),p=t(o.children).chain().where({type:"element"}).pluck("id").value(),m=h.createPanelNode(u,c,p,l);t(["id","depends","rejects"]).each((function(e){m.removeAttr(e)}));var f=e.Deferred();s.entry.content.set("eai:data",d.serializeDashboardXML(m,!0)),s.entry.content.set("name",a.get("panelName"));var g=n.model.application.getPermissions(a.get("panelPerm"));return s.save({},{data:g}).done((function(){Promise.resolve().then((function(){var a=[i("views/dashboard/layout/PanelRef")];(function(i){var a=e('<div class="dashboard-cell"></div>').insertBefore(n.$el),o=n.id;n.remove();var d=new i({id:o,ref:s.entry.content.get("name"),model:t.extend({panel:s},r.model),collection:r.collection,deferreds:r.deferreds,el:a});d.render(),t(c).each((function(e){l.removeInput(e)})),t(p).each((function(e){l.removeElement(e)})),l.updatePanel(n.id,d),n.$el.trigger("resetDragAndDrop"),s.trigger("createSuccess"),f.resolve()}).apply(null,a)})).catch(i.oe)})).fail(f.reject),f},convertToInlinePanel:function(t,i){var n=e.Deferred(),s=t.model.panel.entry.content.get("eai:data"),a=r.getDefault().parse(s,{retainRawXML:!0});a.id=t.id;var l=e("<div></div>").insertBefore(t.$el);return t.remove(),o.getDefault().materialize(a,null,{model:i.model,deferreds:i.deferreds,renderRoot:!0,loadPanels:!0,createStateObjects:!0}).then((function(e,t,i,s,a){e.$el.insertAfter(l),l.remove(),e.$el.trigger("resetDragAndDrop"),n.resolve(e,t,i,s,a)})),n},highlight:function(i){var n=i.$el;e("html,body").animate({scrollTop:n.offset().top}),t.defer((function(){n.addClass("panel-highlight"),t.delay((function(){n.removeClass("panel-highlight")}),2e3)}))},getElementPanel:function(i){return t(i.$el.parents(".dashboard-cell")).chain().map((function(t){return e(t).attr("id")})).map(t.bind(n.Components.get,n.Components)).filter(t.identity).first().value()},getComponent:function(e){return n.Components.get(e)}}}.apply(t,n))||(e.exports=s)},"controllers/dashboard/helpers/ModelHelper":function(e,t,i){(function(n){var s,a;s=[i("shim/jquery"),i("require/underscore"),i("require/backbone"),i("collections/shared/Dashboards"),i("collections/services/authorization/Roles"),i("collections/services/data/ui/Panels"),i("collections/search/Reports"),i("collections/services/data/ui/Times"),i("collections/services/configs/SearchBNFs")],void 0===(a=function(e,t,i,n,s,a,r,o,l){var d=function(e,t){t=t||{};var i=new e;return i.dfd=i.fetch(t),i.fetchData.set(t.data,{silent:!0}),i.original_count=i.fetchData.get("count"),i},h=function(e){try{return JSON.stringify(e)}catch(e){return t.uniqueId("cache")}},u={dashboards:{get:t.memoize((function(e){return d(n,{data:e})}),h)},panels:{get:t.memoize((function(e){return d(a,{data:e})}),h)},roles:{get:t.memoize((function(e){return d(s,{data:e})}),h)},reports:{get:t.memoize((function(e){return d(r,{data:e})}),h)},times:{get:t.memoize((function(e){return d(o,{data:e})}),h)},parsedSearchBNFs:{get:t.memoize((function(e){return d(l,{data:e,parseSyntax:!0})}),h)}};return{getCachedModel:function(e,i){if(t.has(u,e))return u[e].get(i);throw new Error("There is no cached model '"+e+"'")},getModel:function(e,t){return d(e,{data:t})},getViewOnlyModel:function(e){var n=e.state.toJSON();n.mode="view",n.editable=!1;var s=new i.Model(n);return t.extend({},e,{state:s})}}}.apply(t,s))||(e.exports=a)}).call(this,i(31))},"dashboard/DashboardFactory":function(e,t,i){var n,s;n=[i("require/underscore"),i("shim/jquery"),i("splunkjs/mvc"),i("splunkjs/mvc/utils"),i("dashboard/factory_config"),i("dashboard/factory_config_legacy"),i("util/console")],void 0===(s=function(e,t,i,n,s,a,r){var o,l={viz:!0,input:!0},d={replaceDuplicateIDs:!0},h=function(){this.initialize.apply(this,arguments)};return e.extend(h.prototype,{initialize:function(t,n){n=e.defaults(n||{},d),e.bindAll(this,"_calculateSettings","_normalizeConfig","_updateComponentSettings","getComponentList","_getComponentList","getComponentTypeConfig","getModuleForType","groupComponents","initialize","instantiateComponent","isComponentOfClass","isDomComponent","materialize","materializeComponent"),this.config=this._normalizeConfig(t),this.registry=n.registry||i.Components,this.idSeq={},this.replaceDuplicateIDs=n.replaceDuplicateIDs,this._app=n.app,this._legacy=n.legacy},materialize:function(e,i,n){n||(n={});var s=t.extend(!0,{},e),a=this.getComponentList(s,n);return this.materializeComponents(a,i,n).promise()},materializeComponents:function(i,n,s){s||(s={});var a=this,r=t.Deferred(),o=a.instantiateComponent,l=a.materializeComponent,d=null;s.createStateObjects&&(d=[],o=function(e){var t=a.instantiateComponent.apply(a,arguments);return e.state&&d.push(a.createStateObject(e,t)),t},l=function(e){var t=a.materializeComponent.apply(a,arguments);return e.state&&d.push(a.createStateObject(e,t)),t});var u=a.groupComponents(i),c=e(u.managers||[]).map(o),p=e(u.others||[]).map(e.partial(l,e,n,s)),m=e(u.events||[]).map(o);return!1!==s.waitForReady?t.when.apply(t,e.map(p,h.whenComponentReady)).then((function(){r.resolve(p[0],c,p,m,d)}),(function(){r.reject()})):r.resolve(p[0],c,p,m,d),r.promise()},createStateObject:function(e,t){return new(e.state.getModule())(t,e.rawXML,{id:e.id,autoId:e.autoId})},materializeExisting:function(i,n,s){s||(s={}),(n=t.extend(!0,{},n)).id=i.id,n.omit=!0;var a=this.getComponentList(n,s),r=a[0],o=e.result(i,"getChildContainer"),l=t.Deferred();return this.materializeComponents(a,o,s).done((function(t,n,s,a){e.isFunction(i.applySettings)?i.applySettings(r.settings):i.settings&&i.settings.set(r.settings),l.resolve(i,n,s,a)})).fail(l.reject),l.promise()},instantiate:function(e,t){return this._normalizeComponentConfig(e,null,null,t),this.instantiateComponent(e)},instantiateComponent:function(t){var i=this.getModuleForType(t.type),n=e.defaults({id:t.id,parentElement:t.parent},t.settings),s=e.extend({},t.settingsOptions);return t.reportContent&&(n.reportContent=t.reportContent),r.debug("Instantiating component",t.type,"with settings",n,s),new i(n,s)},materializeComponent:function(e,t,i){var n,s;return i||(i={}),e.omit||(s=this.instantiateComponent(e),this.isDomComponent(e)&&(e.parent?(n=this.registry.get(e.parent),r.debug("Attaching component to parent",e.parent,n),n&&h.addChildToContainer(s,n)):t?s.render().$el.appendTo(t):i.renderRoot&&s.render(),!0===i.loadPanels&&"panelref"===e.type&&s.load(e.settings.ref,e.settings.app||this._app))),s},isDomComponent:function(e){return!0===this.getComponentTypeConfig(e).dom},isSearchManagerConsumer:function(e){return!!l[this.getComponentTypeConfig(e).class]},isComponentOfClass:function(e,t){return this.getComponentTypeConfig(e).class==t},getComponentTypeConfig:function(e){var t=this.config.typeMap[e.type];if(!t)throw new Error("No factory settings for component type "+JSON.stringify(e.type));return t},getTypeConfigByClass:function(t){return e(this.config.typeMap).chain().values().filter((function(e){return e.class===t})).value()},getComponentList:function(t,i){i||(i={});var n=[],s=null,a=this;return this._walk((function(e){e.id&&n.push(e.id),a.isComponentOfClass(e,"manager")&&"global"==e.id&&(s=e.id),a._generateEmptyManager(e,s)}),t),this._getComponentList(t,null,e.extend({},i,{predefinedIDs:e.extend(n,i.predefinedIDs),globalSearchId:s}))},_generateEmptyManager:function(t,i){var n=this;e(t.children).chain().find((function(e){return n.isComponentOfClass(e,"manager")&&e.settings&&("primary"===e.settings.type||!e.settings.type)}),this).value()||!n.isComponentOfClass(t,"viz")||i||t.children.push({type:"inline-search",settings:{query:""}})},_getComponentList:function(t,i,n){var s=[];if(null==t)return s;var a=e.omit(t,"children","leaf");if(this._normalizeComponentConfig(a,t.children,i,n),n.createStateObjects&&this._updateStateObjectProps(a,n),t.type&&s.push(a),t.children&&t.children.length)if(t.leaf)a.children=[].concat(t.children);else{var r=e(t.children).chain().each((function(e){e.parent=a.id})).map(e.partial(this._getComponentList,e,a,n)).flatten().value();r.length&&(s=s.concat.apply(s,r),a.children=e(t.children).pluck("id"))}return s},_normalizeComponentConfig:function(e,t,i,n){this._normalizeIdentifier(e,n),this._updateComponentSettings(e,t,i,n),this._updateComponentSettingsOptions(e,t,i)},groupComponents:function(t){var i=this;return e(t).groupBy((function(e){return i.isComponentOfClass(e,"manager")||i.isComponentOfClass(e,"eventmanager")?"managers":i.isComponentOfClass(e,"event")?"events":"others"}))},_updateStateObjectProps:function(e,t){var i=this.getComponentTypeConfig(e);i.state&&(e.state=i.state)},_updateComponentSettings:function(t,i,n,s){var a=this.getComponentTypeConfig(t),r=a.settingsToCreate||{},o=a.defaultSettings||{},l=this._calculateSettings(t,i,n,s);if(t.settings=e.extend({},o,t.settings||{},r,l),a.reportContent&&(t.reportContent=e.extend(t.reportContent||{},a.reportContent)),a.renameSettings&&e(a.renameSettings).each((function(e,i){t.settings.hasOwnProperty(i)&&!t.settings.hasOwnProperty(e)&&(t.settings[e]=t.settings[i],delete t.settings[i])})),t.settingsOptions=e.extend({},a.settingsOptions,t.settingsOptions),this._legacy&&t.reportContent){var d=t.reportContent["display.general.type"],h={},u="display."+d;e(t.reportContent).each((function(e,t){var i=t.slice(u.length+1);i&&(h[i]=e)})),t.settings=e.extend({},t.settings,h)}return t},_calculateSettings:function(t,i,n,s){var a={};if((s=s||{}).model&&(a.model=s.model),s.collection&&(a.collection=s.collection),s.deferreds&&(a.deferreds=s.deferreds),this.isSearchManagerConsumer(t)){var r=e(i).chain().filter((function(e){return this.isComponentOfClass(e,"manager")}),this).value();if(r.length){var o=e.map(r,(function(e){return this._normalizeIdentifier(e,s)}),this);a.managerid=1===o.length?o[0]:o}else s.globalSearchId&&this.isComponentOfClass(t,"viz")&&(a.managerid=s.globalSearchId)}return this.isComponentOfClass(t,"manager")&&(a.app=this._app,s&&s.idPrefix&&t.settings.base&&(a.base=s.idPrefix+t.settings.base)),this.isComponentOfClass(t,"eventmanager")&&n&&(n.settings.evtmanagerid=t.id),this.isComponentOfClass(t,"event")&&n&&(this.isComponentOfClass(n,"manager")?a.managerid=n.id:a.viewid=n.id),this.isComponentOfClass(t,"input")&&("time-input"===t.type?(a.earliest_time=t.settings.token?"$form."+t.settings.token+".earliest$":"$earliest$",a.latest_time=t.settings.token?"$form."+t.settings.token+".latest$":"$latest$"):t.settings.token&&(a.value="$form."+t.settings.token+"$")),a},_updateComponentSettingsOptions:function(e,t,i){return this.isComponentOfClass(e,"manager")&&(i&&this.isComponentOfClass(i,"input")?e.settingsOptions.tokenNamespace="default":e.settingsOptions.tokenNamespace="submitted"),e},_walk:function(e,t){var i=[];t&&i.push(t);for(var n=i.shift();n;)e(n),Array.prototype.push.apply(i,n.children),n=i.shift()},_normalizeIdentifier:function(t,i){if(!t.omit){var n=this.registry.toJSON(),s=e.extend({},n);i&&i.predefinedIDs&&e(i.predefinedIDs).each((function(e){s[e]=!0}));var a=i&&i.idPrefix||"";if(!t.id){var r=this.getComponentTypeConfig(t);if(r.autoId){var o,l=r.autoId,d=this.idSeq[l];null==d&&(d=1);do{o=a+l+d++}while(s[o]);this.idSeq[l]=d,t.id=o,t.autoId=!0}}return 0!==t.id.indexOf(a)&&(t.id=a+t.id),("replaceDuplicateIDs"in i?i.replaceDuplicateIDs:this.replaceDuplicateIDs)&&n[t.id]?(delete t.id,this._normalizeIdentifier(t,i)):t.id}},getModuleForType:function(e){var t=this.config.typeMap[e];if(!t)throw new Error("Unknown component type "+JSON.stringify(e));return t.getModule()},_normalizeConfig:function(i){var n={typeMap:{}};return e(i.typeMap).each((function(e,s,a){var r={};e.class&&(r=i.classes[e.class]),n.typeMap[s]=t.extend(!0,{},r,e)})),n}}),e.extend(h,{getDefault:function(){return o||(o=h.createDefault())},createDefault:function(){return new h(h.getDefaultConfig(),{app:n.getCurrentApp()})},createLegacy:function(){return new h(h.getLegacyConfig(),{app:n.getCurrentApp(),legacy:!0})},resetDefault:function(){o=null},getDefaultConfig:e.once((function(){return s})),getLegacyConfig:function(){return a},getDashboardPanels:function(e){if("dashboard"!==e.type)throw new Error("Expected root type to be a dashboard");var t=[];return h.prototype._walk((function(e){"panel"!==e.type&&"panelref"!==e.type||t.push(e)}),e),t},addChildToContainer:function(e,t){if("function"==typeof t.getChildContainer){var i=t.getChildContainer();e.render().$el.appendTo(i)}else"function"==typeof t.addChild?t.addChild(e):r.warn("Can't add child to container - no addChild or getChildContainer method found",e,t)},whenComponentReady:function(i){return e.result(i,"componentReady")||t.Deferred().resolve()}}),h}.apply(t,n))||(e.exports=s)},"dashboard/DashboardMetrics":function(e,t,i){"use strict";i(1),Object.defineProperty(t,"__esModule",{value:!0});var n=l(i(10));t.sendDashboardMetrics=function(e){var t=e.model,i=e.state,n=e.deferreds,a=e.managers,r=e.VisualizationRegistry,o=e.SearchManager,l=e.isValidPivotSearch;s.default.isUndefined(window._splunk_metrics_events)&&(window._splunk_metrics_events=[]);Promise.all(s.default.values(n)).then((function(){d(t,i,a,r,o,l)}))},t.getAndSendData=d,t.captureDashboardMetrics=h,t.getDashboardAttrs=u,t.getElementTypeCounts=c,t.getFormInputTypeCounts=p,t.getSummaryAttrs=m,t.getSearchTypeCounts=f,t.makeRTSearchPromise=g,t.sendCustomJSErrorEvent=function(){window._splunk_metrics_events.push({type:"dashboard.error",data:{errorType:"customJSError"}})};var s=l(i("require/underscore")),a=l(i("require/backbone")),r=l(i("shim/requirejs")),o=i("util/dashboard_utils");function l(e){return e&&e.__esModule?e:{default:e}}function d(e,t,i,s,a,o){var l=h(e,t,i,s,a,o),d=r.default.getInternalDependencies(),u=window.$C.ENABLE_RISKY_COMMAND_CHECK_DASHBOARD;return l.then((function(e){var t=(0,n.default)({},e,{dependencies:d,enableRiskyCommandCheckDashboard:u});window._splunk_metrics_events.push({type:"dashboard.load",data:t})}))}function h(e,t,i,n,s,a){var r=m(t),o=u(e.committedState,e.page,e.scheduledView,t.fieldset),l=c(t.elements,e.reportDefaults,n),d=p(t.inputs),h=i.filter((function(e){return e instanceof s}));return f(t.searches,h,a).then((function(e){return Object.assign({searchTypeCounts:e,dashboard:o,elementTypeCounts:l,formInputTypeCounts:d},r)}))}function u(e,t,i,n){var s=e.get("structure").settings||{},a=s.isVisible||!1,r=s.refresh||0,l=s.script||[],d=s.version||(0,o.getDefaultSimpleXMLVersion)(),h=(s.stylesheet||[]).length,u=l.length,c=s.theme||"light",p=!!t.get("hideAppBar"),m=!!t.get("hideChrome"),f=!!t.get("hideEdit"),g=!!t.get("hideFilters"),v=!!t.get("hideSplunkBar"),b=!!t.get("hideTitle"),_=!!t.get("hideExport"),y=!!i.entry.content.get("is_scheduled"),w=n.getState?n.getState():{},k=!!w.submitButton;return{autoRun:!!w.autoRun,hideAppBar:p,hideChrome:m,hideEdit:f,hideFilters:g,hideSplunkBar:v,hideTitle:b,isScheduled:y,isVisible:a,numCustomCss:h,numCustomJs:u,refresh:r,submitButton:k,theme:c,hideExport:_,version:d}}function c(e,t,i){var n=t.entry?t.entry:{},r=n.content?n.content:new a.default.Model,o=(e.getStates?e.getStates():[]).map((function(e){var t=e.getState();if("html"===t.type)return"html";var n=Object.assign({},r.toJSON(),t),s=i.findVisualizationForConfig(n);return s?s.id:"unknown"}));return s.default.countBy(o,(function(e){return e}))}function p(e){var t=e.getStates?e.getStates():[];return s.default.countBy(t,(function(e){return e.getState().type}))}function m(e){var t=e.elements,i=e.inputs,n=e.searches,s=e.layout,a=e.panels,r=t.getStates().length||0,o=i.getStates().length||0,l=n.getStates().length||0,d=s.getState().type||"row-column-layout",h={layoutType:d,numElements:r,numFormInputs:o,numSearches:l};if("row-column-layout"===d){var u=a.getStates(),c=u.length,p=u.reduce((function(e,t){var i=t.getState();return e+(i.ref&&i.ref.length>0?1:0)}),0);h.numPanels=c,h.numPrebuiltPanels=p}return h}function f(e,t,i){var n=e.getStates();if(s.default.isEmpty(n)||s.default.isEmpty(t))return Promise.resolve({});var a=[];n.forEach((function(e){var t=e.getState(),n=t.searchType,s=t.search,r=t.refresh;a.push(n),i(s)&&a.push("pivot"),r&&a.push("refresh")}));var r=s.default.countBy(a,(function(e){return e})),o=t.map((function(e){return g(e)}));return Promise.all(o).then((function(e){var t=e.reduce((function(e,t){return e+t}),0);return t>0&&(r.realtime=t),r}))}function g(e){var t={},i=void 0,n=new Promise((function(n){e.on("search:start search:progress search:done",(function(e){return n(e.content.isRealTimeSearch?1:0)}),t),e.on("search:fail search:error",(function(){return n(0)}),t),e.replayLastSearchEvent(t),i=setTimeout((function(){return n(0)}),1e4)})),s=function(){e.off(null,null,t),clearTimeout(i)};return n.then(s,s),n}},"dashboard/DashboardRefresher":function(e,t,i){var n,s;n=[i("require/underscore"),i("require/backbone")],void 0===(s=function(e,t){var i=function(){this.refreshInterval=null,this.managers=[],this.autoRefresh=null};return e.extend(i.prototype,t.Events,{setup:function(e,t){this.refreshInterval=e,this.managers=t,this.refresh()},refresh:function(){this.autoRefresh=setInterval(function(){e(this.managers).chain().filter((function(t){return e.isFunction(t.startSearch)})).invoke("startSearch",{refresh:!0})}.bind(this),1e3*this.refreshInterval)},teardown:function(){this.autoRefresh&&clearInterval(this.autoRefresh),this.autoRefresh=null}}),new i}.apply(t,n))||(e.exports=s)},"dashboard/EnvironmentTokenModel":function(e,t,i){var n,s;n=[i("require/underscore"),i("require/backbone"),i("util/readonly")],void 0===(s=function(e,t,i){var n=t.Model.extend({},{createEnvironmentTokenModel:function(t){var s={app:t.model.application.get("app"),locale:t.model.application.get("locale"),page:t.model.application.get("page"),user:t.model.application.get("owner")},a=new n(s);t.deferreds.serverInfo.then((function(){a.set("version",t.model.serverInfo.entry.content.get("version"));var i=t.model.serverInfo.entry.content.get("product_type");a.set("product",i);e(["enterprise","hunk","lite","lite_free"]).each((function(e){i==e&&a.set("is_"+e,"true")})),t.model.serverInfo.isFreeLicense()&&a.set("is_free","true");var n=t.model.serverInfo.entry.content.get("instance_type");n&&(a.set("instance_type",n),"cloud"==n&&a.set("is_cloud","true"))})),t.deferreds.user.then((function(){a.set("user_realname",t.model.user.entry.content.get("realname")),a.set("user_email",t.model.user.entry.content.get("email"))}));var r=function(){a.set("view_label",t.model.view.entry.content.get("label"))};return t.deferreds.view.then((function(){r(),a.listenTo(t.model.view.entry.content,"change:label",r)})),i.readOnlyModel(a)}});return n}.apply(t,n))||(e.exports=s)},"dashboard/ExtensionLoader":function(e,t,i){var n,s;n=[i("shim/jquery"),i("require/underscore"),i("require/backbone"),i("util/dashboard_utils"),i("uri/route"),i("shim/splunk.util"),i("util/console"),i("util/onerror")],void 0===(s=function(e,t,i,n,s,a,r,o){var l=a.sprintf,d={script:".js",stylesheet:".css"},h=function(e){this.model=t.extend({},e.model),this.collection=t.extend({},e.collection),this.clearExtensions(),this.listenTo(this,"loaded:script",(function(){this._loadedScripts++})),this.listenTo(this,"loaded:stylesheet",(function(){this._loadedStylesheets++}))};return t.extend(h.prototype,i.Events,{loadDefaultExtensions:function(e,t,i){this.loadScriptExtension(e,t,i,"dashboard.js"),this.loadStylesheetExtension(e,t,i,"dashboard.css")},loadScriptExtension:function(t,i,n,s){var a=this._resolveExtensionFile(t,i,n,s),r=this._getKey(t,s);if(this._scriptRegistry[r]){var o=this._scriptContent[a];return this._runScript(o),e.Deferred().reject(l("Script %s already loaded",r))}return this._scriptRegistry[r]=a,this._loadExtension("script",a)},loadStylesheetExtension:function(t,i,n,s){var a=this._resolveExtensionFile(t,i,n,s),r=this._getKey(t,s);return this._stylesRegistry[r]?e.Deferred().reject(l("Stylesheet %s already loaded",r)):(this._stylesRegistry[r]=a,this._loadExtension("stylesheet",a))},hasExtension:function(){return this._loadedScripts+this._loadedStylesheets>0},hasExtensionScript:function(){return this._loadedScripts>0},hasExtensionStylesheet:function(){return this._loadedStylesheets>0},clearExtensions:function(){this._scriptRegistry={},this._stylesRegistry={},this._scriptContent={},this._scriptPromises=[],this._loadedScripts=0,this._loadedStylesheets=0},_getKey:function(e,t){var i=n.getAppAndSource(t,e);return l("%s:%s",i.app,i.src)},_loadExtension:function(t,i){if(!h.isValidExtensionPath(i,t)){var n=l('Invalid extension path: "%s" for extension type %s',i,t);return r.error(n),e.Deferred().reject(n)}switch(t){case"script":return this._loadScript(i).then(function(){this.trigger("loaded:script",i)}.bind(this));case"stylesheet":return this._loadStylesheet(i).then(function(){this.trigger("loaded:stylesheet",i)}.bind(this))}},_loadScript:function(t){var i=e.Deferred(),n=this._scriptPromises.slice(),s=e.Deferred();return this._scriptPromises.push(s.promise()),i.always(s.resolve),this._getScript(t).then(function(s){if(h.isFallbackScriptContent(s))return i.reject();e.when.apply(e,n).then(function(){try{this._runScript(s),this._scriptContent[t]=s,i.resolve()}catch(e){i.reject()}}.bind(this))}.bind(this)).fail(i.reject),i},_runScript:function(e){(0,eval)(e)},_getScript:function(t){return e.ajax({dataType:"text",url:t,cache:!0})},_loadStylesheet:function(t){var i=e.Deferred(),n=document.createElement("link");return n.rel="stylesheet",n.type="text/css",n.href=t,n.onload=i.resolve,n.onerror=i.reject,document.head.appendChild(n),i.promise()},_resolveExtensionFile:function(e,t,i,a){var r=n.getAppAndSource(a,e),o=void 0,l=this.collection.appLocals.find((function(t){return t.entry.get("name")==e}));return l&&(o=l.getBuild()),s.appStaticFileAppVersioned(i,t,o,r.app,r.src)},subscribeToAsyncScriptErrors:function(e){o.onJQueryError(e)}}),t.extend(h,{isValidExtensionPath:function(e,t){var i=d[t];return i&&-1==e.indexOf("../")&&e.slice(e.length-i.length)==i&&!/^\w+:/.test(e)},isFallbackScriptContent:function(e){return!(!e||"/*--fallback--"!=e.slice(0,14))}}),h}.apply(t,n))||(e.exports=s)},"dashboard/components/editor/drilldown/DrilldownEditor":function(e,t,i){"use strict";i(1),Object.defineProperty(t,"__esModule",{value:!0});var n,s=y(i(10)),a=y(i(53)),r=y(i(2)),o=y(i(0)),l=y(i("require/underscore")),d=y(i(20)),h=y(i("components/SimpleDialog")),u=y(i("dashboard/components/shared/ItemSelector")),c=y(i("dashboard/containers/editor/drilldown/search/SearchContainer")),p=y(i("dashboard/containers/editor/drilldown/dashboard/DashboardContainer")),m=y(i("dashboard/containers/editor/drilldown/report/ReportContainer")),f=y(i("dashboard/containers/editor/drilldown/tokens/TokensContainer")),g=y(i("dashboard/containers/editor/drilldown/url/UrlContainer")),v=i("dashboard/containers/editor/drilldown/drilldownNames"),b=i("splunkjs/mvc/tokenutils"),_=i("util/test_support");function y(e){return e&&e.__esModule?e:{default:e}}var w=(n={},(0,a.default)(n,v.LINK_TO_SEARCH,o.default.createElement(c.default,null)),(0,a.default)(n,v.LINK_TO_DASHBOARD,o.default.createElement(p.default,null)),(0,a.default)(n,v.LINK_TO_REPORT,o.default.createElement(m.default,null)),(0,a.default)(n,v.LINK_TO_CUSTOM_URL,o.default.createElement(g.default,null)),(0,a.default)(n,v.EDIT_TOKENS,o.default.createElement(f.default,null)),n),k=[{label:(0,l.default)("No action").t(),value:v.NO_DRILLDOWN},{label:(0,l.default)("Link to search").t(),value:v.LINK_TO_SEARCH},{label:(0,l.default)("Link to dashboard").t(),value:v.LINK_TO_DASHBOARD},{label:(0,l.default)("Link to report").t(),value:v.LINK_TO_REPORT},{label:(0,l.default)("Link to custom URL").t(),value:v.LINK_TO_CUSTOM_URL},{label:(0,l.default)("Manage tokens on this dashboard").t(),value:v.EDIT_TOKENS,description:(0,l.default)("Enable in-page drilldown actions").t()}],T=(0,l.default)('The drilldown editor is not available for dashboard elements with advanced drilldown configurations. Click "Source" to edit drilldown for this element.').t(),S=(0,l.default)("This custom visualization might not support drilldown behavior.").t(),x=function(t){var i=t.isSupported,n=t.isCustomViz,a=t.activeAction,r=t.onActionChange,c=t.onClose,p=t.onApply;return o.default.createElement(h.default,(0,s.default)({title:(0,l.default)("Drilldown Editor").t(),okLabel:(0,l.default)("Apply").t(),onClose:c,onApply:p,width:550,disablePrimaryButton:!i},(0,_.createTestHook)(e.i)),i?o.default.createElement("div",{style:{minHeight:200}},n?o.default.createElement(d.default,(0,s.default)({type:"warning"},(0,_.createTestHook)(null,"customVizMessage")),S," "):null,o.default.createElement(u.default,(0,s.default)({label:(0,l.default)("On Click").t(),activeItem:a,items:k,isLoading:!1,onChange:r,warning:(0,b.isToken)(a)?(0,l.default)("is set to a token, changes here will override the token.").t():"",hideNoMatchError:(0,b.isToken)(a)},(0,_.createTestHook)(null,"drilldownActionSelector"))),w[a]):o.default.createElement(d.default,(0,s.default)({type:"error"},(0,_.createTestHook)(null,"notSupportedMessage")),T))};x.propTypes={isSupported:r.default.bool.isRequired,isCustomViz:r.default.bool.isRequired,activeAction:r.default.string.isRequired,onActionChange:r.default.func.isRequired,onClose:r.default.func.isRequired,onApply:r.default.func.isRequired},t.default=x,e.exports=t.default},"dashboard/components/editor/drilldown/ReportActionEditor":function(e,t,i){"use strict";i(1),Object.defineProperty(t,"__esModule",{value:!0});var n=h(i(10)),s=h(i("require/underscore")),a=h(i(2)),r=h(i(0)),o=h(i("dashboard/components/shared/ItemSelector")),l=h(i("dashboard/components/shared/OpenInNewTab")),d=i("util/test_support");function h(e){return e&&e.__esModule?e:{default:e}}var u=function(t){var i=t.activeApp,a=t.activeAppError,h=t.apps,u=t.isFetchingApps,c=t.onAppChange,p=t.activeReport,m=t.activeReportError,f=t.target,g=t.onTargetChange,v=t.reports,b=t.isFetchingReports,_=t.onReportChange;return r.default.createElement("div",(0,d.createTestHook)(e.i),r.default.createElement(o.default,(0,n.default)({label:(0,s.default)("App").t(),items:h,isLoading:u,onChange:c,activeItem:i,filter:!0,error:a},(0,d.createTestHook)(null,"reportAppSelector"))),r.default.createElement(o.default,(0,n.default)({label:(0,s.default)("Report").t(),items:v,isLoading:b,onChange:_,activeItem:p,filter:!0,error:m},(0,d.createTestHook)(null,"reportReportSelector"))),r.default.createElement(l.default,{value:f,onClick:g}))};u.propTypes={activeApp:a.default.string.isRequired,activeAppError:a.default.string,apps:a.default.arrayOf(a.default.object).isRequired,isFetchingApps:a.default.bool.isRequired,onAppChange:a.default.func.isRequired,activeReport:a.default.string,activeReportError:a.default.string,target:a.default.string.isRequired,onTargetChange:a.default.func.isRequired,reports:a.default.arrayOf(a.default.object).isRequired,isFetchingReports:a.default.bool.isRequired,onReportChange:a.default.func.isRequired},u.defaultProps={activeAppError:"",activeReport:"",activeReportError:""},t.default=u,e.exports=t.default},"dashboard/components/editor/drilldown/UrlActionEditor":function(e,t,i){"use strict";i(1),Object.defineProperty(t,"__esModule",{value:!0});var n=u(i("require/underscore")),s=u(i(2)),a=u(i(0)),r=u(i(18)),o=u(i(23)),l=u(i("dashboard/components/shared/OpenInNewTab")),d=u(i("dashboard/components/shared/FormMessage")),h=i("util/test_support");function u(e){return e&&e.__esModule?e:{default:e}}var c=function(t){var i=t.url,s=t.urlError,u=t.onUrlChange,c=t.target,p=t.onTargetChange,m=(0,n.default)("URL").t(),f=!!s,g=f?m+" "+s:"";return a.default.createElement("div",(0,h.createTestHook)(e.i),a.default.createElement(d.default,{active:f,type:"error",message:g}),a.default.createElement(r.default,{label:m,error:f,help:(0,n.default)("Use a relative URL or absolute URL, for example, /app/search/datasets, or https://www.splunk.com").t()},a.default.createElement(o.default,{value:i,onChange:u,multiline:!0,placeholder:"",error:f})),a.default.createElement(l.default,{value:c,onClick:p}))};c.propTypes={url:s.default.string,urlError:s.default.string,onUrlChange:s.default.func.isRequired,target:s.default.string.isRequired,onTargetChange:s.default.func.isRequired},c.defaultProps={urlError:"",url:""},t.default=c,e.exports=t.default},"dashboard/components/editor/drilldown/dashboard/AdvancedSection":function(e,t,i){"use strict";i(1),Object.defineProperty(t,"__esModule",{value:!0});var n=g(i(10)),s=g(i(11)),a=g(i(13)),r=g(i(15)),o=g(i(16)),l=g(i("require/underscore")),d=g(i(2)),h=g(i(0)),u=g(i(202)),c=g(i(14)),p=g(i(240)),m=g(i(113)),f=i("util/test_support");function g(e){return e&&e.__esModule?e:{default:e}}var v={paddingLeft:"0",paddingRight:"0"},b=function(t){function i(e){(0,s.default)(this,i);var t=(0,r.default)(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,e));return t.state={active:e.active},t.onClick=t.onClick.bind(t),t}return(0,o.default)(i,t),(0,a.default)(i,[{key:"onClick",value:function(){this.setState({active:!this.state.active})}},{key:"render",value:function(){return h.default.createElement("div",(0,n.default)({},(0,f.createTestHook)(e.i),{"data-test":"advanced","data-test-expand":this.state.active}),h.default.createElement(c.default,(0,n.default)({icon:this.state.active?h.default.createElement(p.default,null):h.default.createElement(m.default,null),appearance:"pill",label:(0,l.default)("Advanced").t(),style:v,onClick:this.onClick},(0,f.createTestHook)(null,"advancedToggle"))),h.default.createElement(u.default,{animation:"slideFromTop",open:this.state.active},this.props.children))}}]),i}(h.default.Component);b.propTypes={active:d.default.bool.isRequired,children:d.default.arrayOf(d.default.element).isRequired},t.default=b,e.exports=t.default},"dashboard/components/editor/drilldown/dashboard/DashboardActionEditor":function(e,t,i){"use strict";i(1),Object.defineProperty(t,"__esModule",{value:!0});var n=m(i(10)),s=m(i("require/underscore")),a=m(i(2)),r=m(i(0)),o=m(i("dashboard/components/shared/ItemSelector")),l=m(i("dashboard/components/editor/drilldown/dashboard/Parameters")),d=m(i("dashboard/components/editor/drilldown/dashboard/AdvancedSection")),h=m(i("dashboard/components/editor/drilldown/dashboard/PreviewURL")),u=m(i("dashboard/components/shared/OpenInNewTab")),c=m(i(22)),p=i("util/test_support");function m(e){return e&&e.__esModule?e:{default:e}}var f=function(t){var i=t.activeApp,a=t.activeAppError,m=t.apps,f=t.isFetchingApps,g=t.onAppChange,v=t.activeDashboard,b=t.activeDashboardError,_=t.dashboards,y=t.isFetchingDashboards,w=t.onDashboardChange,k=t.onTargetChange,T=t.target,S=t.params,x=t.onParamsChange,C=t.previewLink,E=t.candidateTokens,M=t.learnMoreLinkForTokens;return r.default.createElement("div",(0,p.createTestHook)(e.i),r.default.createElement(o.default,(0,n.default)({label:(0,s.default)("App").t(),activeItem:i,items:m,isLoading:f,onChange:g,filter:!0,error:a},(0,p.createTestHook)(null,"dashboardAppSelector"))),r.default.createElement(o.default,(0,n.default)({label:(0,s.default)("Dashboard").t(),activeItem:v,items:_,isLoading:y,onChange:w,filter:!0,error:b},(0,p.createTestHook)(null,"dashboardSelector"))),r.default.createElement(u.default,{value:T,onClick:k}),r.default.createElement(d.default,{active:S.filter((function(e){return e.key})).length>0},r.default.createElement(l.default,{label:(0,s.default)("Parameters").t(),items:S,onChange:x,keyPlaceholder:"",valuePlaceholder:"",candidateTokens:E,help:r.default.createElement("div",null,(0,s.default)("Use parameters to set token values in the target dashboard. For example, form.host = $click.value2$ or host = $row.host$").t()," ",r.default.createElement(c.default,{to:M,openInNewContext:!0},(0,s.default)("Learn more").t()))}),r.default.createElement(h.default,{url:C})))};f.propTypes={activeApp:a.default.string.isRequired,activeAppError:a.default.string,apps:a.default.arrayOf(a.default.object).isRequired,isFetchingApps:a.default.bool.isRequired,onAppChange:a.default.func.isRequired,activeDashboard:a.default.string,activeDashboardError:a.default.string,dashboards:a.default.arrayOf(a.default.object).isRequired,isFetchingDashboards:a.default.bool.isRequired,onDashboardChange:a.default.func.isRequired,target:a.default.string.isRequired,onTargetChange:a.default.func.isRequired,params:a.default.arrayOf(a.default.shape({key:a.default.string,value:a.default.string})).isRequired,onParamsChange:a.default.func.isRequired,previewLink:a.default.shape({label:a.default.string.isRequired,value:a.default.string.isRequired}).isRequired,candidateTokens:a.default.arrayOf(a.default.shape({token:a.default.string.isRequired,description:a.default.string})).isRequired,learnMoreLinkForTokens:a.default.string.isRequired},f.defaultProps={activeAppError:"",activeDashboard:"",activeDashboardError:""},t.default=f,e.exports=t.default},"dashboard/components/editor/drilldown/dashboard/Parameters":function(e,t,i){"use strict";i(1),Object.defineProperty(t,"__esModule",{value:!0});var n=m(i(60)),s=m(i(10)),a=m(i("require/underscore")),r=m(i(2)),o=m(i(0)),l=m(i(18)),d=m(i(23)),h=m(i(151)),u=m(i("dashboard/components/shared/AddNewButton")),c=m(i("dashboard/components/shared/DeleteButton")),p=i("util/test_support");function m(e){return e&&e.__esModule?e:{default:e}}var f={marginBottom:"10px",display:"flex"},g={flexShrink:"1",flexGrow:"0",maxWidth:"140px"},v={lineHeight:"26px",paddingLeft:"5px",paddingRight:"5px"},b=function(e){var t=e.item,i=e.placeholder,n=e.onChange,s=e.onClickDelete;return o.default.createElement("div",{style:f},o.default.createElement(d.default,{value:t,onChange:function(e,t){return n(t.value)},style:g,placeholder:i}),o.default.createElement(c.default,{onClick:s}))};b.propTypes={item:r.default.string.isRequired,placeholder:r.default.string,onChange:r.default.func.isRequired,onClickDelete:r.default.func.isRequired},b.defaultProps={placeholder:(0,a.default)("name").t()};var _=function(e){var t=e.item,i=e.candidateTokens,n=e.keyPlaceholder,r=e.valuePlaceholder,l=e.onChange,u=e.delimiter,m=e.onClickDelete,b=o.default.createElement("div",null,(0,a.default)("Enter value").t());return o.default.createElement("div",{style:f,"data-test":"parameter"},o.default.createElement(d.default,(0,s.default)({value:t.key,onChange:function(e,i){return l({key:i.value,value:t.value})},placeholder:n,style:g},(0,p.createTestHook)(null,"parameterKey"))),o.default.createElement("div",{style:v},u),o.default.createElement(h.default,(0,s.default)({value:t.value,onChange:function(e,i){return l({key:t.key,value:i.value})},placeholder:r,noOptionsMessage:b,style:g},(0,p.createTestHook)(null,"parameterValue")),a.default.map(i,(function(e){var t=e.token,i=e.description;return o.default.createElement(h.default.Option,{key:t,value:t,description:i})}))),o.default.createElement(c.default,{onClick:m}))};_.propTypes={item:r.default.shape({key:r.default.string.isRequired,value:r.default.string}).isRequired,candidateTokens:r.default.arrayOf(r.default.shape({token:r.default.string.isRequired,description:r.default.string})).isRequired,keyPlaceholder:r.default.string,valuePlaceholder:r.default.string,delimiter:r.default.string,onChange:r.default.func.isRequired,onClickDelete:r.default.func.isRequired},_.defaultProps={delimiter:(0,a.default)("=").t(),keyPlaceholder:(0,a.default)("name").t(),valuePlaceholder:(0,a.default)("value").t()};var y=function(t){var i=t.label,a=t.items,r=t.candidateTokens,d=t.keyPlaceholder,h=t.valuePlaceholder,c=t.delimiter,m=t.onChange,f=t.onlyKey,g=t.error,v=t.help,y=t.tooltip;return o.default.createElement(l.default,(0,s.default)({error:!!g,help:v,label:i,controlsLayout:"none",tooltip:y},(0,p.createTestHook)(e.i,"parameters")),a.map((function(e,t){var i=function(e){return m([].concat((0,n.default)(a.slice(0,t)),[e],(0,n.default)(a.slice(t+1))))},s=function(){return m([].concat((0,n.default)(a.slice(0,t)),(0,n.default)(a.slice(t+1))))};return f?o.default.createElement(b,{key:t,item:e,placeholder:d,onChange:i,onClickDelete:s}):o.default.createElement(_,{key:t,item:e,candidateTokens:r,keyPlaceholder:d,valuePlaceholder:h,onChange:i,delimiter:c,onClickDelete:s})})),o.default.createElement(u.default,{onClick:function(){return m([].concat((0,n.default)(a),[f?"":{key:"",value:""}]))}}))};y.propTypes={label:r.default.string.isRequired,items:r.default.oneOfType([r.default.arrayOf(r.default.shape({key:r.default.string.isRequired,value:r.default.string})),r.default.arrayOf(r.default.string)]).isRequired,candidateTokens:r.default.arrayOf(r.default.shape({token:r.default.string.isRequired,description:r.default.string})).isRequired,keyPlaceholder:r.default.string,valuePlaceholder:r.default.string,delimiter:r.default.string,onChange:r.default.func.isRequired,onlyKey:r.default.bool,error:r.default.string,help:r.default.oneOfType([r.default.object,r.default.string]),tooltip:r.default.string},y.defaultProps={onlyKey:!1,keyPlaceholder:"",valuePlaceholder:"",delimiter:"=",error:"",help:"",tooltip:""},t.default=y,e.exports=t.default},"dashboard/components/editor/drilldown/dashboard/PreviewURL":function(e,t,i){"use strict";i(1),Object.defineProperty(t,"__esModule",{value:!0});var n=h(i(10)),s=h(i("require/underscore")),a=h(i(2)),r=h(i(0)),o=h(i(18)),l=i("util/test_support"),d=h(i("dashboard/components/editor/drilldown/dashboard/PreviewURL.pcssm"));function h(e){return e&&e.__esModule?e:{default:e}}var u=function(t){var i=t.url,a=s.default.isString(i)?i:i.label;return(s.default.isString(i)?i:i.value)?r.default.createElement(o.default,(0,n.default)({label:(0,s.default)("Preview URL").t(),controlsLayout:"none"},(0,l.createTestHook)(e.i,"PreviewURL")),r.default.createElement("div",{className:d.default.padTopBottom,"data-test":"preview-url"},r.default.createElement("span",{className:d.default.linkLabel},a))):null};u.propTypes={url:a.default.oneOfType([a.default.shape({label:a.default.string.isRequired,value:a.default.string.isRequired}),a.default.string]).isRequired},t.default=u,e.exports=t.default},"dashboard/components/editor/drilldown/dashboard/PreviewURL.pcssm":function(e,t,i){var n=i(543);"string"==typeof n&&(n=[[e.i,n,""]]);var s={sourceMap:!1,hmr:!0,transform:void 0,insertInto:void 0};i(4)(n,s);n.locals&&(e.exports=n.locals)},"dashboard/components/editor/drilldown/search/SearchActionEditor":function(e,t,i){"use strict";i(1),Object.defineProperty(t,"__esModule",{value:!0});var n=g(i(10)),s=g(i("require/underscore")),a=g(i(2)),r=g(i(0)),o=g(i(18)),l=g(i(132)),d=g(i("dashboard/components/shared/OpenInNewTab")),h=g(i("dashboard/components/shared/SearchEditor")),u=g(i(22)),c=g(i("dashboard/components/shared/FormMessage")),p=g(i(117)),m=i("util/test_support"),f=g(i("dashboard/components/editor/drilldown/search/SearchTimeEditor"));function g(e){return e&&e.__esModule?e:{default:e}}var v=function(t){var i=t.options,a=t.activeOption,g=t.onOptionChange,v=t.search,b=t.searchError,_=t.onSearchChange,y=t.isFetchingPresets,w=t.presets,k=t.locale,T=t.parseEarliest,S=t.parseLatest,x=t.onRequestParseEarliest,C=t.onRequestParseLatest,E=t.extraTimeRangeOptions,M=t.activeTimeRangeOption,R=t.onTimeRangeOptionChange,D=t.activeTimeRange,P=t.onTimeRangeChange,L=t.activeTimeRangeToken,O=t.onTimeRangeTokenChange,I=t.earliestTokenError,A=t.latestTokenError,N=t.target,j=t.onTargetChange,z=t.learnMoreLinkForTokens,B=t.timeRangePickerDocsURL,$=i.map((function(e){return r.default.createElement(l.default.Option,{key:e.value,label:e.label,value:e.value})})),F=!!b,V=(0,s.default)("Search String").t(),U=F?V+" "+b:"",H="custom"===a?r.default.createElement("div",null,r.default.createElement(o.default,(0,n.default)({label:"",controlsLayout:"none"},(0,m.createTestHook)(null,"LearnMoreLink")),r.default.createElement(p.default,{inline:!0},(0,s.default)("You can include predefined drilldown tokens in a custom search.").t()," ",r.default.createElement(u.default,{to:z,openInNewContext:!0},(0,s.default)("Learn more").t()))),r.default.createElement(c.default,{active:F,type:"error",message:U}),r.default.createElement(o.default,(0,n.default)({label:V,error:F},(0,m.createTestHook)(null,"SearchIdeWrapper")),r.default.createElement(h.default,{value:v,onChange:_})),r.default.createElement(f.default,{isFetchingPresets:y,presets:w,locale:k,parseEarliest:T,parseLatest:S,onRequestParseEarliest:x,onRequestParseLatest:C,extraOptions:E,activeOption:M,onOptionChange:R,activeTimeRange:D,onTimeRangeChange:P,activeTimeRangeToken:L,onTimeRangeTokenChange:O,earliestTokenError:I,latestTokenError:A,timeRangePickerDocsURL:B}),r.default.createElement(d.default,{value:N,onClick:j})):r.default.createElement(o.default,(0,n.default)({label:""},(0,m.createTestHook)(null,"DefaultSearchDescription")),(0,s.default)("A search generates automatically using values from the clicked element.").t());return r.default.createElement("div",(0,m.createTestHook)(e.i),r.default.createElement(o.default,(0,n.default)({label:""},(0,m.createTestHook)(null,"LinkToSearchSelector")),r.default.createElement(l.default,{value:a,onChange:g},$)),H)};v.propTypes={options:a.default.arrayOf(a.default.object).isRequired,activeOption:a.default.string.isRequired,onOptionChange:a.default.func.isRequired,search:a.default.string.isRequired,searchError:a.default.string.isRequired,onSearchChange:a.default.func.isRequired,isFetchingPresets:a.default.bool.isRequired,presets:a.default.arrayOf(a.default.object).isRequired,locale:a.default.string.isRequired,parseEarliest:a.default.shape({error:a.default.string,iso:a.default.string,time:a.default.string}),parseLatest:a.default.shape({error:a.default.string,iso:a.default.string,time:a.default.string}),onRequestParseEarliest:a.default.func.isRequired,onRequestParseLatest:a.default.func.isRequired,extraTimeRangeOptions:a.default.arrayOf(a.default.object).isRequired,activeTimeRangeOption:a.default.string.isRequired,onTimeRangeOptionChange:a.default.func.isRequired,activeTimeRange:a.default.shape({earliest:a.default.oneOfType([a.default.string,a.default.number]),latest:a.default.oneOfType([a.default.string,a.default.number])}).isRequired,onTimeRangeChange:a.default.func.isRequired,activeTimeRangeToken:a.default.shape({earliest:a.default.string,latest:a.default.string}).isRequired,onTimeRangeTokenChange:a.default.func.isRequired,earliestTokenError:a.default.string,latestTokenError:a.default.string,target:a.default.string.isRequired,onTargetChange:a.default.func.isRequired,learnMoreLinkForTokens:a.default.string.isRequired,timeRangePickerDocsURL:a.default.string},v.defaultProps={activeTimeRangeToken:"",earliestTokenError:"",latestTokenError:"",parseEarliest:null,parseLatest:null,timeRangePickerDocsURL:null},t.default=v,e.exports=t.default},"dashboard/components/editor/drilldown/search/SearchTimeEditor":function(e,t,i){"use strict";i(1),Object.defineProperty(t,"__esModule",{value:!0});var n=p(i(10)),s=p(i(53)),a=p(i("require/underscore")),r=p(i(2)),o=p(i(0)),l=p(i("dashboard/components/shared/TimeRangeTokenEditor")),d=p(i("dashboard/components/shared/TimeRangeSelector")),h=p(i("dashboard/components/shared/ItemSelector")),u=i("dashboard/containers/editor/drilldown/search/timeRangeOptionNames"),c=i("util/test_support");function p(e){return e&&e.__esModule?e:{default:e}}var m=function(t){var i,r=t.isFetchingPresets,p=t.presets,m=t.locale,f=t.parseEarliest,g=t.parseLatest,v=t.onRequestParseEarliest,b=t.onRequestParseLatest,_=t.extraOptions,y=t.activeOption,w=t.onOptionChange,k=t.activeTimeRange,T=t.onTimeRangeChange,S=t.activeTimeRangeToken,x=t.onTimeRangeTokenChange,C=t.earliestTokenError,E=t.latestTokenError,M=t.timeRangePickerDocsURL,R=(_||[]).concat([{value:u.EXPLICIT_OPTION,label:(0,a.default)("Use time picker").t()},{value:u.TOKEN_OPTION,label:(0,a.default)("Tokens").t()},{value:u.GLOBAL_OPTION,label:(0,a.default)("Global").t()}]),D=(i={},(0,s.default)(i,u.GLOBAL_OPTION,null),(0,s.default)(i,u.TOKEN_OPTION,o.default.createElement(l.default,{activeTimeRangeToken:S,onTimeRangeTokenChange:x,earliestTokenError:C,latestTokenError:E})),(0,s.default)(i,u.EXPLICIT_OPTION,o.default.createElement(d.default,{isFetchingPresets:r,presets:p,locale:m,parseEarliest:f,parseLatest:g,onRequestParseEarliest:v,onRequestParseLatest:b,activeTimeRange:k,onTimeRangeChange:T,documentationURL:M})),i);return o.default.createElement("div",(0,c.createTestHook)(e.i),o.default.createElement(h.default,(0,n.default)({activeItem:y,label:(0,a.default)("Time Range").t(),items:R,onChange:w},(0,c.createTestHook)(null,"timeRangeType"))),D[y])};m.propTypes={isFetchingPresets:r.default.bool.isRequired,presets:r.default.arrayOf(r.default.object).isRequired,locale:r.default.string.isRequired,parseEarliest:r.default.shape({error:r.default.string,iso:r.default.string,time:r.default.string}),parseLatest:r.default.shape({error:r.default.string,iso:r.default.string,time:r.default.string}),onRequestParseEarliest:r.default.func.isRequired,onRequestParseLatest:r.default.func.isRequired,extraOptions:r.default.arrayOf(r.default.object),activeOption:r.default.string.isRequired,onOptionChange:r.default.func.isRequired,activeTimeRange:r.default.shape({earliest:r.default.oneOfType([r.default.string,r.default.number]),latest:r.default.oneOfType([r.default.string,r.default.number])}).isRequired,onTimeRangeChange:r.default.func.isRequired,activeTimeRangeToken:r.default.shape({earliest:r.default.string,latest:r.default.string}).isRequired,onTimeRangeTokenChange:r.default.func.isRequired,earliestTokenError:r.default.string,latestTokenError:r.default.string,timeRangePickerDocsURL:r.default.string},m.defaultProps={extraOptions:[],earliestTokenError:"",latestTokenError:"",parseEarliest:null,parseLatest:null,timeRangePickerDocsURL:null},t.default=m,e.exports=t.default},"dashboard/components/editor/drilldown/tokens/TokenExpression":function(e,t,i){"use strict";i(1),Object.defineProperty(t,"__esModule",{value:!0});var n=p(i(10)),s=p(i("require/underscore")),a=p(i(2)),r=p(i(0)),o=p(i(39)),l=p(i(23)),d=p(i("dashboard/components/shared/DeleteButton")),h=p(i(41)),u=p(i(151)),c=i("util/test_support");function p(e){return e&&e.__esModule?e:{default:e}}var m=function(e){var t=e.value,i=e.onChange;return r.default.createElement(o.default,(0,n.default)({value:t,onChange:i,style:{marginRight:"5px",minWidth:"70px"}},(0,c.createTestHook)(null,"SetEvalUnsetDropdown")),r.default.createElement(o.default.Option,{label:(0,s.default)("Set").t(),value:"set"}),r.default.createElement(o.default.Option,{label:(0,s.default)("Eval").t(),value:"eval"}),r.default.createElement(o.default.Option,{label:(0,s.default)("Unset").t(),value:"unset"}))};m.propTypes={value:a.default.string.isRequired,onChange:a.default.func.isRequired};var f={lineHeight:"32px",paddingLeft:"5px",paddingRight:"5px"},g={flexShrink:"1",flexGrow:"0",maxWidth:"100px"},v={marginBottom:"10px"},b=function(e){switch(e){case"set":return(0,s.default)("Token value").t();case"eval":return(0,s.default)("Eval expression").t();default:return""}},_=function(t){var i=t.type,a=t.token,o=t.value,p=t.candidateTokens,_=t.onTypeChange,y=t.onTokenChange,w=t.onValueChange,k=t.onRemove;return r.default.createElement(h.default,(0,n.default)({flex:!0,style:v},(0,c.createTestHook)(e.i)),r.default.createElement(m,{value:i,onChange:function(e,t){return _(t.value)}}),r.default.createElement(l.default,(0,n.default)({value:a,onChange:function(e,t){return y(t.value)},placeholder:(0,s.default)("Token name").t(),style:g},(0,c.createTestHook)(null,"tokenName"))),"set"===i||"eval"===i?r.default.createElement("div",{style:f},"="):null,"set"===i||"eval"===i?r.default.createElement(u.default,(0,n.default)({value:o,onChange:function(e,t){return w(t.value)},placeholder:b(i),style:g},(0,c.createTestHook)(null,"tokenValue")),p.map((function(e){return r.default.createElement(u.default.Option,{key:e.token,value:e.token,description:e.description})}))):null,r.default.createElement(d.default,{onClick:k}))};_.propTypes={type:a.default.string.isRequired,token:a.default.string.isRequired,value:a.default.string,candidateTokens:a.default.arrayOf(a.default.shape({token:a.default.string.isRequired,description:a.default.string})).isRequired,onTypeChange:a.default.func.isRequired,onTokenChange:a.default.func.isRequired,onValueChange:a.default.func,onRemove:a.default.func.isRequired},_.defaultProps={onValueChange:function(){},value:""},t.default=_,e.exports=t.default},"dashboard/components/editor/drilldown/tokens/TokensActionEditor":function(e,t,i){"use strict";i(1),Object.defineProperty(t,"__esModule",{value:!0});var n=m(i(10)),s=m(i(60)),a=m(i("require/underscore")),r=m(i(2)),o=m(i(0)),l=m(i("dashboard/components/shared/AddNewButton")),d=m(i("dashboard/components/editor/drilldown/tokens/TokenExpression")),h=m(i(22)),u=m(i(18)),c=m(i("dashboard/components/shared/FormMessage")),p=i("util/test_support");function m(e){return e&&e.__esModule?e:{default:e}}var f=function(t){var i=t.items,r=t.error,m=t.candidateTokens,f=t.onUpdateTokens,g=t.learnMoreLinkForTokenUsage,v=function(e,t){return f([].concat((0,s.default)(i.slice(0,t)),[e],(0,s.default)(i.slice(t+1))))},b=i.map((function(e,t){return o.default.createElement(d.default,{key:t,type:e.type,token:e.token,value:e.value,candidateTokens:m,onTypeChange:function(i){return v({type:i,token:e.token,value:e.value},t)},onTokenChange:function(i){return v({type:e.type,token:i,value:e.value},t)},onValueChange:function(i){return v({type:e.type,token:e.token,value:i},t)},onRemove:function(){return function(e){return f([].concat((0,s.default)(i.slice(0,e)),(0,s.default)(i.slice(e+1))))}(t)}})}));return o.default.createElement("div",(0,p.createTestHook)(e.i),o.default.createElement(u.default,(0,n.default)({label:"",controlsLayout:"none"},(0,p.createTestHook)(null,"learnMoreAboutTokens")),(0,a.default)("Use <set>, <eval>, and <unset> to update token values. This can help you create responsive content or display changes in dashboards and forms.").t()," ",o.default.createElement(h.default,{to:g,openInNewContext:!0},(0,a.default)("Learn more").t())),o.default.createElement(c.default,{active:!!r,type:"error",message:r||""}),o.default.createElement(u.default,(0,n.default)({label:"",controlsLayout:"none",help:(0,a.default)("Example: form.host = $click.value2$ or host = $row.host$").t()},(0,p.createTestHook)(null,"editTokenValues")),b,o.default.createElement(l.default,{onClick:function(){return e={type:i.length>0?i[i.length-1].type:"set",token:"",value:""},f([].concat((0,s.default)(i),[e]));var e},error:!!r})))};f.propTypes={items:r.default.arrayOf(r.default.shape({type:r.default.string.isRequired,token:r.default.string.isRequired,value:r.default.string})).isRequired,error:r.default.string,candidateTokens:r.default.arrayOf(r.default.shape({token:r.default.string.isRequired,description:r.default.string})).isRequired,onUpdateTokens:r.default.func.isRequired,learnMoreLinkForTokenUsage:r.default.string.isRequired},f.defaultProps={error:""},t.default=f,e.exports=t.default},"dashboard/components/editor/element/MiscControls":function(e,t,i){"use strict";i(1),Object.defineProperty(t,"__esModule",{value:!0});var n=h(i(2)),s=h(i(0)),a=h(i("require/underscore")),r=h(i(14)),o=h(i(50)),l=h(i(54)),d=h(i(46));function h(e){return e&&e.__esModule?e:{default:e}}var u=s.default.createElement("svg",{width:"16",height:"16",fill:"currentColor"},s.default.createElement("circle",{cx:"8",cy:"2",r:"2"}),s.default.createElement("circle",{cx:"8",cy:"8",r:"2"}),s.default.createElement("circle",{cx:"8",cy:"14",r:"2"})),c=function(e){var t=e.onClickDrilldown,i=e.onClickTrellis,n=e.disableDrilldown,h=e.disableTrellis,c=(0,a.default)("More actions").t(),p=s.default.createElement(r.default,{appearance:"pill",style:{paddingTop:6,paddingBottom:6,paddingLeft:0,paddingRight:0},"aria-label":c},u),m=s.default.createElement("span",null,c);return s.default.createElement(d.default,{content:m,style:{whiteSpace:"normal"}},s.default.createElement(o.default,{style:{width:32},toggle:p,focusToggleReasons:["escapeKey","toggleClick"]},s.default.createElement(l.default,{style:{minWidth:100}},s.default.createElement(l.default.Item,{onClick:t,disabled:n},s.default.createElement("span",{style:{margin:1}},(0,a.default)("Edit Drilldown").t())),s.default.createElement(l.default.Item,{icon:s.default.createElement("i",{className:"icon-trellis-layout",style:{marginRight:5}}),onClick:i,disabled:h},(0,a.default)("Trellis").t()))))};c.propTypes={onClickDrilldown:n.default.func.isRequired,onClickTrellis:n.default.func.isRequired,disableDrilldown:n.default.bool.isRequired,disableTrellis:n.default.bool.isRequired},t.default=c,e.exports=t.default},"dashboard/components/shared/AddNewButton":function(e,t,i){"use strict";i(1),Object.defineProperty(t,"__esModule",{value:!0});var n=h(i(10)),s=h(i("require/underscore")),a=h(i(2)),r=h(i(0)),o=h(i(14)),l=h(i(333)),d=i("util/test_support");function h(e){return e&&e.__esModule?e:{default:e}}var u=function(t){var i=t.onClick,a=t.error;return r.default.createElement(o.default,(0,n.default)({icon:r.default.createElement(l.default,null),appearance:"pill",label:(0,s.default)("Add New").t(),onClick:i,error:a},(0,d.createTestHook)(e.i)))};u.propTypes={onClick:a.default.func.isRequired,error:a.default.bool},u.defaultProps={error:!1},t.default=u,e.exports=t.default},"dashboard/components/shared/DeleteButton":function(e,t,i){"use strict";i(1),Object.defineProperty(t,"__esModule",{value:!0});var n=h(i(10)),s=h(i(2)),a=h(i(0)),r=h(i("require/underscore")),o=h(i(14)),l=h(i(114)),d=i("util/test_support");function h(e){return e&&e.__esModule?e:{default:e}}var u=function(t){var i=t.onClick;return a.default.createElement(o.default,(0,n.default)({"aria-label":(0,r.default)("Delete").t(),size:"small",icon:a.default.createElement(l.default,null),appearance:"pill",onClick:i,style:{flexGrow:"0",marginLeft:"5px"}},(0,d.createTestHook)(e.i)))};u.propTypes={onClick:s.default.func.isRequired},t.default=u,e.exports=t.default},"dashboard/components/shared/FormMessage":function(e,t,i){"use strict";i(1),Object.defineProperty(t,"__esModule",{value:!0});var n=d(i(10)),s=d(i(2)),a=d(i(0)),r=d(i(18)),o=d(i(20)),l=i("util/test_support");function d(e){return e&&e.__esModule?e:{default:e}}var h=function(t){var i=t.active,s=t.type,d=t.message;return i?a.default.createElement(r.default,(0,n.default)({label:"",controlsLayout:"none"},(0,l.createTestHook)(e.i)),a.default.createElement(o.default,{type:s},d)):null};h.propTypes={active:s.default.bool.isRequired,type:s.default.string.isRequired,message:s.default.string.isRequired},t.default=h,e.exports=t.default},"dashboard/components/shared/ItemSelector":function(e,t,i){"use strict";i(1),Object.defineProperty(t,"__esModule",{value:!0});var n=p(i(10)),s=p(i(149)),a=p(i("require/underscore")),r=p(i(2)),o=p(i(0)),l=p(i(18)),d=p(i(39)),h=p(i("shim/splunk.util")),u=p(i("dashboard/components/shared/FormMessage")),c=i("util/test_support");function p(e){return e&&e.__esModule?e:{default:e}}var m=h.default.sprintf,f=function(t){var i=t.label,r=t.items,h=t.activeItem,p=t.isLoading,f=t.filter,g=t.onChange,v=t.error,b=t.warning,_=t.hideNoMatchError,y=(0,s.default)(t,["label","items","activeItem","isLoading","filter","onChange","error","warning","hideNoMatchError"]),w=h&&r.length>0&&!r.find((function(e){return e.value===h})),k=m((0,a.default)("Selected %s %s, it does not match any %s in the list.").t(),i.toLowerCase(),h,i.toLowerCase()),T=!!(v||!_&&w),S=void 0;S=v?i+" "+v:w?k:"";var x=!!b,C=b?i+" "+b:"";return o.default.createElement("div",(0,n.default)({},(0,c.createTestHook)(e.i),y),o.default.createElement(u.default,{active:T,type:"error",message:S}),o.default.createElement(u.default,{active:x,type:"warning",message:C}),o.default.createElement(l.default,{label:i,error:T},o.default.createElement(d.default,{error:T,value:h,onChange:g,inline:!0,animateLoading:!0,isLoadingOptions:p,placeholder:p?(0,a.default)("Loading...").t():(0,a.default)("Select...").t(),filter:f},r.map((function(e){return o.default.createElement(d.default.Option,{key:e.value,label:e.label,value:e.value,description:e.description})})))))};f.propTypes={label:r.default.string.isRequired,items:r.default.arrayOf(r.default.shape({label:r.default.string.isRequired,value:r.default.string.isRequired}).isRequired).isRequired,activeItem:r.default.string.isRequired,isLoading:r.default.bool,filter:r.default.bool,onChange:r.default.func.isRequired,error:r.default.string,warning:r.default.string,hideNoMatchError:r.default.bool},f.defaultProps={isLoading:!1,filter:!1,error:"",warning:"",hideNoMatchError:!1},t.default=f,e.exports=t.default},"dashboard/components/shared/OpenInNewTab":function(e,t,i){"use strict";i(1),Object.defineProperty(t,"__esModule",{value:!0});var n=h(i(10)),s=h(i(2)),a=h(i(0)),r=h(i("require/underscore")),o=h(i(18)),l=h(i(32)),d=i("util/test_support");function h(e){return e&&e.__esModule?e:{default:e}}var u=function(e){return r.default.isString(e)?"_self"!==e:!!r.default.isBoolean(e)&&e},c=function(e){return"_self"===e?"_blank":"_blank"===e?"_self":!0!==e},p=function(t){var i=t.value,s=t.onClick;return a.default.createElement(o.default,(0,n.default)({label:""},(0,d.createTestHook)(e.i)),a.default.createElement(l.default,{value:i,selected:u(i),onClick:function(e){return s(e,{value:c(i)})}},(0,r.default)("Open in new tab").t()))};p.propTypes={value:s.default.oneOfType([s.default.string,s.default.bool]).isRequired,onClick:s.default.func.isRequired},t.default=p,e.exports=t.default},"dashboard/components/shared/SearchEditor":function(e,t,i){"use strict";i(1),Object.defineProperty(t,"__esModule",{value:!0});var n=g(i(11)),s=g(i(13)),a=g(i(15)),r=g(i(285)),o=g(i(16)),l=g(i(2)),d=g(i("components/BackboneAdapterBase")),h=g(i("views/shared/controls/SearchTextareaControl")),u=g(i("require/backbone")),c=g(i("controllers/dashboard/helpers/ModelHelper")),p=g(i("models/services/authentication/User")),m=i("util/theme_utils"),f=i("util/test_support");function g(e){return e&&e.__esModule?e:{default:e}}var v=function(t){function i(e,t){(0,n.default)(this,i);var s=(0,a.default)(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,e,t));return s.model=Object.assign({},s.context.model,{content:new u.default.Model(s.context.model.report.entry.content.toJSON())}),s.model.content.set("search",e.value),s.collection=Object.assign({},s.context.collection,{searchBNFs:c.default.getCachedModel("parsedSearchBNFs",{app:s.model.application.get("app"),owner:s.model.application.get("owner"),count:0})}),s.model.content.on("change:search",s.handleSearchChange,s),s}return(0,o.default)(i,t),(0,s.default)(i,[{key:"componentDidMount",value:function(){(0,r.default)(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"componentDidMount",this).call(this),"pending"===this.collection.searchBNFs.dfd.state()&&this.collection.searchBNFs.dfd.done(this.backboneView.render)}},{key:"handleSearchChange",value:function(e,t){this.props.onChange(null,{value:t})}},{key:"getContainerProps",value:function(){return Object.assign((0,f.createTestHook)(e.i),this.props)}},{key:"getView",value:function(){var e=this.model.user.getSearchAssistant(),t=e===p.default.SEARCH_ASSISTANT.FULL?p.default.SEARCH_ASSISTANT.COMPACT:e;return new h.default({showLabel:!1,showRunSearch:!1,searchAssistant:t,model:{content:this.model.content,user:this.model.user,application:this.model.application},collection:{searchBNFs:this.collection.searchBNFs},syntaxHighlighting:(0,m.getSearchEditorTheme)()})}}]),i}(d.default);v.propTypes={value:l.default.string,onChange:l.default.func.isRequired},v.contextTypes={model:l.default.object.isRequired,collection:l.default.object.isRequired},t.default=v,e.exports=t.default},"dashboard/components/shared/TimeRangeSelector":function(e,t,i){"use strict";i(1),Object.defineProperty(t,"__esModule",{value:!0});var n=h(i(10)),s=h(i(2)),a=h(i(0)),r=i("util/test_support"),o=h(i(18)),l=h(i(52)),d=h(i(260));function h(e){return e&&e.__esModule?e:{default:e}}var u={label:s.default.string,activeTimeRange:s.default.shape({earliest:s.default.oneOfType([s.default.string,s.default.number]),latest:s.default.oneOfType([s.default.string,s.default.number])}).isRequired,onTimeRangeChange:s.default.func.isRequired,isFetchingPresets:s.default.bool.isRequired,presets:s.default.arrayOf(s.default.object).isRequired,locale:s.default.string.isRequired,parseEarliest:s.default.shape({error:s.default.string,iso:s.default.string,time:s.default.string}),parseLatest:s.default.shape({error:s.default.string,iso:s.default.string,time:s.default.string}),onRequestParseEarliest:s.default.func.isRequired,onRequestParseLatest:s.default.func.isRequired,documentationURL:s.default.string},c=function(t){var i=t.label,s=t.activeTimeRange,h=t.onTimeRangeChange,u=t.isFetchingPresets,c=t.presets,p=t.locale,m=t.parseEarliest,f=t.parseLatest,g=t.onRequestParseEarliest,v=t.onRequestParseLatest,b=t.documentationURL;return a.default.createElement(o.default,(0,n.default)({label:i},(0,r.createTestHook)(e.i),{controlsLayout:"none"}),u?a.default.createElement(l.default,{size:"medium"}):a.default.createElement(d.default,{onChange:h,earliest:s.earliest||"",latest:s.latest||"",inline:!1,presets:c,locale:p,parseEarliest:m,parseLatest:f,onRequestParseEarliest:g,onRequestParseLatest:v,documentationURL:b}))};c.propTypes=u,c.defaultProps={label:"",parseEarliest:null,parseLatest:null,documentationURL:null},t.default=c,e.exports=t.default},"dashboard/components/shared/TimeRangeTokenEditor":function(e,t,i){"use strict";i(1),Object.defineProperty(t,"__esModule",{value:!0});var n=f(i(10)),s=f(i(11)),a=f(i(13)),r=f(i(15)),o=f(i(16)),l=f(i("require/underscore")),d=f(i(2)),h=f(i(0)),u=f(i(18)),c=f(i(23)),p=f(i("dashboard/components/shared/FormMessage")),m=i("util/test_support");function f(e){return e&&e.__esModule?e:{default:e}}var g={activeTimeRangeToken:d.default.object.isRequired,onTimeRangeTokenChange:d.default.func.isRequired,earliestTokenError:d.default.string,latestTokenError:d.default.string},v=function(t){function i(e){(0,s.default)(this,i);var t=(0,r.default)(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,e));return t.state={earliest:e.activeTimeRangeToken.earliest,latest:e.activeTimeRangeToken.latest},t.onTokenChange=t.onTokenChange.bind(t),t}return(0,o.default)(i,t),(0,a.default)(i,[{key:"componentWillReceiveProps",value:function(e){e.activeTimeRangeToken.earliest&&this.setState({earliest:e.activeTimeRangeToken.earliest}),e.activeTimeRangeToken.latest&&this.setState({latest:e.activeTimeRangeToken.latest})}},{key:"onTokenChange",value:function(e){var t=Object.assign({},this.state,e);this.props.onTimeRangeTokenChange(null,{value:t}),this.setState(t)}},{key:"render",value:function(){var t=this,i=(0,l.default)("Earliest Token").t(),s=(0,l.default)("Latest Token").t(),a=this.props,r=a.earliestTokenError,o=a.latestTokenError,d=!!r,f=!!o,v=d?i+" "+r:"",b=f?s+" "+o:"";return h.default.createElement("div",(0,n.default)({},l.default.omit(this.props,l.default.keys(g)),(0,m.createTestHook)(e.i)),h.default.createElement(p.default,(0,n.default)({active:d,type:"error",message:v},(0,m.createTestHook)(null,"earliestTimeTokenError"))),h.default.createElement(u.default,(0,n.default)({label:i,error:d},(0,m.createTestHook)(null,"earliestTimeToken")),h.default.createElement(c.default,{value:this.state.earliest,onChange:function(e,i){var n=i.value;t.onTokenChange({earliest:n})},error:d})),h.default.createElement(p.default,(0,n.default)({active:f,type:"error",message:b},(0,m.createTestHook)(null,"latestTimeTokenError"))),h.default.createElement(u.default,(0,n.default)({label:s,error:f},(0,m.createTestHook)(null,"latestTimeToken")),h.default.createElement(c.default,{value:this.state.latest,onChange:function(e,i){var n=i.value;t.onTokenChange({latest:n})},error:d})))}}]),i}(h.default.Component);v.propTypes=g,v.defaultProps={earliestTokenError:"",latestTokenError:""},t.default=v,e.exports=t.default},"dashboard/containers/editor/drilldown/DrilldownContainer":function(e,t,i){"use strict";i(1),Object.defineProperty(t,"__esModule",{value:!0});var n,s=i(88),a=i("dashboard/components/editor/drilldown/DrilldownEditor"),r=(n=a)&&n.__esModule?n:{default:n},o=i("dashboard/containers/editor/drilldown/drilldownActions");t.default=(0,s.connect)((function(e){return{isSupported:e.isSupported,isCustomViz:e.isCustomViz,activeAction:e.activeAction}}),(function(e){return{onActionChange:function(t,i){var n=i.value;e((0,o.updateActiveAction)(n))}}}))(r.default),e.exports=t.default},"dashboard/containers/editor/drilldown/actionTypes":function(e,t,i){"use strict";i(1),Object.defineProperty(t,"__esModule",{value:!0});t.UPDATE_LINK_TO_DASHBOARD_SETTING=Symbol("UPDATE_LINK_TO_DASHBOARD_SETTING"),t.UPDATE_LINK_TO_REPORT_SETTING=Symbol("UPDATE_LINK_TO_REPORT_SETTING"),t.UPDATE_LINK_TO_SEARCH_SETTING=Symbol("UPDATE_LINK_TO_SEARCH_SETTING"),t.UPDATE_TOKENS_SETTING=Symbol("UPDATE_TOKENS_SETTING"),t.UPDATE_LINK_TO_URL_SETTING=Symbol("UPDATE_LINK_TO_URL_SETTING"),t.UPDATE_ACTIVE_ACTION=Symbol("UPDATE_ACTIVE_ACTION"),t.FETCH_APPS_REQUEST=Symbol("FETCH_APPS_REQUEST"),t.FETCH_APPS_SUCCESS=Symbol("FETCH_APPS_SUCCESS"),t.FETCH_APPS_FAILURE=Symbol("FETCH_APPS_FAILURE"),t.FETCH_DASHBOARDS_REQUEST=Symbol("FETCH_DASHBOARDS_REQUEST"),t.FETCH_DASHBOARDS_SUCCESS=Symbol("FETCH_DASHBOARDS_SUCCESS"),t.FETCH_DASHBOARDS_FAILURE=Symbol("FETCH_DASHBOARDS_FAILURE"),t.FETCH_REPORTS_REQUEST=Symbol("FETCH_REPORTS_REQUEST"),t.FETCH_REPORTS_SUCCESS=Symbol("FETCH_REPORTS_SUCCESS"),t.FETCH_REPORTS_FAILURE=Symbol("FETCH_REPORTS_FAILURE"),t.FETCH_TIME_RANGE_PRESETS_REQUEST=Symbol("FETCH_TIME_RANGE_PRESETS_REQUEST"),t.FETCH_TIME_RANGE_PRESETS_SUCCESS=Symbol("FETCH_TIME_RANGE_PRESETS_SUCCESS"),t.FETCH_TIME_RANGE_PRESETS_FAILURE=Symbol("FETCH_TIME_RANGE_PRESETS_FAILURE"),t.PARSE_EARLIEST_REQUEST=Symbol("PARSE_EARLIEST_REQUEST"),t.PARSE_EARLIEST_SUCCESS=Symbol("PARSE_EARLIEST_SUCCESS"),t.PARSE_EARLIEST_FAILURE=Symbol("PARSE_EARLIEST_FAILURE"),t.PARSE_LATEST_REQUEST=Symbol("PARSE_LATEST_REQUEST"),t.PARSE_LATEST_SUCCESS=Symbol("PARSE_LATEST_SUCCESS"),t.PARSE_LATEST_FAILURE=Symbol("PARSE_LATEST_FAILURE")},"dashboard/containers/editor/drilldown/dashboard/DashboardContainer":function(e,t,i){"use strict";i(1),Object.defineProperty(t,"__esModule",{value:!0});var n=i(88),s=h(i("dashboard/components/editor/drilldown/dashboard/DashboardActionEditor")),a=i("controllers/dashboard/helpers/DrilldownStateConverter"),r=i("dashboard/containers/editor/drilldown/drilldownNames"),o=h(i("uri/route")),l=i("dashboard/containers/editor/drilldown/dashboard/dashboardActions"),d=i("dashboard/containers/editor/drilldown/drilldownActions");function h(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.connect)((function(e){return Object.assign({},{apps:e.apps.items,isFetchingApps:e.apps.isFetching,dashboards:e.dashboards.items,isFetchingDashboards:e.dashboards.isFetching,activeApp:e.forms[r.LINK_TO_DASHBOARD].activeApp,activeAppError:e.forms[r.LINK_TO_DASHBOARD].activeAppError,activeDashboard:e.forms[r.LINK_TO_DASHBOARD].activeDashboard,activeDashboardError:e.forms[r.LINK_TO_DASHBOARD].activeDashboardError,target:e.forms[r.LINK_TO_DASHBOARD].target,params:e.forms[r.LINK_TO_DASHBOARD].params,previewLink:{label:(0,a.generateLinkToDashboard)(e),value:(0,a.generateLinkToDashboard)(e)},learnMoreLinkForTokens:o.default.docHelp(e.splunkEnv.application.root,e.splunkEnv.application.locale,"learnmore.dashboard.drilldown.tokens"),candidateTokens:e.elementEnv.drilldownTokens})}),(function(e){return{onAppChange:function(t,i){var n=i.value;e((0,l.updateLinkToDashboardSetting)({activeApp:n,activeDashboard:""})),e((0,d.fetchDashboards)({app:n}))},onDashboardChange:function(t,i){var n=i.value;e((0,l.updateLinkToDashboardSetting)({activeDashboard:n}))},onTargetChange:function(t,i){var n=i.value;e((0,l.updateLinkToDashboardSetting)({target:n}))},onParamsChange:function(t){e((0,l.updateLinkToDashboardSetting)({params:t}))}}}))(s.default),e.exports=t.default},"dashboard/containers/editor/drilldown/dashboard/dashboardActions":function(e,t,i){"use strict";i(1),Object.defineProperty(t,"__esModule",{value:!0}),t.updateLinkToDashboardSetting=void 0;var n=i("dashboard/containers/editor/drilldown/actionTypes");t.updateLinkToDashboardSetting=function(e){return{type:n.UPDATE_LINK_TO_DASHBOARD_SETTING,value:e}}},"dashboard/containers/editor/drilldown/dashboard/dashboardReducer":function(e,t,i){"use strict";i(1),Object.defineProperty(t,"__esModule",{value:!0});var n=i("dashboard/containers/editor/drilldown/actionTypes"),s={activeApp:"",activeAppError:"",activeDashboard:"",activeDashboardError:"",params:[]};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1];switch(t.type){case n.UPDATE_LINK_TO_DASHBOARD_SETTING:return Object.assign({},e,t.value);default:return e}},e.exports=t.default},"dashboard/containers/editor/drilldown/drilldownActions":function(e,t,i){"use strict";i(1),Object.defineProperty(t,"__esModule",{value:!0}),t.validateLinkToDashboard=t.fetchReports=t.fetchDashboards=t.fetchApps=t.fetchTimeRangePresets=t.updateActiveAction=void 0;var n=h(i("require/underscore")),s=h(i("controllers/dashboard/helpers/ModelHelper")),a=h(i("collections/services/AppLocals")),r=h(i("shim/jquery")),o=i("dashboard/containers/editor/drilldown/drilldownNames"),l=i("dashboard/containers/editor/drilldown/actionTypes"),d=i("dashboard/containers/editor/drilldown/dashboard/dashboardActions");function h(e){return e&&e.__esModule?e:{default:e}}var u=t.updateActiveAction=function(e){return{type:l.UPDATE_ACTIVE_ACTION,value:e}},c=function(e){return{type:l.FETCH_TIME_RANGE_PRESETS_REQUEST,fetchOptions:e}},p=function(e,t){return{type:l.FETCH_TIME_RANGE_PRESETS_SUCCESS,timeRangePresets:e,fetchOptions:t}},m=function(e,t){return{type:l.FETCH_TIME_RANGE_PRESETS_FAILURE,error:e,fetchOptions:t}};t.fetchTimeRangePresets=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,i){var a=n.default.defaults({},e,{count:-1});if(i().timeRangePresets.isFetching)return(new r.default.Deferred).resolve();t(c(a));var o=s.default.getCachedModel("times",a);return o.dfd.done((function(){var e=o.filter((function(e){return e.entry.content.get("earliest_time")||e.entry.content.get("latest_time")})).map((function(e){var t=e.entry.content.toJSON();return{label:t.label,earliest:t.earliest_time||"",latest:t.latest_time||""}}));return t(p(e,a))})).fail((function(){return t(m("fetch time range presets failed!",a))}))}},t.fetchApps=function(e){return function(t,i){var s=n.default.defaults({},e);if(s.data=n.default.defaults({},s.data,{count:-1,sort_key:"label"}),i().apps.isFetching)return(new r.default.Deferred).resolve();t(function(e){return{type:l.FETCH_APPS_REQUEST,fetchOptions:e}}(s));var o=new a.default;return o.fetch(s).then((function(){return t(function(e,t){return{type:l.FETCH_APPS_SUCCESS,value:e,fetchOptions:t}}(o.listWithoutInternals().filter((function(e){return e.entry.content.get("visible")&&e.entry.content.get("show_in_nav")&&!e.entry.content.get("disabled")&&"launcher"!==e.entry.get("name")})).map((function(e){return{label:e.entry.content.get("label"),value:e.entry.get("name")}})),s))}),(function(){return t(function(e,t){return{type:l.FETCH_APPS_FAILURE,value:e,fetchOptions:t}}("fetch apps failed",s))}))}},t.fetchDashboards=function(e){return function(t,i){var a=n.default.defaults({},e,{count:-1,sort_key:"label",digest:"1",search:'(eai:type="views" OR eai:type="html")'});if(i().dashboards.isFetching)return(new r.default.Deferred).resolve();t(function(e){return{type:l.FETCH_DASHBOARDS_REQUEST,fetchOptions:e}}(a));var o=s.default.getCachedModel("dashboards",a);return o.dfd.then((function(){return t(function(e,t){return{type:l.FETCH_DASHBOARDS_SUCCESS,value:e,fetchOptions:t}}(o.map((function(e){return{label:e.entry.content.get("label"),value:e.entry.get("name")}})),a))}),(function(){return t(function(e,t){return{type:l.FETCH_DASHBOARDS_FAILURE,value:e,fetchOptions:t}}("fetch dashboards failed",a))}))}},t.fetchReports=function(e){return function(t,i){var a=n.default.defaults({},e,{count:-1,sort_key:"name",search:"is_visible=1"});if(i().reports.isFetching)return(new r.default.Deferred).resolve();t(function(e){return{type:l.FETCH_REPORTS_REQUEST,fetchOptions:e}}(a));var o=s.default.getCachedModel("reports",Object.assign({},a));return o.dfd.then((function(){return t(function(e,t){return{type:l.FETCH_REPORTS_SUCCESS,value:e,fetchOptions:t}}(o.map((function(e){return{label:e.entry.get("name"),value:e.entry.get("name")}})),a))}),(function(){return t(function(e,t){return{type:l.FETCH_REPORTS_FAILURE,value:e,fetchOptions:t}}("fetch reports failed",a))}))}},t.validateLinkToDashboard=function(){return function(e,t){var i=t();if(i.activeAction===o.LINK_TO_DASHBOARD){var n=i.forms[o.LINK_TO_DASHBOARD].activeDashboard;if(n)i.dashboards.items.find((function(e){return e.value===n}))||(e(u(o.LINK_TO_CUSTOM_URL)),e((0,d.updateLinkToDashboardSetting)({activeDashboard:""})))}}}},"dashboard/containers/editor/drilldown/drilldownNames":function(e,t,i){"use strict";i(1),Object.defineProperty(t,"__esModule",{value:!0});t.NO_DRILLDOWN="none",t.LINK_TO_SEARCH="linkToSearch",t.LINK_TO_DASHBOARD="linkToDashboard",t.LINK_TO_REPORT="linkToReport",t.LINK_TO_CUSTOM_URL="linkToCustomURL",t.EDIT_TOKENS="tokens"},"dashboard/containers/editor/drilldown/drilldownReducer":function(e,t,i){"use strict";i(1),Object.defineProperty(t,"__esModule",{value:!0});var n,s=p(i(53)),a=i(264),r=i("dashboard/containers/editor/drilldown/drilldownNames"),o=i("dashboard/containers/editor/drilldown/actionTypes"),l=p(i("dashboard/containers/editor/drilldown/dashboard/dashboardReducer")),d=p(i("dashboard/containers/editor/drilldown/search/searchReducer")),h=p(i("dashboard/containers/editor/drilldown/report/reportReducer")),u=p(i("dashboard/containers/editor/drilldown/url/urlReducer")),c=p(i("dashboard/containers/editor/drilldown/tokens/tokensReducer"));function p(e){return e&&e.__esModule?e:{default:e}}var m=(0,a.combineReducers)({isSupported:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e},isCustomViz:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e},activeAction:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.NO_DRILLDOWN,t=arguments[1];switch(t.type){case o.UPDATE_ACTIVE_ACTION:return t.value;default:return e}},apps:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isFetching:!1,fetchOptions:{},items:[],error:""},t=arguments[1];switch(t.type){case o.FETCH_APPS_REQUEST:return{isFetching:!0,fetchOptions:t.fetchOptions,items:[],error:""};case o.FETCH_APPS_SUCCESS:return{isFetching:!1,fetchOptions:t.fetchOptions,items:t.value,error:""};case o.FETCH_APPS_FAILURE:return{isFetching:!1,fetchOptions:t.fetchOptions,items:[],error:t.value};default:return e}},dashboards:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isFetching:!1,fetchOptions:{},items:[],error:""},t=arguments[1];switch(t.type){case o.FETCH_DASHBOARDS_REQUEST:return{isFetching:!0,fetchOptions:t.fetchOptions,items:[],error:""};case o.FETCH_DASHBOARDS_SUCCESS:return{isFetching:!1,fetchOptions:t.fetchOptions,items:t.value,error:""};case o.FETCH_DASHBOARDS_FAILURE:return{isFetching:!1,fetchOptions:t.fetchOptions,items:[],error:t.value};default:return e}},reports:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isFetching:!1,fetchOptions:{},items:[],error:""},t=arguments[1];switch(t.type){case o.FETCH_REPORTS_REQUEST:return{isFetching:!0,fetchOptions:t.fetchOptions,items:[],error:""};case o.FETCH_REPORTS_SUCCESS:return{isFetching:!1,fetchOptions:t.fetchOptions,items:t.value,error:""};case o.FETCH_REPORTS_FAILURE:return{isFetching:!1,fetchOptions:t.fetchOptions,items:[],error:t.value};default:return e}},forms:(0,a.combineReducers)((n={},(0,s.default)(n,r.LINK_TO_SEARCH,d.default),(0,s.default)(n,r.LINK_TO_DASHBOARD,l.default),(0,s.default)(n,r.LINK_TO_REPORT,h.default),(0,s.default)(n,r.LINK_TO_CUSTOM_URL,u.default),(0,s.default)(n,r.EDIT_TOKENS,c.default),n)),timeRangePresets:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isFetching:!1,fetchOptions:{},items:[],error:""},t=arguments[1];switch(t.type){case o.FETCH_TIME_RANGE_PRESETS_REQUEST:return{isFetching:!0,fetchOptions:t.fetchOptions,items:[],error:""};case o.FETCH_TIME_RANGE_PRESETS_SUCCESS:return{isFetching:!1,fetchOptions:t.fetchOptions,items:t.timeRangePresets,error:""};case o.FETCH_TIME_RANGE_PRESETS_FAILURE:return{isFetching:!1,fetchOptions:t.fetchOptions,items:[],error:t.error};default:return e}},elementEnv:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e},splunkEnv:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e}});t.default=m,e.exports=t.default},"dashboard/containers/editor/drilldown/report/ReportContainer":function(e,t,i){"use strict";i(1),Object.defineProperty(t,"__esModule",{value:!0});var n,s=i(88),a=i("dashboard/components/editor/drilldown/ReportActionEditor"),r=(n=a)&&n.__esModule?n:{default:n},o=i("dashboard/containers/editor/drilldown/drilldownNames"),l=i("dashboard/containers/editor/drilldown/report/reportActions"),d=i("dashboard/containers/editor/drilldown/drilldownActions");var h=(0,s.connect)((function(e){return{activeApp:e.forms[o.LINK_TO_REPORT].activeApp,activeAppError:e.forms[o.LINK_TO_REPORT].activeAppError,apps:e.apps.items,isFetchingApps:e.apps.isFetching,activeReport:e.forms[o.LINK_TO_REPORT].activeReport,activeReportError:e.forms[o.LINK_TO_REPORT].activeReportError,target:e.forms[o.LINK_TO_REPORT].target,reports:e.reports.items,isFetchingReports:e.reports.isFetching}}),(function(e){return{onAppChange:function(t,i){var n=i.value;e((0,l.updateLinkToReportSetting)({activeApp:n,activeReport:""})),e((0,d.fetchReports)({app:n}))},onReportChange:function(t,i){var n=i.value;e((0,l.updateLinkToReportSetting)({activeReport:n}))},onTargetChange:function(t,i){var n=i.value;e((0,l.updateLinkToReportSetting)({target:n}))}}}))(r.default);t.default=h,e.exports=t.default},"dashboard/containers/editor/drilldown/report/reportActions":function(e,t,i){"use strict";i(1),Object.defineProperty(t,"__esModule",{value:!0}),t.updateLinkToReportSetting=void 0;var n=i("dashboard/containers/editor/drilldown/actionTypes");t.updateLinkToReportSetting=function(e){return{type:n.UPDATE_LINK_TO_REPORT_SETTING,value:e}}},"dashboard/containers/editor/drilldown/report/reportReducer":function(e,t,i){"use strict";i(1),Object.defineProperty(t,"__esModule",{value:!0});var n=i("dashboard/containers/editor/drilldown/actionTypes"),s={activeApp:"",activeAppError:"",activeReport:"",activeReportError:""};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1];switch(t.type){case n.UPDATE_LINK_TO_REPORT_SETTING:return Object.assign({},e,t.value);default:return e}},e.exports=t.default},"dashboard/containers/editor/drilldown/search/SearchContainer":function(e,t,i){"use strict";i(1),Object.defineProperty(t,"__esModule",{value:!0});var n=i(88),s=l(i("dashboard/components/editor/drilldown/search/SearchActionEditor")),a=i("dashboard/containers/editor/drilldown/drilldownNames"),r=l(i("uri/route")),o=i("dashboard/containers/editor/drilldown/search/searchActions");function l(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.connect)((function(e){return{options:e.forms[a.LINK_TO_SEARCH].options,activeOption:e.forms[a.LINK_TO_SEARCH].activeOption,search:e.forms[a.LINK_TO_SEARCH].search,searchError:e.forms[a.LINK_TO_SEARCH].searchError,isFetchingPresets:e.timeRangePresets.isFetching,presets:e.timeRangePresets.items,locale:e.splunkEnv.application.locale,parseEarliest:e.forms[a.LINK_TO_SEARCH].parseEarliest,parseLatest:e.forms[a.LINK_TO_SEARCH].parseLatest,extraTimeRangeOptions:e.forms[a.LINK_TO_SEARCH].extraTimeRangeOptions,activeTimeRangeOption:e.forms[a.LINK_TO_SEARCH].activeTimeRangeOption,activeTimeRange:e.forms[a.LINK_TO_SEARCH].activeTimeRange,activeTimeRangeToken:e.forms[a.LINK_TO_SEARCH].activeTimeRangeToken,earliestTokenError:e.forms[a.LINK_TO_SEARCH].earliestTokenError,latestTokenError:e.forms[a.LINK_TO_SEARCH].latestTokenError,target:e.forms[a.LINK_TO_SEARCH].target,learnMoreLinkForTokens:r.default.docHelp(e.splunkEnv.application.root,e.splunkEnv.application.locale,"learnmore.dashboard.drilldown.tokens"),timeRangePickerDocsURL:r.default.docHelp(e.splunkEnv.application.root,e.splunkEnv.application.locale,"learnmore.timerange.picker")}}),(function(e){return{onOptionChange:function(t,i){var n=i.value;e((0,o.updateLinkToSearchSetting)({activeOption:n}))},onSearchChange:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=i.value;e((0,o.updateLinkToSearchSetting)({search:n}))},onTargetChange:function(t,i){var n=i.value;e((0,o.updateLinkToSearchSetting)({target:n}))},onTimeRangeOptionChange:function(t,i){var n=i.value;e((0,o.updateLinkToSearchSetting)({activeTimeRangeOption:n}))},onTimeRangeChange:function(t,i){var n=i.earliest,s=i.latest;e((0,o.updateLinkToSearchSetting)({activeTimeRange:{earliest:n,latest:s}}))},onTimeRangeTokenChange:function(t,i){var n=i.value;e((0,o.updateLinkToSearchSetting)({activeTimeRangeToken:n}))},onRequestParseEarliest:function(t){e((0,o.parseEarliest)(t))},onRequestParseLatest:function(t){e((0,o.parseLatest)(t))}}}))(s.default),e.exports=t.default},"dashboard/containers/editor/drilldown/search/searchActions":function(e,t,i){"use strict";i(1),Object.defineProperty(t,"__esModule",{value:!0}),t.parseLatest=t.parseEarliest=t.updateLinkToSearchSetting=void 0;var n=i("dashboard/containers/editor/drilldown/actionTypes"),s=i("dashboard/containers/editor/drilldown/drilldownNames"),a=i(532);t.updateLinkToSearchSetting=function(e){return{type:n.UPDATE_LINK_TO_SEARCH_SETTING,value:e}},t.parseEarliest=function(e){return function(t,i){return i().forms[s.LINK_TO_SEARCH].isParsingEarliest?Promise.resolve():(t(function(e){return{type:n.PARSE_EARLIEST_REQUEST,parseEarliest:{time:e}}}(e)),(0,a.getISO)(e).then((function(e){return t(function(e){return{type:n.PARSE_EARLIEST_SUCCESS,parseEarliest:e}}(e))})).catch((function(e){return t(function(e){return{type:n.PARSE_EARLIEST_FAILURE,parseEarliest:e}}(e))})))}},t.parseLatest=function(e){return function(t,i){return i().forms[s.LINK_TO_SEARCH].isParsingLatest?Promise.resolve():(t(function(e){return{type:n.PARSE_LATEST_REQUEST,parseLatest:{time:e}}}(e)),(0,a.getISO)(e).then((function(e){return t(function(e){return{type:n.PARSE_LATEST_SUCCESS,parseLatest:e}}(e))})).catch((function(e){return t(function(e){return{type:n.PARSE_LATEST_FAILURE,parseLatest:e}}(e))})))}}},"dashboard/containers/editor/drilldown/search/searchReducer":function(e,t,i){"use strict";i(1),Object.defineProperty(t,"__esModule",{value:!0});var n,s=i("require/underscore"),a=(n=s)&&n.__esModule?n:{default:n},r=i("dashboard/containers/editor/drilldown/actionTypes"),o=i("dashboard/containers/editor/drilldown/search/timeRangeOptionNames");var l={options:[{label:(0,a.default)("Auto").t(),value:"default"},{label:(0,a.default)("Custom").t(),value:"custom"}],activeOption:"default",search:"",searchError:"",target:"",isParsingEarliest:!1,parseEarliest:{},isParsingLatest:!1,parseLatest:{},extraTimeRangeOptions:[],activeTimeRangeOption:o.EXPLICIT_OPTION,activeTimeRange:{earliest:0,latest:""},activeTimeRangeToken:{earliest:"",latest:""},earliestTokenError:"",latestTokenError:""};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case r.UPDATE_LINK_TO_SEARCH_SETTING:return Object.assign({},e,t.value);case r.PARSE_EARLIEST_REQUEST:return Object.assign({},e,{isParsingEarliest:!0,parseEarliest:t.parseEarliest});case r.PARSE_EARLIEST_SUCCESS:case r.PARSE_EARLIEST_FAILURE:return Object.assign({},e,{isParsingEarliest:!1,parseEarliest:t.parseEarliest});case r.PARSE_LATEST_REQUEST:return Object.assign({},e,{isParsingLatest:!0,parseLatest:t.parseLatest});case r.PARSE_LATEST_SUCCESS:case r.PARSE_LATEST_FAILURE:return Object.assign({},e,{isParsingLatest:!1,parseLatest:t.parseLatest});default:return e}},e.exports=t.default},"dashboard/containers/editor/drilldown/search/timeRangeOptionNames":function(e,t,i){"use strict";i(1),Object.defineProperty(t,"__esModule",{value:!0});t.EXPLICIT_OPTION="__splunk__EXPLICIT_TIME_OPTION",t.TOKEN_OPTION="__splunk__TOKEN_TIME_OPTION",t.GLOBAL_OPTION="__splunk__GLOBAL_OPTION"},"dashboard/containers/editor/drilldown/tokens/TokensContainer":function(e,t,i){"use strict";i(1),Object.defineProperty(t,"__esModule",{value:!0});var n=i(88),s=d(i("require/underscore")),a=d(i("dashboard/components/editor/drilldown/tokens/TokensActionEditor")),r=i("dashboard/containers/editor/drilldown/drilldownNames"),o=d(i("uri/route")),l=i("dashboard/containers/editor/drilldown/tokens/tokensActions");function d(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.connect)((function(e){return{items:e.forms[r.EDIT_TOKENS].items,error:e.forms[r.EDIT_TOKENS].error,candidateTokens:e.elementEnv.drilldownTokens,learnMoreLinkForTokenUsage:o.default.docHelp(e.splunkEnv.application.root,e.splunkEnv.application.locale,"learnmore.dashboard.drilldown.example_token_usage")}}),(function(e){return{onUpdateTokens:function(t){e((0,l.updateTokensSetting)({items:t.map((function(e){return"unset"===e.type?s.default.omit(e,"value"):s.default.defaults({},e,{value:""})}))}))}}}))(a.default),e.exports=t.default},"dashboard/containers/editor/drilldown/tokens/tokensActions":function(e,t,i){"use strict";i(1),Object.defineProperty(t,"__esModule",{value:!0}),t.updateTokensSetting=void 0;var n=i("dashboard/containers/editor/drilldown/actionTypes");t.updateTokensSetting=function(e){return{type:n.UPDATE_TOKENS_SETTING,value:e}}},"dashboard/containers/editor/drilldown/tokens/tokensReducer":function(e,t,i){"use strict";i(1),Object.defineProperty(t,"__esModule",{value:!0});var n=i("dashboard/containers/editor/drilldown/actionTypes");t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{items:[]},t=arguments[1];switch(t.type){case n.UPDATE_TOKENS_SETTING:return Object.assign({},e,t.value);default:return e}},e.exports=t.default},"dashboard/containers/editor/drilldown/url/UrlContainer":function(e,t,i){"use strict";i(1),Object.defineProperty(t,"__esModule",{value:!0});var n,s=i(88),a=i("dashboard/components/editor/drilldown/UrlActionEditor"),r=(n=a)&&n.__esModule?n:{default:n},o=i("dashboard/containers/editor/drilldown/drilldownNames"),l=i("dashboard/containers/editor/drilldown/url/urlActions");t.default=(0,s.connect)((function(e){return{url:e.forms[o.LINK_TO_CUSTOM_URL].url,urlError:e.forms[o.LINK_TO_CUSTOM_URL].urlError,target:e.forms[o.LINK_TO_CUSTOM_URL].target}}),(function(e){return{onUrlChange:function(t,i){var n=i.value;e((0,l.updateLinkToURLSetting)({url:n}))},onTargetChange:function(t,i){var n=i.value;e((0,l.updateLinkToURLSetting)({target:n}))}}}))(r.default),e.exports=t.default},"dashboard/containers/editor/drilldown/url/urlActions":function(e,t,i){"use strict";i(1),Object.defineProperty(t,"__esModule",{value:!0}),t.updateLinkToURLSetting=void 0;var n=i("dashboard/containers/editor/drilldown/actionTypes");t.updateLinkToURLSetting=function(e){return{type:n.UPDATE_LINK_TO_URL_SETTING,value:e}}},"dashboard/containers/editor/drilldown/url/urlReducer":function(e,t,i){"use strict";i(1),Object.defineProperty(t,"__esModule",{value:!0});var n=i("dashboard/containers/editor/drilldown/actionTypes"),s={url:"http://",target:""};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1];switch(t.type){case n.UPDATE_LINK_TO_URL_SETTING:return Object.assign({},e,t.value);default:return e}},e.exports=t.default},"dashboard/containers/utils/validators":function(e,t,i){"use strict";i(1),Object.defineProperty(t,"__esModule",{value:!0}),t.urlHasProtocol=t.numberWithInRange=t.stringNotEmpty=void 0;var n=s(i("require/underscore"));function s(e){return e&&e.__esModule?e:{default:e}}var a=s(i("shim/splunk.util")).default.sprintf;t.stringNotEmpty=function(e){var t="";return e||(t=(0,n.default)("is required").t()),t},t.numberWithInRange=function(e,t){return function(i){var s="";return n.default.isNumber(i)?i<e&&i>t&&(s=a((0,n.default)("should within range (%s,%s)").t(),e,t)):s=(0,n.default)("expected a number").t(),s}},t.urlHasProtocol=function(e){var t="";return/^https?:\/\//.test(e)||(t=(0,n.default)("URL should start with http:// or https://").t()),t}},"dashboard/exposedModules":function(e,t,i){var n,s;n=[i("splunkjs/mvc/exposedModulesBase"),i("require/underscore")],void 0===(s=function(e,t){return t.extend({"splunkjs/mvc/simplexml/controller":i("splunkjs/mvc/simplexml/controller"),"splunkjs/mvc/simplexml/dashboardview":i("splunkjs/mvc/simplexml/dashboardview"),"splunkjs/mvc/simplexml/dashboard/panel":i("splunkjs/mvc/simplexml/dashboard/panel"),"splunkjs/mvc/simplexml/dashboard/panelref":i("splunkjs/mvc/simplexml/dashboard/panelref"),"splunkjs/mvc/simplexml/element/chart":i("splunkjs/mvc/simplexml/element/chart"),"splunkjs/mvc/simplexml/element/event":i("splunkjs/mvc/simplexml/element/event"),"splunkjs/mvc/simplexml/element/html":i("splunkjs/mvc/simplexml/element/html"),"splunkjs/mvc/simplexml/element/list":i("splunkjs/mvc/simplexml/element/list"),"splunkjs/mvc/simplexml/element/map":i("splunkjs/mvc/simplexml/element/map"),"splunkjs/mvc/simplexml/element/single":i("splunkjs/mvc/simplexml/element/single"),"splunkjs/mvc/simplexml/element/table":i("splunkjs/mvc/simplexml/element/table"),"splunkjs/mvc/simplexml/element/visualization":i("splunkjs/mvc/simplexml/element/visualization"),"splunkjs/mvc/simpleform/formutils":i("splunkjs/mvc/simpleform/formutils"),"splunkjs/mvc/simplexml/eventhandler":i("splunkjs/mvc/simplexml/eventhandler"),"splunkjs/mvc/simplexml/searcheventhandler":i("splunkjs/mvc/simplexml/searcheventhandler"),"splunkjs/mvc/simpleform/input/dropdown":i("splunkjs/mvc/simpleform/input/dropdown"),"splunkjs/mvc/simpleform/input/radiogroup":i("splunkjs/mvc/simpleform/input/radiogroup"),"splunkjs/mvc/simpleform/input/linklist":i("splunkjs/mvc/simpleform/input/linklist"),"splunkjs/mvc/simpleform/input/multiselect":i("splunkjs/mvc/simpleform/input/multiselect"),"splunkjs/mvc/simpleform/input/checkboxgroup":i("splunkjs/mvc/simpleform/input/checkboxgroup"),"splunkjs/mvc/simpleform/input/text":i("splunkjs/mvc/simpleform/input/text"),"splunkjs/mvc/simpleform/input/timerange":i("splunkjs/mvc/simpleform/input/timerange"),"splunkjs/mvc/simpleform/input/submit":i("splunkjs/mvc/simpleform/input/submit"),"splunkjs/mvc/simplexml/urltokenmodel":i("splunkjs/mvc/simplexml/urltokenmodel"),"splunk.util":i("shim/splunk.util"),"uri/route":i("uri/route"),"splunkjs/mvc/simplexml/ready":i("splunkjs/mvc/simplexml/ready"),"splunkjs/ready":i("splunkjs/ready"),"splunkjs/mvc/visualizationloader":i("splunkjs/mvc/visualizationloader"),"views/shared/results_table/renderers/BaseCellRenderer":i("views/shared/results_table/renderers/BaseCellRenderer"),"collections/services/saved/Searches":i("collections/services/saved/Searches"),"util/htmlcleaner":i("util/htmlcleaner"),leaflet:i("shim/leaflet"),"bootstrap.tab":i("shim/bootstrap.tab"),"util/general_utils":i("util/general_utils"),prettify:i("shim/prettify"),"bootstrap.tooltip":i("shim/bootstrap.tooltip"),time_range:i("time_range"),context:i("context"),job:i("job"),strftime:i("contrib/strftime"),"util/moment":i("util/moment"),"bootstrap.modal":i("shim/bootstrap.modal"),sax:i("contrib/sax"),highcharts:i("shim/highcharts"),async:i("splunkjs/contrib/requirejs-plugins/async"),"jquery.ui.draggable":i("shim/jquery.ui.draggable"),"jquery.ui.widget":i("shim/jquery.ui.widget"),"util/eval":i("util/eval"),splunk:i("shim/splunk"),"util/router_utils":i("util/router_utils"),"util/time":i("util/time"),"jquery.ui.sortable":i("shim/jquery.ui.sortable"),"jquery.sparkline":i("shim/jquery.sparkline")},e)}.apply(t,n))||(e.exports=s)},"dashboard/factory_config":function(e,t,i){var n,s;n=[i("splunkjs/mvc/utils"),i("stubs/splunk.config")],void 0===(s=function(e,t){return{typeMap:{dashboard:{getModule:function(){return i("views/dashboard/Master")},class:"container",autoId:"dashboard",state:{getModule:function(){return i("dashboard/state/DashboardMasterState")}}},"row-column":{getModule:function(){return i("views/dashboard/layout/row_column/RowColumnLayout")},class:"container",autoId:"layout",state:{getModule:function(){return i("dashboard/state/LayoutState")}}},row:{getModule:function(){return i("views/dashboard/layout/row_column/Row")},class:"container",autoId:"row",state:{getModule:function(){return i("dashboard/state/RowState")}}},panel:{getModule:function(){return i("views/dashboard/layout/Panel")},class:"container",settingsOptions:{tokens:!0},autoId:"panel",state:{getModule:function(){return i("dashboard/state/PanelState")}}},fieldset:{getModule:function(){return i("views/dashboard/form/GlobalFieldset")},class:"container",autoId:"fieldset",state:{getModule:function(){return i("dashboard/state/FieldsetState")}}},panelref:{getModule:function(){return i("views/dashboard/layout/PanelRef")},class:"container",settingsOptions:{tokens:!0},autoId:"panel",state:{getModule:function(){return i("dashboard/state/PanelState")}}},chart:{getModule:function(){return i("views/dashboard/element/DashboardElement")},class:"viz",reportContent:{"display.general.type":"visualizations","display.visualizations.type":"charting"}},table:{getModule:function(){return i("views/dashboard/element/DashboardElement")},class:"viz",reportContent:{"display.general.type":"statistics"}},single:{getModule:function(){return i("views/dashboard/element/DashboardElement")},class:"viz",reportContent:{"display.general.type":"visualizations","display.visualizations.type":"singlevalue"}},map:{getModule:function(){return i("views/dashboard/element/DashboardElement")},class:"viz",reportContent:{"display.general.type":"visualizations","display.visualizations.type":"mapping"}},event:{getModule:function(){return i("views/dashboard/element/DashboardElement")},class:"viz",reportContent:{"display.general.type":"events"}},viz:{getModule:function(){return i("views/dashboard/element/DashboardElement")},class:"viz",reportContent:{"display.general.type":"visualizations","display.visualizations.type":"custom"}},html:{getModule:function(){return i("views/dashboard/element/Html")},class:"content",renameSettings:{content:"html"}},"text-input":{getModule:function(){return i("views/dashboard/form/Input")},class:"input",settingsToCreate:{blankIsUndefined:!0,type:"text",getView:function(){return i("splunkjs/mvc/textinputview")}}},"dropdown-input":{getModule:function(){return i("views/dashboard/form/Input")},class:"input",settingsToCreate:{type:"dropdown",getView:function(){return i("splunkjs/mvc/dropdownview")}}},"radio-input":{getModule:function(){return i("views/dashboard/form/Input")},class:"input",settingsToCreate:{multiValue:!1,type:"radio",getView:function(){return i("splunkjs/mvc/radiogroupview")}}},"link-input":{getModule:function(){return i("views/dashboard/form/Input")},class:"input",settingsToCreate:{type:"link",getView:function(){return i("splunkjs/mvc/linklistview")}}},"multiselect-input":{getModule:function(){return i("views/dashboard/form/Input")},class:"input",settingsToCreate:{multiValue:!0,type:"multiselect",getView:function(){return i("splunkjs/mvc/multidropdownview")}}},"checkbox-input":{getModule:function(){return i("views/dashboard/form/Input")},class:"input",settingsToCreate:{multiValue:!0,type:"checkbox",getView:function(){return i("splunkjs/mvc/checkboxgroupview")}}},"time-input":{getModule:function(){return i("views/dashboard/form/Input")},settingsToCreate:{type:"time",getView:function(){return i("splunkjs/mvc/timerangeview")}},class:"input"},drilldown:{getModule:function(){return i("splunkjs/mvc/simplexml/eventhandler")},class:"event",settingsToCreate:{event:"drilldown"}},selection:{getModule:function(){return i("splunkjs/mvc/simplexml/eventhandler")},class:"event",settingsToCreate:{event:"selection"}},"input-change":{getModule:function(){return i("splunkjs/mvc/simplexml/eventhandler")},class:"event",settingsToCreate:{event:"valueChange"}},"init-event-handler":{class:"event",getModule:function(){return i("splunkjs/mvc/simplexml/dashboardeventhandler")}},"event-manager":{class:"eventmanager",getModule:function(){return i("dashboard/manager/EventManager")}},"inline-search":{getModule:function(){return i("splunkjs/mvc/searchmanager")},class:"manager",settingsToCreate:{status_buckets:0,cancelOnUnload:!0,auto_cancel:90,preview:!0,runWhenTimeIsUndefined:!1,defaultsToGlobalTimerange:!0,replaceTabsInSearch:!0,provenance:function(){return"UI:Dashboard:"+e.getPageInfo().page},check_risky_command:t.ENABLE_RISKY_COMMAND_CHECK_DASHBOARD},renameSettings:{query:"search",earliest:"earliest_time",latest:"latest_time",sampleRatio:"sample_ratio"}},"saved-search":{getModule:function(){return i("splunkjs/mvc/savedsearchmanager")},class:"manager",settingsToCreate:{status_buckets:0,cancelOnUnload:!0,auto_cancel:90,preview:!0,runWhenTimeIsUndefined:!1,provenance:function(){return"UI:Dashboard:"+e.getPageInfo().page},check_risky_command:t.ENABLE_RISKY_COMMAND_CHECK_DASHBOARD},renameSettings:{ref:"searchname",name:"searchname",earliest:"earliest_time",latest:"latest_time"}},"postprocess-search":{getModule:function(){return i("splunkjs/mvc/postprocessmanager")},settingsToCreate:{replaceTabsInSearch:!0,check_risky_command:t.ENABLE_RISKY_COMMAND_CHECK_DASHBOARD},renameSettings:{base:"managerid",query:"search",postprocess:"search"},class:"manager"},"search-eventhandler":{getModule:function(){return i("splunkjs/mvc/simplexml/searcheventhandler")},class:"event"}},classes:{container:{dom:!0},content:{settingsOptions:{tokens:!0},autoId:"content",dom:!0,state:{getModule:function(){return i("dashboard/state/ElementState")}}},viz:{settingsOptions:{tokens:!0},autoId:"element",dom:!0,state:{getModule:function(){return i("dashboard/state/ElementState")}}},input:{settingsToCreate:{handleValueChange:!0},settingsOptions:{tokens:!0},autoId:"input",dom:!0,state:{getModule:function(){return i("dashboard/state/InputState")}}},manager:{settingsToCreate:{auto_cancel:90,preview:!0,runWhenTimeIsUndefined:!1},settingsOptions:{tokens:!0,tokenNamespace:"submitted"},autoId:"search",state:{getModule:function(){return i("dashboard/state/SearchState")}}},eventmanager:{autoId:"evtmanager",state:{getModule:function(){return i("dashboard/state/EventManagerState")}}},event:{autoId:"evt"}}}}.apply(t,n))||(e.exports=s)},"dashboard/factory_config_legacy":function(e,t,i){var n,s;n=[i("splunkjs/mvc/utils")],void 0===(s=function(e){return{typeMap:{dashboard:{getModule:function(){return i("splunkjs/mvc/simplexml/dashboardview")},class:"container",autoId:"dashboard"},row:{getModule:function(){return i("splunkjs/mvc/simplexml/dashboard/row")},class:"container",autoId:"row"},panel:{getModule:function(){return i("splunkjs/mvc/simplexml/dashboard/panel")},class:"container",settingsOptions:{tokens:!0},autoId:"panel"},fieldset:{getModule:function(){return i("splunkjs/mvc/simpleform/fieldsetview")},class:"container",autoId:"fieldset"},panelref:{getModule:function(){return i("splunkjs/mvc/simplexml/dashboard/panelref")},class:"container",settingsOptions:{tokens:!0},autoId:"panel"},chart:{getModule:function(){return i("splunkjs/mvc/simplexml/element/chart")},class:"viz",reportContent:{"display.general.type":"visualizations","display.visualizations.type":"charting"}},table:{getModule:function(){return i("splunkjs/mvc/simplexml/element/table")},class:"viz",reportContent:{"display.general.type":"statistics"}},single:{getModule:function(){return i("splunkjs/mvc/simplexml/element/single")},class:"viz",reportContent:{"display.general.type":"visualizations","display.visualizations.type":"singlevalue"}},map:{getModule:function(){return i("splunkjs/mvc/simplexml/element/map")},class:"viz",reportContent:{"display.general.type":"visualizations","display.visualizations.type":"mapping"}},event:{getModule:function(){return i("splunkjs/mvc/simplexml/element/event")},class:"viz",reportContent:{"display.general.type":"events"}},viz:{getModule:function(){return i("splunkjs/mvc/simplexml/element/visualization")},class:"viz",reportContent:{"display.general.type":"visualizations","display.visualizations.type":"custom"}},html:{getModule:function(){return i("splunkjs/mvc/simplexml/element/html")},class:"content",renameSettings:{content:"html"}},"text-input":{getModule:function(){return i("splunkjs/mvc/simpleform/input/text")},class:"input",settingsToCreate:{blankIsUndefined:!0}},"dropdown-input":{getModule:function(){return i("splunkjs/mvc/simpleform/input/dropdown")},class:"input"},"radio-input":{getModule:function(){return i("splunkjs/mvc/simpleform/input/radiogroup")},class:"input",settingsToCreate:{multiValue:!1}},"link-input":{getModule:function(){return i("splunkjs/mvc/simpleform/input/linklist")},class:"input"},"multiselect-input":{getModule:function(){return i("splunkjs/mvc/simpleform/input/multiselect")},class:"input",settingsToCreate:{multiValue:!0}},"checkbox-input":{getModule:function(){return i("splunkjs/mvc/simpleform/input/checkboxgroup")},class:"input",settingsToCreate:{multiValue:!0}},"time-input":{getModule:function(){return i("splunkjs/mvc/simpleform/input/timerange")},class:"input"},drilldown:{getModule:function(){return i("splunkjs/mvc/simplexml/eventhandler")},class:"event",settingsToCreate:{event:"drilldown"}},selection:{getModule:function(){return i("splunkjs/mvc/simplexml/eventhandler")},class:"event",settingsToCreate:{event:"selection"}},"input-change":{getModule:function(){return i("splunkjs/mvc/simplexml/eventhandler")},class:"event",settingsToCreate:{event:"valueChange"}},"init-event-handler":{class:"event",getModule:function(){return i("splunkjs/mvc/simplexml/dashboardeventhandler")}},"event-manager":{class:"eventmanager",getModule:function(){return i("dashboard/manager/EventManager")}},"inline-search":{getModule:function(){return i("splunkjs/mvc/searchmanager")},class:"manager",settingsToCreate:{status_buckets:0,cancelOnUnload:!0,auto_cancel:90,preview:!0,runWhenTimeIsUndefined:!1,defaultsToGlobalTimerange:!0,replaceTabsInSearch:!0,provenance:function(){return"UI:Dashboard:"+e.getPageInfo().page}},renameSettings:{query:"search",earliest:"earliest_time",latest:"latest_time",sampleRatio:"sample_ratio"}},"saved-search":{getModule:function(){return i("splunkjs/mvc/savedsearchmanager")},class:"manager",settingsToCreate:{status_buckets:0,cancelOnUnload:!0,auto_cancel:90,preview:!0,runWhenTimeIsUndefined:!1,provenance:function(){return"UI:Dashboard:"+e.getPageInfo().page}},renameSettings:{ref:"searchname",name:"searchname",earliest:"earliest_time",latest:"latest_time"}},"postprocess-search":{getModule:function(){return i("splunkjs/mvc/postprocessmanager")},settingsToCreate:{replaceTabsInSearch:!0},renameSettings:{base:"managerid",query:"search",postprocess:"search"},class:"manager"},"search-eventhandler":{getModule:function(){return i("splunkjs/mvc/simplexml/searcheventhandler")},class:"event"}},classes:{container:{dom:!0},content:{settingsOptions:{tokens:!0},autoId:"content",dom:!0},viz:{settingsOptions:{tokens:!0},autoId:"element",dom:!0},input:{settingsToCreate:{handleValueChange:!0},settingsOptions:{tokens:!0},autoId:"input",dom:!0},manager:{settingsToCreate:{auto_cancel:90,preview:!0,runWhenTimeIsUndefined:!1},settingsOptions:{tokens:!0,tokenNamespace:"submitted"},autoId:"search"},eventmanager:{autoId:"evtmanager"},event:{autoId:"evt"}}}}.apply(t,n))||(e.exports=s)},"dashboard/manager/EventManager":function(e,t,i){var n,s;n=[i("shim/jquery"),i("require/underscore"),i("splunkjs/mvc"),i("splunkjs/mvc/basemanager"),i("splunkjs/mvc/settings"),i("dashboard/DashboardFactory"),i("shim/splunk.util")],void 0===(s=function(e,t,i,n,s,a,r){return n.extend({initialize:function(e){n.prototype.initialize.apply(this,arguments),this.settings=new s(t.pick(e,"events")),this.listenTo(this.settings,"change:events",this.initEventHandlers),this.initEventHandlers()},applySetting:function(e){this.settings.set(e)},initEventHandlers:function(){this.disposeEventHandlers(),this._eventHandlers=t(this.settings.get("events")||[]).map((function(e){return a.getDefault().instantiate(t.extend({id:t.uniqueId(r.sprintf("%s-%s-",this.id,e.type))},e),{})}),this),this._bindEventHandlers()},getEventHandlers:function(){return this._eventHandlers},_bindEventHandlers:function(){this._component&&t(this._eventHandlers).each((function(e){e.settings.set(e.componentIdSetting,this._component.id)}),this)},_unbindEventHandlers:function(){this._component&&t(this._eventHandlers).each((function(e){e.settings.unset(e.componentIdSetting)}),this)},bindComponent:function(e){e&&(this._component=e,this._bindEventHandlers())},unbindComponent:function(){this._component&&(this._unbindEventHandlers(),this._component=null)},disposeEventHandlers:function(){this._unbindEventHandlers(),t(this._eventHandlers).each((function(e){e.dispose()}),this)},dispose:function(){this.disposeEventHandlers(),n.prototype.dispose.apply(this,arguments)}})}.apply(t,n))||(e.exports=s)},"dashboard/manager/FormManager":function(e,t,i){var n,s;n=[i("shim/jquery"),i("require/underscore"),i("models/url"),i("splunkjs/mvc"),i("util/general_utils"),i("splunkjs/mvc/sharedmodels")],void 0===(s=function(e,t,i,n,s,a){var r=n.Components,o={default:r.getInstance("default",{create:!0}),submitted:r.getInstance("submitted",{create:!0}),url:i},l=!0;return{bootstrapTokenModels:t.once((function(){r.hasInstance("url")||r.registerInstance("url",o.url,{replace:!0}),o.default.has("earliest")||o.default.has("latest")||o.default.set({earliest:"0",latest:""}),this._updateFromUrl(o.default)})),handleValueChange:function(e){var i=e.vizSettings,n=i.get("type"),s=i.get("token");if("time"===n){if(l&&!s){l=!1;var r=i.get("default"),d=i.get("preset");if(r)e.val(r);else if(d){var h=a.get("times").find((function(e){return e.entry.content.get("label")==d}));h&&e.val({earliest_time:h.entry.content.get("earliest_time"),latest_time:h.entry.content.get("latest_time")})}}if(!i.get("value")){var u=i.get("default"),c=i.get("preset");return void(u?e.val(u):c?e.getInputView()&&e.getInputView()._onTimePresetUpdate():i.set("value",{earliest_time:"",latest_time:""}))}var p=e.val(),m={};s?(m[s+".earliest"]=p.earliest_time||"",m[s+".latest"]=p.latest_time||""):(m.earliest=p.earliest_time||"",m.latest=p.latest_time||""),o.default.set(m)}else{if(!e.hasValue())return e.defaultUpdate=!0,void e.val(i.get("default"));var f=e.val();if(void 0===f)return o.default.set(s,f),e.defaultUpdate=!1,void this._handleAutoSubmit(e);if(e.settings.get("multiValue")){if(null===f||0===f.length)return o.default.set(s,void 0),e.defaultUpdate=!1,void this._handleAutoSubmit(e);var g=i.has("valuePrefix")?i.get("valuePrefix"):"",v=i.has("valueSuffix")?i.get("valueSuffix"):"",b=i.has("delimiter")?i.get("delimiter"):" ";f=t(f).map((function(e){return g+e+v})).join(b)}var _="";if(f){var y=i.get("prefix");y&&(_+=y),_+=f;var w=i.get("suffix");w&&(_+=w)}o.default.set(s,_)}this._handleAutoSubmit(e)},_handleAutoSubmit:function(e){this._shouldAutoSubmit(e)&&(!this.isFormReady()&&e.defaultUpdate?e.defaultUpdate=!1:this.submitForm())},submitForm:t.debounce((function(e){this.isFormReady()?(e||(e={}),o.submitted.set(o.default.toJSON()),this._updateToUrl(o.submitted,e)):this.onFormReady().then(t.bind(this.submitForm,this,{replaceState:!0}))})),_updateToUrl:function(e,t){o.url&&o.url.save(this._filterFormTokens(e),t)},_updateFromUrl:function(e,i){if(o.url){var n=o.url.toJSON();void 0===n.earliest&&void 0===n.latest?t.extend(n,{earliest:"0",latest:""}):l=!1,e.set(n,i)}},_filterFormTokens:function(e){var t=s.filterObjectByRegexes(e.toJSON(),["^form.*","^earliest$","^latest$"],{allowEmpty:!0,allowObject:!0});return"0"===String(t.earliest)&&""===t.latest&&(t.earliest=void 0,t.latest=void 0),t},onFormReady:function(){var i=e.Deferred(),n=this.getInputs();if(n.length>0){var s=t(n).invoke("onInputReady");e.when.apply(e,s).always(i.resolve)}else i.resolve();return i.promise()},isFormReady:function(){return"resolved"==this.onFormReady().state()},hasSubmitButton:function(){return e(".form-submit").length>0},hasUrlTokens:function(){return!t.isEmpty(o.url.toJSON())},getInputs:function(){return t(e(".input")).chain().map((function(t){return e(t).attr("id")})).map(t.bind(r.get,r)).filter(t.identity).value()},_shouldAutoSubmit:function(e){var t=e.vizSettings;return!0===t.get("searchWhenChanged")||null==t.get("searchWhenChanged")&&!this.hasSubmitButton()}}}.apply(t,n))||(e.exports=s)},"dashboard/mixins/EventManagerMixin":function(e,t,i){var n,s;n=[i("shim/jquery"),i("require/underscore"),i("splunkjs/mvc")],void 0===(s=function(e,t,i){return{setupEventManager:function(t){t||(t={}),this._eventManager=null,this._eventManagerDfd=this.settings.has("evtmanagerid")?e.Deferred():e.Deferred().resolve(),this.bindToComponentSetting(t.key||"evtmanagerid",this.onEventManagerChanged,this)},onEventManagerChanged:function(e,t){this._eventManager&&this._eventManager.unbindComponent(),this._eventManager=t,this._eventManager&&(this._eventManager.bindComponent(this),this._eventManagerDfd.resolve())},onEventManagerReady:function(){return this._eventManagerDfd},getEventManager:function(){return this._eventManager}}}.apply(t,n))||(e.exports=s)},"dashboard/mixins/SearchManagerMixin":function(e,t,i){var n,s;n=[i("shim/jquery"),i("require/underscore"),i("splunkjs/mvc")],void 0===(s=function(e,t,i){return{setupSearchManager:function(e){e||(e={}),this.bindToComponentSetting(e.key||"managerid",this.onSearchManagerChanged,this)},onSearchManagerChanged:function(e,t){}}}.apply(t,n))||(e.exports=s)},"dashboard/requirejsConfig":function(e,t,i){var n;void 0===(n=function(e){var t=i("shim/requirejs"),n=i("dashboard/exposedModules");return t.exposeModules(n,!0),t}.call(t,i,t,e))||(e.exports=n)},"dashboard/state/DashboardMasterState":function(e,t,i){var n,s;n=[i("require/underscore"),i("dashboard/state/ItemState")],void 0===(s=function(e,t){return t.extend({setState:function(e){t.prototype.setState.call(this,{theme:e.settings.get("theme")||"light",label:e.settings.get("label"),description:e.settings.get("description"),evtmanagerid:e.settings.get("evtmanagerid")})}})}.apply(t,n))||(e.exports=s)},"dashboard/state/DashboardState":function(e,t,i){var n,s;n=[i("shim/jquery"),i("require/underscore"),i("require/backbone"),i("util/console"),i("dashboard/state/ElementState"),i("dashboard/state/InputState"),i("dashboard/state/LayoutState"),i("dashboard/state/PanelState"),i("dashboard/state/RowState"),i("dashboard/state/SearchState"),i("dashboard/state/EventManagerState"),i("dashboard/state/DashboardMasterState"),i("dashboard/state/FieldsetState"),i("dashboard/state/ItemStateCollection"),i("dashboard/state/ItemState"),i("dashboard/serializer/DashboardSerializer")],void 0===(s=function(e,t,i,n,s,a,r,o,l,d,h,u,c,p,m,f){function g(){this.initialize.apply(this,arguments)}return t.extend(g.prototype,i.Events,{initialize:function(){this.rows=new p,this.panels=new p,this.elements=new p,this.inputs=new p,this.searches=new p,this.events=new p,this.layout=new r,this.dashboard=new u,this.fieldset=new c,this.xml=new m,this.resume(),this.latestChangedItem=null},suspend:function(){this.stopListening(),this._suspended=!0},items:function(){return[this.rows,this.panels,this.elements,this.inputs,this.searches,this.events,this.layout,this.fieldset,this.dashboard]},resume:function(){t(this.items()).each((function(e){this.listenTo(e,"all",this.trigger),this.listenTo(e,"changed",this.updateChangedItem)}),this),this.listenTo(this.xml,"all",this.trigger),this.listenTo(this.xml,"changed",this.updateChangedItem),this._suspended=!1},addElement:function(e){this.elements.add(new s(e,null,{commitState:!1}))},updateElement:function(e,t){var i=this.elements.get(e);i?i.setState(t):n.warn("Unable to update dashboard element with id=%o, not found in dashboard state",e)},removeElement:function(e){this.elements.remove(e)||n.warn("Unable to remove dashboard element with id=%o, not found in dashboard state",e)},addInput:function(e){this.inputs.add(new a(e,null,{commitState:!1}))},updateInput:function(e,t){var i=this.inputs.get(e);i?i.setState(t):n.warn("Unable to update dashboard input with id=%o, not found in dashboard state",e)},removeInput:function(e){this.inputs.remove(e)||n.warn("Unable to remove dashboard input with id=%o, not found in dashboard state",e)},addSearch:function(e){this.searches.add(new d(e,null,{commitState:!1}))},updateSearch:function(e,t){var i=this.searches.get(e);i?i.setState(t):n.warn("Unable to update search with id=%o, not found in dashboard state",e)},addEventManager:function(e){this.events.add(new h(e,null,{commitState:!1}))},updateEventManager:function(e,t){var i=this.events.get(e);i?i.setState(t):n.warn("Unable to update eventManager with id=%o, not found in dashboard state",e)},removeEventManager:function(e){this.events.remove(e)||n.warn("Unable to remove eventmaager with id=%o, not found in dashboard state",e)},removeSearch:function(e){this.searches.remove(e)||n.warn("Unable to remove search with id=%o, not found in dashboard state",e)},addPanel:function(e){this.panels.add(new o(e,null,{commitState:!1}))},updatePanel:function(e,t){var i=this.panels.get(e);i?i.setState(t):n.warn("Unable to update panel with id=%o, not found in dashboard state",e)},removePanel:function(e){this.panels.remove(e)||n.warn("Unable to remove panel with id=%o, not found in dashboard state",e)},updateLayout:function(e){this.layout.setState(e)},updateDashboard:function(e){this.dashboard.setState(e)},updateFieldset:function(e){this.fieldset.setState(e)},isDirty:function(){return t.any(this.items(),(function(e){return e.isDirty()}))},commit:function(e){t(this.items()).invoke("commitState",e)},restore:function(){t(this.items()).invoke("restoreState")},reset:function(e){if(t(this.items()).invoke("clear"),e){var i=this._suspended;i||this.suspend(),t(e).each(this.addStateObject.bind(this)),i||this.resume()}this.commit()},addStateObject:function(e){if(e instanceof r)this.layout=e;else if(e instanceof u)this.dashboard=e;else if(e instanceof c)this.fieldset=e;else if(e instanceof o)this.panels.add(e);else if(e instanceof s)this.elements.add(e);else if(e instanceof a)this.inputs.add(e);else if(e instanceof d)this.searches.add(e);else if(e instanceof h)this.events.add(e);else{if(!(e instanceof l))throw new Error("Invalid state object: "+String(e));this.rows.add(e)}},setXML:function(e){this.xml.setState({source:e.trim()})},commitXML:function(){this.xml.commitState()},commitAll:function(){this.commit({updateOriginalXML:!0}),this.commitXML(),this.latestChangedItem=null},restoreXML:function(){this.xml.restoreState()},restoreAll:function(){this.restore(),this.restoreXML(),this.latestChangedItem=null},updateChangedItem:function(e){this.latestChangedItem=e},getDashboardXML:function(){return this.latestChangedItem===this.xml?this.xml.getState().source:this.generateDashboardXML()},generateDashboardXML:function(){var e;if(this.isDirty()){var t=this._generateDashboardXML();this.setXML(t),e=t}else e=this.xml.getState().source;return e},_generateDashboardXML:function(){return f.applyDashboardState(this,this.xml.getState().source)}}),g}.apply(t,n))||(e.exports=s)},"dashboard/state/ElementState":function(e,t,i){var n,s;n=[i("require/underscore"),i("dashboard/state/ItemState"),i("views/dashboard/element/Html")],void 0===(s=function(e,t,i){return t.extend({setState:function(n){var s=e.extend({id:n.id},{"dashboard.element.title":""}),a=this._stateOptions||{};if(n instanceof i)(s=n.elementModel.toJSON(e.extend({tokens:!0},a))).type="html";else{var r=n.model.elementReport,o=e.omit(r.toJSON(e.extend({tokens:!0},a)));!1===a.tokens&&(o["dashboard.element.title"]=r.get("dashboard.element.title",{tokens:!1,retainUnmatchedTokens:!0})),e(o).each((function(e,t){0!==t.indexOf("dashboard.element.")&&0!==t.indexOf("display.")&&"displayview"!==t||(s[t]=e)}))}t.prototype.setState.call(this,s)}})}.apply(t,n))||(e.exports=s)},"dashboard/state/EventManagerState":function(e,t,i){var n,s;n=[i("require/underscore"),i("dashboard/state/ItemState")],void 0===(s=function(e,t){return t.extend({idAttribute:"id",setState:function(e,i){t.prototype.setState.call(this,{events:e.settings.get("events"),id:e.id})}})}.apply(t,n))||(e.exports=s)},"dashboard/state/FieldsetState":function(e,t,i){var n,s;n=[i("dashboard/state/ItemState")],void 0===(s=function(e){return e.extend({stateIdPrefix:"fieldset_",initState:{submitButton:!1},setState:function(t){var i={submitButton:t.settings.get("submitButton"),autoRun:t.settings.get("autoRun")};e.prototype.setState.call(this,i)}})}.apply(t,n))||(e.exports=s)},"dashboard/state/InputState":function(e,t,i){var n,s;n=[i("require/underscore"),i("dashboard/state/ItemState")],void 0===(s=function(e,t){return t.extend({idAttribute:"id",setState:function(i,n){n||(n={tokens:!0});var s=e.pick(i.settings.toJSON(n),"type","token","searchWhenChanged","label","choices","labelField","valueField","managerid","default","prefix","suffix","seed","initialValue","valuePrefix","valueSuffix","delimiter");t.prototype.setState.call(this,s)}})}.apply(t,n))||(e.exports=s)},"dashboard/state/ItemState":function(e,t,i){var n,s;n=[i("shim/jquery"),i("require/underscore"),i("require/backbone")],void 0===(s=function(e,t,i){function n(){this.initialize.apply(this,arguments)}return t.extend(n.prototype,i.Events,{stateIdPrefix:"state_",initState:{},initialize:function(i,n,s){s||(s={}),this._dirty=!1,this._state=e.extend(!0,{},t.result(this,"initState")),this._committedState=e.extend(!0,{},t.result(this,"initState")),this._originalXML=null,this._xml=null,this._stateOptions=s.stateOptions,i&&(this.setState(i,s),!1!==s.commitState&&this.commitState()),n&&(this.setXML(n),this.updateOriginalXML()),this.updateId(s)},updateId:function(e){e||(e={}),this._autoId=e.autoId,e.id?this.id=e.id:(this.idAttribute&&(this.id=this._state[this.idAttribute]),this.id||(this.id=t.uniqueId(this.stateIdPrefix)))},_cleanStateObject:function(t){for(var i in t=e.extend(!0,{},t)){if(t.hasOwnProperty(i))void 0===t[i]&&delete t[i]}return t},setState:function(e){this._state=this._cleanStateObject(e),this.triggerIfNecessary()},restoreState:function(){this._state=this.getCommittedState(),this.triggerIfNecessary()},clear:function(){n.prototype.setState.call(this,e.extend(!0,{},t.result(this,"initState")))},commitState:function(e){e||(e={}),this._committedState=this.getState(),!0===e.updateOriginalXML&&this.updateOriginalXML(),this.triggerIfNecessary()},triggerIfNecessary:function(){var e=this.isDirty();e!==this._dirty&&(this.trigger(e?"dirty":"clean",this.getState(),this.getCommittedState()),this._dirty=e),e&&this.trigger("changed",this)},getDiff:function(){var e={added:{},changed:{},removed:{}},i=this._state,n=this._committedState;return t.each(t.union(t.keys(i),t.keys(n)),(function(t){i[t]!==n[t]&&(null!=i[t]&&null!=n[t]?e.changed[t]=i[t]:i[t]?e.added[t]=i[t]:e.removed[t]=n[t])})),e},getState:function(){return e.extend(!0,{},this._state)},getCommittedState:function(){return e.extend(!0,{},this._committedState)},isDirty:function(){return!t.isEqual(this._state,this._committedState)},getXML:function(){return this._xml},setXML:function(e){this._xml=e},getOriginalXML:function(){return this._originalXML},updateOriginalXML:function(){this._originalXML=this.getXML()},isPredefinedID:function(){return!1===this._autoId}}),n.extend=i.Model.extend,n}.apply(t,n))||(e.exports=s)},"dashboard/state/ItemStateCollection":function(e,t,i){var n,s;n=[i("require/underscore"),i("require/backbone"),i("util/console")],void 0===(s=function(e,t,i){function n(){this.initialize.apply(this,arguments)}return e.extend(n.prototype,t.Events,{initialize:function(){this._dirty=!1,this._items={},this._deletedItems=[],this._addedItems=[]},add:function(t){this.addStateInternal(t),e.contains(this._deletedItems,t)?this._deletedItems=e(this._deletedItems).without(t):this._addedItems.push(t),this.triggerIfNecessary()},addStateInternal:function(e){this._items[e.id]&&(i.log("Overwriting state %o",e.id),this.removeStateInternal(this._items[e.id])),this._items[e.id]=e,this.listenTo(e,"all",this.triggerIfNecessary)},remove:function(t){var i=this._items[t];return!!i&&(e.contains(this._addedItems,i)?this._addedItems=e(this._addedItems).without(i):this._deletedItems.push(i),this.removeStateInternal(i),this.triggerIfNecessary(),!0)},removeStateInternal:function(e){this.stopListening(e),delete this._items[e.id]},clear:function(){e(this._items).chain().keys().each(function(e){this.remove(e)}.bind(this))},has:function(e){return!!this._items[e]},get:function(e){return this._items[e]},getStates:function(){return e.values(this._items)},restoreState:function(){e(this._addedItems).each(this.removeStateInternal.bind(this)),this._addedItems=[],e(this._deletedItems).each(this.addStateInternal.bind(this)),this._deletedItems=[],e(this._items).invoke("restoreState"),this.triggerIfNecessary()},commitState:function(t){this._addedItems=[],this._deletedItems=[],e(this._items).invoke("commitState",t),this.triggerIfNecessary()},triggerIfNecessary:function(){var e=this.isDirty();e!==this._dirty&&(this.trigger(e?"dirty":"clean",this),this._dirty=e),e&&this.trigger("changed",this)},diff:function(){var t=this._addedItems.slice(),i=this._deletedItems.slice(),n=e(this._items).chain().values().filter((function(i){return i.isDirty()&&!e.contains(t,i)})).value();return{added:t,removed:i,changed:n}},isDirty:function(){return e(this._items).any((function(e){return e.isDirty()}))||this._deletedItems.length>0||this._addedItems.length>0},find:function(t,i){return e.find(this._items,t,i)},empty:function(){return e.isEmpty(this._items)}}),n.extend=t.Model.extend,n}.apply(t,n))||(e.exports=s)},"dashboard/state/LayoutState":function(e,t,i){var n,s;n=[i("dashboard/state/ItemState")],void 0===(s=function(e){return e.extend({initialize:function(){e.prototype.initialize.call(this,{})}})}.apply(t,n))||(e.exports=s)},"dashboard/state/PanelState":function(e,t,i){var n,s;n=[i("require/underscore"),i("dashboard/state/ItemState"),i("views/dashboard/layout/Panel"),i("views/dashboard/layout/PanelRef")],void 0===(s=function(e,t,i,n){return t.extend({idAttribute:"id",setState:function(s){var a={title:""},r={id:s.id};s instanceof n?e.extend(r,a,{ref:s.settings.get("ref"),app:s.settings.get("app")}):s instanceof i&&e.extend(r,a,s.settings.toJSON(e.extend({tokens:!0},this._stateOptions||{}))),t.prototype.setState.call(this,r)}})}.apply(t,n))||(e.exports=s)},"dashboard/state/RowState":function(e,t,i){var n,s;n=[i("require/underscore"),i("dashboard/state/ItemState")],void 0===(s=function(e,t){return t.extend({setState:function(){}})}.apply(t,n))||(e.exports=s)},"dashboard/state/SearchState":function(e,t,i){var n,s;n=[i("require/underscore"),i("dashboard/state/ItemState"),i("splunkjs/mvc/savedsearchmanager"),i("splunkjs/mvc/postprocessmanager")],void 0===(s=function(e,t,i,n){var s=t.extend({idAttribute:"id",setState:function(i){t.prototype.setState.call(this,e.extend({id:i.id},s.searchManagerToState(i,e.extend({tokens:!0},this._stateOptions))))}},{searchManagerToState:function(t,s){s||(s={tokens:!0});var a="inline";t instanceof i?a="saved":t instanceof n?a="postprocess":t.has("metadata")&&t.get("metadata").global&&(a="global");var r={searchType:a,search:"postprocess"===a?t.settings.postProcessResolve(e.extend({mergeParentsSearch:!1},s)):t.settings.resolve(s),earliest_time:t.settings.get("earliest_time",s),latest_time:t.settings.get("latest_time",s),base:t.settings.get("managerid"),name:t.settings.get("searchname")},o=t.get("sample_ratio");null!=o&&(r.sampleRatio=o);var l=t.get("refresh",s);null!=l&&(r.refresh=l,r.refreshType=t.get("refreshType",s));var d=t.settings.get("type");return null!=d&&(r.type=d),r}});return s}.apply(t,n))||(e.exports=s)},job:function(e,t){Splunk.Job=$.klass({_isDone:0,_isCanceled:!1,_isPaused:!1,_isFinalized:!1,_isSaved:!1,_isZombie:!1,_isPreviewEnabled:!1,_isRealTimeSearch:!1,_canBeAutoCancelled:!1,_eventCount:0,_resultCount:0,_resultPreviewCount:0,_scanCount:0,_eventAvailableCount:0,_doneProgress:0,_eventIsStreaming:1,_cursorTime:!1,_sid:null,_createTime:!1,_search:"",_eventSearch:!1,_lastProgressEvent:0,logger:Splunk.Logger.getLogger("job.js"),initialize:function(e){e?this._search=e:this.logger.error("Splunk.Job - Assertion Failed. search string not supplied for Splunk.Job constructor.")},getSearch:function(){return this._search},getEventSearch:function(){return this._eventSearch},setSearchId:function(e){this._setSearchIdHasBeenCalled&&this.logger.error("Splunk.Job Assertion Failed. setSearchId can only be called once.\nold sid=",this._sid,"\nnew sid=",e),this._sid=e,this._setSearchIdHasBeenCalled=!0},setSID:function(e){return this.setSearchId(e)},getSearchId:function(){return this._sid},getSID:function(){return this.getSearchId()},getEventCount:function(){return this._eventCount},getResultCount:function(e){return(e="boolean"!=typeof e||e)&&this._isPreviewEnabled&&!this._isDone&&Splunk.util.isInt(this._resultPreviewCount)?this._resultPreviewCount:this._resultCount},getScanCount:function(){return this._scanCount},getEventAvailableCount:function(){return 0==this.getStatusBuckets()?this.getResultCount():this._eventAvailableCount},getEventFieldCount:function(){return this._eventFieldCount},getCursorTime:function(){return this._cursorTime},getCreateTime:function(){if(!this._createTime)return!1;var e=new Date;return e.setTime(1e3*this._createTime),e},getTimeRange:function(){if(!this._earliestTime||!this._latestTime)return new Splunk.TimeRange;var e=Splunk.util.getEpochTimeFromISO(this._earliestTime),t=Splunk.util.getEpochTimeFromISO(this._latestTime);return isNaN(e)&&(e=this._earliestTime,t=this._latestTime),0==e&&(e=null),0==t&&(t=null),new Splunk.TimeRange(e,t)},getEventSorting:function(){return this._eventSorting},getDoneProgress:function(){var e=this._doneProgress;return-1!=e.toString().indexOf("%")&&(e=e.replace("%","")),parseFloat(e,10)},getStatusBuckets:function(){return this._statusBuckets},isDone:function(){return!!this._sid&&this._isDone},isCanceled:function(){return this._isCanceled},isPaused:function(){return this._isPaused},isFinalized:function(){return this._isFinalized},isSaved:function(){return this._isSaved},isZombie:function(){return this._isZombie},isPreviewable:function(){return this._isPreviewEnabled},isRealTimeSearch:function(){return this._isRealTimeSearch},isQueued:function(){return"QUEUED"==this._dispatchState},isParsing:function(){return"PARSING"==this._dispatchState},isPreparing:function(){return this.isQueued()||this.isParsing()},canBeAutoCancelled:function(){return!this.isRealTimeSearch()&&(!this.isSaved()&&this._canBeAutoCancelled)},isRunning:function(){return!(this._isDone||this._isPaused||this.isPreparing())},isEventStreaming:function(){return this._eventIsStreaming},areResultsTransformed:function(){var e="_reportSearch";return this.hasOwnProperty(e)&&this[e]},cancel:function(e,t){if(this.isCanceled())return!1;if(this.delegate)return Splunk.Messenger.System.getInstance().send("error","splunk.search",_("Splunk is ignoring a request to cancel a scheduled job because it is unsafe to cancel jobs that have been dispatched through an alert.")),!1;this.logger.debug("Canceling job",this._sid,".");var i=function(){this.logger.debug("Canceled job",this._sid,"successfully."),$(document).trigger("jobCanceled",[this._sid]),this._sid=null,e&&e()}.bind(this);this._callJobEndpoint("cancel",i,t),this._isCanceled=!0},pause:function(e,t){if(this.isDone()||this.isPaused())return this.logger.warn("Can't pause job",this._sid,"because it is done or already paused."),!1;this.logger.debug("Pausing job",this._sid,"."),this._callJobEndpoint("pause",e,t),this._isPaused=!0},unpause:function(e,t){if(this.isDone()||!this.isPaused())return this.logger.warn("Can't unpause job",this._sid,"because it is not paused or because it is done."),!1;this.logger.debug("Unpausing job",this._sid,"."),this._callJobEndpoint("unpause",e,t),this._isPaused=!1},setTTL:function(e,t,i){this.logger.debug("Setting ttl",i,"for job",this._sid,".");var n={data:{ttl:i}};this._callJobEndpoint("ttl",e,t,n)},setPreviewable:function(e){this._isPreviewEnabled=e,this._callJobEndpoint(this._isPreviewEnabled?"enablepreview":"disablepreview")},setAsAutoCancellable:function(e){this._canBeAutoCancelled=e,e&&this.isSaved()&&this.logger.warn("a job was set as cancellable which should be impossible because this job has been previously saved by the user.")},setCreateTime:function(e){this._createTime=e},setLastProgressTime:function(){this._lastProgressEvent=new Date},getTimeSinceLastProgress:function(){return new Date-this._lastProgressEvent},finalize:function(e,t){if(this.isDone()||this.isFinalized())return this.logger.warn("Cannot finalized a job marked as done."),!1;this.isPaused()&&this.unpause(),this.logger.debug("Finalizing job",this._sid,"."),this._callJobEndpoint("finalize",e,t),this._isFinalized=!0},touch:function(e,t){this.logger.debug("Touching job",this._sid,"."),this._callJobEndpoint("touch",e,t)},refreshCanBeAutoCancelled:function(e){if(this.logger.debug("refreshing job can be auto-cancelled",this._sid,"."),!this.isRealTimeSearch()&&this._canBeAutoCancelled){var t=this;$.ajax({type:"GET",url:Splunk.util.make_url("splunkd/services/search/jobs",this._sid),data:{output_mode:"json"},dataType:"json",success:function(t){var i=!t.entry[0].content.isSaved;e(i)},error:function(){e(t.canBeAutoCancelled())}})}else e(!1)},save:function(e,t){this.setAsAutoCancellable(!1),this.logger.debug("Saving job",this._sid,"."),this._isSaved=!0,this._callJobEndpoint("save",e,t)},unsave:function(e,t){this.logger.debug("Unsaving job",this._sid,"."),this._isSaved=!1,this._callJobEndpoint("unsave",e,t)},makeWorldReadable:function(e,t){this.logger.debug("making job world readable",this._sid,"."),this._callJobEndpoint("makeWorldReadable",e,t)},undoWorldReadable:function(e,t){this.logger.debug("making the job no longer world readable",this._sid,"."),this._callJobEndpoint("undoWorldReadable",e,t)},_callJobEndpoint:function(e,t,i,n){if(n=n||{},!e)throw new Error("Cannot call the job endpoint without an action");if(!this._sid)throw new Error("Cannot call the job endpoint if we dont have an sid yet");var s=n.data||{},a=$.extend({action:e,wait:0},s),r={type:"POST",url:Splunk.util.make_url("api/search/jobs",this._sid,"control"),data:a,dataType:"json",success:function(n){try{if(n.success)return this.logger.info("Called",e,"on job",this._sid,"successfully."),$(document).trigger("jobStatusChanged",[this._sid,e]),t&&t(),!0;this.logger.info("no success in the data"),i&&i()}catch(t){this.logger.error("error encountered in Job._callJobEndpoint for action=",e," error=",t),i&&i()}if(n.messages&&n.messages.length>0)for(var s=Splunk.Messenger.System.getInstance(),a=0,r=n.messages.length;a<r;a++){var o=n.messages[a].type.toLowerCase(),l=n.messages[a].message;"error"!=o&&"fatal"!=o||s.send(o,"splunk.search",l)}this.logger.warn("Could not call",e,"on job",this._sid)}.bind(this),error:function(t,n,s){i&&i(t,n,s,e)}};$.ajax(r)},updateByTicketValues:function(e){for(var t=["isDone","eventCount","resultCount","scanCount","eventAvailableCount","eventFieldCount","doneProgress"],i=0,n=t.length;i<n;i++)e.hasOwnProperty(t[i])||this.logger.error("Failed to get required job property="+t[i]+" for sid="+this._sid);for(var s in e)e.hasOwnProperty(s)&&(this["_"+s]=e[s])}}),Splunk.Job.BATCH_ACTION_ENDPOINT="api/search/jobs/control",Splunk.Job.batchAction=function(e,t,i,n){if(!e||!t)throw new Exception("SIDs and an action must be provided to call a batchAction.");n=n||{};var s=Splunk.util.make_url(Splunk.Job.BATCH_ACTION_ENDPOINT),a={sid:e,action:t},r=n.data||{},o=$.extend(a,r);i=i||function(){},$.post(s,o,i)},Splunk.Job.buildJobFromSID=function(e,t,i){var n=Splunk.Logger.getLogger("job.js"),s=Splunk.Globals.Jobber;if(!s)return n.warn("Cannot find Splunk.Jobber."),void i();var a=function(){var n=s.getJob(e);n?t(n):i()};if(s.hasJob(e))return a();$(document).one("jobberTicketsRefreshed",a),$(document).trigger("jobDispatched",[s.buildJob(e)])},Splunk.JobArray=function(){var e=Array.prototype.slice.call(arguments);for(var t in e.constructor=Splunk.JobArray,Splunk.JobArray.prototype)Object.prototype[t]||(e[t]=Splunk.JobArray.prototype[t]);return e},Splunk.JobArray.prototype.slice=function(e,t){return Splunk.JobArray.apply(null,Array.prototype.slice.call(this,e,t))},Splunk.JobArray.prototype.concat=function(){return Splunk.JobArray.apply(null,Array.prototype.concat.apply(this,arguments))},Splunk.JobArray.prototype.filter=function(e){e=e||function(e){if(e)return!0};for(var t=new Splunk.JobArray,i=0,n=this.length;i<n;i++)e(this[i])&&t.push(this[i]);return t},Splunk.JobArray.prototype.JOB_ACTIONS=["cancel","pause","unpause","finalize"],Splunk.JobArray.prototype.setTTL=function(e,t){this._callAction("ttl",e,{data:{ttl:t}})},Splunk.JobArray.prototype._callAction=function(e,t,i){i=i||{};for(var n=[],s=0,a=this.length;s<a;s++)this[s].getSearchId()&&n.push(this[s].getSearchId());return n.length>0&&Splunk.Job.batchAction(n,e,t,i)},Splunk.JobArray.prototype._generateActionMethod=function(e){this[e]=function(t){return this._callAction(e,t)}};for(var i=0,n=Splunk.JobArray.prototype.JOB_ACTIONS.length;i<n;i++)Splunk.JobArray.prototype._generateActionMethod(Splunk.JobArray.prototype.JOB_ACTIONS[i])},"models/dashboard/DashboardDisplayProps":function(e,t,i){var n,s;n=[i("require/underscore"),i("require/backbone"),i("models/MeltingPot"),i("util/general_utils")],void 0===(s=function(e,t,i,n){var s=i.extend({constructor:function(e){this.url=new t.Model,this.xml=new t.Model,i.prototype.constructor.call(this,{delegates:[new i({delegates:[new t.Model(e),this.url]}),this.xml,new t.Model(s.GLOBAL_DEFAULTS)]})},getRuntimeState:function(){return this.firstDelegate()},setFromDashboardXML:function(e){var t=s.extractDisplayProps(e,{normalize:!1});t.allowTempVersionRevert=window.$C.V1P0_DASHBOARD_EXISTS&&"1.1"!==e.version&&(e.script||[]).length>0,this.xml.set(t)},removeFromDashboardXML:function(){this.xml.clear()},setFromURL:function(e){this.url.set(s.extractDisplayProps(e,{normalize:!0}))}},{GLOBAL_DEFAULTS:{hideSplunkBar:!1,hideAppBar:!1,hideChrome:!1,hideFooter:!1,hideTitle:!1,hideEdit:!1,hideExport:!1,targetTop:!1,hideFilters:!1,allowTempVersionRevert:!1},extractDisplayProps:function(t,i){i||(i={});var a={};return e.each(e.pick.apply(e,[t].concat(e.keys(s.GLOBAL_DEFAULTS))),(function(e,t){a[t]=i.normalize?n.normalizeBoolean(e,{default:!0}):e})),a}});return s}.apply(t,n))||(e.exports=s)},"models/dashboard/DashboardElementModel":function(e,t,i){var n,s;n=[i("require/underscore"),i("require/backbone"),i("splunkjs/mvc/tokenawaremodel"),i("splunkjs/mvc/tokenutils")],void 0===(s=function(e,t,i,n){var s={edit:{set:{tokens:!0},get:{tokens:!0},toJSON:{tokens:!0}},view:{set:{tokens:!0},get:{tokens:!1},toJSON:{tokens:!1}}};return i.extend({constructor:function(e,n){this._state=n.state||new t.Model,this._diff=new t.Model,i.prototype.constructor.apply(this,arguments),this.listenTo(this._state,"change:mode",this._onModeChange),this.listenTo(this._diff,"all",this.trigger)},set:function(t,n,s){var a=this._getDefaultOptions();return"object"==typeof t?n=e.extend({},a.set,n):s=e.extend({},a.set,s),i.prototype.set.call(this,t,n,s)},get:function(t,n){var s=this._getDefaultOptions();return i.prototype.get.call(this,t,e.extend({},s.get,n))},toJSON:function(t){var n=this._getDefaultOptions();return i.prototype.toJSON.call(this,e.extend({},n.toJSON,t))},_isEditMode:function(){return"edit"===this._state.get("mode")},_getDefaultOptions:function(){return this._isEditMode()?s.edit:s.view},_onModeChange:function(){var e=this._state.previous("mode"),t=this._state.get("mode");if(s[e]&&s[t]){var n=i.prototype.toJSON.call(this,s[e].toJSON),a=i.prototype.toJSON.call(this,s[t].toJSON);this._diff.clear({silent:!0}),this._diff.set(n,{silent:!0}),this._diff.set(a)}}})}.apply(t,n))||(e.exports=s)},"models/dashboards/DashboardReport":function(e,t,i){var n;void 0===(n=function(e){var t=i("models/search/Report"),n=i("splunkjs/mvc/simplexml/controller"),s=i("splunkjs/mvc/simplexml/mapper"),a=i("util/console"),r=i("splunkjs/mvc/tokenawaremodel");return t.extend({initialize:function(){t.prototype.initialize.apply(this,arguments)},saveXML:function(e){var t=this.entry.content.get("display.general.id");return a.log("[%o] Saving Panel Element XML...",t),n.model.view.updateElement(t,this.mapToXML(),e)},mapToXML:function(e){var t=this.entry.content.get("display.general.type"),i=["display",t,"type"].join(".");this.entry.content.has(i)&&(t=[t,this.entry.content.get(i)].join(":")),a.log("Looking up mapper for type ",t);var n=s.get(t);return a.log("Found mapper",n),n.toXML(this,e)},deleteXML:function(){return n.model.view.deleteElement(this.entry.content.get("display.general.id"))},fetch:function(e){var i=this;i.entry.content._applyTokensByDefault=!1,i._fetching=!0;var n=t.prototype.fetch.call(this,e);return n.always((function(){i.entry.content._applyTokensByDefault=!0,i._fetching=!1})),n},setFromSplunkD:function(e,i){return i||(i={}),this._fetching&&void 0===i.tokens&&(i.tokens=!1),t.prototype.setFromSplunkD.call(this,e,i)},parse:function(){this.entry.content._applyTokensByDefault=!1;var e=t.prototype.parse.apply(this,arguments);return this.entry.content._applyTokensByDefault=!0,e}},{Entry:t.Entry.extend({},{Content:r.extend({applyTokensByDefault:!0,clone:function(){return new t.Entry.Content(this.toJSON())}})})})}.call(t,i,t,e))||(e.exports=n)},"models/services/data/UserPrefGeneralDefault":function(e,t,i){var n,s;n=[i("models/StaticIdSplunkDBase")],void 0===(s=function(e){return e.extend({url:"data/user-prefs",initialize:function(){e.prototype.initialize.apply(this,arguments)}},{id:"data/user-prefs/general_default"})}.apply(t,n))||(e.exports=s)},"routers/Dashboard":function(e,t,i){var n,s;n=[i("require/underscore"),i("shim/jquery"),i("require/backbone"),i("routers/Base"),i("models/search/Dashboard"),i("controllers/dashboard/MainDashboardController"),i("controllers/dashboard/helpers/DashboardV2Helper"),i("models/dashboard/DashboardDisplayProps"),i("models/url"),i("models/services/data/ui/View"),i("models/services/data/UserPrefGeneralDefault"),i("models/search/Report"),i("models/services/ScheduledView"),i("collections/services/authorization/Roles"),i("collections/services/data/ui/Times"),i("collections/shared/ModAlertActions"),i("util/splunkd_utils"),i("splunkjs/mvc/sharedmodels"),i("splunkjs/mvc/simplexml/controller"),i("shim/splunk.util"),i("util/general_utils")],void 0===(s=function(e,t,i,n,s,a,r,o,l,d,h,u,c,p,m,f,g,v,b,_,y){return n.extend({routes:{":locale/app/:app/:page?*qs":"view",":locale/app/:app/:page":"view",":locale/app/:app/:page/?*qs":"view",":locale/app/:app/:page/":"view",":locale/app/:app/:page/:mode/?*qs":"viewMode",":locale/app/:app/:page/:mode/":"viewMode",":locale/app/:app/:page/:mode?*qs":"viewMode",":locale/app/:app/:page/:mode":"viewMode","*root/:locale/app/:app/:page?*qs":"rootedView","*root/:locale/app/:app/:page":"rootedView","*root/:locale/app/:app/:page/?*qs":"rootedView","*root/:locale/app/:app/:page/":"rootedView","*root/:locale/app/:app/:page/:mode/?*qs":"rootedViewMode","*root/:locale/app/:app/:page/:mode/":"rootedViewMode","*root/:locale/app/:app/:page/:mode?*qs":"rootedViewMode","*root/:locale/app/:app/:page/:mode":"rootedViewMode"},initialize:function(r){r=t.extend({model:{},collection:{},deferreds:{}},r),n.prototype.initialize.call(this,r),this.fetchVisualizations=!0,this.fetchUserPref=!0,this.model.url=l,this.model.state=new i.Model({mode:null}),this.model.page=new o({loading:!0,showToolbar:!1}),this.model.view=new s,this.deferreds.view=r.deferreds.view||t.Deferred(),this.model.userPrefGeneralDefault=new h,this.deferreds.userPrefGeneralDefault=r.deferreds.userPrefGeneralDefault||t.Deferred(),this.model.reportDefaults=new u,this.deferreds.reportDefaults=t.Deferred(),this.model.scheduledView=new c,this.deferreds.scheduledView=r.deferreds.scheduledView||t.Deferred(),this.collection.roles=new p,this.deferreds.roles=r.deferreds.roles||t.Deferred(),this.collection.times=new m,this.deferreds.times=r.deferreds.times||t.Deferred(),this.collection.alertActions=new f,this.deferreds.alertActions=r.deferreds.alertActions||t.Deferred(),v._prepopulate({app:{model:this.model.application,dfd:this.deferreds.application},user:{model:this.model.user,dfd:this.deferreds.user},userPref:{model:this.model.userPref,dfd:this.deferreds.userPref},serverInfo:{model:this.model.serverInfo,dfd:this.deferreds.serverInfo},appLocal:{model:this.model.appLocal,dfd:this.deferreds.appLocal},appLocals:{model:this.collection.appLocals,dfd:this.deferreds.appLocals},appLocalsUnfiltered:{model:this.collection.appLocalsUnfiltered,dfd:this.deferreds.appLocalsUnfiltered},appLocalsUnfilteredAll:{model:this.collection.appLocalsUnfilteredAll,dfd:this.deferreds.appLocalsUnfilteredAll},tours:{model:this.collection.tours,dfd:this.deferreds.tours},times:{model:this.collection.times,dfd:this.deferreds.times},roles:{model:this.collection.roles,dfd:this.deferreds.roles},visualizations:{model:this.collection.visualizations,dfd:this.deferreds.visualizations}}),this.deferreds.xmlParsed=t.Deferred(),b._populateSharedModels(v),this.enablePageView=!1,this.fetchAppLocals=!0,this.fetchVisualizations=!0,this.requireSelectableVisualizations=!1,this.readyForUrlUpdates=!1,this.controller=new a({model:e.extend({},this.model),collection:e.extend({},this.collection),deferreds:e.extend({},this.deferreds)}),this.listenTo(this.model.state,"change:mode",this.updateUrl),this.listenTo(this.model.page,"change:hideFilters",this.updateUrl),this.listenTo(this.model.view.entry.content,"change:label",this.updatePageTitle),this.listenTo(this.model.state,"change:mode",this.updatePageTitle),this.listenTo(this.model.view.entry,"change:name",(function(){var e=this.model.view.entry.get("name");e!==this.model.application.get("page")&&(this.model.application.set("page",e),this.updateUrl())})),window.onbeforeunload=function(){if(this.model.state.get("dirty"))return e("You have unsaved changes. Navigating away or closing the page will discard them.").t()}.bind(this)},populatePageParamsFromUrl:function(){this.model.page.setFromURL(this.model.url.toJSON()),this.readyForUrlUpdates=!0},updatePageTitle:function(){var t={view:"%s",edit:e("Edit: %s").t(),editxml:e("Edit Source: %s").t(),source:e("Source: %s").t()},i=this.model.view.entry.content.get("label")||this.model.view.entry.get("name")||e("Untitled Dashboard").t();this.setPageTitle(_.sprintf(t[this.model.state.get("mode")]||"%s",i))},view:function(e,t,i,n){this.page(e,t,i,"view",n)},viewMode:function(e,t,i,n,s){this.page(e,t,i,n,s)},rootedView:function(e){this.model.application.set({root:e},{silent:!0}),this.view.apply(this,Array.prototype.slice.call(arguments,1))},rootedViewMode:function(e){this.model.application.set({root:e},{silent:!0}),this.viewMode.apply(this,Array.prototype.slice.call(arguments,1))},page:function(e,t,i,s){var a=this.model.application.get("page");a&&a!==i&&window.location.reload(),n.prototype.page.apply(this,arguments),this.model.url.fetch().then(function(){this.populatePageParamsFromUrl(),this.$whenPageViewDependencies().then(function(){var e=this.model.view.entry.acl.canWrite(),t=this.model.url.get("showsource");void 0!==t&&y.normalizeBoolean(t,{default:!0})&&(s="source"),this.model.state.set("mode",e?s:"view"),r.initialize(this)}.bind(this))}.bind(this))},updateUrl:function(){var e=this.model.application,t=[e.get("root")||"",e.get("locale"),"app",e.get("app"),e.get("page")],i={view:"",edit:"edit",editxml:"editxml",source:"source"}[this.model.state.get("mode")];i&&t.push(i);var n=t.join("/"),s=this.model.page.getRuntimeState();this.readyForUrlUpdates&&s.hasChanged("hideFilters")&&this.model.url.set("hideFilters",s.get("hideFilters"));var a=this.model.url.encode();if(a.length){var r=_.queryStringToProp(a);"source"==i&&delete r.showsource,n+="?"+(a=_.propToQueryString(r))}this.navigate(n,{replace:!1})},$whenPageViewDependencies:function(){return this.deferreds.application.then(this.bootstrapTimesCollection.bind(this)),this.deferreds.application.then(this.bootstrapViewModel.bind(this)),this.deferreds.application.then(this.bootstrapUserPrefGeneralDefaultModel.bind(this)),this.deferreds.application.then(this.bootstrapAlertActionsCollection.bind(this)),this.deferreds.view.then(this.bootstrapScheduleViewModel.bind(this)),this.bootstrapReportDefaultsModel(),this.bootstrapRolesModel(),t.when(n.prototype.$whenPageViewDependencies.apply(this,arguments),this.deferreds.view)},bootstrapViewModel:function(){if("resolved"!==this.deferreds.view.state()){var e=this.model.application.get("app"),t=this.model.application.get("owner"),i=this.model.application.get("page");__splunkd_partials__["/servicesNS/"+encodeURIComponent(t)+"/"+encodeURIComponent(e)+"/data/ui/views/"+encodeURIComponent(i)];this.model.view.set(this.model.view.idAttribute,this.model.view.url+"/"+encodeURIComponent(i)),this.model.view.fetch({data:{app:e,owner:t},success:function(e,t){this.deferreds.view.resolve()}.bind(this),error:function(e,t){this.deferreds.view.resolve()}.bind(this)})}},bootstrapUserPrefGeneralDefaultModel:function(){"resolved"!==this.deferreds.userPrefGeneralDefault.state()&&this.model.userPrefGeneralDefault.fetch({data:{app:this.model.application.get("app"),owner:this.model.application.get("owner")}}).done(e.bind(this.deferreds.userPrefGeneralDefault.resolve,this.deferreds.userPrefGeneralDefault)).fail(e.bind(this.deferreds.userPrefGeneralDefault.reject,this.deferreds.userPrefGeneralDefault))},bootstrapScheduleViewModel:function(){if("resolved"!==this.deferreds.scheduledView.state()){var t=this.model.scheduledView.findByName(this.model.view.entry.get("name"),this.model.application.get("app"),this.model.application.get("owner"));t.done(e.bind(this.deferreds.scheduledView.resolve,this.deferreds.scheduledView)),t.fail(e.bind(this.deferreds.scheduledView.reject,this.deferreds.scheduledView))}},bootstrapReportDefaultsModel:function(){"resolved"!==this.deferreds.reportDefaults.state()&&this.model.reportDefaults.fetch().done(e.bind(this.deferreds.reportDefaults.resolve,this.deferreds.reportDefaults)).fail(e.bind(this.deferreds.reportDefaults.reject,this.deferreds.reportDefaults))},bootstrapRolesModel:function(){"resolved"!==this.deferreds.roles.state()&&this.collection.roles.fetch({}).done(e.bind(this.deferreds.roles.resolve,this.deferreds.roles)).fail(e.bind(this.deferreds.roles.resolve,this.deferreds.roles))},bootstrapTimesCollection:function(){"resolved"!==this.deferreds.times.state()&&this.collection.times.fetch({data:{app:this.model.application.get("app"),owner:this.model.application.get("owner"),count:-1}}).always(e.bind(this.deferreds.times.resolve,this.deferreds.times))},bootstrapAlertActionsCollection:function(){"resolved"!==this.deferreds.alertActions.state()&&this.collection.alertActions.fetch({data:{app:this.model.application.get("app"),owner:this.model.application.get("owner"),search:"disabled!=1"},addListInTriggeredAlerts:!1}).always(e.bind(this.deferreds.alertActions.resolve,this.deferreds.alertActions))}})}.apply(t,n))||(e.exports=s)},"shim/leaflet":function(e,t,i){var n,s;n=[i("contrib/leaflet/leaflet.css"),i(848)],void 0===(s=function(e,t){return t&&t.Util&&(t.Util.getParamString=function(e,t){var i=[];for(var n in e)e.hasOwnProperty(n)&&i.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return(t&&-1!==t.indexOf("?")?"&":"?")+i.join("&")}),t}.apply(t,n))||(e.exports=s)},"shim/prettify":function(e,t,i){var n,s;n=[i("contrib/google-code-prettify/prettify")],void 0===(s=function(){return window.prettyPrint}.apply(t,n))||(e.exports=s)},"shim/splunk.messenger":function(e,t,i){var n,s;n=[i("shim/splunk"),i("shim/splunk.util"),i("shim/splunk.logger"),i("stubs/i18n"),i("shim/lowpro"),i(2055)],void 0===(s=function(){return window.Splunk.Messenger}.apply(t,n))||(e.exports=s)},"shim/splunk.timerange":function(e,t,i){var n,s;n=[i("shim/splunk"),i("shim/splunk.util"),i("shim/splunk.logger"),i("stubs/i18n"),i("shim/splunk.time"),i("shim/lowpro"),i("time_range")],void 0===(s=function(e){return e.namespace("Globals"),e.Globals.timeZone||(e.Globals.timeZone=new e.TimeZone(e.util.getConfigValue("SERVER_ZONEINFO"))),e.TimeRange}.apply(t,n))||(e.exports=s)},"splunk/brushes/BorderStrokeBrush":function(e,t,i){var n;void 0===(n=function(e,t,n){var s=i("contrib/jg_lib/Class"),a=i("contrib/jg_lib/graphics/Brush"),r=i("contrib/jg_lib/graphics/Color"),o=i("contrib/jg_lib/graphics/MStrokeBrush"),l=i("contrib/jg_lib/properties/ObservableArrayProperty");return s(n.i,a,(function(e,t){s.mixin(this,o),this.colors=new l("colors",r,[new r,new r,new r,new r]).itemReadFilter((function(e){return e.clone()})).writeFilter((function(e){var t=e?e.length:0,i=t>0&&e[0]?e[0].clone().normalize():new r,n=t>1&&e[1]?e[1].clone().normalize():i.clone(),s=t>2&&e[2]?e[2].clone().normalize():i.clone(),a=t>3&&e[3]?e[3].clone().normalize():n.clone();return[i,n,s,a]})).itemChangeComparator((function(e,t){return!e.equals(t)})),this.thicknesses=new l("thicknesses",Number,[1,1,1,1]).writeFilter((function(e){var t=e?e.length:0,i=t>0&&e[0]<1/0?Math.max(e[0],0):1,n=t>1&&e[1]<1/0?Math.max(e[1],0):i;return[i,n,t>2&&e[2]<1/0?Math.max(e[2],0):i,t>3&&e[3]<1/0?Math.max(e[3],0):n]})),this.constructor=function(e,i,n,s,a){t.constructor.call(this),null!=e&&this.set("colors",e),null!=i&&this.set("thicknesses",i),null!=n&&this.set("caps",n),null!=s&&this.set("joints",s),null!=a&&this.set("miterLimit",a)},this.extendProperties=function(e){e.strokeStyle=this.getStrokeStyle(e)},this.drawBrush=function(e,t,i,n,s){var a=i.length;if(0!==a){var o,l,d=1/0,h=-1/0,u=1/0,c=-1/0;for(l=0;l<a;l++)switch((o=i[l])[0]){case"moveTo":case"lineTo":d=Math.min(d,o[1]),h=Math.max(h,o[1]),u=Math.min(u,o[2]),c=Math.max(c,o[2]);break;case"curveTo":d=Math.min(d,o[1],o[3]),h=Math.max(h,o[1],o[3]),u=Math.min(u,o[2],o[4]),c=Math.max(c,o[2],o[4])}var p=[{x:d,y:u},{x:h,y:u},{x:h,y:c},{x:d,y:c},{x:d,y:u}],m=t.strokeStyle,f=0,g=new r,v=!0;for(l=0;l<4;l++)t.thicknesses[l]!==f&&(f=t.thicknesses[l],v=!0),0!==f&&(t.colors[l].equals(g)||(g=t.colors[l],v=!0),v&&(e.endStroke(),e.beginStroke(g,m.thickness(f)),e.moveTo(p[l].x,p[l].y),v=!1),e.lineTo(p[l+1].x,p[l+1].y));e.endStroke()}}}))}.call(t,i,t,e))||(e.exports=n)},"splunk/charting/ClickDragRangeMarker":function(e,t,i){var n;void 0===(n=function(e,t,n){var s=i("shim/jquery"),a=i("contrib/jg_lib/Class"),r=i("contrib/jg_lib/async/Pass"),o=i("contrib/jg_lib/events/ChainedEvent"),l=i("contrib/jg_lib/events/Event"),d=i("contrib/jg_lib/events/EventData"),h=i("contrib/jg_lib/geom/Point"),u=i("contrib/jg_lib/graphics/Canvas"),c=i("contrib/jg_lib/graphics/Color"),p=i("contrib/jg_lib/graphics/DrawingUtil"),m=i("contrib/jg_lib/graphics/SolidFillBrush"),f=i("contrib/jg_lib/graphics/SolidStrokeBrush"),g=i("contrib/jg_lib/motion/PropertyTween"),v=i("contrib/jg_lib/motion/PowerEaser"),b=i("contrib/jg_lib/properties/ObservableProperty"),_=i("contrib/jg_lib/properties/Property"),y=i("contrib/jg_lib/utils/FunctionUtil"),w=i("contrib/jg_lib/utils/NumberUtil"),k=i("contrib/jg_lib/utils/StringUtil"),T=i("splunk/charting/Histogram"),S=i("splunk/viz/GraphicsVizBase");return a(n.i,S,(function(e,t){this.updateRangePass=new r("updateRange",.4),this.rangeChanged=new o("rangeChanged",this.change),this.dragStart=new l("dragStart",d),this.dragComplete=new l("dragComplete",d),this.foregroundColor=new b("foregroundColor",Number,0).writeFilter((function(e){return isNaN(e)?0:Math.min(Math.max(Math.floor(e),0),16777215)})).onChange((function(e){this.invalidate("renderGraphicsPass")})),this.histogram=new b("histogram",T,null).onChange((function(e){var t=e.target;(t===this||t instanceof T&&e.event===t.rangeXChanged)&&this.invalidate("updateRangePass")})),this.minimum=new b("minimum",Number,NaN).writeFilter((function(e){return e>-1/0&&e<1/0?e:NaN})).onChange((function(e){this.invalidate("updateRangePass")})),this.maximum=new b("maximum",Number,NaN).writeFilter((function(e){return e>-1/0&&e<1/0?e:NaN})).onChange((function(e){this.invalidate("updateRangePass")})),this.minimumSnap=new b("minimumSnap",Function,null).onChange((function(e){this.invalidate("updateRangePass")})),this.maximumSnap=new b("maximumSnap",Function,null).onChange((function(e){this.invalidate("updateRangePass")})),this.minimumFormat=new b("minimumFormat",Function,null).onChange((function(e){this.invalidate("renderGraphicsPass")})),this.maximumFormat=new b("maximumFormat",Function,null).onChange((function(e){this.invalidate("renderGraphicsPass")})),this.rangeFormat=new b("rangeFormat",Function,null).onChange((function(e){this.invalidate("renderGraphicsPass")})),this.actualMinimum=new _("actualMinimum",Number).readOnly(!0).onRead((function(){this.validate("updateRangePass"),this.updateRange()})).getter((function(){return this._actualMinimum})),this.actualMaximum=new _("actualMaximum",Number).readOnly(!0).onRead((function(){this.validate("updateRangePass"),this.updateRange()})).getter((function(){return this._actualMaximum})),this.labelOpacity=new b("labelOpacity",Number,0).onChange((function(e){this._redrawLabelOpacity()})),this._actualMinimum=NaN,this._actualMaximum=NaN,this._relativeMinimum=0,this._relativeMaximum=1,this._labelOpacityTween=null,this._fillBrush=null,this._lineBrush=null,this._backgroundBrush=null,this._labelGraphics=null,this._minimumLabel=null,this._maximumLabel=null,this._rangeLabel=null,this._rangeLabelClip=null,this._labelContainer=null,this._moveHotspot=null,this._areLabelsVisible=!1,this._dragMode=null,this._pressMouseX=0,this._pressMinimum=0,this._pressMaximum=1,this.constructor=function(){t.constructor.call(this,'<div tabindex="-1"></div>'),this.addStyleClass("splunk-charting-ClickDragRangeMarker"),this.setStyle({outline:"none"}),this._self_mouseOver=y.bind(this._self_mouseOver,this),this._self_mouseOut=y.bind(this._self_mouseOut,this),this._self_mouseMove=y.bind(this._self_mouseMove,this),this._self_mouseDown=y.bind(this._self_mouseDown,this),this._self_keyDown=y.bind(this._self_keyDown,this),this._document_mouseUp=y.bind(this._document_mouseUp,this),this._document_mouseMove=y.bind(this._document_mouseMove,this),this._document_mouseLeave=y.bind(this._document_mouseLeave,this),this._labelOpacityTween=new g(this,"labelOpacity",.3,new v(0,3)),this._fillBrush=new m(c.fromNumber(32179),1),this._lineBrush=new f(c.fromNumber(238294),1).set("caps","square"),this._backgroundBrush=new m(c.fromNumber(1545937),.2),this._labelGraphics=new u,this._labelGraphics.element.style.position="absolute",this._minimumLabel=document.createElement("span"),s(this._minimumLabel).addClass("splunk-charting-label"),s(this._minimumLabel).css({position:"absolute",left:"0px",top:"0px","white-space":"pre"}),this._maximumLabel=document.createElement("span"),s(this._maximumLabel).addClass("splunk-charting-label"),s(this._maximumLabel).css({position:"absolute",left:"0px",top:"0px","white-space":"pre"}),this._rangeLabel=document.createElement("span"),s(this._rangeLabel).addClass("splunk-charting-label"),s(this._rangeLabel).css({position:"absolute",left:"0px",top:"0px","white-space":"pre"}),this._rangeLabelClip=document.createElement("div"),this._rangeLabelClip.appendChild(this._rangeLabel),s(this._rangeLabelClip).css({position:"absolute",left:"0px",top:"0px",margin:"0px",padding:"0px",overflow:"hidden"}),this._labelContainer=document.createElement("div"),this._labelGraphics.appendTo(this._labelContainer),this._labelContainer.appendChild(this._minimumLabel),this._labelContainer.appendChild(this._maximumLabel),this._labelContainer.appendChild(this._rangeLabelClip),s(this._labelContainer).css({position:"absolute",left:"0px",top:"0px",margin:"0px",padding:"0px"}),this._moveHotspot=document.createElement("div"),s(this._moveHotspot).css({position:"absolute",left:"0px",top:"0px",margin:"0px",padding:"0px",cursor:"move",visibility:"hidden"}),this.$element.bind("mouseover",this._self_mouseOver),this.$element.bind("mouseout",this._self_mouseOut),this.$element.bind("mousemove",this._self_mouseMove),this.$element.bind("mousedown",this._self_mouseDown),this.$element.bind("keydown",this._self_keyDown),this.element.appendChild(this._labelContainer),this.element.appendChild(this._moveHotspot)},this.updateRange=function(){if(!this.isValid("updateRangePass")){var e=this.getInternal("minimum"),t=this.getInternal("maximum"),i=0,n=1,s=this.getInternal("histogram");if(s){var a=s.get("actualMinimumX"),r=s.get("actualMaximumX"),o=r-a,l=this.getInternal("minimumSnap");null==l||isNaN(e)||(e=l(e));var h,u=this.getInternal("maximumSnap");null==u||isNaN(t)||(t=u(t)),isNaN(e)?e=a:i=o>0?(e-a)/o:0,isNaN(t)?t=r:n=o>0?(t-a)/o:1,e>t&&(h=e,e=t,t=h,h=i,i=n,n=h)}var c=e!=this._actualMinimum||t!=this._actualMaximum,p=i!=this._relativeMinimum||n!=this._relativeMaximum;this._actualMinimum=e,this._actualMaximum=t,this._relativeMinimum=i,this._relativeMaximum=n,(c||p)&&this.invalidate("renderGraphicsPass"),this.markValid("updateRangePass"),c&&this.fire("rangeChanged",new d)}},this.isDragging=function(){return null!=this._dragMode},this.onAppend=function(){s(document).bind("mousemove",this._document_mouseMove),s(document).bind("mouseleave",this._document_mouseLeave)},this.onRemove=function(){s(document).unbind("mouseup",this._document_mouseUp),s(document).unbind("mousemove",this._document_mouseMove),s(document).unbind("mouseleave",this._document_mouseLeave)},this.renderGraphicsOverride=function(e,t,i){var n=this._actualMinimum,a=this._actualMaximum,r=this._relativeMinimum,o=this._relativeMaximum,l=s(this._minimumLabel),d=s(this._maximumLabel),h=s(this._rangeLabel),u=s(this._rangeLabelClip),m=s(this._moveHotspot),f=this.getInternal("minimumFormat");isNaN(n)?l.html(""):f?l.html(k.escapeHTML(f(n))):l.html(k.escapeHTML(n));var g=this.getInternal("maximumFormat");isNaN(a)?d.html(""):g?d.html(k.escapeHTML(g(a))):d.html(k.escapeHTML(a));var v,b=this.getInternal("rangeFormat");(!b||isNaN(n)||isNaN(a)?h.html(""):h.html(k.escapeHTML(b(n,a))),r>o)&&(v=r,r=o,o=v,v=l,l=d,d=v);var _=Math.round(t*r),y=Math.round(t*o),T=Math.round(t),S=Math.round(i);_=w.minMax(_,0,T),y=w.minMax(y,0,T);var x={};x.width=Math.round(l.outerWidth(!0)),x.height=20,x.x=_-x.width,x.y=Math.min(S-x.height,0);var C={};C.width=Math.round(d.outerWidth(!0)),C.height=20,C.x=y,C.y=Math.min(S-C.height,0);var E={};E.width=Math.min(Math.round(h.outerWidth(!0)),y-_),E.height=20,E.x=_+Math.round((y-_-E.width)/2),E.y=S,C.x+C.width>T&&(C.x=T-C.width),x.x+x.width>C.x&&(x.x=C.x-x.width),x.x<0&&(x.x=0),C.x<x.x+x.width&&(C.x=x.x+x.width),l.css({left:x.x+"px",top:x.y+Math.round((x.height-l.outerHeight(!0))/2)+"px"}),d.css({left:C.x+"px",top:C.y+Math.round((C.height-d.outerHeight(!0))/2)+"px"}),h.css({top:Math.round((E.height-h.outerHeight(!0))/2)+"px"}),u.css({left:E.x+"px",top:E.y+"px",width:E.width+"px",height:E.height+"px"}),m.css({left:_+"px",top:"0px",width:y-_+"px",height:S-0+"px",visibility:"move"===this._dragMode||!this._dragMode&&(r>0||o<1)?"":"hidden"}),e.clear();var M=this._backgroundBrush;M.beginBrush(e),p.drawRectangle(M,Math.min(1,T),0,Math.max(_-1,0),S),M.endBrush(),M.beginBrush(e),p.drawRectangle(M,Math.min(y+1,T),0,Math.max(T-y-1,0),S),M.endBrush(),(e=this._labelGraphics).clear(),e.setSize(t+1,i+20);var R=this._lineBrush;R.set("color",c.fromNumber(238294)),R.beginBrush(e),R.moveTo(_,x.y),R.lineTo(_,S+20),R.endBrush(),R.beginBrush(e),R.moveTo(y,C.y),R.lineTo(y,S+20),R.endBrush();var D=this._fillBrush;D.beginBrush(e),p.drawRectangle(D,x.x+1,x.y,x.width-1,x.height),D.endBrush(),D.beginBrush(e),p.drawRectangle(D,C.x+1,C.y,C.width-1,C.height),D.endBrush(),D.beginBrush(e),p.drawRectangle(D,_+1,S,Math.max(y-_-1,0),20),D.endBrush(),this._redrawLabelOpacity()},this._redrawLabelOpacity=function(){var e=this.getInternal("labelOpacity");s(this._labelContainer).css({opacity:e+"",filter:"alpha(opacity="+Math.round(100*e)+")",visibility:e>0?"":"hidden"})},this._updateShowLabels=function(e,t){isNaN(this.getInternal("minimum"))&&isNaN(this.getInternal("maximum"))&&(e.x<0||e.x>this.getInternal("width")||e.y<0||e.y>this.getInternal("height"))?this._hideLabels():!1!==t&&this._showLabels()},this._showLabels=function(){this._areLabelsVisible||(this._areLabelsVisible=!0,this._labelOpacityTween.to(1))},this._hideLabels=function(){this._areLabelsVisible&&(this._areLabelsVisible=!1,this._labelOpacityTween.to(0))},this._beginDrag=function(e,t){!this._dragMode&&t&&(this._dragMode=t,this._pressMouseX=e.x,this._pressMinimum=this._relativeMinimum,this._pressMaximum=this._relativeMaximum,this._updateDrag(e),this.fire("dragStart",new d))},this._endDrag=function(){if(this._dragMode){var e=this._dragMode;switch(this._dragMode=null,this.validate("updateRangePass"),e){case"new":case"inside":this._selectOne();break;case"outside":this._selectAll();break;case"select":(this._relativeMinimum==this._relativeMaximum||this._relativeMinimum<=0&&this._relativeMaximum>=1)&&this._selectAll()}this.invalidate("renderGraphicsPass"),this.fire("dragComplete",new d)}},this._updateDrag=function(e){if(this._dragMode)switch(this._dragMode){case"new":this._updateDragStart(e,"select");break;case"inside":this._updateDragStart(e,"move");break;case"outside":this._updateDragStart(e,"select");break;case"select":this._updateDragSelect(e);break;case"move":this._updateDragMove(e)}},this._updateDragStart=function(e,t){Math.abs(e.x-this._pressMouseX)<4||(this._dragMode=t,this._updateDrag(e))},this._updateDragSelect=function(e){var t=this.getInternal("histogram");if(t){var i=this.getInternal("width");if(!(i<=0)){var n=w.minMax(this._pressMouseX,0,i)/i,s=w.minMax(e.x,0,i)/i,a=t.get("actualMinimumX"),r=t.get("actualMaximumX")-a,o=a+r*n,l=a+r*s;if(o>l){var d=o;o=l,l=d}var h=this.getInternal("minimumSnap");null==h||isNaN(o)||(o=h(o,!0));var u=this.getInternal("maximumSnap");null==u||isNaN(l)||(l=u(l,!0)),this.set("minimum",o),this.set("maximum",l)}}},this._updateDragMove=function(e){var t=this.getInternal("histogram");if(t){var i=this.getInternal("width");if(!(i<=0)){var n=(e.x-this._pressMouseX)/i;n=w.minMax(n,-this._pressMinimum,1-this._pressMaximum);var s=this._pressMinimum+n,a=this._pressMaximum+n,r=t.get("actualMinimumX"),o=t.get("actualMaximumX")-r,l=r+o*s,d=r+o*a;this.set("minimum",l),this.set("maximum",d)}}},this._selectOne=function(){var e=this.getInternal("histogram");if(e){var t=this.getInternal("width");if(!(t<=0)){var i=w.minMax(this._pressMouseX,0,t)/t,n=e.get("actualMinimumX"),s=n+(e.get("actualMaximumX")-n)*i,a=s,r=this.getInternal("minimumSnap");null==r||isNaN(s)||(s=r(s,!0));var o=this.getInternal("maximumSnap");null==o||isNaN(a)||(a=o(a,!0)),this.set("minimum",s),this.set("maximum",a),this.validate("updateRangePass")}}},this._selectAll=function(){this.set("minimum",NaN),this.set("maximum",NaN),this.validate("updateRangePass")},this._self_mouseOver=function(e){if(!this._dragMode){var t=this.globalToLocal(new h(e.pageX,e.pageY));this._updateShowLabels(t)}},this._self_mouseOut=function(e){if(!this._dragMode){var t=this.globalToLocal(new h(e.pageX,e.pageY));this._updateShowLabels(t)}},this._self_mouseMove=function(e){if(!this._dragMode){var t=this.globalToLocal(new h(e.pageX,e.pageY));this._updateShowLabels(t)}},this._self_mouseDown=function(e){var t=this.getInternal("width"),i=this.getInternal("height");if(!(t<=0||i<=0)){var n=this.globalToLocal(new h(e.pageX,e.pageY)),a=n.x/t,r=n.y/i;a<0||a>1||r<0||r>1||(this.element.focus(),s(document).bind("mouseup",this._document_mouseUp),this._relativeMinimum<=0&&this._relativeMaximum>=1?this._beginDrag(n,"new"):a>this._relativeMinimum&&a<this._relativeMaximum?this._beginDrag(n,"inside"):this._beginDrag(n,"outside"),e.preventDefault())}},this._self_keyDown=function(e){this._dragMode||27==e.keyCode&&(isNaN(this.getInternal("minimum"))&&isNaN(this.getInternal("maximum"))||(this._beginDrag(new h(0,0),"outside"),this._endDrag()))},this._document_mouseUp=function(e){var t=this.globalToLocal(new h(e.pageX,e.pageY));s(document).unbind("mouseup",this._document_mouseUp),this._endDrag(),this._updateShowLabels(t,!1)},this._document_mouseMove=function(e){var t=this.globalToLocal(new h(e.pageX,e.pageY));this._dragMode?this._updateDrag(t):this._updateShowLabels(t,!1)},this._document_mouseLeave=function(e){this._dragMode||this._updateShowLabels(new h(-1,-1),!1)}}))}.call(t,i,t,e))||(e.exports=n)},"splunk/charting/CursorMarker":function(e,t,i){var n;void 0===(n=function(e,t,n){var s=i("shim/jquery"),a=i("contrib/jg_lib/Class"),r=i("contrib/jg_lib/graphics/Canvas"),o=i("contrib/jg_lib/graphics/Color"),l=i("contrib/jg_lib/graphics/DrawingUtil"),d=i("contrib/jg_lib/graphics/SolidFillBrush"),h=i("contrib/jg_lib/graphics/SolidStrokeBrush"),u=i("contrib/jg_lib/properties/ObservableProperty"),c=i("contrib/jg_lib/utils/StringUtil"),p=i("splunk/charting/Histogram"),m=i("splunk/viz/GraphicsVizBase");return a(n.i,m,(function(e,t){this.foregroundColor=new u("foregroundColor",Number,0).writeFilter((function(e){return isNaN(e)?0:Math.min(Math.max(Math.floor(e),0),16777215)})).onChange((function(e){this.invalidate("renderGraphicsPass")})),this.histogram=new u("histogram",p,null).onChange((function(e){var t=e.target;(t===this||t instanceof p&&e.event===t.rangeXChanged)&&this.invalidate("renderGraphicsPass")})),this.value=new u("value",Number,NaN).writeFilter((function(e){return e>-1/0&&e<1/0?e:NaN})).onChange((function(e){this.invalidate("renderGraphicsPass")})),this.valueSnap=new u("valueSnap",Function,null).onChange((function(e){this.invalidate("renderGraphicsPass")})),this.valueFormat=new u("valueFormat",Function,null).onChange((function(e){this.invalidate("renderGraphicsPass")})),this.labelOpacity=new u("labelOpacity",Number,1).onChange((function(e){this._redrawLabelOpacity()})),this._fillBrush=null,this._lineBrush=null,this._backgroundBrush=null,this._labelGraphics=null,this._valueLabel=null,this._labelContainer=null,this.constructor=function(){t.constructor.call(this),this.addStyleClass("splunk-charting-CursorMarker"),this._fillBrush=new d(o.fromNumber(32179),1),this._lineBrush=new h(o.fromNumber(238294),1).set("caps","square"),this._backgroundBrush=new d(o.fromNumber(1545937),.2),this._labelGraphics=new r,this._labelGraphics.element.style.position="absolute",this._valueLabel=document.createElement("span"),s(this._valueLabel).addClass("splunk-charting-label"),s(this._valueLabel).css({position:"absolute",left:"0px",top:"0px","white-space":"pre"}),this._labelContainer=document.createElement("div"),this._labelGraphics.appendTo(this._labelContainer),this._labelContainer.appendChild(this._valueLabel),s(this._labelContainer).css({position:"absolute",left:"0px",top:"0px",margin:"0px",padding:"0px"}),this.element.appendChild(this._labelContainer)},this.renderGraphicsOverride=function(e,t,i){var n=this.getInternal("value"),a=n,r=0,d=s(this._valueLabel),h=this.getInternal("histogram");if(h){var u=h.get("actualMinimumX"),p=h.get("actualMaximumX")-u,m=this.getInternal("valueSnap");m&&!isNaN(n)&&(a=m(n)),isNaN(n)||(r=p>0?(n-u)/p:0)}var f=this.getInternal("valueFormat");isNaN(a)?d.html(""):f?d.html(c.escapeHTML(f(a))):d.html(c.escapeHTML(a));var g=Math.round(t*Math.min(Math.max(r,0),1)),v=Math.round(i),b={};if(b.width=Math.round(d.outerWidth(!0)),b.height=20,b.x=Math.max(g-b.width,0),b.y=Math.min(v-b.height,0),d.css({left:b.x+"px",top:b.y+Math.round((b.height-d.outerHeight(!0))/2)+"px",visibility:r>0&&r<=1?"":"hidden"}),e.clear(),r>0){var _=this._backgroundBrush;_.beginBrush(e),l.drawRectangle(_,0,0,g-0,v-0),_.endBrush()}var y=this._labelGraphics;if(y.clear(),y.setSize(t,i),r>0&&r<=1){var w=this._lineBrush;w.set("color",o.fromNumber(238294)),w.beginBrush(e),w.moveTo(g,0),w.lineTo(g,v),w.endBrush();var k=this._fillBrush;k.beginBrush(y),l.drawRectangle(k,b.x+1,b.y,b.width-1,b.height),k.endBrush()}this._redrawLabelOpacity()},this._redrawLabelOpacity=function(){var e=this.getInternal("labelOpacity");s(this._labelContainer).css({opacity:e+"",filter:"alpha(opacity="+Math.round(100*e)+")",visibility:e>0?"":"hidden"})}}))}.call(t,i,t,e))||(e.exports=n)},"splunk/charting/GridLines":function(e,t,i){var n;void 0===(n=function(e,t,n){var s=i("contrib/jg_lib/Class"),a=i("contrib/jg_lib/graphics/Color"),r=i("contrib/jg_lib/graphics/SolidStrokeBrush"),o=i("contrib/jg_lib/properties/ObservableProperty"),l=i("splunk/charting/NumericAxisLabels"),d=i("splunk/viz/GraphicsVizBase");return s(n.i,d,(function(e,t){this.foregroundColor=new o("foregroundColor",Number,0).writeFilter((function(e){return isNaN(e)?0:Math.min(Math.max(Math.floor(e),0),16777215)})).onChange((function(e){this.invalidate("renderGraphicsPass")})),this.axisLabels=new o("axisLabels",l,null).onChange((function(e){var t=e.target;(t===this||t instanceof l&&e.event===t.labelsChanged)&&this.invalidate("renderGraphicsPass")})),this._lineBrush=null,this.constructor=function(){t.constructor.call(this),this.addStyleClass("splunk-charting-GridLines"),this._lineBrush=new r(a.fromNumber(this.getInternal("foregroundColor")),.1)},this.renderGraphicsOverride=function(e,t,i){e.clear();var n=this.getInternal("axisLabels");if(n){var s=this._lineBrush;s.set("color",a.fromNumber(this.getInternal("foregroundColor")));for(var r,o,l=n.get("positions"),d=l.length,h=0;h<d;h++)r=l[h],o=Math.round(i*(1-r)),s.beginBrush(e),s.moveTo(0,o),s.lineTo(t,o),s.endBrush()}}}))}.call(t,i,t,e))||(e.exports=n)},"splunk/charting/Histogram":function(e,t,i){var n;void 0===(n=function(e,t,n){var s=i("contrib/jg_lib/Class"),a=i("contrib/jg_lib/async/Pass"),r=i("contrib/jg_lib/events/ChainedEvent"),o=i("contrib/jg_lib/events/EventData"),l=i("contrib/jg_lib/geom/Rectangle"),d=i("contrib/jg_lib/graphics/DrawingUtil"),h=i("contrib/jg_lib/graphics/Brush"),u=i("contrib/jg_lib/graphics/SolidFillBrush"),c=i("contrib/jg_lib/properties/ObservableProperty"),p=i("contrib/jg_lib/properties/Property"),m=i("contrib/jg_lib/utils/ArrayUtil"),f=i("splunk/charting/LogScale"),g=i("splunk/time/DateTime"),v=i("splunk/utils/DataUtil"),b=i("splunk/viz/GraphicsVizBase");return s(n.i,b,(function(e,t){var i=function(e,t){var i=e.valueDataX1.relative,n=t.valueDataX1.relative;return i<n?-1:i>n?1:0},n=function(e,t){var i=e.valueDataX1.relative;return e.valueDataX2.relative<=t?-1:i>t?1:0};this.processDataPass=new a("processData",.1),this.updateRangeXPass=new a("updateRangeX",.2),this.updateRangeYPass=new a("updateRangeY",.2),this.rangeXChanged=new r("rangeXChanged",this.change),this.rangeYChanged=new r("rangeYChanged",this.change),this.containedRangeXChanged=new r("containedRangeXChanged",this.change),this.containedRangeYChanged=new r("containedRangeYChanged",this.change),this.data=new c("data",Array,null).onChange((function(e){this.invalidate("processDataPass")})),this.brush=new c("brush",h,null).onChange((function(e){this.invalidate("renderGraphicsPass")})),this.minimumX=new c("minimumX",Number,NaN).writeFilter((function(e){return e>-1/0&&e<1/0?e:NaN})).onChange((function(e){this.invalidate("updateRangeXPass")})),this.maximumX=new c("maximumX",Number,NaN).writeFilter((function(e){return e>-1/0&&e<1/0?e:NaN})).onChange((function(e){this.invalidate("updateRangeXPass")})),this.minimumY=new c("minimumY",Number,NaN).readFilter((function(e){return this.valueToAbsoluteY(e)})).writeFilter((function(e){return e>-1/0&&e<1/0?this.absoluteToValueY(e):NaN})).onChange((function(e){this.invalidate("updateRangeYPass")})),this.maximumY=new c("maximumY",Number,NaN).readFilter((function(e){return this.valueToAbsoluteY(e)})).writeFilter((function(e){return e>-1/0&&e<1/0?this.absoluteToValueY(e):NaN})).onChange((function(e){this.invalidate("updateRangeYPass")})),this.scaleY=new c("scaleY",f,null).onChange((function(e){this._cachedScaleY=e.newValue,this.invalidate("processDataPass")})),this.containedMinimumX=new p("containedMinimumX",Number).readOnly(!0).onRead((function(){this.validate("updateRangeXPass")})).getter((function(){return this._containedMinimumX})),this.containedMaximumX=new p("containedMaximumX",Number).readOnly(!0).onRead((function(){this.validate("updateRangeXPass")})).getter((function(){return this._containedMaximumX})),this.containedMinimumY=new p("containedMinimumY",Number).readOnly(!0).onRead((function(){this.validate("updateRangeYPass")})).getter((function(){return this._containedMinimumY})),this.containedMaximumY=new p("containedMaximumY",Number).readOnly(!0).onRead((function(){this.validate("updateRangeYPass")})).getter((function(){return this._containedMaximumY})),this.actualMinimumX=new p("actualMinimumX",Number).readOnly(!0).onRead((function(){this.validate("updateRangeXPass")})).getter((function(){return this._actualMinimumX})),this.actualMaximumX=new p("actualMaximumX",Number).readOnly(!0).onRead((function(){this.validate("updateRangeXPass")})).getter((function(){return this._actualMaximumX})),this.actualMinimumY=new p("actualMinimumY",Number).readOnly(!0).onRead((function(){this.validate("updateRangeYPass")})).getter((function(){return this._actualMinimumY})),this.actualMaximumY=new p("actualMaximumY",Number).readOnly(!0).onRead((function(){this.validate("updateRangeYPass")})).getter((function(){return this._actualMaximumY})),this._cachedScaleY=null,this._containedMinimumX=0,this._containedMaximumX=0,this._containedMinimumY=0,this._containedMaximumY=100,this._actualMinimumX=0,this._actualMaximumX=0,this._actualMinimumY=0,this._actualMaximumY=100,this._actualRangeX=0,this._actualRangeY=100,this._actualScaleY=null,this._valueDatasX=null,this._valueDatasY=null,this._renderDatas=null,this.constructor=function(){t.constructor.call(this),this.addStyleClass("splunk-charting-Histogram");var e=new g;(e=e.toUTC()).setMinutes(0),e.setSeconds(0),this._containedMinimumX=e.getTime(),this._containedMaximumX=e.getTime()+3600,this._actualMinimumX=this._containedMinimumX,this._actualMaximumX=this._containedMaximumX,this._actualRangeX=this._actualMaximumX-this._actualMinimumX,this._valueDatasX=[],this._valueDatasY=[],this._renderDatas=[]},this.processData=function(){if(!this.isValid("processDataPass")){this.invalidate("updateRangeXPass"),this.invalidate("updateRangeYPass");var e=this._valueDatasX=[],t=this._valueDatasY=[],i=this._renderDatas=[],n=this.getInternal("data"),s=n?n.length:0;if(s>0){var a,r,o,l,d,h,u={value:0,absolute:this.valueToAbsoluteY(0)};for(t.push(u),h=0;h<s;h++)r={value:(a=n[h]).x1,absolute:this.valueToAbsoluteX(a.x1)},o={value:a.x2,absolute:this.valueToAbsoluteX(a.x2)},l={value:a.y,absolute:this.valueToAbsoluteY(a.y)},r.absolute>-1/0&&r.absolute<1/0&&o.absolute>-1/0&&o.absolute<1/0&&l.absolute>-1/0&&l.absolute<1/0&&((d={valueDataX1:r,valueDataX2:o,valueDataY1:l,valueDataY2:u}).data={x1:r.value,x2:o.value,y:l.value},d.bounds=null,e.push(r),e.push(o),t.push(l),i.push(d))}this.markValid("processDataPass")}},this.updateRangeX=function(){if(!this.isValid("updateRangeXPass")){this.invalidate("renderGraphicsPass");var e,t,n=this._valueDatasX,s=n.length,a=1/0,r=-1/0;for(t=0;t<s;t++)(e=n[t]).absolute<a&&(a=e.absolute),e.absolute>r&&(r=e.absolute);if(a==1/0){var l=new g;(l=l.toUTC()).setMinutes(0),l.setSeconds(0),a=l.getTime(),r=l.getTime()+3600}var d=a!=this._containedMinimumX||r!=this._containedMaximumX;this._containedMinimumX=a,this._containedMaximumX=r;var h=this.getInternal("minimumX");isNaN(h)||(a=h);var u=this.getInternal("maximumX");if(isNaN(u)||(r=u),a>r){var c=a;a=r,r=c}var p=r-a;for(t=0;t<s;t++)(e=n[t]).relative=p>0?(e.absolute-a)/p:0;this._renderDatas.sort(i);var m=a!=this._actualMinimumX||r!=this._actualMaximumX;this._actualMinimumX=a,this._actualMaximumX=r,this._actualRangeX=p,this.markValid("updateRangeXPass"),d&&this.fire("containedRangeXChanged",new o),m&&this.fire("rangeXChanged",new o)}},this.updateRangeY=function(){if(!this.isValid("updateRangeYPass")){this.invalidate("renderGraphicsPass");var e,t,i=this._valueDatasY,n=i.length,s=1/0,a=-1/0;for(t=0;t<n;t++)(e=i[t]).absolute<s&&(s=e.absolute),e.absolute>a&&(a=e.absolute);if(s==1/0)s=this.valueToAbsoluteY(0),a=this.valueToAbsoluteY(100);else{var r,l,d=s,h=a;for(t=0;t<2&&!((r=this._computeAutoUnits(h-d))<=0);t++)h-d>=1&&(r=Math.max(Math.round(r),1)),l=1+Math.floor((h-d)/r),r*=Math.ceil(l/50),(d=Math.ceil(s/r)*r)!=s&&(d-=r),h=Math.ceil(a/r)*r;s=d,a=h}var u=s!=this._containedMinimumY||a!=this._containedMaximumY;this._containedMinimumY=s,this._containedMaximumY=a;var c=this.getInternal("minimumY");isNaN(c)||(s=this.valueToAbsoluteY(c));var p=this.getInternal("maximumY");if(isNaN(p)||(a=this.valueToAbsoluteY(p)),s>a){var m=s;s=a,a=m}var f=a-s;for(t=0;t<n;t++)(e=i[t]).relative=f>0?(e.absolute-s)/f:0;var g=this._cachedScaleY,v=s!=this._actualMinimumY||a!=this._actualMaximumY||g!=this._actualScaleY;this._actualMinimumY=s,this._actualMaximumY=a,this._actualRangeY=f,this._actualScaleY=g,this.markValid("updateRangeYPass"),u&&this.fire("containedRangeYChanged",new o),v&&this.fire("rangeYChanged",new o)}},this.valueToAbsoluteX=function(e){if(null==e)return NaN;if(e instanceof g)return e.getTime();if(e instanceof Date)return e.getTime()/1e3;if("string"==typeof e){if(!e)return NaN;var t=Number(e);return isNaN(t)?new g(e).getTime():t>-1/0&&t<1/0?t:NaN}return"number"==typeof e&&e>-1/0&&e<1/0?e:NaN},this.absoluteToValueX=function(e){return e>-1/0&&e<1/0?new g(e).toUTC():null},this.absoluteToRelativeX=function(e){return(e-this._actualMinimumX)/this._actualRangeX},this.relativeToAbsoluteX=function(e){return this._actualMinimumX+this._actualRangeX*e},this.valueToAbsoluteY=function(e){var t=this._cachedScaleY;return t?t.valueToScale(v.parseNumber(e)):v.parseNumber(e)},this.absoluteToValueY=function(e){if(e>-1/0&&e<1/0){var t=this._cachedScaleY;return t?t.scaleToValue(Number(e)):Number(e)}return NaN},this.absoluteToRelativeY=function(e){return(e-this._actualMinimumY)/this._actualRangeY},this.relativeToAbsoluteY=function(e){return this._actualMinimumY+this._actualRangeY*e},this.getDataUnderPoint=function(e,t){if(this.validate("renderGraphicsPass"),t<0||t>this.getInternal("height"))return null;var i=m.binarySearch(this._renderDatas,e/this.getInternal("width"),n);if(i<0)return null;var s=this._renderDatas[i];return{data:s.data,bounds:s.bounds}},this.renderGraphicsOverride=function(e,t,i){var n,s,a,r,o,h,c=this._valueDatasX,p=this._valueDatasY,m=this._renderDatas,f=c.length,g=p.length,v=m.length;for(h=0;h<f;h++)(n=c[h]).pixel=Math.round(t*n.relative);for(h=0;h<g;h++)(a=p[h]).pixel=Math.round(i*(1-a.relative));var b,_,y,w,k,T,S=p.length>0?p[0]:null,x=S?S.pixel:i,C=new l(0,0,t,x),E=new l(0,x,t,i-x),M=this.getInternal("brush");for(M||(M=new u),e.clear(),h=0;h<v;h++)n=(o=m[h]).valueDataX1,s=o.valueDataX2,a=o.valueDataY1,r=o.valueDataY2,Math.max(n.relative,s.relative)<0||Math.min(n.relative,s.relative)>1||Math.max(a.relative,r.relative)<0||Math.min(a.relative,r.relative)>1||(_=n.pixel,y=s.pixel,w=a.pixel,k=r.pixel,_<y?_++:y++,_==y&&(n.relative<s.relative?y++:n.relative>s.relative&&y--),w==k&&(a.relative<r.relative?w++:a.relative>r.relative&&w--),_>y&&(T=_,_=y,y=T),o.bounds=new l(_,w,y-_,0),b=w<=k?C:E,M.beginBrush(e,b),d.drawRectangle(M,_,w,y-_,k-w),M.endBrush())},this._computeAutoUnits=function(e){if(e<=0)return 0;var t=e/10,i=0;if(t>0){var n=t.toExponential(20),s=n.indexOf("e");s>=0&&(t=Number(n.substring(0,s)),i=Number(n.substring(s+1,n.length)))}return(t=Math.ceil(t))>5?t=10:t>2&&(t=5),t*Math.pow(10,i)}}))}.call(t,i,t,e))||(e.exports=n)},"splunk/charting/LogScale":function(e,t,i){var n;void 0===(n=function(e,t,n){var s=i("contrib/jg_lib/Class"),a=i("contrib/jg_lib/utils/NumberUtil");return s(n.i,Object,(function(e,t){this._base=0,this._baseMultiplier=0,this.constructor=function(e){if(null!=e&&!s.isNumber(e))throw new Error("Parameter base must be of type Number.");this._base=e>0&&e<1/0?e:10,this._baseMultiplier=Math.log(this._base)},this.base=function(){return this._base},this.valueToScale=function(e){if(this._base<=1)return 0;var t=0,i=e<0;return i&&(e=-e),e<this._base&&(e+=(this._base-e)/this._base),t=Math.log(e)/this._baseMultiplier,t=a.toPrecision(t,-1),i&&(t=-t),t},this.scaleToValue=function(e){if(this._base<=1)return 0;var t=0,i=e<0;return i&&(e=-e),(t=Math.exp(e*this._baseMultiplier))<this._base&&(t=this._base*(t-1)/(this._base-1)),t=a.toPrecision(t,-1),i&&(t=-t),t}}))}.call(t,i,t,e))||(e.exports=n)},"splunk/charting/NumericAxisLabels":function(e,t,i){var n;void 0===(n=function(e,t,n){var s=i("shim/jquery"),a=i("contrib/jg_lib/Class"),r=i("contrib/jg_lib/async/Pass"),o=i("contrib/jg_lib/events/ChainedEvent"),l=i("contrib/jg_lib/events/EventData"),d=i("contrib/jg_lib/graphics/Color"),h=i("contrib/jg_lib/graphics/SolidStrokeBrush"),u=i("contrib/jg_lib/properties/ArrayProperty"),c=i("contrib/jg_lib/properties/ObservableEnumProperty"),p=i("contrib/jg_lib/properties/ObservableProperty"),m=i("contrib/jg_lib/properties/Property"),f=i("contrib/jg_lib/utils/StringUtil"),g=i("splunk/charting/Histogram"),v=i("splunk/viz/GraphicsVizBase");return a(n.i,v,(function(e,t){this.updateLabelsPass=new r("updateLabels",.3),this.labelsChanged=new o("labelsChanged",this.change),this.placement=new c("placement",String,["left","right"]).onChange((function(e){this.invalidate("renderGraphicsPass")})),this.foregroundColor=new p("foregroundColor",Number,0).writeFilter((function(e){return isNaN(e)?0:Math.min(Math.max(Math.floor(e),0),16777215)})).onChange((function(e){this.invalidate("renderGraphicsPass")})),this.histogram=new p("histogram",g,null).onChange((function(e){var t=e.target;(t===this||t instanceof g&&e.event===t.rangeYChanged)&&this.invalidate("updateLabelsPass")})),this.labelFormat=new p("labelFormat",Function,null).onChange((function(e){this.invalidate("updateLabelsPass")})),this.actualUnit=new m("actualUnit",Number).readOnly(!0).onRead((function(){this.validate("updateLabelsPass")})).getter((function(){return this._actualUnit})),this.positions=new u("positions",Number).readOnly(!0).onRead((function(){this.validate("updateLabelsPass")})).getter((function(){for(var e,t=[],i=this._labelInfos,n=0,s=i.length;n<s;n++)(e=i[n]).visible&&t.push(e.relative);return t})),this._actualUnit=0,this._lineBrush=null,this._tickBrush=null,this._labelInfos=null,this.constructor=function(){t.constructor.call(this),this.addStyleClass("splunk-charting-NumericAxisLabels"),this._lineBrush=new h(d.fromNumber(this.getInternal("foregroundColor")),.2).set("caps","square"),this._tickBrush=new h(d.fromNumber(this.getInternal("foregroundColor")),.1),this._labelInfos=[]},this.updateLabels=function(){if(!this.isValid("updateLabelsPass")){this.invalidate("renderGraphicsPass");var e,t=this.element,i=this.getInternal("labelFormat"),n=this._labelInfos,a=n.length,r=0;try{this._actualUnit=0;var o=this.getInternal("histogram");if(!o)return;var l=o.get("actualMinimumY"),d=o.get("actualMaximumY");if(l==d)return;var h=o.get("scaleY"),u=null!=h,c=l,p=d;u&&(l=h.scaleToValue(l),d=h.scaleToValue(d));var m=p-c,g=this._computeAutoUnits(m);if(g<=0)return;m>=1&&(g=Math.max(Math.round(g),1));var v=1+Math.floor(m/g);g*=Math.ceil(v/50),this._actualUnit=g;var b,_,y,w=Math.ceil(c/g)*g-g,k=Math.ceil(p/g)*g;for(b=w;b<=k;b+=g)_=u?h.scaleToValue(b):b,(y=(b-c)/m)>0&&y<=1&&(r<a?e=n[r]:((e={}).label=document.createElement("span"),e.queryLabel=s(e.label),e.queryLabel.addClass("splunk-charting-label"),e.queryLabel.css({position:"absolute",left:"0px",top:"0px","white-space":"pre"}),n.push(e),t.appendChild(e.label)),e.relative=y,i?e.queryLabel.html(f.escapeHTML(i(_))):e.queryLabel.html(f.escapeHTML(_)),r++)}finally{for(var T=n.length-1;T>=r;T--)(t=(e=n.pop()).label.parentNode)&&t.removeChild(e.label);this.markValid("updateLabelsPass")}}},this.renderGraphicsOverride=function(e,t,i){var n,s,a,r="right"!=this.getInternal("placement"),o=this._lineBrush,h=this._tickBrush,u=this._labelInfos,c=u.length,p=0,m=0;for(s=0;s<c;s++)(n=u[s]).y=Math.round(i*(1-n.relative)),n.width=Math.round(n.queryLabel.outerWidth(!0)),n.height=Math.round(n.queryLabel.outerHeight(!0)),n.visible=!0,p=Math.max(p,n.width);for(t=Math.max(p,25),this.setInternal("width",t),s=0;s<c;s++)(n=u[s]).x=r?t-n.width:0;for(s=c-1;s>=0;s--)for(n=u[s],a=s-1;a>=0&&!(u[a].y>=n.y+n.height);a--)m=Math.max(m,s-a);if(m>0)for(m++,s=0;s<c;s++)(c-s-1)%m!=0&&(u[s].visible=!1);for(s=0;s<c&&!((n=u[s]).y+n.height<=i);s++)n.visible=!1;for(e.clear(),e.setSize(t+(r?1:0),i+1),h.set("color",d.fromNumber(this.getInternal("foregroundColor"))),s=0;s<c;s++)(n=u[s]).queryLabel.css({left:n.x+"px",top:n.y+"px",visibility:n.visible?"":"hidden"}),n.visible&&(h.beginBrush(e),r?(h.moveTo(t,n.y),h.lineTo(t-25,n.y)):(h.moveTo(0,n.y),h.lineTo(25,n.y)),h.endBrush());o.set("color",d.fromNumber(this.getInternal("foregroundColor"))),o.beginBrush(e),r?(o.moveTo(t,0),o.lineTo(t,Math.round(i))):(o.moveTo(0,0),o.lineTo(0,Math.round(i))),o.endBrush(),this.fire("labelsChanged",new l)},this._computeAutoUnits=function(e){if(e<=0)return 0;var t=e/10,i=0;if(t>0){var n=t.toExponential(20),s=n.indexOf("e");s>=0&&(t=Number(n.substring(0,s)),i=Number(n.substring(s+1,n.length)))}return(t=Math.ceil(t))>5?t=10:t>2&&(t=5),t*Math.pow(10,i)}}))}.call(t,i,t,e))||(e.exports=n)},"splunk/charting/TimeAxisLabels":function(e,t,i){var n;void 0===(n=function(e,t,n){var s=i("shim/jquery"),a=i("contrib/jg_lib/Class"),r=i("contrib/jg_lib/async/Pass"),o=i("contrib/jg_lib/events/ChainedEvent"),l=i("contrib/jg_lib/events/EventData"),d=i("contrib/jg_lib/graphics/Color"),h=i("contrib/jg_lib/graphics/SolidStrokeBrush"),u=i("contrib/jg_lib/properties/ArrayProperty"),c=i("contrib/jg_lib/properties/ObservableProperty"),p=i("contrib/jg_lib/properties/Property"),m=i("contrib/jg_lib/utils/StringUtil"),f=i("splunk/charting/Histogram"),g=i("splunk/time/DateTime"),v=i("splunk/time/Duration"),b=i("splunk/time/TimeUtils"),_=i("splunk/time/TimeZone"),y=i("splunk/time/TimeZones"),w=i("splunk/viz/GraphicsVizBase");return a(n.i,w,(function(e,t){this.updateLabelsPass=new r("updateLabels",.3),this.labelsChanged=new o("labelsChanged",this.change),this.foregroundColor=new c("foregroundColor",Number,0).writeFilter((function(e){return isNaN(e)?0:Math.min(Math.max(Math.floor(e),0),16777215)})).onChange((function(e){this.invalidate("renderGraphicsPass")})),this.histogram=new c("histogram",f,null).onChange((function(e){var t=e.target;(t===this||t instanceof f&&e.event===t.rangeXChanged)&&this.invalidate("updateLabelsPass")})),this.timeZone=new c("timeZone",_,y.LOCAL).onChange((function(e){this.invalidate("updateLabelsPass")})),this.labelFormat=new c("labelFormat",Function,null).onChange((function(e){this.invalidate("updateLabelsPass")})),this.actualUnit=new p("actualUnit",v).readOnly(!0).onRead((function(){this.validate("updateLabelsPass")})).getter((function(){return this._actualUnit.clone()})),this.positions=new u("positions",Number).readOnly(!0).onRead((function(){this.validate("updateLabelsPass")})).getter((function(){for(var e,t=[],i=this._labelInfos,n=0,s=i.length;n<s;n++)(e=i[n]).visible&&t.push(e.relative);return t})),this._actualUnit=null,this._lineBrush=null,this._labelInfos=null,this.constructor=function(){t.constructor.call(this),this.addStyleClass("splunk-charting-TimeAxisLabels"),this._actualUnit=new v,this._lineBrush=new h(d.fromNumber(this.getInternal("foregroundColor")),.2).set("caps","square"),this._labelInfos=[]},this.updateLabels=function(){if(!this.isValid("updateLabelsPass")){this.invalidate("renderGraphicsPass");var e,t=this.element,i=this.getInternal("labelFormat"),n=this._labelInfos,a=n.length,r=0;try{this._actualUnit=new v;var o=this.getInternal("histogram");if(!o)return;var l=o.get("actualMinimumX"),d=o.get("actualMaximumX"),h=d-l;if(0==h)return;var u=this.getInternal("timeZone"),c=new g(l),p=new g(d);c=c.toTimeZone(u),p=p.toTimeZone(u);var f=this._computeAutoUnits(b.subtractDates(p,c)),_=b.durationToSeconds(f,c);if(_<=0)return;var y,w,k=1+Math.floor((d-l)/_);f=b.multiplyDuration(f,Math.ceil(k/50)),this._actualUnit=f,c=b.subtractDateDuration(b.ceilDate(c,f),f),p=b.ceilDate(p,f);var T=1;for(y=c;y.getTime()<=p.getTime();T++)(w=(y.getTime()-l)/h)>=0&&w<1&&(r<a?e=n[r]:((e={}).label=document.createElement("span"),e.queryLabel=s(e.label),e.queryLabel.addClass("splunk-charting-label"),e.queryLabel.css({position:"absolute",left:"0px",top:"0px","white-space":"pre"}),n.push(e),t.appendChild(e.label)),e.relative=w,i?e.queryLabel.html(m.escapeHTML(i(y))):e.queryLabel.html(m.escapeHTML(y)),r++),y=b.addDateDuration(c,b.multiplyDuration(f,T))}finally{for(var S=n.length-1;S>=r;S--)(t=(e=n.pop()).label.parentNode)&&t.removeChild(e.label);this.markValid("updateLabelsPass")}}},this.renderGraphicsOverride=function(e,t,i){var n,s,a,r=this._lineBrush,o=this._labelInfos,h=o.length,u=0,c=0;for(s=0;s<h;s++)(n=o[s]).x=Math.round(t*n.relative),n.y=0,n.width=Math.round(n.queryLabel.outerWidth(!0)),n.height=Math.round(n.queryLabel.outerHeight(!0)),n.visible=!0,u=Math.max(u,n.height);for(i=Math.max(u,25),this.setInternal("height",i),s=0;s<h;s++)for(n=o[s],a=s+1;a<h&&!(o[a].x>=n.x+n.width);a++)c=Math.max(c,a-s);if(c>0)for(c++,s=0;s<h;s++)s%c!=0&&(o[s].visible=!1);for(s=h-1;s>=0&&!((n=o[s]).x+n.width<=t);s--)n.visible=!1;for(e.clear(),e.setSize(t+1,i),r.set("color",d.fromNumber(this.getInternal("foregroundColor"))),s=0;s<h;s++)(n=o[s]).queryLabel.css({left:n.x+"px",top:n.y+"px",visibility:n.visible?"":"hidden"}),n.visible&&(r.beginBrush(e),r.moveTo(n.x,0),r.lineTo(n.x,25),r.endBrush());r.beginBrush(e),r.moveTo(0,0),r.lineTo(Math.round(t),0),r.endBrush(),this.fire("labelsChanged",new l)},this._computeAutoUnits=function(e){if(b.durationToSeconds(e)<=0)return new v;var t,i,n,s,a,r=new g(e.years,e.months+1,e.days+1,e.hours,e.minutes,e.seconds,y.UTC);return(t=(e=new v(r.getYear(),r.getMonth()-1,r.getDay()-1,r.getHours(),r.getMinutes(),r.getSeconds())).years)>2?(n=0,(i=t/10)>0&&(a=(s=i.toExponential(20)).indexOf("e"))>=0&&(i=Number(s.substring(0,a)),n=Number(s.substring(a+1,s.length))),(i=Math.ceil(i))>5?i=10:i>2&&(i=5),new v(Math.ceil(i*Math.pow(10,n)))):(t=e.months+12*t)>2?new v(0,t>18?4:t>12?3:t>6?2:1):(t=e.days+30*t)>2?new v(0,0,t>49?14:t>28?7:t>14?4:t>7?2:1):(t=e.hours+24*t)>2?new v(0,0,0,t>36?12:t>24?6:t>12?4:t>6?2:1):(t=e.minutes+60*t)>2?new v(0,0,0,0,t>105?30:t>70?15:t>35?10:t>14?5:t>7?2:1):(t=e.seconds+60*t)>2?new v(0,0,0,0,0,t>105?30:t>70?15:t>35?10:t>14?5:t>7?2:1):(n=0,(i=t/10)>0&&(a=(s=i.toExponential(20)).indexOf("e"))>=0&&(i=Number(s.substring(0,a)),n=Number(s.substring(a+1,s.length))),(i=Math.ceil(i))>5?i=10:i>2&&(i=5),new v(0,0,0,0,0,i*Math.pow(10,n)))}}))}.call(t,i,t,e))||(e.exports=n)},"splunk/charting/Timeline":function(e,t,i){var n;void 0===(n=function(e,t,n){var s=i("shim/jquery"),a=i("contrib/jg_lib/Class"),r=i("contrib/jg_lib/async/Pass"),o=i("contrib/jg_lib/events/ChainedEvent"),l=i("contrib/jg_lib/events/Event"),d=i("contrib/jg_lib/geom/Point"),h=i("contrib/jg_lib/geom/Rectangle"),u=i("contrib/jg_lib/graphics/Color"),c=i("contrib/jg_lib/graphics/GroupBrush"),p=i("contrib/jg_lib/graphics/SolidFillBrush"),m=i("contrib/jg_lib/graphics/SolidStrokeBrush"),f=i("contrib/jg_lib/motion/PowerEaser"),g=i("contrib/jg_lib/motion/PropertyTween"),v=i("contrib/jg_lib/properties/Property"),b=i("contrib/jg_lib/utils/FunctionUtil"),_=i("contrib/jg_lib/utils/NumberUtil"),y=i("splunk/brushes/BorderStrokeBrush"),w=i("splunk/charting/ClickDragRangeMarker"),k=i("splunk/charting/CursorMarker"),T=i("splunk/charting/GridLines"),S=i("splunk/charting/Histogram"),x=i("splunk/charting/LogScale"),C=i("splunk/charting/NumericAxisLabels"),E=i("splunk/charting/TimeAxisLabels"),M=i("splunk/charting/Tooltip"),R=i("splunk/events/GenericEventData"),D=i("splunk/time/DateTime"),P=i("splunk/time/SimpleTimeZone"),L=i("splunk/time/SplunkTimeZone"),O=i("splunk/time/TimeUtils"),I=i("splunk/time/TimeZones"),A=i("splunk/viz/GraphicsVizBase");return a(n.i,A,(function(e,t){this.dispatchUpdatedPass=new r("dispatchUpdated",3),this.updated=new l("updated",R),this.viewChanged=new o("viewChanged",this.change),this.selectionChanged=new o("selectionChanged",this.change),this.chartDoubleClicked=new l("chartDoubleClicked",R),this.timeZone=new v("timeZone",String,null).setter((function(e){this._timeZone=e?new L(e):I.LOCAL,this._axisLabelsX.set("timeZone",this._timeZone),this._rangeMarker.invalidate("updateRangePass"),this._cursorMarker.invalidate("renderGraphicsPass")})),this.jobID=new v("jobID",String).getter((function(){return this._jobID})).setter((function(e){this._jobID=e})),this.bucketCount=new v("bucketCount",Number).getter((function(){return this._bucketCount})).setter((function(e){this._bucketCount=e})),this.viewMinimum=new v("viewMinimum",Number).readOnly(!0).getter((function(){return this._viewMinimum})),this.viewMaximum=new v("viewMaximum",Number).readOnly(!0).getter((function(){return this._viewMaximum})),this.selectionMinimum=new v("selectionMinimum",Number).getter((function(){return this._selectionMinimum})).setter((function(e){this._rangeMarker.isDragging()||(this._rangeMarker.set("minimum",e),this._updateSelectionRange(!1))})),this.selectionMaximum=new v("selectionMaximum",Number).getter((function(){return this._selectionMaximum})).setter((function(e){this._rangeMarker.isDragging()||(this._rangeMarker.set("maximum",e),this._updateSelectionRange(!1))})),this.actualSelectionMinimum=new v("actualSelectionMinimum",Number).readOnly(!0).getter((function(){return this._actualSelectionMinimum})),this.actualSelectionMaximum=new v("actualSelectionMaximum",Number).readOnly(!0).getter((function(){return this._actualSelectionMaximum})),this.timelineData=new v("timelineData",Object).readOnly(!0).getter((function(){return this._cloneTimelineData(this._timelineData)})),this.timelineScale=new v("timelineScale",Object).readOnly(!0).getter((function(){var e=this._timelineData;if(!e)return null;var t=e.buckets;if(0==t.length)return null;var i=t[0],n=O.subtractDates(i.latestTime,i.earliestTime);return n.years>0?{value:n.years,unit:"year"}:n.months>0?{value:n.months,unit:"month"}:n.days>0?{value:n.days,unit:"day"}:n.hours>0?{value:n.hours,unit:"hour"}:n.minutes>0?{value:n.minutes,unit:"minute"}:n.seconds>0?{value:n.seconds,unit:"second"}:null})),this.enableChartClick=new v("enableChartClick",Boolean).getter((function(){return this._enableChartClick})).setter((function(e){this._enableChartClick=e})),this.scaleY=new v("scaleY",String).getter((function(){return this._scaleY})).setter((function(e){e="log"==e?"log":"linear",this._scaleY!==e&&(this._scaleY=e,this._histogram.set("scaleY","log"==e?new x:null))})),this.foregroundColor=new v("foregroundColor",Number).getter((function(){return this._foregroundColor})).setter((function(e){e=isNaN(e)?0:Math.min(Math.max(Math.floor(e),0),16777215),this._foregroundColor!==e&&(this._foregroundColor=e,this._axisLabelsX.set("foregroundColor",e),this._axisLabelsY1.set("foregroundColor",e),this._axisLabelsY2.set("foregroundColor",e),this._gridLines.set("foregroundColor",e),this._cursorMarker.set("foregroundColor",e),this._rangeMarker.set("foregroundColor",e),this.invalidate("renderGraphicsPass"))})),this.seriesColor=new v("seriesColor",Number).getter((function(){return this._seriesColor})).setter((function(e){e=isNaN(e)?0:Math.min(Math.max(Math.floor(e),0),16777215),this._seriesColor!==e&&(this._seriesColor=e,this._seriesFillBrush.set("color",u.fromNumber(e)),this._seriesBorderBrush.set("colors",[u.fromNumber(e).darken(.3)]))})),this.borderColor=new v("borderColor",Number).getter((function(){return this._borderColor})).setter((function(e){this._borderColor=e,this._seriesBorderBrush.set("colors",[u.fromNumber(this._borderColor)])})),this.minimalMode=new v("minimalMode",Boolean,!1).setter((function(e){this.invalidate("renderGraphicsPass")})),this.externalInterface=null,this._hostPath=null,this._basePath=null,this._timeZone=I.LOCAL,this._jobID=null,this._bucketCount=1e3,this._viewMinimum=NaN,this._viewMaximum=NaN,this._selectionMinimum=NaN,this._selectionMaximum=NaN,this._actualSelectionMinimum=NaN,this._actualSelectionMaximum=NaN,this._timelineData=null,this._enableChartClick=!1,this._scaleY="linear",this._foregroundColor=0,this._borderColor=16777215,this._seriesColor=6078556,this._updateCount=0,this._updatingCount=0,this._updatedCount=0,this._dataLoading=!1,this._loadJobID=null,this._seriesFillBrush=null,this._seriesBorderBrush=null,this._seriesGroupBrush=null,this._lineBrush=null,this._histogram=null,this._axisLabelsX=null,this._axisLabelsY1=null,this._axisLabelsY2=null,this._gridLines=null,this._cursorMarker=null,this._rangeMarker=null,this._tooltip=null,this._tweenMinimumX=null,this._tweenMaximumX=null,this._tweenMinimumY=null,this._tweenMaximumY=null,this._prevDate=null,this._prevJobID=null,this._prevMouseGlobal=null,this._tooltipData=null,this._updateSizeInterval=0,this.constructor=function(e,i){if(t.constructor.call(this),this.addStyleClass("splunk-charting-Timeline"),this.setStyle({position:"relative",width:"100%",height:"100%",overflow:"hidden"}),!(e="string"==typeof e?e:null)){var n=location.href,s=n.indexOf("://"),a=n.indexOf("/",s+4);e=n.substring(0,a)}this._hostPath=e,null==(i="string"==typeof i?i:null)&&(i="/splunkd"),this._basePath=i,this.updateSize=b.bind(this.updateSize,this),this._histogram_containedRangeXChanged=b.bind(this._histogram_containedRangeXChanged,this),this._histogram_containedRangeYChanged=b.bind(this._histogram_containedRangeYChanged,this),this._rangeMarker_dragComplete=b.bind(this._rangeMarker_dragComplete,this),this._rangeMarker_labelOpacity_change=b.bind(this._rangeMarker_labelOpacity_change,this),this._child_invalidated=b.bind(this._child_invalidated,this),this._self_mouseOver=b.bind(this._self_mouseOver,this),this._self_mouseOut=b.bind(this._self_mouseOut,this),this._self_mouseMove=b.bind(this._self_mouseMove,this),this._self_doubleClick=b.bind(this._self_doubleClick,this),this._data_success=b.bind(this._data_success,this),this._data_error=b.bind(this._data_error,this),this.externalInterface={};var r=this._seriesColor;u.fromNumber(r).darken(.3).toNumber();this._seriesFillBrush=new p(u.fromNumber(r),1),this._seriesBorderBrush=new y([u.fromNumber(this._borderColor)],[0,0,0,0]).set("caps","square"),this._seriesGroupBrush=new c([this._seriesFillBrush,this._seriesBorderBrush]),this._lineBrush=new m(u.fromNumber(this._foregroundColor),.08).set("caps","square"),this._histogram=new S,this._histogram.renderGraphicsPriority=1,this._histogram.set("brush",this._seriesGroupBrush),this._histogram.set("minimumX",this._histogram.get("actualMinimumX")),this._histogram.set("maximumX",this._histogram.get("actualMaximumX")),this._histogram.set("minimumY",this._histogram.get("actualMinimumY")),this._histogram.set("maximumY",this._histogram.get("actualMaximumY")),this._histogram.on("containedRangeXChanged",this._histogram_containedRangeXChanged),this._histogram.on("containedRangeYChanged",this._histogram_containedRangeYChanged),this._axisLabelsX=new E,this._axisLabelsX.renderGraphicsPriority=1,this._axisLabelsX.set("histogram",this._histogram),this._axisLabelsX.set("labelFormat",b.bind(this._timeAxisFormat,this)),this._axisLabelsX.on("invalidated",this._child_invalidated),this._axisLabelsY1=new C,this._axisLabelsY1.renderGraphicsPriority=1,this._axisLabelsY1.set("histogram",this._histogram),this._axisLabelsY1.set("labelFormat",b.bind(this._numericAxisFormat,this)),this._axisLabelsY1.on("invalidated",this._child_invalidated),this._axisLabelsY2=new C,this._axisLabelsY2.renderGraphicsPriority=1,this._axisLabelsY2.set("histogram",this._histogram),this._axisLabelsY2.set("placement","right"),this._axisLabelsY2.set("labelFormat",b.bind(this._numericAxisFormat,this)),this._axisLabelsY2.on("invalidated",this._child_invalidated),this._gridLines=new T,this._gridLines.renderGraphicsPriority=1,this._gridLines.set("axisLabels",this._axisLabelsY1),this._cursorMarker=new k,this._cursorMarker.renderGraphicsPriority=1,this._cursorMarker.set("histogram",this._histogram),this._cursorMarker.set("valueSnap",b.bind(this._cursorValueSnap,this)),this._cursorMarker.set("valueFormat",b.bind(this._cursorValueFormat,this)),this._rangeMarker=new w,this._rangeMarker.renderGraphicsPriority=1,this._rangeMarker.set("histogram",this._histogram),this._rangeMarker.set("minimumSnap",b.bind(this._minimumSnap,this)),this._rangeMarker.set("maximumSnap",b.bind(this._maximumSnap,this)),this._rangeMarker.set("minimumFormat",b.bind(this._minimumFormat,this)),this._rangeMarker.set("maximumFormat",b.bind(this._maximumFormat,this)),this._rangeMarker.set("rangeFormat",b.bind(this._rangeFormat,this)),this._rangeMarker.on("dragComplete",this._rangeMarker_dragComplete),this._rangeMarker.on("labelOpacity.change",this._rangeMarker_labelOpacity_change),this._tooltip=new M,this._tooltip.renderGraphicsPriority=1,this.$element.bind("mouseover",this._self_mouseOver),this.$element.bind("mouseout",this._self_mouseOut),this.$element.bind("mousemove",this._self_mouseMove),this.$element.bind("dblclick",this._self_doubleClick),this._gridLines.appendTo(this),this._histogram.appendTo(this),this._axisLabelsX.appendTo(this),this._axisLabelsY1.appendTo(this),this._axisLabelsY2.appendTo(this),this._cursorMarker.appendTo(this),this._rangeMarker.appendTo(this),this._tooltip.appendTo(this),this._tweenMinimumX=new g(this._histogram,"minimumX",.5,new f(0,3)),this._tweenMaximumX=new g(this._histogram,"maximumX",.5,new f(0,3)),this._tweenMinimumY=new g(this._histogram,"minimumY",.5,new f(0,3)),this._tweenMaximumY=new g(this._histogram,"maximumY",.5,new f(0,3)),this._updateViewRange(),this._updateCountRange()},this.dispatchUpdated=function(){this.isValid("dispatchUpdatedPass")||(this.markValid("dispatchUpdatedPass"),this.fire("updated",new R({updateCount:this._updatedCount})))},this.update=function(){return this._updateCount++,this._update(),this._updateCount},this.getSelectedBuckets=function(){if(!this._timelineData)return null;var e=this._timelineData.buckets;if(!e)return null;for(var t,i,n=new Array,s=this._actualSelectionMinimum,a=this._actualSelectionMaximum,r=0,o=e.length;r<o;r++)!(i=(t=e[r]).earliestTime)||i.getTime()<s||!(i=t.latestTime)||i.getTime()>a||n.push(this._cloneTimelineData(t));return n},this.updateSize=function(){var e=this.$element.width(),t=this.$element.height();e===this.getInternal("width")&&t===this.getInternal("height")||this.$element.is(":visible")&&(this.set("width",e),this.set("height",t))},this.dispose=function(){this._gridLines.dispose(),this._histogram.dispose(),this._axisLabelsX.dispose(),this._axisLabelsY1.dispose(),this._axisLabelsY2.dispose(),this._cursorMarker.dispose(),this._rangeMarker.dispose(),this._tooltip.dispose(),t.dispose.call(this)},this.renderGraphicsOverride=function(e,t,i){var n=this.getInternal("minimalMode"),s=(Math.round(t),this.localToGlobal(new d(0,0))),a=this.localToGlobal(new d(t,i));this._axisLabelsX.setStyle({visibility:n?"hidden":""}),this._axisLabelsX.set("width",t),this._axisLabelsX.renderGraphics(),i=n?Math.max(i-20,0):Math.max(i-this._axisLabelsX.get("height"),0),this._axisLabelsY1.setStyle({visibility:n?"hidden":""}),this._axisLabelsY1.set("height",i),this._axisLabelsY1.renderGraphics();var r=n?20:this._axisLabelsY1.get("width");this._axisLabelsY2.setStyle({visibility:n?"hidden":""}),this._axisLabelsY2.set("height",i),this._axisLabelsY2.renderGraphics();var o=n?Math.max(r,t-20):Math.max(r,t-this._axisLabelsY2.get("width"));if(t=o-r,this._axisLabelsX.set("x",r),this._axisLabelsX.set("y",i),this._axisLabelsX.set("width",t),this._axisLabelsX.renderGraphics(),this._axisLabelsY2.set("x",o),this._histogram.set("x",r),this._histogram.set("width",t),this._histogram.set("height",i),this._histogram.renderGraphics(),this._gridLines.setStyle({visibility:n?"hidden":""}),this._gridLines.set("x",r),this._gridLines.set("width",t),this._gridLines.set("height",i),this._gridLines.renderGraphics(),this._cursorMarker.set("x",r),this._cursorMarker.set("width",t),this._cursorMarker.set("height",i),this._cursorMarker.renderGraphics(),this._rangeMarker.set("x",r),this._rangeMarker.set("width",t),this._rangeMarker.set("height",i),this._rangeMarker.renderGraphics(),this._tooltip.set("viewBounds",new h(s.x,s.y,a.x-s.x,a.y-s.y)),e.clear(),n){r=Math.round(r),o=Math.round(o),i=Math.round(i);var l,c=this._lineBrush,p=Math.round(i/7);c.set("color",u.fromNumber(this._foregroundColor)),c.beginBrush(e);for(var m=0;m<=p;m++)l=Math.round(i*(m/p)),c.moveTo(r,l),c.lineTo(o,l);c.endBrush()}this._updateTooltip()},this.onAppend=function(){this._updateSizeInterval=setInterval(this.updateSize,50),this.updateSize()},this.onRemove=function(){clearInterval(this._updateSizeInterval)},this._update=function(){this._dataLoading||(this._updatingCount=this._updateCount,this._loadJobID=this._jobID,this._loadJobID?(this._dataLoading=!0,s.ajax({type:"GET",url:this._hostPath+this._basePath+"/search/jobs/"+this._loadJobID+"/timeline?offset=0&count="+this._bucketCount,dataType:"xml",success:this._data_success,error:this._data_error})):this._updateComplete(null))},this._updateComplete=function(e){this._updateTimelineData(e),this._dataLoading=!1,this._updatedCount=this._updatingCount,this.invalidate("dispatchUpdatedPass"),this._updatingCount<this._updateCount&&this._update()},this._updateTimelineData=function(e){this._timelineData=e;var t=this._loadJobID!=this._prevJobID;this._prevJobID=this._loadJobID,t&&(this._rangeMarker.set("minimum",NaN),this._rangeMarker.set("maximum",NaN)),this._rangeMarker.invalidate("updateRangePass"),this._cursorMarker.set("value",e&&e.buckets.length>0&&e.cursorTime?e.cursorTime.getTime():NaN),this._cursorMarker.invalidate("renderGraphicsPass");var i=e?e.buckets.concat():null;if(i)for(var n,s=0,a=i.length;s<a;s++)n=i[s],i[s]={x1:n.earliestTime,x2:n.latestTime,y:n.eventCount};this._histogram.set("data",i),this.invalidate("renderGraphicsPass"),this.validate("renderGraphicsPass"),this._updateViewRange(),this._updateSelectionRange()},this._updateViewRange=function(){if(this._timelineData&&0!=this._timelineData.buckets.length||isNaN(this._viewMinimum)){var e=this._histogram.get("containedMinimumX"),t=this._histogram.get("containedMaximumX");e==this._viewMinimum&&t==this._viewMaximum||(this._viewMinimum=e,this._viewMaximum=t,this.fire("viewChanged",new R({viewMinimum:this._viewMinimum,viewMaximum:this._viewMaximum})),this._tweenMinimumX.fromTo(this._histogram.get("actualMinimumX"),this._histogram.get("containedMinimumX")),this._tweenMaximumX.fromTo(this._histogram.get("actualMaximumX"),this._histogram.get("containedMaximumX")),this._updateSelectionRange())}},this._updateCountRange=function(){this._timelineData&&0!=this._timelineData.eventCount&&(this._tweenMinimumY.fromTo(this._histogram.get("actualMinimumY"),this._histogram.get("containedMinimumY")),this._tweenMaximumY.fromTo(this._histogram.get("actualMaximumY"),this._histogram.get("containedMaximumY")))},this._updateSelectionRange=function(e){if(!this._rangeMarker.isDragging()){void 0===e&&(e=!0);var t=this._rangeMarker.get("minimum"),i=this._rangeMarker.get("maximum"),n=isNaN(t)?this._viewMinimum:this._rangeMarker.get("actualMinimum"),s=isNaN(i)?this._viewMaximum:this._rangeMarker.get("actualMaximum"),a=isNaN(t)?!isNaN(this._selectionMinimum):isNaN(this._selectionMinimum)||n!=this._actualSelectionMinimum,r=isNaN(i)?!isNaN(this._selectionMaximum):isNaN(this._selectionMaximum)||s!=this._actualSelectionMaximum;this._selectionMinimum=t,this._selectionMaximum=i,this._actualSelectionMinimum=n,this._actualSelectionMaximum=s,e&&(a||r)&&(t=isNaN(t)?NaN:n,i=isNaN(i)?NaN:s,this.fire("selectionChanged",new R({selectionMinimum:t,selectionMaximum:i})))}},this._updateTooltip=function(e){null==e?e=this._prevMouseGlobal?this._prevMouseGlobal:new d:this._prevMouseGlobal=e;var t=this._histogram.globalToLocal(e),i=this._rangeMarker.isDragging()?null:this._histogram.getDataUnderPoint(t.x,t.y);if(i&&i.bounds){var n=i.bounds,s=this._histogram.localToGlobal(new d(n.x,n.y)),a=this._histogram.localToGlobal(new d(n.x+n.width,n.y+n.height));if(this._tooltip.set("targetBounds",new h(s.x,s.y,a.x-s.x,a.y-s.y)),this._tooltipData&&this._tooltipData.data===i.data)return;this._tooltipData=i,this._tooltip.set("value",this._tipFormat(i.data)),this._tooltip.show(),this._enableChartClick&&this.$element.css({cursor:"pointer"})}else{if(!this._tooltipData)return;this._tooltipData=null,this._tooltip.set("value",null),this._tooltip.hide(),this.$element.css({cursor:"auto"})}},this._parseTimelineData=function(e){if(!e)return null;var t,i,n,s,a=e.attributes,r=e.childNodes,o=null,l=null,d=null,h=NaN,u=NaN,c=NaN,p=0,m=0,f=!1,g=!0,v=[];for(n=0,s=a.length;n<s;n++)if(2==(t=a[n]).nodeType)switch(t.nodeName.toLowerCase()){case"t":o=new D(Number(t.nodeValue));break;case"cursor":d=new D(Number(t.nodeValue));break;case"d":h=Number(t.nodeValue);break;case"etz":u=Number(t.nodeValue);break;case"ltz":c=Number(t.nodeValue);break;case"c":p=Number(t.nodeValue);break;case"a":m=Number(t.nodeValue);break;case"f":f="1"==t.nodeValue;break;case"is_time_cursored":g="0"!=t.nodeValue}var b,_=0;for(n=0,s=r.length;n<s;n++)if(1==(i=r[n]).nodeType)switch(i.nodeName.toLowerCase()){case"bucket":_+=(b=this._parseTimelineData(i)).eventCount,v.push(b)}if(p=Math.max(p,_),isNaN(h)&&(h=0),isNaN(u)&&(u=0),isNaN(c)&&(c=0),o&&(l=new D(o.getTime()+h)),v.length>0){var y=v[0].earliestTime;y&&(!o||y.getTime()<o.getTime())&&(o=y.clone());var w=v[v.length-1].latestTime;w&&(!l||w.getTime()>l.getTime())&&(l=w.clone()),o&&l&&(h=l.getTime()-o.getTime())}o&&(o=o.toTimeZone(new P(u))),l&&(l=l.toTimeZone(new P(c))),d&&(d=d.toTimeZone(new P(u)));var k={};return k.earliestTime=o,k.latestTime=l,k.cursorTime=g?d:null,k.duration=h,k.eventCount=p,k.eventAvailableCount=m,k.isComplete=f,k.buckets=v,k},this._cloneTimelineData=function(e){if(!e)return null;var t={};t.earliestTime=e.earliestTime?e.earliestTime.getTime():null,t.earliestOffset=e.earliestTime?e.earliestTime.getTimeZoneOffset():0,t.latestTime=e.latestTime?e.latestTime.getTime():null,t.latestOffset=e.latestTime?e.latestTime.getTimeZoneOffset():0,t.cursorTime=e.cursorTime?e.cursorTime.getTime():null,t.duration=e.duration,t.eventCount=e.eventCount,t.eventAvailableCount=e.eventAvailableCount,t.isComplete=e.isComplete;for(var i=e.buckets,n=i.length,s=t.buckets=[],a=0;a<n;a++)s.push(this._cloneTimelineData(i[a]));return t},this._cursorValueSnap=function(e){return this._ceilToBucket(e)},this._minimumSnap=function(e,t){return t?this._floorToBucket(e):this._roundToBucket(e)},this._maximumSnap=function(e,t){return t?this._ceilToBucket(e):this._roundToBucket(e)},this._floorToBucket=function(e){var t=this._histogram.get("data");if(t){for(var i=null,n=t.length-1;n>=0&&!((i=t[n].x1)&&i.getTime()<=e);n--);i&&!isNaN(i.getTime())&&(e=i.getTime())}return e},this._ceilToBucket=function(e){var t=this._histogram.get("data");if(t){for(var i=null,n=0,s=t.length;n<s&&!((i=t[n].x2)&&i.getTime()>=e);n++);i&&!isNaN(i.getTime())&&(e=i.getTime())}return e},this._roundToBucket=function(e){var t=this._histogram.get("data");if(t){for(var i,n,s=e,a=1/0,r=null,o=0,l=t.length;o<l;o++)r=(i=t[o]).x1?i.x1.getTime():NaN,isNaN(r)||(n=Math.abs(r-e))<a&&(s=r,a=n),r=i.x2?i.x2.getTime():NaN,isNaN(r)||(n=Math.abs(r-e))<a&&(s=r,a=n);e=s}return e},this._timeAxisFormat=function(e){if(!e)return"";var t,i,n="",s=this._axisLabelsX.get("actualUnit"),a=this._prevDate;return t=!a||a.getTime()>e.getTime()||a.getYear()!=e.getYear()?0:a.getMonth()!=e.getMonth()?1:a.getDay()!=e.getDay()?2:3,this._prevDate=e.clone(),t>(i=s.seconds%1>0?6:s.seconds>0||s.minutes%1>0?5:s.minutes>0||s.hours%1>0?4:s.hours>0||s.days%1>0?3:s.days>0||s.months%1>0?2:s.months>0||s.years%1>0?1:0)&&(t=i),6==i?n+=this._formatTime(e,"full"):5==i?n+=this._formatTime(e,"medium"):i>=3&&(n+=this._formatTime(e,"short")),i>=2&&t<=2?n+=(n?"\n":"")+this._formatDate(e,"EEE MMM d"):i>=1&&t<=1&&(n+=(n?"\n":"")+this._formatDate(e,"MMMM")),i>=0&&t<=0&&(n+=(n?"\n":"")+this._formatDate(e,"yyyy")),n},this._numericAxisFormat=function(e){return this._formatNumber(e)},this._cursorValueFormat=function(e){return this._minMaxFormat(e)},this._minimumFormat=function(e){return this._minMaxFormat(this._minimumSnap(e))},this._maximumFormat=function(e){return this._minMaxFormat(this._maximumSnap(e))},this._minMaxFormat=function(e){var t,i=new D(e);return"none"==(t=(i=i.toTimeZone(this._timeZone)).getSeconds()%1>=.001?"full":i.getSeconds()>0?"medium":i.getMinutes()>0||i.getHours()>0?"short":"none")?this._formatDate(i,"medium"):this._formatDateTime(i,"medium",t)},this._rangeFormat=function(e,t){var i=new D(this._minimumSnap(e));i=i.toTimeZone(this._timeZone);var n=new D(this._maximumSnap(t));n=n.toTimeZone(this._timeZone);var s=O.subtractDates(n,i),a="";return s.years>0&&(a+=this._formatNumericString("%s year ","%s years ",s.years)),s.months>0&&(a+=this._formatNumericString("%s month ","%s months ",s.months)),s.days>0&&(a+=this._formatNumericString("%s day ","%s days ",s.days)),s.hours>0&&(a+=this._formatNumericString("%s hour ","%s hours ",s.hours)),s.minutes>0&&(a+=this._formatNumericString("%s minute ","%s minutes ",s.minutes)),s.seconds>0&&(a+=this._formatNumericString("%s second ","%s seconds ",Math.floor(1e3*s.seconds)/1e3)),a},this._tipFormat=function(e){return e?this._formatTooltip(e.x1,e.x2,e.y):""},this._formatNumber=function(e){e=_.toPrecision(e,12);var t=this.externalInterface.formatNumber;return"function"==typeof t?t(e):String(e)},this._formatNumericString=function(e,t,i){i=_.toPrecision(i,12);var n=this.externalInterface.formatNumericString;if("function"==typeof n)return n(e,t,i);var s=1==Math.abs(i)?e:t;return s=s.split("%s").join(String(i))},this._formatDate=function(e,t){void 0===t&&(t="full");var i=this.externalInterface.formatDate;return"function"==typeof i?i(e.getTime(),e.getTimeZoneOffset(),t):this._pad(e.getYear(),4)+"-"+this._pad(e.getMonth(),2)+"-"+this._pad(e.getDay(),2)},this._formatTime=function(e,t){void 0===t&&(t="full");var i=this.externalInterface.formatTime;return"function"==typeof i?i(e.getTime(),e.getTimeZoneOffset(),t):this._pad(e.getHours(),2)+":"+this._pad(e.getMinutes(),2)+":"+this._pad(e.getSeconds(),2,3)},this._formatDateTime=function(e,t,i){void 0===t&&(t="full"),void 0===i&&(i="full");var n=this.externalInterface.formatDateTime;return"function"==typeof n?n(e.getTime(),e.getTimeZoneOffset(),t,i):this._pad(e.getYear(),4)+"-"+this._pad(e.getMonth(),2)+"-"+this._pad(e.getDay(),2)+" "+this._pad(e.getHours(),2)+":"+this._pad(e.getMinutes(),2)+":"+this._pad(e.getSeconds(),2,3)},this._formatTooltip=function(e,t,i){var n=this.externalInterface.formatTooltip;return"function"==typeof n?n(e.getTime(),t.getTime(),e.getTimeZoneOffset(),t.getTimeZoneOffset(),i):i+" events from "+e.toString()+" to "+t.toString()},this._pad=function(e,t,i){if(isNaN(e))return"NaN";if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity";void 0===t&&(t=0),void 0===i&&(i=0);var n=e.toFixed(20),s=n.indexOf(".");s<0?s=n.length:n=i<1?n.substring(0,s):n.substring(0,s)+"."+n.substring(s+1,s+i+1);for(var a=s;a<t;a++)n="0"+n;return n},this._histogram_containedRangeXChanged=function(e){this._updateViewRange()},this._histogram_containedRangeYChanged=function(e){this._updateCountRange()},this._rangeMarker_dragComplete=function(e){this._updateSelectionRange()},this._rangeMarker_labelOpacity_change=function(e){this._cursorMarker.set("labelOpacity",1-e.newValue)},this._child_invalidated=function(e){e.pass===this.renderGraphicsPass&&this.invalidate(e.pass)},this._self_mouseOver=function(e){this._updateTooltip(new d(e.pageX,e.pageY))},this._self_mouseOut=function(e){this._updateTooltip(new d(e.pageX,e.pageY))},this._self_mouseMove=function(e){this._updateTooltip(new d(e.pageX,e.pageY))},this._self_doubleClick=function(e){if(this._enableChartClick){this._updateTooltip(new d(e.pageX,e.pageY));var t=this._tooltipData;if(t){var i={earliestTime:{},latestTime:{}};i.eventCount=t.data.y;this.fire("chartDoubleClicked",new R({data:i,fields:["earliestTime","latestTime","eventCount"],altKey:e.altKey,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey}))}}},this._data_success=function(e,t,i){this._updateComplete(this._parseTimelineData(e?e.documentElement:null))},this._data_error=function(e,t,i){this._updateComplete(null)}}))}.call(t,i,t,e))||(e.exports=n)},"splunk/charting/Tooltip":function(e,t,i){var n;void 0===(n=function(e,t,n){var s=i("shim/jquery"),a=i("contrib/jg_lib/Class"),r=i("contrib/jg_lib/geom/Point"),o=i("contrib/jg_lib/geom/Rectangle"),l=i("contrib/jg_lib/graphics/Color"),d=i("contrib/jg_lib/graphics/SolidFillBrush"),h=i("contrib/jg_lib/properties/ObservableProperty"),u=i("contrib/jg_lib/utils/NumberUtil"),c=i("contrib/jg_lib/utils/StringUtil"),p=i("splunk/viz/GraphicsVizBase");return a(n.i,p,(function(e,t){this.value=new h("value",String,null).onChange((function(e){this.invalidate("renderGraphicsPass")})),this.viewBounds=new h("viewBounds",o,new o).readFilter((function(e){return e.clone()})).writeFilter((function(e){return e?((e=e.clone()).width<0&&(e.x+=e.width,e.width=-e.width),e.height<0&&(e.y+=e.height,e.height=-e.height)):e=new o,e})).changeComparator((function(e,t){return!e.equals(t)})).onChange((function(e){this.invalidate("renderGraphicsPass")})),this.targetBounds=new h("targetBounds",o,new o).readFilter((function(e){return e.clone()})).writeFilter((function(e){return e?((e=e.clone()).width<0&&(e.x+=e.width,e.width=-e.width),e.height<0&&(e.y+=e.height,e.height=-e.height)):e=new o,e})).changeComparator((function(e,t){return!e.equals(t)})).onChange((function(e){this.invalidate("renderGraphicsPass")})),this._backgroundBrush=null,this._valueLabel=null,this._isShowing=!0,this.constructor=function(){t.constructor.call(this),this.addStyleClass("splunk-charting-Tooltip"),this._backgroundBrush=new d(l.fromNumber(4473924),1),this._valueLabel=document.createElement("span"),s(this._valueLabel).addClass("splunk-charting-label"),s(this._valueLabel).css({position:"absolute",left:"0px",top:"0px","white-space":"pre"}),this.element.appendChild(this._valueLabel),this.hide()},this.show=function(){this._isShowing||(this._isShowing=!0,this.validate("renderGraphicsPass"),this.setStyle({visibility:""}))},this.hide=function(){this._isShowing&&(this._isShowing=!1,this.setStyle({visibility:"hidden"}))},this.renderGraphicsOverride=function(e,t,i){var n=s(this._valueLabel),a=this.getInternal("value");a?n.html(c.escapeHTML(a)):n.html("");var l,d,h,p=n.outerWidth(!0),m=n.outerHeight(!0),f=this.getInternal("viewBounds"),g=f.width,v=f.height,b=f.x,_=b+g,y=f.y,w=y+v,k=this.getInternal("targetBounds"),T=k.width,S=k.height,x=k.x,C=x+T,E=k.y,M=E+S,R=10,D=10,P=R+D,L=(u.minMax((g-p)/20,0,1),P>0?u.minMax((v-m)/P,0,1):0);"left"==(l=(x+C)/2>(b+_)/2?"left":"right")?(R*=L,D*=L,(d=new r(x,.5*E+.5*M)).x=u.minMax(d.x,b+10+p+7,C),d.x=u.minMax(d.x,b+p+7,_),d.y=u.maxMin(d.y,w,y),(h=new r(p+7,.5*m)).y=u.minMax(h.y,m-Math.max(w-D-d.y,0),Math.max(d.y-y-R,0))):(R*=L,D*=L,(d=new r(C,.5*E+.5*M)).x=u.maxMin(d.x,_-10-p-7,x),d.x=u.maxMin(d.x,_-p-7,b),d.y=u.maxMin(d.y,w,y),(h=new r(0,.5*m)).y=u.minMax(h.y,m-Math.max(w-D-d.y,0),Math.max(d.y-y-R,0))),d.x=Math.round(d.x),d.y=Math.round(d.y),h.x=Math.round(h.x),h.y=Math.round(h.y),d=this.globalToLocal(d),this.set("x",this.get("x")+(d.x-h.x)),this.set("y",this.get("y")+(d.y-h.y)),e.clear(),e.setSize(p+7,m);var O,I,A,N,j=this._backgroundBrush;"left"==l?(O=new r(0,0),I=new r(p,0),A=new r(p,m),N=new r(0,m),j.beginBrush(e,new o(0,0,p,m)),j.moveTo(O.x,O.y),j.lineTo(I.x,I.y),j.lineTo(I.x,u.maxMin(h.y-7,A.y-7,I.y)),j.lineTo(h.x,h.y),j.lineTo(I.x,u.minMax(h.y+7,I.y+7,A.y)),j.lineTo(A.x,A.y),j.lineTo(N.x,N.y),j.lineTo(O.x,O.y),j.endBrush()):(O=new r(7,0),I=new r(7+p,0),A=new r(7+p,m),N=new r(7,m),j.beginBrush(e,new o(7,0,p,m)),j.moveTo(O.x,O.y),j.lineTo(I.x,I.y),j.lineTo(A.x,A.y),j.lineTo(N.x,N.y),j.lineTo(N.x,u.minMax(h.y+7,O.y+7,N.y)),j.lineTo(h.x,h.y),j.lineTo(N.x,u.maxMin(h.y-7,N.y-7,O.y)),j.lineTo(O.x,O.y),j.endBrush()),n.css({left:O.x+"px"})}}))}.call(t,i,t,e))||(e.exports=n)},"splunk/events/GenericEventData":function(e,t,i){var n;void 0===(n=function(e,t,n){var s=i("contrib/jg_lib/Class"),a=i("contrib/jg_lib/events/EventData"),r=i("contrib/jg_lib/utils/ObjectUtil");return s(n.i,a,(function(e,t){this.constructor=function(e){if(null!=e)for(var t in e)r.has(e,t)&&!(t in this)&&(this[t]=e[t])}}))}.call(t,i,t,e))||(e.exports=n)},"splunk/time/DateTime":function(e,t,i){var n;void 0===(n=function(e,t,n){var s=i("contrib/jg_lib/Class"),a=i("splunk/time/SimpleTimeZone"),r=i("splunk/time/TimeZone"),o=i("splunk/time/TimeZones");return s(n.i,Object,(function(e,t){var i=/([\+\-])?(\d{4,})(?:(?:\-(\d{2}))(?:(?:\-(\d{2}))(?:(?:[T ](\d{2}))(?:(?:\:(\d{2}))(?:(?:\:(\d{2}(?:\.\d+)?)))?)?(?:(Z)|([\+\-])(\d{2})(?:\:(\d{2}))?)?)?)?)?/,n=function(e){return Number(e.toFixed(6))},s=function(e,t,i){if(e!=e)return"NaN";if(e==1/0)return"Infinity";if(e==-1/0)return"-Infinity";t=void 0!==t?t:0,i=void 0!==i?i:0;var n=e.toFixed(20),s=n.indexOf(".");s<0?s=n.length:n=i<1?n.substring(0,s):n.substring(0,s)+"."+n.substring(s+1,s+i+1);for(var a=s;a<t;a++)n="0"+n;return n};this._year=0,this._month=1,this._day=1,this._weekday=0,this._hours=0,this._minutes=0,this._seconds=0,this._timeZone=o.LOCAL,this._timeZoneOffset=0,this._time=0,this._isValid=!0,this.constructor=function(e,t,n,s,l,d,h){switch(arguments.length){case 0:var u=new Date;this._time=u.getTime()/1e3,this._updateProperties();break;case 1:if("number"==typeof e)this._time=e,this._updateProperties();else if("string"==typeof e){var c,p=i.exec(e),m=p?p.length:0,f="-"==(c=m>1?p[1]:null)?-1:1;c=m>2?p[2]:null,this._year=c?f*Number(c):0,c=m>3?p[3]:null,this._month=c?Number(c):1,c=m>4?p[4]:null,this._day=c?Number(c):1,c=m>5?p[5]:null,this._hours=c?Number(c):0,c=m>6?p[6]:null,this._minutes=c?Number(c):0,c=m>7?p[7]:null,this._seconds=c?Number(c):0;var g="Z"==(c=m>8?p[8]:null),v="-"==(c=m>9?p[9]:null)?-1:1,b=(c=m>10?p[10]:null)?Number(c):NaN,_=(c=m>11?p[11]:null)?Number(c):NaN;g?this._timeZone=o.UTC:isNaN(b)||isNaN(_)?this._timeZone=o.LOCAL:this._timeZone=new a(v*(60*b+_)*60),this._updateTime()}else this._time=NaN,this._updateProperties();break;default:"number"==typeof e?(this._year=e,this._month=void 0!==t?t:1,this._day=void 0!==n?n:1,this._hours=void 0!==s?s:0,this._minutes=void 0!==l?l:0,this._seconds=void 0!==d?d:0,this._timeZone=h instanceof r?h:o.LOCAL,this._updateTime()):(this._time=NaN,this._updateProperties())}},this.getYear=function(){return this._year},this.setYear=function(e){this._year=e,this._updateTime()},this.getMonth=function(){return this._month},this.setMonth=function(e){this._month=e,this._updateTime()},this.getDay=function(){return this._day},this.setDay=function(e){this._day=e,this._updateTime()},this.getWeekday=function(){return this._weekday},this.getHours=function(){return this._hours},this.setHours=function(e){this._hours=e,this._updateTime()},this.getMinutes=function(){return this._minutes},this.setMinutes=function(e){this._minutes=e,this._updateTime()},this.getSeconds=function(){return this._seconds},this.setSeconds=function(e){this._seconds=e,this._updateTime()},this.getTimeZone=function(){return this._timeZone},this.setTimeZone=function(e){this._timeZone=e instanceof r?e:o.LOCAL,this._updateTime()},this.getTimeZoneOffset=function(){return this._timeZoneOffset},this.getTime=function(){return this._time},this.setTime=function(e){this._time=e,this._updateProperties()},this.toUTC=function(){return this.toTimeZone(o.UTC)},this.toLocal=function(){return this.toTimeZone(o.LOCAL)},this.toTimeZone=function(t){var i=new e;return i.setTimeZone(t),i.setTime(this._time),i},this.clone=function(){var t=new e;return t.setTimeZone(this._timeZone),t.setTime(this._time),t},this.equals=function(e){return this._time===e._time&&this._timeZoneOffset===e._timeZoneOffset},this.toString=function(){if(!this._isValid)return"Invalid Date";var e="";this._year<0?e+="-"+s(-this._year,4):e+=s(this._year,4),e+="-"+s(this._month,2)+"-"+s(this._day,2),e+="T"+s(this._hours,2)+":"+s(this._minutes,2)+":"+s(this._seconds,2,3);var t=this._timeZoneOffset/60;if(0==t)e+="Z";else{e+=t<0?"-":"+",t<0&&(t=-t);var i=Math.floor(t/60),n=Math.floor(t%60);e+=s(i,2)+":"+s(n,2)}return e},this.valueOf=function(){return this._time},this._updateTime=function(){if(this._validate()){var e=this._year,t=this._month-1,i=this._day-1,n=this._hours,s=this._minutes,a=this._seconds,r=t+12*e,o=Math.floor(r),l=r-o,d=a+60*s+3600*n+86400*i,h=Math.floor(d),u=d-h,c=new Date(0);if(c.setUTCFullYear(0),c.setUTCMonth(o),0!=l){c.setUTCMonth(c.getUTCMonth()+1),c.setUTCDate(0);var p=c.getUTCDate()*l*86400,m=Math.floor(p);h+=m,(u+=p-m)>=1&&(u--,h++),c.setUTCDate(1)}c.setUTCSeconds(h);var f=c.getTime()/1e3+u,g=this._timeZone;this._time=f-g.getOffset(f-g.getStandardOffset()),this._updateProperties()}},this._updateProperties=function(){if(this._validate()){var e=n(this._time),t=n(this._timeZone.getOffset(e)),i=e+t,s=Math.floor(i),a=n(i-s);a>=1&&(a=0,s++);var r=new Date(1e3*s);this._year=r.getUTCFullYear(),this._month=r.getUTCMonth()+1,this._day=r.getUTCDate(),this._weekday=r.getUTCDay(),this._hours=r.getUTCHours(),this._minutes=r.getUTCMinutes(),this._seconds=r.getUTCSeconds()+a,this._time=e,this._timeZoneOffset=t,this._validate()}},this._validate=function(){if(this._isValid){this._year*=1,this._month*=1,this._day*=1,this._weekday*=1,this._hours*=1,this._minutes*=1,this._seconds*=1,this._timeZoneOffset*=1,this._time*=1;var e=this._year+this._month+this._day+this._weekday+this._hours+this._minutes+this._seconds+this._timeZoneOffset+this._time;!isNaN(e)&&e!=1/0&&e!=-1/0&&this._timeZone||(this._isValid=!1)}else this._year*=1,this._time*=1,this._year>-1/0&&this._year<1/0?(this._month=1,this._day=1,this._hours=0,this._minutes=0,this._seconds=0,this._isValid=!0):this._time>-1/0&&this._time<1/0&&(this._isValid=!0);return this._isValid||(this._year=NaN,this._month=NaN,this._day=NaN,this._weekday=NaN,this._hours=NaN,this._minutes=NaN,this._seconds=NaN,this._timeZoneOffset=NaN,this._time=NaN),this._isValid}}))}.call(t,i,t,e))||(e.exports=n)},"splunk/time/Duration":function(e,t,i){var n;void 0===(n=function(e,t,n){return i("contrib/jg_lib/Class")(n.i,Object,(function(e,t){var i=/P(?:(\-?\d+(?:\.\d+)?)Y)?(?:(\-?\d+(?:\.\d+)?)M)?(?:(\-?\d+(?:\.\d+)?)D)?(?:T(?:(\-?\d+(?:\.\d+)?)H)?(?:(\-?\d+(?:\.\d+)?)M)?(?:(\-?\d+(?:\.\d+)?)S)?)?/;this.years=0,this.months=0,this.days=0,this.hours=0,this.minutes=0,this.seconds=0,this.constructor=function(e,t,n,s,a,r){if(1==arguments.length&&"string"==typeof e){var o,l=i.exec(e),d=l?l.length:0;o=d>1?l[1]:null,this.years=o?Number(o):0,o=d>2?l[2]:null,this.months=o?Number(o):0,o=d>3?l[3]:null,this.days=o?Number(o):0,o=d>4?l[4]:null,this.hours=o?Number(o):0,o=d>5?l[5]:null,this.minutes=o?Number(o):0,o=d>6?l[6]:null,this.seconds=o?Number(o):0}else this.years="number"==typeof e?e:0,this.months=void 0!==t?t:0,this.days=void 0!==n?n:0,this.hours=void 0!==s?s:0,this.minutes=void 0!==a?a:0,this.seconds=void 0!==r?r:0},this.clone=function(){return new e(this.years,this.months,this.days,this.hours,this.minutes,this.seconds)},this.equals=function(e){return this.years==e.years&&this.months==e.months&&this.days==e.days&&this.hours==e.hours&&this.minutes==e.minutes&&this.seconds==e.seconds},this.toString=function(){var e="";return e+="P"+this.years+"Y"+this.months+"M"+this.days+"D",e+="T"+this.hours+"H"+this.minutes+"M"+this.seconds+"S"}}))}.call(t,i,t,e))||(e.exports=n)},"splunk/time/LocalTimeZone":function(e,t,i){var n;void 0===(n=function(e,t,n){var s=i("contrib/jg_lib/Class"),a=i("splunk/time/TimeZone");return s(n.i,a,(function(e,t){this.getStandardOffset=function(){return 60*-new Date(0).getTimezoneOffset()},this.getOffset=function(e){return 60*-new Date(1e3*e).getTimezoneOffset()}}))}.call(t,i,t,e))||(e.exports=n)},"splunk/time/SimpleTimeZone":function(e,t,i){var n;void 0===(n=function(e,t,n){var s=i("contrib/jg_lib/Class"),a=i("splunk/time/TimeZone");return s(n.i,a,(function(e,t){this._offset=0,this.constructor=function(e){this._offset=void 0!==e?e:0},this.getStandardOffset=function(){return this._offset},this.getOffset=function(e){return this._offset}}))}.call(t,i,t,e))||(e.exports=n)},"splunk/time/SplunkTimeZone":function(e,t,i){var n;void 0===(n=function(e,t,n){var s=i("contrib/jg_lib/Class"),a=i("contrib/jg_lib/utils/ArrayUtil"),r=i("splunk/time/TimeZone");return s(n.i,r,(function(e,t){this._standardOffset=0,this._serializedTimeZone=null,this._isConstant=!1,this._offsetList=null,this._timeList=null,this._indexList=null,this.constructor=function(e){if(null==e)throw new Error("Parameter serializedTimeZone must be non-null.");if(!s.isString(e))throw new Error("Parameter serializedTimeZone must be of type String.");this._serializedTimeZone=e,this._offsetList=[],this._timeList=[],this._indexList=[],this._parseSerializedTimeZone(e)},this.getSerializedTimeZone=function(){return this._serializedTimeZone},this.getStandardOffset=function(){return this._standardOffset},this.getOffset=function(e){if(this._isConstant)return this._standardOffset;var t=this._offsetList,i=t.length;if(0==i)return 0;if(1==i)return t[0];var n,s=this._timeList,r=s.length;return 0==r?0:(1==r?n=0:(n=a.binarySearch(s,e))<-1?n=-n-2:-1==n&&(n=0),t[this._indexList[n]])},this._parseSerializedTimeZone=function(e){if(e){for(var t,i=e.split(";"),n=0,s=i.length;n<s;n++)if(t=i[n])switch(t.charAt(0)){case"C":if(this._parseC(t.substring(1,t.length)))return;break;case"Y":this._parseY(t.substring(1,t.length));break;case"@":this._parseAt(t.substring(1,t.length))}this._standardOffset=this.getOffset(0)}},this._parseC=function(e){if(!e)return!1;var t=Number(e);return!isNaN(t)&&(this._standardOffset=t,this._isConstant=!0,!0)},this._parseY=function(e){if(e){var t=e.split(" ");if(!(t.length<1)){var i=t[0];if(i){var n=Number(i);isNaN(n)||this._offsetList.push(n)}}}},this._parseAt=function(e){if(e){var t=e.split(" ");if(!(t.length<2)){var i=t[0];if(i){var n=Number(i);if(!isNaN(n)&&(i=t[1])){var s=Number(i);isNaN(s)||(s=Math.floor(s))<0||s>=this._offsetList.length||(this._timeList.push(n),this._indexList.push(s))}}}}}}))}.call(t,i,t,e))||(e.exports=n)},"splunk/time/TimeUtils":function(e,t,i){var n;void 0===(n=function(e,t,n){var s=i("contrib/jg_lib/Class"),a=i("splunk/time/DateTime"),r=i("splunk/time/Duration"),o=i("splunk/time/SimpleTimeZone"),l=i("splunk/time/TimeZones");return s(n.i,(function(e){e.EPOCH=new a(0).toUTC(),e.daysInMonth=function(e){return(e=new a(e.getYear(),e.getMonth()+1,0,0,0,0,l.UTC)).getDay()},e.addDurations=function(e,t){return new r(e.years+t.years,e.months+t.months,e.days+t.days,e.hours+t.hours,e.minutes+t.minutes,e.seconds+t.seconds)},e.addDateDuration=function(e,t){return(e=0==t.years&&0==t.months&&0==t.days?e.clone():new a(e.getYear()+t.years,e.getMonth()+t.months,e.getDay()+t.days,e.getHours(),e.getMinutes(),e.getSeconds(),e.getTimeZone())).setTime(e.getTime()+(3600*t.hours+60*t.minutes+t.seconds)),e},e.subtractDates=function(e,t){t=t.toTimeZone(e.getTimeZone());var i=e.getTime()<t.getTime();if(i){var n=e;e=t,t=n}var s,o,d,h,u,c,m,f=e.getTimeZoneOffset()==t.getTimeZoneOffset();if(f?m=e:(e.getYear()==t.getYear()&&e.getMonth()==t.getMonth()&&e.getDay()==t.getDay()||(m=new a(e.getYear(),e.getMonth(),e.getDay(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getTimeZone())).getTime()>e.getTime()&&((m=new a(e.getYear(),e.getMonth(),e.getDay()-1,t.getHours(),t.getMinutes(),t.getSeconds(),t.getTimeZone())).getTime()<t.getTime()||m.getYear()==t.getYear()&&m.getMonth()==t.getMonth()&&m.getDay()==t.getDay()))&&(m=t),s=m.getYear()-t.getYear(),o=m.getMonth()-t.getMonth(),d=m.getDay()-t.getDay(),f)h=m.getHours()-t.getHours(),u=m.getMinutes()-t.getMinutes(),(c=m.getSeconds()-t.getSeconds())<0&&(c+=60,u--),u<0&&(u+=60,h--),h<0&&(h+=24,d--),c=p(c);else{c=e.getTime()-m.getTime();var g=Math.floor(c),v=p(c-g);v>=1&&(v=0,g++),u=Math.floor(g/60),c=g%60+v,h=Math.floor(u/60),u%=60}return d<0&&(d+=(m=new a(t.getYear(),t.getMonth()+1,0,0,0,0,l.UTC)).getDay(),o--),o<0&&(o+=12,s--),i&&(s=-s,o=-o,d=-d,h=-h,u=-u,c=-c),new r(s,o,d,h,u,c)},e.subtractDurations=function(e,t){return new r(e.years-t.years,e.months-t.months,e.days-t.days,e.hours-t.hours,e.minutes-t.minutes,e.seconds-t.seconds)},e.subtractDateDuration=function(e,t){return(e=0==t.years&&0==t.months&&0==t.days?e.clone():new a(e.getYear()-t.years,e.getMonth()-t.months,e.getDay()-t.days,e.getHours(),e.getMinutes(),e.getSeconds(),e.getTimeZone())).setTime(e.getTime()-(3600*t.hours+60*t.minutes+t.seconds)),e},e.multiplyDuration=function(e,t){return new r(e.years*t,e.months*t,e.days*t,e.hours*t,e.minutes*t,e.seconds*t)},e.divideDuration=function(e,t){return new r(e.years/t,e.months/t,e.days/t,e.hours/t,e.minutes/t,e.seconds/t)},e.ceilDate=function(e,i){var n=e.toTimeZone(new o(e.getTimeZoneOffset()));return t(n,i),u(n,e.getTimeZone())},e.ceilDuration=function(t,n,a){a||(a=e.EPOCH);var o=e.addDateDuration(a,t),l=o.getTime()<a.getTime();return t=l?e.subtractDates(a,o):e.subtractDates(o,a),n||(n=new r,t.years>0?n.years=1:t.months>0?n.months=1:t.days>0?n.days=1:t.hours>0?n.hours=1:t.minutes>0?n.minutes=1:t.seconds>0&&(n.seconds=1)),l?(s(t,n,o),e.multiplyDuration(t,-1)):(i(t,n,a),t)},e.floorDate=function(e,t){var i=e.toTimeZone(new o(e.getTimeZoneOffset()));return n(i,t),u(i,e.getTimeZone())},e.floorDuration=function(t,n,a){a||(a=e.EPOCH);var o=e.addDateDuration(a,t),l=o.getTime()<a.getTime();return t=l?e.subtractDates(a,o):e.subtractDates(o,a),n||(n=new r,t.years>0?n.years=1:t.months>0?n.months=1:t.days>0?n.days=1:t.hours>0?n.hours=1:t.minutes>0?n.minutes=1:t.seconds>0&&(n.seconds=1)),l?(i(t,n,o),e.multiplyDuration(t,-1)):(s(t,n,a),t)},e.roundDate=function(e,t){var i=e.toTimeZone(new o(e.getTimeZoneOffset()));return d(i,t),u(i,e.getTimeZone())},e.roundDuration=function(t,i,n){n||(n=e.EPOCH);var s=e.addDateDuration(n,t),a=s.getTime()<n.getTime();return t=a?e.subtractDates(n,s):e.subtractDates(s,n),i||(i=new r,t.years>0?i.years=1:t.months>0?i.months=1:t.days>0?i.days=1:t.hours>0?i.hours=1:t.minutes>0?i.minutes=1:t.seconds>0&&(i.seconds=1)),a?(h(t,i,s),e.multiplyDuration(t,-1)):(h(t,i,n),t)},e.normalizeDuration=function(t,i){i||(i=e.EPOCH);var n=e.addDateDuration(i,t);return e.subtractDates(n,i)},e.durationToSeconds=function(t,i){i||(i=e.EPOCH);var n=e.addDateDuration(i,t);return p(n.getTime()-i.getTime())},e.secondsToDuration=function(t,i){i||(i=e.EPOCH);var n=new a(i.getTime()+t).toTimeZone(i.getTimeZone());return e.subtractDates(n,i)};var t=function(t,i){var n=i.years>0,s=n||i.months>0,a=s||i.days>0,r=a||i.hours>0,o=r||i.minutes>0;if((o||i.seconds>0)&&(t.getSeconds()>0&&(i.seconds>0?t.setSeconds(Math.min(Math.ceil(t.getSeconds()/i.seconds)*i.seconds,60)):t.setSeconds(60)),o&&(t.getMinutes()>0&&(i.minutes>0?t.setMinutes(Math.min(Math.ceil(t.getMinutes()/i.minutes)*i.minutes,60)):t.setMinutes(60)),r&&(t.getHours()>0&&(i.hours>0?t.setHours(Math.min(Math.ceil(t.getHours()/i.hours)*i.hours,24)):t.setHours(24)),a)))){if(t.getDay()>1){var l=e.daysInMonth(t);i.days>0?t.setDay(Math.min(Math.ceil((t.getDay()-1)/i.days)*i.days,l)+1):t.setDay(l+1)}s&&(t.getMonth()>1&&(i.months>0?t.setMonth(Math.min(Math.ceil((t.getMonth()-1)/i.months)*i.months,12)+1):t.setMonth(13)),n&&i.years>0&&t.setYear(Math.ceil(t.getYear()/i.years)*i.years))}},i=function(t,i,n){var s=i.years>0,a=s||i.months>0,r=a||i.days>0,o=r||i.hours>0,l=o||i.minutes>0,d=l||i.seconds>0,h=e.daysInMonth(n);d&&(t.seconds>0&&(i.seconds>0?t.seconds=Math.min(Math.ceil(t.seconds/i.seconds)*i.seconds,60):t.seconds=60,c(t,h)),l&&(t.minutes>0&&(i.minutes>0?t.minutes=Math.min(Math.ceil(t.minutes/i.minutes)*i.minutes,60):t.minutes=60,c(t,h)),o&&(t.hours>0&&(i.hours>0?t.hours=Math.min(Math.ceil(t.hours/i.hours)*i.hours,24):t.hours=24,c(t,h)),r&&(t.days>0&&(i.days>0?t.days=Math.min(Math.ceil(t.days/i.days)*i.days,h):t.days=h,c(t,h)),a&&(t.months>0&&(i.months>0?t.months=Math.min(Math.ceil(t.months/i.months)*i.months,12):t.months=12,c(t,h)),s&&i.years>0&&(t.years=Math.ceil(t.years/i.years)*i.years,c(t,h)))))))},n=function(e,t){var i=t.years>0,n=i||t.months>0,s=n||t.days>0,a=s||t.hours>0,r=a||t.minutes>0;(r||t.seconds>0)&&(e.getSeconds()>0&&(t.seconds>0?e.setSeconds(Math.floor(e.getSeconds()/t.seconds)*t.seconds):e.setSeconds(0)),r&&(e.getMinutes()>0&&(t.minutes>0?e.setMinutes(Math.floor(e.getMinutes()/t.minutes)*t.minutes):e.setMinutes(0)),a&&(e.getHours()>0&&(t.hours>0?e.setHours(Math.floor(e.getHours()/t.hours)*t.hours):e.setHours(0)),s&&(e.getDay()>1&&(t.days>0?e.setDay(Math.floor((e.getDay()-1)/t.days)*t.days+1):e.setDay(1)),n&&(e.getMonth()>1&&(t.months>0?e.setMonth(Math.floor((e.getMonth()-1)/t.months)*t.months+1):e.setMonth(1)),i&&t.years>0&&e.setYear(Math.floor(e.getYear()/t.years)*t.years))))))},s=function(t,i,n){var s=i.years>0,a=s||i.months>0,r=a||i.days>0,o=r||i.hours>0,l=o||i.minutes>0,d=l||i.seconds>0,h=e.daysInMonth(n);d&&(t.seconds>0&&(i.seconds>0?t.seconds=Math.floor(t.seconds/i.seconds)*i.seconds:t.seconds=0,c(t,h)),l&&(t.minutes>0&&(i.minutes>0?t.minutes=Math.floor(t.minutes/i.minutes)*i.minutes:t.minutes=0,c(t,h)),o&&(t.hours>0&&(i.hours>0?t.hours=Math.floor(t.hours/i.hours)*i.hours:t.hours=0,c(t,h)),r&&(t.days>0&&(i.days>0?t.days=Math.floor(t.days/i.days)*i.days:t.days=0,c(t,h)),a&&(t.months>0&&(i.months>0?t.months=Math.floor(t.months/i.months)*i.months:t.months=0,c(t,h)),s&&i.years>0&&(t.years=Math.floor(t.years/i.years)*i.years,c(t,h)))))))},d=function(t,i){var n=i.years>0,s=n||i.months>0,a=s||i.days>0,r=a||i.hours>0,o=r||i.minutes>0;if((o||i.seconds>0)&&(t.getSeconds()>0&&(i.seconds>0?t.setSeconds(Math.min(Math.round(t.getSeconds()/i.seconds)*i.seconds,60)):t.getSeconds()>=30?t.setSeconds(60):t.setSeconds(0)),o&&(t.getMinutes()>0&&(i.minutes>0?t.setMinutes(Math.min(Math.round(t.getMinutes()/i.minutes)*i.minutes,60)):t.getMinutes()>=30?t.setMinutes(60):t.setMinutes(0)),r&&(t.getHours()>0&&(i.hours>0?t.setHours(Math.min(Math.round(t.getHours()/i.hours)*i.hours,24)):t.getHours()>=12?t.setHours(24):t.setHours(0)),a)))){if(t.getDay()>1){var l=e.daysInMonth(t);i.days>0?t.setDay(Math.min(Math.round((t.getDay()-1)/i.days)*i.days,l)+1):t.getDay()>=Math.floor(l/2+1)?t.setDay(l+1):t.setDay(1)}s&&(t.getMonth()>1&&(i.months>0?t.setMonth(Math.min(Math.round((t.getMonth()-1)/i.months)*i.months,12)+1):t.getMonth()>=7?t.setMonth(13):t.setMonth(1)),n&&i.years>0&&t.setYear(Math.round(t.getYear()/i.years)*i.years))}},h=function(t,i,n){var s=i.years>0,a=s||i.months>0,r=a||i.days>0,o=r||i.hours>0,l=o||i.minutes>0,d=l||i.seconds>0,h=e.daysInMonth(n);d&&(t.seconds>0&&(i.seconds>0?t.seconds=Math.min(Math.round(t.seconds/i.seconds)*i.seconds,60):t.seconds>=30?t.seconds=60:t.seconds=0,c(t,h)),l&&(t.minutes>0&&(i.minutes>0?t.minutes=Math.min(Math.round(t.minutes/i.minutes)*i.minutes,60):t.minutes>=30?t.minutes=60:t.minutes=0,c(t,h)),o&&(t.hours>0&&(i.hours>0?t.hours=Math.min(Math.round(t.hours/i.hours)*i.hours,24):t.hours>=12?t.hours=24:t.hours=0,c(t,h)),r&&(t.days>0&&(i.days>0?t.days=Math.min(Math.round(t.days/i.days)*i.days,h):t.days>=Math.floor(h/2)?t.days=h:t.days=0,c(t,h)),a&&(t.months>0&&(i.months>0?t.months=Math.min(Math.round(t.months/i.months)*i.months,12):t.months>=6?t.months=12:t.months=0,c(t,h)),s&&i.years>0&&(t.years=Math.round(t.years/i.years)*i.years,c(t,h)))))))},u=function(e,t){var i=e.toTimeZone(t);if(i.getYear()==e.getYear()&&i.getMonth()==e.getMonth()&&i.getDay()==e.getDay()&&i.getHours()==e.getHours()&&i.getMinutes()==e.getMinutes()&&i.getSeconds()==e.getSeconds())return i;var n=e.clone();return n.setTimeZone(t),n.getYear()==e.getYear()&&n.getMonth()==e.getMonth()&&n.getDay()==e.getDay()&&n.getHours()==e.getHours()&&n.getMinutes()==e.getMinutes()&&n.getSeconds()==e.getSeconds()?n:i},c=function(e,t){var i=e.years,n=Math.floor(i),s=i-n,a=e.months+12*s,r=Math.floor(a),o=a-r,l=e.days+o*t,d=Math.floor(l),h=l-d,u=e.hours+24*h,c=Math.floor(u),m=u-c,f=e.minutes+60*m,g=Math.floor(f),v=f-g,b=e.seconds+60*v,_=Math.floor(b),y=p(b-_);y>=1&&(y=0,_++),g+=Math.floor(_/60),_%=60,c+=Math.floor(g/60),g%=60,d+=Math.floor(c/24),c%=24,r+=Math.floor(d/t),d%=t,n+=Math.floor(r/12),r%=12,e.years=n,e.months=r,e.days=d,e.hours=c,e.minutes=g,e.seconds=_+y},p=function(e){return Number(e.toFixed(6))}}))}.call(t,i,t,e))||(e.exports=n)},"splunk/time/TimeZone":function(e,t,i){var n;void 0===(n=function(e,t,n){return i("contrib/jg_lib/Class")(n.i,Object,(function(e,t){this.constructor=function(){},this.getStandardOffset=function(){return 0},this.getOffset=function(e){return 0}}))}.call(t,i,t,e))||(e.exports=n)},"splunk/time/TimeZones":function(e,t,i){var n;void 0===(n=function(e,t,n){var s=i("contrib/jg_lib/Class"),a=i("splunk/time/LocalTimeZone"),r=i("splunk/time/SimpleTimeZone");return s(n.i,(function(e){e.LOCAL=new a,e.UTC=new r(0)}))}.call(t,i,t,e))||(e.exports=n)},"splunk/viz/GraphicsVizBase":function(e,t,i){var n;void 0===(n=function(e,t,n){var s=i("contrib/jg_lib/Class"),a=i("contrib/jg_lib/async/Pass"),r=i("contrib/jg_lib/geom/Point"),o=i("contrib/jg_lib/graphics/Canvas"),l=i("contrib/jg_lib/properties/ObservableProperty"),d=i("splunk/viz/VizBase");return s(n.i,d,(function(e,t){this.renderGraphicsPass=new a("renderGraphics",2,"topDown"),this.x=new l("x",Number,0).writeFilter((function(e){return e>-1/0&&e<1/0?e:0})).setter((function(e){this.setStyle({left:e+"px"})})),this.y=new l("y",Number,0).writeFilter((function(e){return e>-1/0&&e<1/0?e:0})).setter((function(e){this.setStyle({top:e+"px"})})),this.width=new l("width",Number,0).writeFilter((function(e){return e>-1/0&&e<1/0?e:0})).onChange((function(e){this.invalidate("renderGraphicsPass")})),this.height=new l("height",Number,0).writeFilter((function(e){return e>-1/0&&e<1/0?e:0})).onChange((function(e){this.invalidate("renderGraphicsPass")})),this.graphics=null,this.constructor=function(e){t.constructor.call(this,e),this.addStyleClass("splunk-viz-GraphicsVizBase"),this.setStyle({position:"absolute",left:"0px",top:"0px"}),this.graphics=new o,this.graphics.element.style.position="absolute",this.graphics.appendTo(this.element),this.invalidate("renderGraphicsPass")},this.renderGraphics=function(){if(!this.isValid("renderGraphicsPass")){var e=this.getInternal("width"),t=this.getInternal("height"),i=this.graphics;i.setSize(e,t),this.renderGraphicsOverride(i,e,t),this.markValid("renderGraphicsPass")}},this.localToGlobal=function(e){if(null==e)throw new Error("Parameter point must be non-null.");if(!(e instanceof r))throw new Error("Parameter point must be of type "+s.getName(r)+".");var t=this.$element.offset();return new r(e.x+t.left,e.y+t.top)},this.globalToLocal=function(e){if(null==e)throw new Error("Parameter point must be non-null.");if(!(e instanceof r))throw new Error("Parameter point must be of type "+s.getName(r)+".");var t=this.$element.offset();return new r(e.x-t.left,e.y-t.top)},this.renderGraphicsOverride=function(e,t,i){}}))}.call(t,i,t,e))||(e.exports=n)},"splunk/viz/VizBase":function(e,t,i){var n;void 0===(n=function(e,t,n){var s=i("shim/jquery"),a=i("contrib/jg_lib/Class"),r=i("contrib/jg_lib/async/MPassTarget"),o=i("contrib/jg_lib/events/MEventTarget"),l=i("contrib/jg_lib/events/MListenerTarget"),d=i("contrib/jg_lib/events/MObservableTarget"),h=i("contrib/jg_lib/properties/MPropertyTarget"),u=i("contrib/jg_lib/properties/Property");return a(n.i,Object,(function(e,t){a.mixin(this,o,l,d,h,r);var i=0;e.getInstance=function(t){if(null==t)return null;if(0==(t=s(t)).length)return null;var i=(t=t[0]).__splunk_viz_VizBase_instance;return i instanceof e?i:null},this.id=new u("id",String,null).readOnly(!0),this.element=null,this.$element=null,this.constructor=function(e){if(null!=e&&!a.isString(e))throw new Error("Parameter html must be of type String.");var t=s(e||"<div></div>");if(0==t.length)throw new Error("Parameter html must be valid markup.");var n="splunk-viz-VizBase-"+ ++i;this.element=t[0],this.$element=s(this.element),this.setInternal("id",n),this.addStyleClass("splunk-viz-VizBase")},this.addStyleClass=function(e){this.$element.addClass(e)},this.removeStyleClass=function(e){this.$element.removeClass(e)},this.setStyle=function(e){this.$element.css(e)},this.appendTo=function(t){if(null==t)throw new Error("Parameter parentElement must be non-null.");if(t instanceof e&&(t=t.element),0!=(t=s(t)).length){t=t[0];var i=this.element.parentNode;i&&i!==t&&this.onRemove(),t.appendChild(this.element),i!==t&&this.onAppend()}},this.replace=function(t){if(null==t)throw new Error("Parameter element must be non-null.");if(t instanceof e&&(t=t.element),0!=(t=s(t)).length){var i=(t=t[0]).parentNode;if(null!=i){var n=this.element.parentNode;n&&n!==i&&this.onRemove(),i.replaceChild(this.element,t),n!==i&&this.onAppend()}}},this.remove=function(){var e=this.element,t=e.parentNode;t&&(this.onRemove(),t.removeChild(e))},this.dispose=function(){this.remove(),this.listenOff(),this.off(),this.markValid(),this.$element.remove()},this.getValidateDepth=function(){for(var e=0,t=this.element.parentNode;t;)e++,t=t.parentNode;return e},this.onAppend=function(){},this.onRemove=function(){}}))}.call(t,i,t,e))||(e.exports=n)},"splunkjs/contrib/requirejs-plugins/async":function(e,t,i){var n;
/** @license
 * RequireJS plugin for async dependency load like JSONP and Google Maps
 * Author: Miller Medeiros
 * Version: 0.1.1 (2011/11/17)
 * Released under the MIT license
 */void 0===(n=function(){var e=0;return{load:function(t,i,n,s){if(s.isBuild)n(null);else{var a="__async_req_"+(e+=1)+"__";window[a]=n,r=function(e,t){var i=/!(.+)/,n=e.replace(i,""),s=i.test(e)?e.replace(/.+!/,""):"callback";return(n+=n.indexOf("?")<0?"?":"&")+s+"="+t}(t,a),(o=document.createElement("script")).type="text/javascript",o.async=!0,o.src=r,(l=document.getElementsByTagName("script")[0]).parentNode.insertBefore(o,l)}var r,o,l}}}.call(t,i,t,e))||(e.exports=n)},"splunkjs/css/paginator.css":function(e,t,i){var n=i(549);"string"==typeof n&&(n=[[e.i,n,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};i(4)(n,s);n.locals&&(e.exports=n.locals)},"splunkjs/mvc/basemodel":function(e,t,i){var n;void 0===(n=function(e,t,n){return i("require/backbone").Model.extend({})}.call(t,i,t,e))||(e.exports=n)},"splunkjs/mvc/basemultichoiceview":function(e,t,i){var n;void 0===(n=function(e,t,n){var s=i("require/underscore"),a=i("splunkjs/mvc/basechoiceview"),r=i("util/general_utils");return a.extend({_isMultiChoiceView:!0,updateSelectedLabel:function(){var e=r.asArray(this.settings.get("selectedLabel")),t=s.map(this.val(),(function(e){var t=this._findDisplayedChoice(e);return t?t.label:void 0}),this);s.isEqual(e,t)||(t.length>0?this.settings.set("selectedLabel",t):this.settings.unset("selectedLabel"))},normalizeValue:function(e){return Array.isArray(e)?e:[e]},val:function(e){var t=this.settings.get("value"),i=r.asArray(t),n=r.asArray(e);if(0===arguments.length)return i;var a=s.clone(i).sort(),o=s.clone(n).sort();return s.isEqual(a,o)&&a.length>0&&Array.isArray(t)?t:(this.settings.set("value",n),n)},getState:function(){var e=a.prototype.getState.apply(this,arguments),t=this.settings.get("value");return s.extend({},e,{value:null==t||Array.isArray(t)?t:[t],onChange:function(e){this.val(e)}.bind(this)})},_getSelectedData:function(){var e=this.val();return s(e).map(s.bind((function(e){var t={value:e,label:(this._findDisplayedChoice(e)||{}).label};return s.extend(this._selectedDataForValue(e)||{},t)}),this))}})}.call(t,i,t,e))||(e.exports=n)},"splunkjs/mvc/chartview":function(e,t,i){var n;void 0===(n=function(e,t,n){var s=i("require/underscore"),a=i("splunkjs/mvc/visualizationview"),r=i("splunkjs/mvc/drilldown"),o=i("splunkjs/mvc/utils"),l=(i("util/console"),i("shim/splunk.util")),d=i("util/general_utils"),h=i("views/shared/ReportVisualizer");return a.extend({moduleId:n.i,className:"splunk-chart",chartOptionPrefix:"charting.",options:s.extend({},a.prototype.options,{type:"column",height:"250px"}),normalizeSettings:function(e){a.prototype.normalizeSettings.apply(this,arguments),this._normalizeDrilldownType(e,e.get(e.has("charting.drilldown")?"charting.drilldown":"drilldown")),e.has("charting.layout.splitSeries")&&d.isBooleanEquivalent(e.get("charting.layout.splitSeries"))&&e.set("charting.layout.splitSeries",d.normalizeBoolean(e.get("charting.layout.splitSeries"))?"1":"0"),e.has("show")&&e.set("show",l.normalizeBoolean(e.get("show"))?"1":"0"),e.has("charting.axisY2.enabled")&&d.isBooleanEquivalent(e.get("charting.axisY2.enabled"))&&e.set("charting.axisY2.enabled",d.normalizeBoolean(e.get("charting.axisY2.enabled"))?"1":"0"),e.has("charting.legend.labelStyle.overflowMode")&&"default"===e.get("charting.legend.labelStyle.overflowMode")&&e.set("charting.legend.labelStyle.overflowMode","ellipsisMiddle")},_normalizeDrilldownType:function(e,t){var i=r.getNormalizedDrilldownType(t,{allowBoolean:!0});e.get("charting.drilldown")!==i&&e.set("charting.drilldown",i),e.get("drilldown")!==i&&e.set("drilldown",i)},initialize:function(e){a.prototype.initialize.apply(this,arguments),this.$el.css({overflow:"hidden",position:"relative"}),this.$msg.css({overflow:"hidden",position:"absolute",width:"100%",height:"100%"}),this.listenTo(this.viz,"chartRangeSelect",this.emitSelectionEvent),this.listenTo(this.settings,"change:type",(function(){this.model.set("display.visualizations.charting.chart",this.settings.get("type"))})),this.listenTo(this.settings,"change:drilldown change:charting.drilldown",this._normalizeDrilldownType)},syncSettingsAndReportModel:function(e,t){this._settingsSync=o.syncModels(e,t,{auto:!0,prefix:"display.visualizations.",alias:{height:"display.visualizations.chartHeight"},exclude:["managerid","id","name","data","type","drilldownRedirect","pagerPosition","refreshDisplay"]}),!t.has("display.visualizations.charting.chart")&&e.get("type")&&t.set("display.visualizations.charting.chart",e.get("type"))},getVisualizationRendererOptions:function(){return{messageContainerClass:"splunk-message-container compact",generalTypeOverride:h.GENERAL_TYPES.VISUALIZATIONS,customConfigOverride:{"display.visualizations.type":"charting"},sizeConfigOverride:{defaultHeight:250}}},formatData:function(e){return e},onDrilldown:function(e,t){this.trigger("legendClick"===e.originalEvent.type?"clicked:legend click:legend":"clicked:chart click:chart",s.extend({},e.originalEvent,{preventDefault:t.preventDefault,drilldown:t.drilldown}),this)},emitSelectionEvent:function(e){var t={start:e.startXValue,end:e.endXValue};if(this.managerConnection&&this.managerConnection.isConnected()){var i=this.managerConnection.resultsModel.data();i&&s(i.fields).each((function(n,s){t["start."+n.name]=i.columns[s][e.startXIndex],t["end."+n.name]=i.columns[s][e.endXIndex]}));var n={data:t,preventDefault:function(){e.preventDefault()},results:i,selection:function(){for(var t=[],n=e.startXIndex;n<=e.endXIndex;n++)t.push(s(i.columns).pluck(n));var a=s(i.fields).pluck("name");return s(t).map((function(e){return s.object(a,e)}))},startIndex:e.startXIndex,endIndex:e.endXIndex,startValue:e.startXValue,endValue:e.endXValue,isReset:e.isReset,event:e};this.trigger("selection",n,this)}},remove:function(){return this._settingsSync&&this._settingsSync.destroy(),a.prototype.remove.call(this)}})}.call(t,i,t,e))||(e.exports=n)},"splunkjs/mvc/checkboxgroupview":function(e,t,i){var n;void 0===(n=function(e,t,n){i("require/underscore");var s=i("splunkjs/mvc/basemultichoiceview"),a=i("splunkjs/mvc/components/CheckboxGroup");return s.extend({moduleId:n.i,className:"splunk-checkboxgroup splunk-choice-input",options:{valueField:"",labelField:"",default:void 0,choices:[],value:void 0,disabled:!1},getReactComponent:function(){return a}})}.call(t,i,t,e))||(e.exports=n)},"splunkjs/mvc/checkboxview":function(e,t,i){var n;void 0===(n=function(e,t,n){var s=i("splunkjs/mvc/baseinputview"),a=i("splunkjs/mvc/components/Checkbox");return s.extend({moduleId:n.i,className:"splunk-checkbox",options:{default:void 0,value:void 0,disabled:!1},getReactComponent:function(){return a}})}.call(t,i,t,e))||(e.exports=n)},"splunkjs/mvc/components/Checkbox":function(e,t,i){"use strict";i(1),Object.defineProperty(t,"__esModule",{value:!0});var n=l(i(10)),s=l(i(0)),a=l(i(2)),r=l(i(32)),o=i("util/test_support");function l(e){return e&&e.__esModule?e:{default:e}}var d=function(t){var i=t.value,a=t.disabled,l=t.onChange;return s.default.createElement(r.default,(0,n.default)({},(0,o.createTestHook)(e.i),{value:i,selected:i,disabled:a,onClick:function(){l(!i)}}))};d.propTypes={value:a.default.bool,disabled:a.default.bool,onChange:a.default.func.isRequired},d.defaultProps={value:!1,disabled:!1},t.default=d,e.exports=t.default},"splunkjs/mvc/components/CheckboxGroup":function(e,t,i){"use strict";i(1),Object.defineProperty(t,"__esModule",{value:!0});var n=c(i(60)),s=c(i(61)),a=c(i("require/underscore")),r=i(0),o=c(r),l=c(i(2)),d=c(i(32)),h=i("util/test_support"),u=c(i("services/web_features/DashboardInputsLocalization"));function c(e){return e&&e.__esModule?e:{default:e}}function p(t){var i=t.choices,l=t.disabled,c=t.value,p=t.onChange,m=(0,r.useState)(!1),f=(0,s.default)(m,2),g=f[0],v=f[1];(0,r.useEffect)((function(){u.default.getFeatureSettings({}).then((function(e){e&&e.enable_dashboard_inputs_localization&&v(e.enable_dashboard_inputs_localization)})).catch((function(){}))}),[]);var b=i.length>0?i:[{label:" ",value:""}];return o.default.createElement("div",(0,h.createTestHook)(e.i),b.map((function(e){return o.default.createElement(d.default,{key:e.value,value:e.value,selected:c.indexOf(e.value)>-1,disabled:l,onClick:function(){return t=e.value,s=c.indexOf(t),a=void 0,a=s>-1?[].concat((0,n.default)(c.slice(0,s)),(0,n.default)(c.slice(s+1))):i.map((function(e){return e.value})).filter((function(e){return c.indexOf(e)>-1||e===t})),void p(a);var t,s,a}},g?(0,a.default)(e.label||e.value).t():e.label||e.value)})))}p.propTypes={value:l.default.arrayOf(l.default.string),choices:l.default.arrayOf(l.default.shape({label:l.default.string,value:l.default.string})),disabled:l.default.bool,onChange:l.default.func.isRequired},p.defaultProps={value:[],choices:[],disabled:!1},t.default=p,e.exports=t.default},"splunkjs/mvc/components/LinkList":function(e,t,i){"use strict";i(1),Object.defineProperty(t,"__esModule",{value:!0});var n=c(i(10)),s=c(i(61)),a=c(i("require/underscore")),r=i(0),o=c(r),l=c(i(2)),d=c(i(132)),h=i("util/test_support"),u=c(i("services/web_features/DashboardInputsLocalization"));function c(e){return e&&e.__esModule?e:{default:e}}function p(t){var i=t.value,l=t.choices,c=t.disabled,p=t.onChange,m=(0,r.useState)(!1),f=(0,s.default)(m,2),g=f[0],v=f[1];(0,r.useEffect)((function(){u.default.getFeatureSettings({}).then((function(e){e&&e.enable_dashboard_inputs_localization&&v(e.enable_dashboard_inputs_localization)})).catch((function(){}))}),[]);var b=l.length>0?l:[{label:"N/A",value:""}];return o.default.createElement(d.default,(0,n.default)({},(0,h.createTestHook)(e.i),{appearance:"pill",inline:!0,value:i,onChange:function(e,t){p(t.value)},style:{flexWrap:"wrap",width:"100%"}}),b.map((function(e){return o.default.createElement(d.default.Option,{key:e.value,value:e.value,label:g?(0,a.default)(e.label||e.value).t():e.label||e.value,disabled:c,style:{flexGrow:0}})})))}p.propTypes={value:l.default.string,choices:l.default.arrayOf(l.default.shape({label:l.default.string,value:l.default.string})),onChange:l.default.func.isRequired,disabled:l.default.bool},p.defaultProps={value:void 0,choices:[],disabled:!1},t.default=p,e.exports=t.default},"splunkjs/mvc/components/MultiDropdown":function(e,t,i){"use strict";i(1),Object.defineProperty(t,"__esModule",{value:!0});var n=c(i(10)),s=c(i(61)),a=c(i("require/underscore")),r=i(0),o=c(r),l=c(i(2)),d=c(i(128)),h=i("util/test_support"),u=c(i("services/web_features/DashboardInputsLocalization"));function c(e){return e&&e.__esModule?e:{default:e}}function p(t){var i=t.choices,l=t.disabled,c=t.allowCustomValues,p=t.width,m=t.value,f=t.onChange,g=t.label,v=(0,r.useState)(!1),b=(0,s.default)(v,2),_=b[0],y=b[1];return(0,r.useEffect)((function(){u.default.getFeatureSettings({}).then((function(e){e&&e.enable_dashboard_inputs_localization&&y(e.enable_dashboard_inputs_localization)})).catch((function(){}))}),[]),o.default.createElement(d.default,(0,n.default)({disabled:l,allowNewValues:c,values:m,onChange:function(e,t){var i=t.values;return f(i)},style:{width:p},"aria-label":g,inline:!0},(0,h.createTestHook)(e.i)),i.map((function(e){if(!a.default.isEmpty(e)){var t=_?(0,a.default)(String(e.label||e.value)).t():String(e.label||e.value);return o.default.createElement(d.default.Option,{key:e.value,label:t,value:e.value})}})))}p.propTypes={choices:l.default.arrayOf(l.default.shape({label:l.default.string,value:l.default.string})),disabled:l.default.bool,allowCustomValues:l.default.bool,width:l.default.number,value:l.default.arrayOf(l.default.string),onChange:l.default.func.isRequired,label:l.default.string},p.defaultProps={choices:[],disabled:!1,allowCustomValues:!1,width:200,value:[],label:""},t.default=p,e.exports=t.default},"splunkjs/mvc/components/RadioGroup":function(e,t,i){"use strict";i(1),Object.defineProperty(t,"__esModule",{value:!0});var n=c(i(10)),s=c(i(61)),a=c(i("require/underscore")),r=i(0),o=c(r),l=c(i(2)),d=c(i(102)),h=i("util/test_support"),u=c(i("services/web_features/DashboardInputsLocalization"));function c(e){return e&&e.__esModule?e:{default:e}}function p(t){var i=t.value,l=void 0===i?null:i,c=t.choices,p=t.disabled,m=t.onChange,f=t.labelledBy,g=(0,r.useState)(!1),v=(0,s.default)(g,2),b=v[0],_=v[1];(0,r.useEffect)((function(){u.default.getFeatureSettings({}).then((function(e){e&&e.enable_dashboard_inputs_localization&&_(e.enable_dashboard_inputs_localization)})).catch((function(){}))}),[]);var y=c.length>0?c:[{label:" ",value:""}];return o.default.createElement(d.default,(0,n.default)({value:l,labelledBy:f,disabled:p,onChange:function(e,t){m(t.value)}},(0,h.createTestHook)(e.i)),y.map((function(e){var t=a.default.isEmpty(e)?{label:" ",value:""}:e;return o.default.createElement(d.default.Option,{key:t.value,value:t.value},b?(0,a.default)(t.label||t.value).t():t.label||t.value)})))}p.propTypes={value:l.default.string,choices:l.default.arrayOf(l.default.shape({label:l.default.string,value:l.default.string})),onChange:l.default.func.isRequired,disabled:l.default.bool,labelledBy:l.default.string},p.defaultProps={choices:[],disabled:!1,labelledBy:""},t.default=p,e.exports=t.default},"splunkjs/mvc/components/TextInput":function(e,t,i){"use strict";i(1),Object.defineProperty(t,"__esModule",{value:!0});var n=p(i(10)),s=p(i(11)),a=p(i(13)),r=p(i(15)),o=p(i(16)),l=i(0),d=p(l),h=p(i(2)),u=p(i(23)),c=i("util/test_support");function p(e){return e&&e.__esModule?e:{default:e}}var m=function(t){function i(e){(0,s.default)(this,i);var t=(0,r.default)(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,e));return t.state={value:e.value},t.submitChange=t.submitChange.bind(t),t}return(0,o.default)(i,t),(0,a.default)(i,[{key:"componentWillReceiveProps",value:function(e){var t=e.value;t!==this.state.value&&this.updateValue(t)}},{key:"updateValue",value:function(e){this.setState({value:e})}},{key:"submitChange",value:function(){this.props.onChange(this.state.value)}},{key:"render",value:function(){var t=this,i=this.props,s=i.type,a=i.disabled,r=i.label;return d.default.createElement(u.default,(0,n.default)({value:this.state.value,disabled:a,type:s,onChange:function(e,i){var n=i.value;t.updateValue(n)},onBlur:this.submitChange,onKeyPress:function(e){"Enter"===e.key&&t.submitChange()},"aria-label":r},(0,c.createTestHook)(e.i)))}}]),i}(l.Component);t.default=m,m.propTypes={onChange:h.default.func.isRequired,value:h.default.string,type:h.default.string,disabled:h.default.bool,label:h.default.string},m.defaultProps={value:"",type:"text",disabled:!1,label:""},e.exports=t.default},"splunkjs/mvc/components/TimeRangePickerDropdown":function(e,t,i){"use strict";i(1),Object.defineProperty(t,"__esModule",{value:!0}),t.convertEpochToISO=t.convertISOtoEpoch=void 0;var n=f(i(10)),s=f(i(11)),a=f(i(13)),r=f(i(15)),o=f(i(16)),l=i(0),d=f(l),h=f(i(2)),u=f(i(260)),c=i("util/test_support"),p=f(i(69)),m=f(i(531));function f(e){return e&&e.__esModule?e:{default:e}}var g=t.convertISOtoEpoch=function(e){var t=p.default.newSplunkTime({time:e,format:p.default.ISO_8601});return t.isValid()?(t.valueOf()/1e3).toString():e},v=t.convertEpochToISO=function(e){if(!e||"0"===e)return e;var t=p.default.unix(e);return t.isValid()?p.default.newSplunkTime({time:t}).format("YYYY-MM-DDTHH:mm:ss.SSS"):e},b=function(t){function i(e){(0,s.default)(this,i);var t=(0,r.default)(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,e)),n=t.props,a=n.earliest,o=n.latest;return t.state={earliest:a,latest:o,parseEarliest:null,parseLatest:null},t}return(0,o.default)(i,t),(0,a.default)(i,[{key:"componentWillReceiveProps",value:function(e){var t=e.earliest,i=e.latest;t!==this.state.earliest&&this.setState({earliest:t}),i!==this.state.latest&&this.setState({latest:i})}},{key:"render",value:function(){var t=this,i=this.props,s=i.presets,a=i.onChange,r=i.documentationURL,o=i.menuSettings,l=i.labelMaxChars,h=this.state,p=h.earliest,f=h.latest,b=[],_=[];return o.showRelative&&(b.push("relative"),_.push("relative")),o.showRealtime&&(b.push("realTime"),_.push("realTime")),o.showDate&&(b.push("date"),_.push("allTime")),o.showDateTime&&(b.push("dateTime"),_.push("dateTime")),o.showAdvanced||(_=[]),d.default.createElement(m.default,{presetsTransform:o.showPresets?function(){return s}:function(){return[]}},d.default.createElement(u.default,(0,n.default)({advancedInputTypes:_,formInputTypes:b,onChange:function(e,i){var n={earliest:g(i.earliest),latest:g(i.latest)};t.setState(n),a(e,n)},inline:!1,earliest:v(p),latest:v(f),documentationURL:r,labelMaxChars:l},(0,c.createTestHook)(e.i))))}}]),i}(l.Component);b.propTypes={presets:h.default.arrayOf(h.default.shape({label:h.default.string,earliest:h.default.string,latest:h.default.string})).isRequired,onChange:h.default.func.isRequired,earliest:h.default.string,latest:h.default.string,documentationURL:h.default.string,menuSettings:h.default.objectOf(h.default.bool),labelMaxChars:h.default.number},b.defaultProps={earliest:"",latest:"",documentationURL:null,menuSettings:{showPresets:!0,showAdvanced:!0,showDate:!0,showRealtime:!0,showDateTime:!0,showRelative:!0},labelMaxChars:40},t.default=b},"splunkjs/mvc/components/UrlWarningModal":function(e,t,i){"use strict";i(1),Object.defineProperty(t,"__esModule",{value:!0});var n=v(i(10)),s=v(i(61)),a=v(i(149)),r=v(i(55)),o=(0,r.default)(["\n    float: left;\n"],["\n    float: left;\n"]),l=(0,r.default)(["\n    word-break: break-word;\n"],["\n    word-break: break-word;\n"]),d=i(0),h=v(d),u=v(i(2)),c=v(i(9)),p=v(i(24)),m=v(i(14)),f=v(i(32)),g=i(7);function v(e){return e&&e.__esModule?e:{default:e}}var b=(0,c.default)(f.default)(o),_=c.default.p(l),y={TITLE:(0,g._)("Redirecting away from Splunk"),REDIRECT:(0,g._)("You are being redirected away from Splunk to the following URL:"),CONTINUE:(0,g._)("Continue"),CANCEL:(0,g._)("Cancel"),ALLOW_AND_DONT_ASK:(0,g._)("Don't show this again"),NOTE:(0,g._)("Note that tokens embedded in a URL could contain sensitive information.")},w=function(e){var t=e.url,i=e.onConfirm,r=e.onRequestClose,o=e.onAddUrlToAllowList,l=(0,a.default)(e,["url","onConfirm","onRequestClose","onAddUrlToAllowList"]),u=(0,d.useState)(!1),c=(0,s.default)(u,2),f=c[0],g=c[1],v=(0,d.useCallback)((function(){"function"==typeof r&&r()}),[r]),w=(0,d.useCallback)((function(){t&&("function"==typeof o&&f&&o(t),i(t)),v()}),[t,f,v,o]),k=(0,d.useCallback)((function(e,t){var i=t.selected;g(!i)}),[]);return h.default.createElement(h.default.Fragment,null,h.default.createElement(p.default,(0,n.default)({onRequestClose:v,open:!!t},l),h.default.createElement(p.default.Header,{title:y.TITLE,onRequestClose:v}),h.default.createElement(p.default.Body,null,h.default.createElement("p",null,y.REDIRECT),h.default.createElement(_,null,t),h.default.createElement("p",null,y.NOTE)),h.default.createElement(p.default.Footer,null,"function"==typeof o&&h.default.createElement(b,{selected:f,onClick:k,appearance:"checkbox",inline:!0},y.ALLOW_AND_DONT_ASK),h.default.createElement(m.default,{appearance:"secondary",onClick:v,label:y.CANCEL,"data-test-name":"cancel"}),h.default.createElement(m.default,{appearance:"primary",onClick:w,label:y.CONTINUE,"data-test-name":"continue"}))))};w.propTypes={url:u.default.string.isRequired,onConfirm:u.default.func.isRequired,onRequestClose:u.default.func.isRequired,onAddUrlToAllowList:u.default.func},w.defaultProps={onAddUrlToAllowList:function(){}},t.default=w,e.exports=t.default},"splunkjs/mvc/datatemplateview":function(e,t,i){var n;void 0===(n=function(e,t,n){var s=i("require/underscore"),a=i("splunkjs/mvc/mvc"),r=i("splunkjs/mvc/basesplunkview"),o=i("splunkjs/mvc/messages");return r.extend({moduleId:n.i,className:"splunk-datatemplateview",options:{managerid:null,data:"preview",template:"",templateName:"",messages:!1},initialize:function(){this.configure(),this.settings.on("change:template change:templateName",this.render,this),this.bindToComponentSetting("managerid",this._onManagerChange,this),this.manager||this._onManagerChange(a.Components,null)},_onManagerChange:function(e,t){this.manager&&(this.manager.off(null,null,this),this.manager=null),this.resultsModel&&(this.resultsModel.off(null,null,this),this.resultsModel.destroy(),this.resultsModel=null),t?(this.message("empty"),this.manager=t,this.resultsModel=t.data(this.settings.get("data"),{output_mode:"json"}),t.on("search:start",this._onSearchStart,this),t.on("search:progress",this._onSearchProgress,this),t.on("search:cancelled",this._onSearchCancelled,this),t.on("search:error",this._onSearchError,this),this.resultsModel.on("data",this.render,this),this.resultsModel.on("error",this._onSearchError,this),t.replayLastSearchEvent(this)):this.message("no-search")},_onSearchCancelled:function(){this._isJobDone=!1,this.message("cancelled",this.$el)},_onSearchProgress:function(e,t){var i=(e=e||{}).content||{},n=i.resultPreviewCount||0,s=this._isJobDone=i.isDone||!1;0===n&&s?this.message("no-results",this.$el):0!==n||this.message("waiting",this.$el)},_onSearchStart:function(){this._isJobDone=!1,this.message("waiting",this.$el)},_onSearchError:function(e,t){this._isJobDone=!1;var i=e;t&&t.data&&t.data.messages&&t.data.messages.length&&(i=s(t.data.messages).pluck("text").join("; "),this.$el.empty()),this.message({level:"error",icon:"warning-sign",message:i})},message:function(e){this.settings.get("messages")&&o.render(e,this.$el)},render:function(){if(this.resultsModel&&!this.resultsModel.hasData()&&this._isJobDone)return this.message("no-results"),this;if(!this.resultsModel)return this;var e=this.settings.get("template")||"",t=this.settings.get("templateName")||"";if(!e&&t){var i=document.getElementById(t);i&&(e=i.innerHTML)}if(e){var n=s.template(e,this.resultsModel.data());return this.$el.html(n),this}this.message({level:"error",icon:"warning-sign",message:"There is no template to render."})}})}.call(t,i,t,e))||(e.exports=n)},"splunkjs/mvc/dataview":function(e,t,i){var n;void 0===(n=function(e){return i("util/console").warn("%s is deprecated. Please require %s instead.","splunkjs/mvc/dataview","splunkjs/mvc/datatemplateview"),i("splunkjs/mvc/datatemplateview")}.call(t,i,t,e))||(e.exports=n)},"splunkjs/mvc/eventsviewerview":function(e,t,i){var n;void 0===(n=function(e,t,n){var s=i("require/underscore"),a=i("shim/splunk.util"),r=i("collections/search/SelectedFields"),o=i("collections/services/data/ui/WorkflowActions"),l=i("models/search/Job"),d=i("models/services/search/jobs/Result"),h=i("stubs/splunk.config"),u=i("models/services/search/jobs/Summary"),c=(i("util/console"),i("views/shared/eventsviewer/LazyEventsViewer")),p=i("splunkjs/mvc/basesplunkview"),m=i("splunkjs/mvc/messages"),f=i("splunkjs/mvc/paginatorview"),g=i("splunkjs/mvc/utils"),v=i("splunkjs/mvc/sharedmodels"),b=i("util/general_utils"),_=i("splunkjs/mvc/tokenawaremodel"),y=i("models/search/Report"),w=i("splunkjs/mvc/drilldown"),k=/(["'].*?["']|[^"',\s]+)(?=\s*|\s*,|\s*$)/g,T=/^["']|["|']$/g;return p.extend({className:"splunk-events-viewer",options:{managerid:null,data:"events",showPager:!0,pagerPosition:"bottom",drilldownRedirect:!0,maxCount:100},reportDefaults:{"display.events.fields":'["host", "source", "sourcetype"]',"display.events.type":"list","display.prefs.events.count":10,"display.events.rowNumbers":"1","display.events.maxLines":"5","display.events.histogram":"0","display.events.raw.drilldown":"full","display.events.list.wrap":"1","display.events.list.drilldown":"full","display.events.table.wrap":"1","display.events.table.drilldown":"1","display.events.table.sortDirection":"asc"},omitFromSettings:["el","id","name","manager","reportModel","displayRowNumbers","segmentation","softWrap"],normalizeOptions:function(e,t){if(t.hasOwnProperty("rowNumbers")?b.isBooleanEquivalent(t.rowNumbers)?e.set("rowNumbers",b.normalizeBoolean(t.rowNumbers)?"1":"0"):e.set("rowNumbers",t.rowNumbers):t.hasOwnProperty("displayRowNumbers")&&e.set("rowNumbers",a.normalizeBoolean(t.displayRowNumbers)?"1":"0"),t.hasOwnProperty("drilldown")&&this._applyDrilldownType(t.drilldown,e),t.hasOwnProperty("raw.drilldown")?e.set("raw.drilldown",t["raw.drilldown"]):t.hasOwnProperty("segmentation")&&!t.hasOwnProperty("drilldown")&&e.set("raw.drilldown",t.segmentation),t.hasOwnProperty("list.drilldown")?e.set("list.drilldown",t["list.drilldown"]):t.hasOwnProperty("segmentation")&&!t.hasOwnProperty("drilldown")&&e.set("list.drilldown",t.segmentation),t.hasOwnProperty("table.drilldown")){var i=t["table.drilldown"];"all"===i?i=!0:"none"===i&&(i=!1),b.isBooleanEquivalent(i)?e.set("table.drilldown",b.normalizeBoolean(i)?"1":"0"):e.set("table.drilldown",i)}else t.hasOwnProperty("segmentation")&&e.set("table.drilldown","none"!==t.segmentation?"1":"0");t.hasOwnProperty("list.wrap")?b.isBooleanEquivalent(t["list.wrap"])?e.set("list.wrap",b.normalizeBoolean(t["list.wrap"])?"1":"0"):e.set("list.wrap",t["list.wrap"]):t.hasOwnProperty("softWrap")&&e.set("list.wrap",a.normalizeBoolean(t.softWrap)?"1":"0"),t.hasOwnProperty("table.wrap")?b.isBooleanEquivalent(t["table.wrap"])?e.set("table.wrap",b.normalizeBoolean(t["table.wrap"])?"1":"0"):e.set("table.wrap",t["table.wrap"]):t.hasOwnProperty("softWrap")&&e.set("table.wrap",a.normalizeBoolean(t.softWrap)?"1":"0"),t.hasOwnProperty("count")||e.has("count")||e.set("count",this.reportDefaults["display.prefs.events.count"]),t.hasOwnProperty("maxLines")||e.has("maxLines")?e.set("maxLines",e.get("maxLines").toString()):e.set("maxLines",this.reportDefaults["display.events.count"].toString())},initialize:function(e){this.configure(),this.model=this.options.reportModel||_._createReportModel(this.reportDefaults,{_tokenRegistry:this.options.settingsOptions.registry}),this.settings._sync=g.syncModels({source:this.settings,dest:this.model,prefix:"display.events.",include:["fields","type","count","rowNumbers","maxLines","raw.drilldown","list.drilldown","showPager","list.wrap","table.drilldown","table.wrap","table.sortDirection","table.sortColumn"],exclude:["drilldownRedirect","managerid"],auto:!0,alias:{count:"display.prefs.events.count"}}),this.settings.on("change",this.onSettingsChange,this),this.model.on("change",this.onReportChange,this),!1!==this.options.normalizeSettings&&this.normalizeOptions(this.settings,e),this.resultModel=new d,this.summaryModel=new u,this.searchJobModel=new l,this.reportModel=new y,this.reportModel._syncPush=g.syncModels({source:this.model,dest:this.reportModel.entry.content,tokens:!1,auto:"push"}),this.reportModel._syncPull=g.syncModels({source:this.model,dest:this.reportModel.entry.content,tokens:!1,include:["display.events.table.sortColumn","display.events.table.sortDirection"],auto:"pull"}),this.listenTo(this.reportModel,"eventsviewer:drilldown",this.handleMiscDrilldown),this.applicationModel=v.get("app"),this.selectedFieldsCollection=new r,this.workflowActionsCollection=new o,this.workflowActionsCollection.fetch({data:{app:this.applicationModel.get("app"),owner:this.applicationModel.get("owner"),count:-1,sort_key:"name",search:"disabled=false"},success:s.bind((function(){this._isWorkflowActionsCollectionReady=!0,this.render()}),this)}),this._lastJobFetched=null,this.updateSelectedFields(),this.bindToComponentSetting("managerid",this.onManagerChange,this),this.eventsViewer=new c({model:{result:this.resultModel,summary:this.summaryModel,searchJob:this.searchJobModel,report:this.reportModel,application:this.applicationModel},collection:{selectedFields:this.selectedFieldsCollection,workflowActions:this.workflowActionsCollection},selectableFields:!1,headerMode:"none",allowRowExpand:!0,allowModalize:!0,defaultDrilldown:!1}),this.eventsViewer.load(),this.listenTo(this.eventsViewer,"drilldown",this.emitDrilldownEvent),this.manager||this.onManagerChange(this.registry,null)},configure:function(){return!1===this.options.normalizeSettings&&(this.omitFromSettings=(this.omitFromSettings||[]).concat(s(this.options).chain().omit("id","managerid","data","resizable","drilldownRedirect","pagerPosition").keys().value())),p.prototype.configure.apply(this,arguments)},onManagerChange:function(e,t){if(this.manager&&(this.manager.off(null,null,this),this.manager=null),this.eventData&&(this.eventData.off(),this.eventData.destroy(),this.eventData=null),this.summaryData&&(this.summaryData.off(),this.summaryData.destroy(),this.summaryData=null),this._searchStatus=null,this._eventCount=0,this._isSummaryModelReady=!1,this._isSearchJobModelReady=!1,this._lastJobFetched=null,this.resultModel.setFromSplunkD({}),this.summaryModel.setFromSplunkD({}),!t)return this._searchStatus={state:"nomanager"},void this.render();this._searchStatus={state:"start"},this.manager=t,this.manager.on("search:start",this.onSearchStart,this),this.manager.on("search:progress",this.onSearchProgress,this),this.manager.on("search:done",this.onSearchDone,this),this.manager.on("search:cancelled",this.onSearchCancelled,this),this.manager.on("search:refresh",this.onSearchRefreshed,this),this.manager.on("search:error",this.onSearchError,this),this.manager.on("search:fail",this.onSearchFailed,this),this.eventData=this.manager.data("events",{autofetch:!1,output_mode:"json",truncation_mode:"abstract"}),this.eventData.on("data",this.onEventData,this),this.eventData.on("error",this.onSearchError,this),this.summaryData=this.manager.data("summary",{autofetch:!1,output_mode:"json",top_count:10,output_time_format:"%d/%m/%y %l:%M:%S.%Q %p"}),this.summaryData.on("data",this.onSummaryData,this),this.summaryData.on("error",this._onSummaryError,this);var i=this.manager.get("data");i&&i.eventAvailableCount?(this.onSearchStart(i),this.onSearchProgress({content:i}),i.isDone&&this.onSearchDone({content:i})):this.render(),t.replayLastSearchEvent(this)},_fetchJob:function(e){this._isRealTimeSearch=e.isRealTimeSearch;var t=e.sid;if(this._lastJobFetched!==t||!this._isSearchJobModelReady){this._lastJobFetched=t,this.searchJobModel.set("id",t);var i=this.manager.getJobResponse();if(!i)return;this.searchJobModel.setFromSplunkD(i),this._isSearchJobModelReady||(this._isSearchJobModelReady=!0,this.render())}},onSearchStart:function(e){e=e||this.manager.get("data"),this._searchStatus={state:"running"},this._eventCount=0,this._statusBuckets=void 0,this._lastJobFetched=null,this._isSummaryModelReady=!1,this._isSearchJobModelReady=!1,this.resultModel.setFromSplunkD({}),this.summaryModel.setFromSplunkD({}),this._fetchJob(e),this.render()},onSearchProgress:function(e){this._searchStatus={state:"running"};var t=(e=e||{}).content||{},i=t.eventAvailableCount||0,n=this._statusBuckets=t.statusBuckets||0,s=e.name,r=t.isRealTimeSearch;this._fetchJob(t),s&&(s=a.stripLeadingSearchCommand(s),this.reportModel.entry.content.set("search",s,{silent:!0})),this._eventCount=i,i>0&&this.updateEventData(),(n>0||r)&&this.updateSummaryData(),this.render()},onSearchDone:function(e){this._searchStatus={state:"done"};var t=(e=e||{}).content||{},i=t.eventAvailableCount||0;this._fetchJob(t),this._eventCount=i,this.updateEventData(),this.updateSummaryData(),this.render()},onSearchCancelled:function(){this._searchStatus={state:"cancelled"},this.render()},onSearchRefreshed:function(){this._searchStatus={state:"refresh"},this.render()},onSearchError:function(e,t){var i=m.getSearchErrorMessage(t)||e;this._searchStatus={state:"error",message:i},this.render()},onSearchFailed:function(e){var t=m.getSearchFailureMessage(e);this._searchStatus={state:"error",message:t},this.render()},onEventData:function(e,t){this.resultModel.setFromSplunkD(t),this.render()},onSummaryData:function(e,t){this.summaryModel.setFromSplunkD(t),this._isSummaryModelReady||(this._isSummaryModelReady=!0,this.render())},_onSummaryError:function(e,t){this.onSearchError(e,t)},onSettingsChange:function(e){if(e.hasChanged("fields")&&this.updateSelectedFields(),(e.hasChanged("showPager")||e.hasChanged("pagerPosition")||e.hasChanged("count")||e.hasChanged("fields"))&&this.render(),(e.hasChanged("showPager")||e.hasChanged("type")||e.hasChanged("count")||e.hasChanged("maxLines")||e.hasChanged("raw.drilldown")||e.hasChanged("table.drilldown")||e.hasChanged("list.drilldown"))&&this.updateEventData(),e.hasChanged("drilldown"))this._applyDrilldownType(e.get("drilldown"),e);else if(e.hasChanged("table.drilldown")||e.hasChanged("raw.drilldown")||e.hasChanged("list.drilldown")){var t=this.options.segmentation,i=s.bind((function(e,t,i){return e.get(i+".drilldown")===t}),null,this.settings);s({table:"1",raw:t||"full",list:t||"full"}).all(i)?this.settings.set("drilldown","all"):s({table:"0",raw:"none",list:"none"}).all(i)?this.settings.set("drilldown","none"):this.settings.unset("drilldown")}},_applyDrilldownType:function(e,t){if("all"===e){var i=this.options.segmentation||"full";t.set({"raw.drilldown":i,"list.drilldown":i,"table.drilldown":"1"})}else"none"===e&&t.set({"raw.drilldown":"none","list.drilldown":"none","table.drilldown":"0"});e&&t.set("drilldown",e,{silent:!0})},onReportChange:function(e){(e.hasChanged("display.events.table.sortColumn")||e.hasChanged("display.events.table.sortDirection"))&&this.updateEventData()},emitDrilldownEvent:function(e,t){var i=this.model.get("display.events.type"),n=this.settings.get(i+".drilldown");if("none"!==n&&("table"!==i||!1!==a.normalizeBoolean(n))){var r=e.data.field,o=e.data.value;void 0===r&&"addterm"===e.data.action?r="_raw":void 0===r&&e._time&&(r="_time",o=a.getEpochTimeFromISO(e._time));var l={"click.name":r,"click.value":o,"click.name2":r,"click.value2":o},d=e.idx;if(void 0!==d&&d>=0){var h=this.resultModel.results.at(d).toJSON();if(h){s.each(h,(function(e,t){l["row."+t]=e.length>1?e.join(","):e[0]}));var u=a.getEpochTimeFromISO(h._time);l.earliest=u,l.latest=String(parseFloat(u)+1)}}var c=s.bind(this._onIntentionsApplied,this,e),p=this.model,m=w.createEventPayload({field:r,data:l,event:e},(function(){var e=s.pick(p.toJSON({tokens:!0}),"search","dispatch.earliest_time","dispatch.latest_time");t().done(c).always((function(){p.set(e,{tokens:!0,silent:!0})}))}));this.trigger("drilldown click",m,this),this.settings.get("drilldownRedirect")&&!m.defaultPrevented()&&m.drilldown()}},_onIntentionsApplied:function(e){var t=this.reportModel.entry.content,i=t.get("search"),n={earliest:t.get("dispatch.earliest_time"),latest:t.get("dispatch.latest_time")};n.earliest===this.manager.get("earliest_time")&&n.latest===this.manager.get("latest_time")&&(n=w.getNormalizedTimerange(this.manager));var a=s.extend({q:i},n),r=!1;(this.trigger("drilldown:redirect",{data:a,preventDefault:function(){r=!0}}),r)||(h.ON_DRILLDOWN||w.redirectToSearchPage)(a,e.event.ctrlKey||e.event.metaKey||e.newTab)},handleMiscDrilldown:function(){(h.ON_DRILLDOWN||w.redirectToSearchPage)({q:this.reportModel.entry.content.get("search"),earliest:this.reportModel.entry.content.get("dispatch.earliest_time")||"",latest:this.reportModel.entry.content.get("dispatch.latest_time")||""})},onPageChange:function(){this.updateEventData()},updateEventData:function(){if(this.eventData){var e=this.paginator?parseInt(this.paginator.settings.get("pageSize"),10):0,t=this.paginator?parseInt(this.paginator.settings.get("page"),10):0,i=this.settings.get("type"),n=e*t,a=parseInt(this.settings.get("count"),10)||this.reportDefaults["display.prefs.events.count"],r=s.isFunction(this.manager.query.postProcessResolve)?this.manager.query.postProcessResolve():"";this._isRealTimeSearch&&!r&&(n=0-a-n);var o=this.settings.get("maxLines").toString(),l=this.settings.get("raw.drilldown"),d=this.settings.get("list.drilldown"),h=this.model.get("display.events.table.sortColumn"),u=this.model.get("display.events.table.sortDirection"),c=null,p=null;switch(a=a>this.options.maxCount||a<1?this.reportDefaults["display.prefs.events.count"]:a,"raw"===i?c=l:"list"===i&&(c=d),c=c?c.toLowerCase():null){case"inner":case"outer":case"full":case"none":break;default:c="full"}"table"===i&&h&&(p="desc"===u?"| sort "+(n+a)+" - "+h:"| sort "+(n+a)+" "+h);var m=JSON.parse(this.settings.get("fields"));m=s.union(m,["_raw","_time","_audit","_decoration","eventtype","_eventtype_color","linecount","_fulllinecount"]),this._isRealTimeSearch&&(m=s.union(m,["_serial","splunk_server"])),!this._isRealTimeSearch&&h&&this.model.set("display.prefs.events.offset",n),this.eventData.set({offset:n,count:a,max_lines:o,segmentation:c,search:p,fields:m}),this.eventData.fetch()}},updateSummaryData:function(){this.summaryData&&this.summaryData.fetch()},updateSelectedFields:function(){var e=this.settings.get("fields");if(e){if(s.isString(e))if("["===(e=e.trim())[0]&&"]"===e.slice(-1))try{e=JSON.parse(e)}catch(e){}else e=s.map(e.match(k),(function(e){return e.replace(T,"")})),this.updateFieldSetting(e);else this.updateFieldSetting(e);0!==(e=s.map(e,(function(e){return{name:e}}))).length&&"*"!==e[0].name||(e=s.filter(this.resultModel.fields.toJSON(),(function(e){return"_"!==e.name.charAt(0)})))}this.selectedFieldsCollection.reset(e),this.updateEventData()},updateFieldSetting:function(e){var t=JSON.stringify(e);this.settings.set("fields",t,{silent:!0}),this.model.set("display.events.fields",t,{silent:!0})},render:function(){var e=this._searchStatus||null,t=this._eventCount||0,i=(void 0===this._statusBuckets||this._statusBuckets,!0===this._isSummaryModelReady),n=!0===this._isSearchJobModelReady,r=!0===this._isWorkflowActionsCollectionReady,o=i&&n&&r,l=a.normalizeBoolean(this.settings.get("showPager")),d=this.settings.get("pagerPosition"),h=parseInt(this.settings.get("count"),10)||this.reportDefaults["display.prefs.events.count"];h=h>this.options.maxCount||h<1?this.reportDefaults["display.prefs.events.count"]:h;var u=null;if(e)switch(e.state){case"nomanager":u="no-search";break;case"start":u="empty";break;case"running":0!==t&&o||(u="waiting");break;case"cancelled":u="cancelled";break;case"refresh":u="refresh";break;case"done":0===t&&(u="no-events");break;case"error":u={level:"error",icon:"warning-sign",message:e.message}}return u?(this.messageElement||(this.messageElement=document.createElement("div"),this.messageElement.classList.add("msg"),this.messageElement.style.height="306px"),m.render(u,this.messageElement),this.$el.append(this.messageElement)):this.messageElement&&(this.messageElement.parentNode&&this.messageElement.parentNode.removeChild(this.messageElement),this.messageElement=null),o&&e&&!u?this.eventsViewer&&(this._eventsViewerRendered||(this._eventsViewerRendered=!0,this.eventsViewer.render(),this.$el.append(this.eventsViewer.el)),this.eventsViewer.activate({deep:!0}).$el.show()):this.eventsViewer&&this.eventsViewer.deactivate({deep:!0}).$el.hide(),o&&e&&!u&&l?(this.paginator||(this.paginator=new f({id:s.uniqueId(this.id+"-paginator")}),this.paginator.settings.on("change:page",this.onPageChange,this)),this.paginator.settings.set({pageSize:h,itemCount:t}),"top"===d?this.$el.prepend(this.paginator.el):this.$el.append(this.paginator.el)):this.paginator&&(this.paginator.settings.off("change:page",this.onPageChange,this),this.paginator.remove(),this.paginator=null),this.trigger("rendered",this),this},remove:function(){this.eventsViewer&&(this.eventsViewer.deactivate({deep:!0}),this.eventsViewer.remove(),this.eventsViewer=null),this.paginator&&(this.paginator.settings.off("change:page",this.onPageChange,this),this.paginator.remove(),this.paginator=null),this.eventData&&(this.eventData.off(),this.eventData.destroy(),this.eventData=null),this.summaryData&&(this.summaryData.off(),this.summaryData.destroy(),this.summaryData=null),this.settings&&(this.settings.off(),this.settings._sync&&this.settings._sync.destroy()),this.reportModel&&(this.reportModel.off(),this.reportModel._syncPush&&this.reportModel._syncPush.destroy(),this.reportModel._syncPull&&this.reportModel._syncPull.destroy()),this.model&&this.model.off("change",this.onReportChange,this),p.prototype.remove.call(this)}})}.call(t,i,t,e))||(e.exports=n)},"splunkjs/mvc/exposedModulesBase":function(e,t,i){var n;void 0===(n=function(e){return{"splunkjs/mvc":i("splunkjs/mvc"),underscore:i("require/underscore"),jquery:i("shim/jquery"),backbone:i("require/backbone"),"splunkjs/mvc/simplexml":i("splunkjs/mvc/simplexml"),"splunkjs/splunk":i("shim/splunkjs"),"splunkjs/mvc/basechoiceview":i("splunkjs/mvc/basechoiceview"),"splunkjs/mvc/baseinputview":i("splunkjs/mvc/baseinputview"),"splunkjs/mvc/basemanager":i("splunkjs/mvc/basemanager"),"splunkjs/mvc/basemodel":i("splunkjs/mvc/basemodel"),"splunkjs/mvc/basemultichoiceview":i("splunkjs/mvc/basemultichoiceview"),"splunkjs/mvc/basesplunkview":i("splunkjs/mvc/basesplunkview"),"splunkjs/mvc/basetokenmodel":i("splunkjs/mvc/basetokenmodel"),"splunkjs/mvc/chartview":i("splunkjs/mvc/chartview"),"splunkjs/mvc/checkboxgroupview":i("splunkjs/mvc/checkboxgroupview"),"splunkjs/mvc/checkboxview":i("splunkjs/mvc/checkboxview"),"splunkjs/mvc/datatemplateview":i("splunkjs/mvc/datatemplateview"),"splunkjs/mvc/dataview":i("splunkjs/mvc/dataview"),"splunkjs/mvc/drilldown":i("splunkjs/mvc/drilldown"),"splunkjs/mvc/dropdownview":i("splunkjs/mvc/dropdownview"),"splunkjs/mvc/eventsviewerview":i("splunkjs/mvc/eventsviewerview"),"splunkjs/mvc/footerview":i("splunkjs/mvc/footerview"),"splunkjs/mvc/headerview":i("splunkjs/mvc/headerview"),"splunkjs/mvc/jobtracker":i("splunkjs/mvc/jobtracker"),"splunkjs/mvc/linklistview":i("splunkjs/mvc/linklistview"),"splunkjs/mvc/layoutview":i("splunkjs/mvc/layoutview"),"splunkjs/mvc/messages":i("splunkjs/mvc/messages"),"splunkjs/mvc/multidropdownview":i("splunkjs/mvc/multidropdownview"),"splunkjs/mvc/multiselectview":i("splunkjs/mvc/multiselectview"),"splunkjs/mvc/mvc":i("splunkjs/mvc/mvc"),"splunkjs/mvc/paginatorview":i("splunkjs/mvc/paginatorview"),"splunkjs/mvc/postprocessmanager":i("splunkjs/mvc/postprocessmanager"),"splunkjs/mvc/progressbarview":i("splunkjs/mvc/progressbarview"),"splunkjs/mvc/protections":i("splunkjs/mvc/protections"),"splunkjs/mvc/radiogroupview":i("splunkjs/mvc/radiogroupview"),"splunkjs/mvc/refreshtimeindicatorview":i("splunkjs/mvc/refreshtimeindicatorview"),"splunkjs/mvc/registry":i("splunkjs/mvc/registry"),"splunkjs/mvc/resultslinkview":i("splunkjs/mvc/resultslinkview"),"splunkjs/mvc/savedsearchmanager":i("splunkjs/mvc/savedsearchmanager"),"splunkjs/mvc/searchbarview":i("splunkjs/mvc/searchbarview"),"splunkjs/mvc/searchcontrolsview":i("splunkjs/mvc/searchcontrolsview"),"splunkjs/mvc/searchmanager":i("splunkjs/mvc/searchmanager"),"splunkjs/mvc/searchmodel":i("splunkjs/mvc/searchmodel"),"splunkjs/mvc/selectview":i("splunkjs/mvc/selectview"),"splunkjs/mvc/settings":i("splunkjs/mvc/settings"),"splunkjs/mvc/sharedmodels":i("splunkjs/mvc/sharedmodels"),"splunkjs/mvc/simplesplunkview":i("splunkjs/mvc/simplesplunkview"),"splunkjs/mvc/singleview":i("splunkjs/mvc/singleview"),"splunkjs/mvc/splunkmapview":i("splunkjs/mvc/splunkmapview"),"splunkjs/mvc/splunkresultsmodel":i("splunkjs/mvc/splunkresultsmodel"),"splunkjs/mvc/tableview":i("splunkjs/mvc/tableview"),"splunkjs/mvc/textboxview":i("splunkjs/mvc/textboxview"),"splunkjs/mvc/textinputview":i("splunkjs/mvc/textinputview"),"splunkjs/mvc/timelineview":i("splunkjs/mvc/timelineview"),"splunkjs/mvc/timepickerview":i("splunkjs/mvc/timepickerview"),"splunkjs/mvc/timerangeview":i("splunkjs/mvc/timerangeview"),"splunkjs/mvc/tokenawaremodel":i("splunkjs/mvc/tokenawaremodel"),"splunkjs/mvc/tokenescapestring":i("splunkjs/mvc/tokenescapestring"),"splunkjs/mvc/tokenforwarder":i("splunkjs/mvc/tokenforwarder"),"splunkjs/mvc/tokensafestring":i("splunkjs/mvc/tokensafestring"),"splunkjs/mvc/tokenutils":i("splunkjs/mvc/tokenutils"),"splunkjs/mvc/utils":i("splunkjs/mvc/utils"),"splunkjs/mvc/visualizationregistry":i("splunkjs/mvc/visualizationregistry"),"splunkjs/mvc/visualizationview":i("splunkjs/mvc/visualizationview")}}.call(t,i,t,e))||(e.exports=n)},"splunkjs/mvc/footerview":function(e,t,i){var n;void 0===(n=function(e,t,n){var s=i("splunkjs/mvc/basesplunkview"),a=i("util/console");return s.extend({moduleId:n.i,initialize:function(){a.warn("footerview has been deprecated and may be removed in a future release.")},render:function(){return this}})}.call(t,i,t,e))||(e.exports=n)},"splunkjs/mvc/headerview":function(e,t,i){var n;void 0===(n=function(e,t,n){var s=i("shim/jquery"),a=(i("splunkjs/mvc/mvc"),i("splunkjs/mvc/basesplunkview")),r=i("views/shared/splunkbar/Master"),o=i("views/shared/appbar/Master"),l=i("views/shared/global_banner/ReactAdapterMaster"),d=i("views/shared/litebar/Master"),h=i("splunkjs/mvc/sharedmodels"),u=(i("shim/splunk.util"),i("models/config"));i("uri/route");return a.extend({moduleId:n.i,className:"splunk-header",options:{appbar:!0,splunkbar:!0,fromApp:!1,useSessionStorageCache:!1,acceleratedAppNav:!1},initialize:function(){this.configure(),this.model=this.model||{},this.model.application=h.get("app"),this.model.user=h.get("user"),this.model.appLocal=h.get("appLocal"),this.model.serverInfo=h.get("serverInfo"),this.model.userPref=h.get("userPref"),this.model.globalBanner=h.get("globalBanner"),this.collection=this.collection||{},this.collection.appLocals=h.get("appLocals"),this.collection.tours=h.get("tours"),this.deferreds=this.deferreds||{},this.deferreds.tours=new Promise(function(e,t){this.model.serverInfo.dfd.then(function(){this.useSideNav=this.settings.get("litebar")||this.model.serverInfo.isLite(),this.useSideNav&&this.collection.tours.dfd.done(function(){this.sideNav=d.create({showAppsList:this.options.showAppsList,hideActivityMenu:this.options.hideActivityMenu,model:{application:this.model.application,appLocal:this.model.appLocal,user:this.model.user,serverInfo:this.model.serverInfo,config:u,appNav:this.model.appNav,userPref:this.model.userPref},collection:{apps:this.collection.appLocals,tours:this.collection.tours}}),e()}.bind(this))}.bind(this))}.bind(this)),this.sharedPromise=new Promise(function(e){s.when(this.model.serverInfo.dfd,this.model.globalBanner.dfd).done((function(){e()}))}.bind(this))},renderSplunkBar:function(){this.settings.get("splunkbar")?(this.globalNav||(this.globalNav=r.create({showAppsList:!1!==this.settings.get("showAppsList"),fromApp:this.settings.get("fromApp"),model:{application:this.model.application,appLocal:this.model.appLocal,user:this.model.user,serverInfo:this.model.serverInfo,config:u,userPref:this.model.userPref},collection:{apps:this.collection.appLocals}})),this.globalNav.render().appendTo(this.$el)):this.globalNav&&(this.globalNav.remove(),this.globalNav=null)},renderAppBar:function(){this.settings.get("appbar")?(this.appNav||(this.appNav=o.create({model:{application:this.model.application,app:this.model.appLocal,user:this.model.user,serverInfo:this.model.serverInfo,appNav:this.model.appNav},useSessionStorageCache:this.settings.get("useSessionStorageCache"),autoRender:!1})),this.appNav.render().appendTo(this.$el)):this.appNav&&(this.appNav.remove(),this.appNav=null)},renderGlobalBanner:function(){this.globalBanner||(this.globalBanner=new l({model:{globalBanner:this.model.globalBanner}})),this.globalBanner.render().appendTo(this.$el)},render:function(){return this.stopListening(this.settings,"change:splunkbar"),this.stopListening(this.settings,"change:appbar"),this.sharedPromise.then(function(){this.useSideNav?this.deferreds.tours.then(function(){this.$el.empty(),this.$el.append(this.sideNav.el)}.bind(this)):(this.$el.empty(),this.options.fromApp&&this.model.globalBanner.globalBannerVisible()&&this.renderGlobalBanner(),this.renderSplunkBar(),this.renderAppBar(),this.listenTo(this.settings,"change:appbar",(function(){this.renderAppBar()})),this.listenTo(this.settings,"change:splunkbar",(function(){this.renderSplunkBar()})))}.bind(this)),this}})}.call(t,i,t,e))||(e.exports=n)},"splunkjs/mvc/layoutview":function(e,t,i){var n;void 0===(n=function(e,t,n){var s=i("shim/jquery"),a=i("require/underscore"),r=i("require/backbone"),o=i("splunkjs/mvc/basesplunkview"),l=i("splunkjs/mvc/headerview"),d=i(2048),h=i("shim/splunk.util");i("splunkjs/mvc/sharedmodels");return o.extend({moduleId:n.i,el:"body",options:{hideChrome:!1,hideAppBar:!1,hideSplunkBar:!1,hideAppsList:!1,hideActivityMenu:!1,layout:"scrolling"},initialize:function(e){this.configure(),o.prototype.initialize.apply(this,arguments),this.$el.removeAttr("class").removeAttr("id")},getContainerElement:function(){if(this._$main)return this._$main[0];throw new Error("Layout must be rendered before container can be accessed")},render:function(){var e=a.template(this.template);this.$el.append(e({_:a,make_url:h.make_url})),this._$main=s('<div role="main">'),this.$("#navSkip").after(this._$main),this._applyLayoutStyles();var t=this.$("header");return this.options.hideChrome||(this._headerView=new l({id:"header",el:t,splunkbar:!this.options.hideSplunkBar,appbar:!this.options.hideAppBar,showAppsList:!this.options.hideAppsList,hideActivityMenu:this.options.hideActivityMenu,fromApp:!0}).render(),t.removeAttr("class").removeAttr("id")),this},remove:function(){return this._$main=null,this._headerView.remove(),o.prototype.remove.apply(this,arguments)},setElement:function(){return r.View.prototype.setElement.apply(this,arguments)},_applyLayoutStyles:function(){this.$el.css({margin:0}),"fixed"===this.options.layout?(this._$main.css({flex:"1 0 0%",position:"relative",overflow:"hidden",width:"100vw"}),this.$el.css({display:"flex",flexDirection:"column",position:"fixed",left:0,top:0,right:0,bottom:0,overflow:"hidden"}),this.$el.find("header").css({flex:"0 0 auto"})):this._$main.css({position:"relative",minHeight:"500px"})},template:d})}.call(t,i,t,e))||(e.exports=n)},"splunkjs/mvc/legacy/corevisualizations.json":function(e){e.exports=JSON.parse('{"links":{"_reload":"/servicesNS/admin/dashboard_playground/data/ui/visualizations/_reload","_acl":"/servicesNS/admin/dashboard_playground/data/ui/visualizations/_acl"},"origin":"https://localhost:8000/servicesNS/admin/dashboard_playground/data/ui/visualizations","updated":"2017-10-16T11:35:42-07:00","generator":{"build":"1faa48d755a80d0c90c5cc7b7d4499ff59054ae3","version":"20170613"},"entry":[{"name":"area","id":"https://localhost:8000/servicesNS/nobody/system/data/ui/visualizations/area","updated":"1969-12-31T16:00:00-08:00","links":{"alternate":"/servicesNS/nobody/system/data/ui/visualizations/area","list":"/servicesNS/nobody/system/data/ui/visualizations/area","_reload":"/servicesNS/nobody/system/data/ui/visualizations/area/_reload"},"author":"nobody","acl":{"app":"system","can_change_perms":true,"can_list":true,"can_share_app":true,"can_share_global":true,"can_share_user":false,"can_write":true,"modifiable":true,"owner":"nobody","perms":{"read":["*"],"write":["admin"]},"removable":false,"sharing":"system"},"content":{"allow_user_selection":true,"core.charting_type":"area","core.height_attribute":"display.visualizations.chartHeight","core.icon":"chart-area","core.order":"2","core.preview_image":"area.png","core.recommend_for":"timechart","core.type":"visualizations","core.viz_type":"charting","data_sources":"primary,annotation","data_sources.annotation.params.count":"1000","data_sources.annotation.params.output_mode":"json_cols","data_sources.primary.params.count":"$display.visualizations.charting.data.count:JSCHART_RESULTS_LIMIT:10000$","data_sources.primary.params.offset":"0","data_sources.primary.params.output_mode":"json_cols","data_sources.primary.params.show_metadata":"true","default_height":"300","default_width":"300","description":"Track changes in aggregated values over time.","disabled":false,"eai:acl":null,"eai:appName":"dashboard_playground","eai:userName":"admin","label":"Area Chart","max_height":"10000","min_height":"100","min_width":"100","search_fragment":"| timechart count [by comparison_category]","supports_drilldown":"True","supports_export":"True","supports_trellis":"True","trellis_default_height":"400"}},{"name":"bar","id":"https://localhost:8000/servicesNS/nobody/system/data/ui/visualizations/bar","updated":"1969-12-31T16:00:00-08:00","links":{"alternate":"/servicesNS/nobody/system/data/ui/visualizations/bar","list":"/servicesNS/nobody/system/data/ui/visualizations/bar","_reload":"/servicesNS/nobody/system/data/ui/visualizations/bar/_reload"},"author":"nobody","acl":{"app":"system","can_change_perms":true,"can_list":true,"can_share_app":true,"can_share_global":true,"can_share_user":false,"can_write":true,"modifiable":true,"owner":"nobody","perms":{"read":["*"],"write":["admin"]},"removable":false,"sharing":"system"},"content":{"allow_user_selection":true,"core.charting_type":"bar","core.height_attribute":"display.visualizations.chartHeight","core.icon":"chart-bar","core.order":"4","core.preview_image":"bar.png","core.recommend_for":"top, rare","core.type":"visualizations","core.viz_type":"charting","data_sources":"primary","data_sources.primary.params.count":"$display.visualizations.charting.data.count:JSCHART_RESULTS_LIMIT:10000$","data_sources.primary.params.offset":"0","data_sources.primary.params.output_mode":"json_cols","data_sources.primary.params.show_metadata":"true","default_height":"300","default_width":"300","description":"Compare values or fields.","disabled":false,"eai:acl":null,"eai:appName":"dashboard_playground","eai:userName":"admin","label":"Bar Chart","max_height":"10000","min_height":"100","min_width":"100","search_fragment":"| stats count by comparison_category","supports_drilldown":"True","supports_export":"True","supports_trellis":"True","trellis_default_height":"400"}},{"name":"bubble","id":"https://localhost:8000/servicesNS/nobody/system/data/ui/visualizations/bubble","updated":"1969-12-31T16:00:00-08:00","links":{"alternate":"/servicesNS/nobody/system/data/ui/visualizations/bubble","list":"/servicesNS/nobody/system/data/ui/visualizations/bubble","_reload":"/servicesNS/nobody/system/data/ui/visualizations/bubble/_reload"},"author":"nobody","acl":{"app":"system","can_change_perms":true,"can_list":true,"can_share_app":true,"can_share_global":true,"can_share_user":false,"can_write":true,"modifiable":true,"owner":"nobody","perms":{"read":["*"],"write":["admin"]},"removable":false,"sharing":"system"},"content":{"allow_user_selection":true,"core.charting_type":"bubble","core.height_attribute":"display.visualizations.chartHeight","core.icon":"chart-bubble","core.order":"7","core.preview_image":"bubble.png","core.type":"visualizations","core.viz_type":"charting","data_sources":"primary","data_sources.primary.params.count":"$display.visualizations.charting.data.count:JSCHART_RESULTS_LIMIT:10000$","data_sources.primary.params.offset":"0","data_sources.primary.params.output_mode":"json_cols","data_sources.primary.params.show_metadata":"true","default_height":"300","default_width":"300","description":"Show relationships between discrete values in three dimensions.","disabled":false,"eai:acl":null,"eai:appName":"dashboard_playground","eai:userName":"admin","label":"Bubble Chart","max_height":"10000","min_height":"100","min_width":"100","search_fragment":"| stats x_value_aggregation y_value_aggregation size_aggregation by name_category [comparison_category]","supports_drilldown":"True","supports_export":"True","supports_trellis":"True","trellis_default_height":"400"}},{"name":"choropleth","id":"https://localhost:8000/servicesNS/nobody/system/data/ui/visualizations/choropleth","updated":"1969-12-31T16:00:00-08:00","links":{"alternate":"/servicesNS/nobody/system/data/ui/visualizations/choropleth","list":"/servicesNS/nobody/system/data/ui/visualizations/choropleth","_reload":"/servicesNS/nobody/system/data/ui/visualizations/choropleth/_reload"},"author":"nobody","acl":{"app":"system","can_change_perms":true,"can_list":true,"can_share_app":true,"can_share_global":true,"can_share_user":false,"can_write":true,"modifiable":true,"owner":"nobody","perms":{"read":["*"],"write":["admin"]},"removable":false,"sharing":"system"},"content":{"allow_user_selection":true,"core.height_attribute":"display.visualizations.mapHeight","core.icon":"choropleth-map","core.mapping_type":"choropleth","core.order":"13","core.preview_image":"choropleth.png","core.recommend_for":"geom","core.type":"visualizations","core.viz_type":"mapping","data_sources":"primary","data_sources.primary.mapping_filter":"true","data_sources.primary.mapping_filter.center":"$display.visualizations.mapping.map.center:(0,0)$","data_sources.primary.mapping_filter.zoom":"$display.visualizations.mapping.map.zoom:2$","data_sources.primary.params.count":"$CHOROPLETH_SHAPE_LIMIT:10000$","data_sources.primary.params.offset":"0","data_sources.primary.params.output_mode":"json_cols","data_sources.primary.params.search":"geomfilter min_y=$south$ min_x=$west$ max_y=$north$ max_x=$east$","data_sources.primary.params.show_metadata":"true","default_height":"400","default_width":"300","description":"Show how values vary over a geographic region.","disabled":false,"eai:acl":null,"eai:appName":"dashboard_playground","eai:userName":"admin","label":"Choropleth Map","max_height":"10000","min_height":"200","min_width":"100","search_fragment":"| stats count by featureId | geom geo_countries featureIdField=featureId","supports_drilldown":"True","supports_export":"True","supports_trellis":"True","trellis_default_height":"400"}},{"name":"column","id":"https://localhost:8000/servicesNS/nobody/system/data/ui/visualizations/column","updated":"1969-12-31T16:00:00-08:00","links":{"alternate":"/servicesNS/nobody/system/data/ui/visualizations/column","list":"/servicesNS/nobody/system/data/ui/visualizations/column","_reload":"/servicesNS/nobody/system/data/ui/visualizations/column/_reload"},"author":"nobody","acl":{"app":"system","can_change_perms":true,"can_list":true,"can_share_app":true,"can_share_global":true,"can_share_user":false,"can_write":true,"modifiable":true,"owner":"nobody","perms":{"read":["*"],"write":["admin"]},"removable":false,"sharing":"system"},"content":{"allow_user_selection":true,"core.charting_type":"column","core.height_attribute":"display.visualizations.chartHeight","core.icon":"chart-column","core.order":"3","core.preview_image":"column.png","core.recommend_for":"timechart, top, rare","core.type":"visualizations","core.viz_type":"charting","data_sources":"primary,annotation","data_sources.annotation.params.count":"1000","data_sources.annotation.params.output_mode":"json_cols","data_sources.primary.params.count":"$display.visualizations.charting.data.count:JSCHART_RESULTS_LIMIT:10000$","data_sources.primary.params.offset":"0","data_sources.primary.params.output_mode":"json_cols","data_sources.primary.params.show_metadata":"true","default_height":"300","default_width":"300","description":"Compare values or fields.","disabled":false,"eai:acl":null,"eai:appName":"dashboard_playground","eai:userName":"admin","label":"Column Chart","max_height":"10000","min_height":"100","min_width":"100","search_fragment":"| stats count by comparison_category","supports_drilldown":"True","supports_export":"True","supports_trellis":"True","trellis_default_height":"400"}},{"name":"events","id":"https://localhost:8000/servicesNS/nobody/system/data/ui/visualizations/events","updated":"1969-12-31T16:00:00-08:00","links":{"alternate":"/servicesNS/nobody/system/data/ui/visualizations/events","list":"/servicesNS/nobody/system/data/ui/visualizations/events","_reload":"/servicesNS/nobody/system/data/ui/visualizations/events/_reload"},"author":"nobody","acl":{"app":"system","can_change_perms":true,"can_list":true,"can_share_app":true,"can_share_global":true,"can_share_user":false,"can_write":true,"modifiable":true,"owner":"nobody","perms":{"read":["*"],"write":["admin"]},"removable":false,"sharing":"system"},"content":{"allow_user_selection":true,"core.icon":"list","core.order":"15","core.preview_image":"events.png","core.type":"events","data_sources":"primary","data_sources.primary.params.show_metadata":"true","default_height":"300","default_width":"300","description":"List events from search results.","disabled":false,"eai:acl":null,"eai:appName":"dashboard_playground","eai:userName":"admin","label":"Events","max_height":"1000","min_height":"0","min_width":"100","search_fragment":"","supports_drilldown":"True","supports_export":"True","supports_trellis":"False","trellis_default_height":"400"}},{"name":"fillerGauge","id":"https://localhost:8000/servicesNS/nobody/system/data/ui/visualizations/fillerGauge","updated":"1969-12-31T16:00:00-08:00","links":{"alternate":"/servicesNS/nobody/system/data/ui/visualizations/fillerGauge","list":"/servicesNS/nobody/system/data/ui/visualizations/fillerGauge","_reload":"/servicesNS/nobody/system/data/ui/visualizations/fillerGauge/_reload"},"author":"nobody","acl":{"app":"system","can_change_perms":true,"can_list":true,"can_share_app":true,"can_share_global":true,"can_share_user":false,"can_write":true,"modifiable":true,"owner":"nobody","perms":{"read":["*"],"write":["admin"]},"removable":false,"sharing":"system"},"content":{"allow_user_selection":true,"core.charting_type":"fillerGauge","core.height_attribute":"display.visualizations.chartHeight","core.icon":"gauge-filler","core.order":"10","core.preview_image":"fillerGauge.png","core.type":"visualizations","core.viz_type":"charting","data_sources":"primary","data_sources.primary.params.count":"$display.visualizations.charting.data.count:JSCHART_RESULTS_LIMIT:10000$","data_sources.primary.params.offset":"0","data_sources.primary.params.output_mode":"json_cols","data_sources.primary.params.show_metadata":"true","default_height":"300","default_width":"300","description":"Show a single value and its current range.","disabled":false,"eai:acl":null,"eai:appName":"dashboard_playground","eai:userName":"admin","label":"Filler Gauge","max_height":"10000","min_height":"100","min_width":"100","search_fragment":"| stats count","supports_drilldown":"False","supports_export":"True","supports_trellis":"True","trellis_default_height":"400"}},{"name":"line","id":"https://localhost:8000/servicesNS/nobody/system/data/ui/visualizations/line","updated":"1969-12-31T16:00:00-08:00","links":{"alternate":"/servicesNS/nobody/system/data/ui/visualizations/line","list":"/servicesNS/nobody/system/data/ui/visualizations/line","_reload":"/servicesNS/nobody/system/data/ui/visualizations/line/_reload"},"author":"nobody","acl":{"app":"system","can_change_perms":true,"can_list":true,"can_share_app":true,"can_share_global":true,"can_share_user":false,"can_write":true,"modifiable":true,"owner":"nobody","perms":{"read":["*"],"write":["admin"]},"removable":false,"sharing":"system"},"content":{"allow_user_selection":true,"core.charting_type":"line","core.height_attribute":"display.visualizations.chartHeight","core.icon":"chart-line","core.order":"1","core.preview_image":"line.png","core.recommend_for":"timechart, predict","core.type":"visualizations","core.viz_type":"charting","data_sources":"primary,annotation","data_sources.annotation.params.count":"1000","data_sources.annotation.params.output_mode":"json_cols","data_sources.primary.params.count":"$display.visualizations.charting.data.count:JSCHART_RESULTS_LIMIT:10000$","data_sources.primary.params.offset":"0","data_sources.primary.params.output_mode":"json_cols","data_sources.primary.params.show_metadata":"true","default_height":"300","default_width":"300","description":"Track values and trends over time.","disabled":false,"eai:acl":null,"eai:appName":"dashboard_playground","eai:userName":"admin","label":"Line Chart","max_height":"10000","min_height":"100","min_width":"100","search_fragment":"| timechart count [by comparison_category]","supports_drilldown":"True","supports_export":"True","supports_trellis":"True","trellis_default_height":"400"}},{"name":"mapping","id":"https://localhost:8000/servicesNS/nobody/system/data/ui/visualizations/mapping","updated":"1969-12-31T16:00:00-08:00","links":{"alternate":"/servicesNS/nobody/system/data/ui/visualizations/mapping","list":"/servicesNS/nobody/system/data/ui/visualizations/mapping","_reload":"/servicesNS/nobody/system/data/ui/visualizations/mapping/_reload"},"author":"nobody","acl":{"app":"system","can_change_perms":true,"can_list":true,"can_share_app":true,"can_share_global":true,"can_share_user":false,"can_write":true,"modifiable":true,"owner":"nobody","perms":{"read":["*"],"write":["admin"]},"removable":false,"sharing":"system"},"content":{"allow_user_selection":true,"core.height_attribute":"display.visualizations.mapHeight","core.icon":"location","core.mapping_type":"marker","core.order":"12","core.preview_image":"mapping.png","core.recommend_for":"geostats","core.type":"visualizations","core.viz_type":"mapping","data_sources":"primary","data_sources.primary.mapping_filter":"true","data_sources.primary.mapping_filter.center":"$display.visualizations.mapping.map.center:(0,0)$","data_sources.primary.mapping_filter.zoom":"$display.visualizations.mapping.map.zoom:2$","data_sources.primary.params.count":"$display.visualizations.mapping.data.maxClusters:100$","data_sources.primary.params.offset":"0","data_sources.primary.params.output_mode":"json_cols","data_sources.primary.params.search":"geofilter south=$south$ west=$west$ north=$north$ east=$east$ maxclusters=$display.visualizations.mapping.data.maxClusters:100$","data_sources.primary.params.show_metadata":"true","default_height":"400","default_width":"600","description":"Show aggregated values in a geographic region.","disabled":false,"eai:acl":null,"eai:appName":"dashboard_playground","eai:userName":"admin","label":"Cluster Map","max_height":"10000","min_height":"200","min_width":"100","search_fragment":"| geostats count [by category] latfield=lat longfield=lon","supports_drilldown":"True","supports_export":"True","supports_trellis":"False","trellis_default_height":"400"}},{"name":"markerGauge","id":"https://localhost:8000/servicesNS/nobody/system/data/ui/visualizations/markerGauge","updated":"1969-12-31T16:00:00-08:00","links":{"alternate":"/servicesNS/nobody/system/data/ui/visualizations/markerGauge","list":"/servicesNS/nobody/system/data/ui/visualizations/markerGauge","_reload":"/servicesNS/nobody/system/data/ui/visualizations/markerGauge/_reload"},"author":"nobody","acl":{"app":"system","can_change_perms":true,"can_list":true,"can_share_app":true,"can_share_global":true,"can_share_user":false,"can_write":true,"modifiable":true,"owner":"nobody","perms":{"read":["*"],"write":["admin"]},"removable":false,"sharing":"system"},"content":{"allow_user_selection":true,"core.charting_type":"markerGauge","core.height_attribute":"display.visualizations.chartHeight","core.icon":"gauge-marker","core.order":"11","core.preview_image":"markerGauge.png","core.type":"visualizations","core.viz_type":"charting","data_sources":"primary","data_sources.primary.params.count":"$display.visualizations.charting.data.count:JSCHART_RESULTS_LIMIT:10000$","data_sources.primary.params.offset":"0","data_sources.primary.params.output_mode":"json_cols","data_sources.primary.params.show_metadata":"true","default_height":"300","default_width":"300","description":"Show a single value in relation to customized ranges.","disabled":false,"eai:acl":null,"eai:appName":"dashboard_playground","eai:userName":"admin","label":"Marker Gauge","max_height":"10000","min_height":"100","min_width":"100","search_fragment":"| stats count","supports_drilldown":"False","supports_export":"True","supports_trellis":"True","trellis_default_height":"400"}},{"name":"pie","id":"https://localhost:8000/servicesNS/nobody/system/data/ui/visualizations/pie","updated":"1969-12-31T16:00:00-08:00","links":{"alternate":"/servicesNS/nobody/system/data/ui/visualizations/pie","list":"/servicesNS/nobody/system/data/ui/visualizations/pie","_reload":"/servicesNS/nobody/system/data/ui/visualizations/pie/_reload"},"author":"nobody","acl":{"app":"system","can_change_perms":true,"can_list":true,"can_share_app":true,"can_share_global":true,"can_share_user":false,"can_write":true,"modifiable":true,"owner":"nobody","perms":{"read":["*"],"write":["admin"]},"removable":false,"sharing":"system"},"content":{"allow_user_selection":true,"core.charting_type":"pie","core.height_attribute":"display.visualizations.chartHeight","core.icon":"chart-pie","core.order":"5","core.preview_image":"pie.png","core.recommend_for":"top, rare","core.type":"visualizations","core.viz_type":"charting","data_sources":"primary","data_sources.primary.params.count":"$display.visualizations.charting.data.count:JSCHART_RESULTS_LIMIT:10000$","data_sources.primary.params.offset":"0","data_sources.primary.params.output_mode":"json_cols","data_sources.primary.params.show_metadata":"true","default_height":"300","default_width":"300","description":"Compare categories in a dataset.","disabled":false,"eai:acl":null,"eai:appName":"dashboard_playground","eai:userName":"admin","label":"Pie Chart","max_height":"10000","min_height":"100","min_width":"100","search_fragment":"| stats count by comparison_category","supports_drilldown":"True","supports_export":"True","supports_trellis":"True","trellis_default_height":"400"}},{"name":"radialGauge","id":"https://localhost:8000/servicesNS/nobody/system/data/ui/visualizations/radialGauge","updated":"1969-12-31T16:00:00-08:00","links":{"alternate":"/servicesNS/nobody/system/data/ui/visualizations/radialGauge","list":"/servicesNS/nobody/system/data/ui/visualizations/radialGauge","_reload":"/servicesNS/nobody/system/data/ui/visualizations/radialGauge/_reload"},"author":"nobody","acl":{"app":"system","can_change_perms":true,"can_list":true,"can_share_app":true,"can_share_global":true,"can_share_user":false,"can_write":true,"modifiable":true,"owner":"nobody","perms":{"read":["*"],"write":["admin"]},"removable":false,"sharing":"system"},"content":{"allow_user_selection":true,"core.charting_type":"radialGauge","core.height_attribute":"display.visualizations.chartHeight","core.icon":"gauge-radial","core.order":"9","core.preview_image":"radialGauge.png","core.type":"visualizations","core.viz_type":"charting","data_sources":"primary","data_sources.primary.params.count":"$display.visualizations.charting.data.count:JSCHART_RESULTS_LIMIT:10000$","data_sources.primary.params.offset":"0","data_sources.primary.params.output_mode":"json_cols","data_sources.primary.params.show_metadata":"true","default_height":"300","default_width":"300","description":"Show a single value in relation to customized ranges.","disabled":false,"eai:acl":null,"eai:appName":"dashboard_playground","eai:userName":"admin","label":"Radial Gauge","max_height":"10000","min_height":"100","min_width":"100","search_fragment":"| stats count","supports_drilldown":"False","supports_export":"True","supports_trellis":"True","trellis_default_height":"400"}},{"name":"scatter","id":"https://localhost:8000/servicesNS/nobody/system/data/ui/visualizations/scatter","updated":"1969-12-31T16:00:00-08:00","links":{"alternate":"/servicesNS/nobody/system/data/ui/visualizations/scatter","list":"/servicesNS/nobody/system/data/ui/visualizations/scatter","_reload":"/servicesNS/nobody/system/data/ui/visualizations/scatter/_reload"},"author":"nobody","acl":{"app":"system","can_change_perms":true,"can_list":true,"can_share_app":true,"can_share_global":true,"can_share_user":false,"can_write":true,"modifiable":true,"owner":"nobody","perms":{"read":["*"],"write":["admin"]},"removable":false,"sharing":"system"},"content":{"allow_user_selection":true,"core.charting_type":"scatter","core.height_attribute":"display.visualizations.chartHeight","core.icon":"chart-scatter","core.order":"6","core.preview_image":"scatter.png","core.type":"visualizations","core.viz_type":"charting","data_sources":"primary","data_sources.primary.params.count":"$display.visualizations.charting.data.count:JSCHART_RESULTS_LIMIT:10000$","data_sources.primary.params.offset":"0","data_sources.primary.params.output_mode":"json_cols","data_sources.primary.params.show_metadata":"true","default_height":"300","default_width":"300","description":"Show relationships between discrete values in two dimensions.","disabled":false,"eai:acl":null,"eai:appName":"dashboard_playground","eai:userName":"admin","label":"Scatter Chart","max_height":"10000","min_height":"100","min_width":"100","search_fragment":"| stats x_value_aggregation y_value_aggregation by name_category [comparison_category]","supports_drilldown":"True","supports_export":"True","supports_trellis":"True","trellis_default_height":"400"}},{"name":"singlevalue","id":"https://localhost:8000/servicesNS/nobody/system/data/ui/visualizations/singlevalue","updated":"1969-12-31T16:00:00-08:00","links":{"alternate":"/servicesNS/nobody/system/data/ui/visualizations/singlevalue","list":"/servicesNS/nobody/system/data/ui/visualizations/singlevalue","_reload":"/servicesNS/nobody/system/data/ui/visualizations/singlevalue/_reload"},"author":"nobody","acl":{"app":"system","can_change_perms":true,"can_list":true,"can_share_app":true,"can_share_global":true,"can_share_user":false,"can_write":true,"modifiable":true,"owner":"nobody","perms":{"read":["*"],"write":["admin"]},"removable":false,"sharing":"system"},"content":{"allow_user_selection":true,"core.height_attribute":"display.visualizations.singlevalueHeight","core.icon":"single-value","core.order":"8","core.preview_image":"singlevalue.png","core.recommend_for":"timechart","core.type":"visualizations","core.viz_type":"singlevalue","data_sources":"primary","data_sources.primary.params.count":"1000","data_sources.primary.params.offset":"0","data_sources.primary.params.output_mode":"json_cols","data_sources.primary.params.show_metadata":"true","default_height":"115","default_width":"300","description":"Track a metric with context and trends.","disabled":false,"eai:acl":null,"eai:appName":"dashboard_playground","eai:userName":"admin","label":"Single Value","max_height":"10000","min_height":"50","min_width":"100","search_fragment":"| timechart count","supports_drilldown":"True","supports_export":"True","supports_trellis":"True","trellis_default_height":"400","trellis_min_widths":"70, 130, 230","trellis_per_row":"10, 6, 4"}},{"name":"statistics","id":"https://localhost:8000/servicesNS/nobody/system/data/ui/visualizations/statistics","updated":"1969-12-31T16:00:00-08:00","links":{"alternate":"/servicesNS/nobody/system/data/ui/visualizations/statistics","list":"/servicesNS/nobody/system/data/ui/visualizations/statistics","_reload":"/servicesNS/nobody/system/data/ui/visualizations/statistics/_reload"},"author":"nobody","acl":{"app":"system","can_change_perms":true,"can_list":true,"can_share_app":true,"can_share_global":true,"can_share_user":false,"can_write":true,"modifiable":true,"owner":"nobody","perms":{"read":["*"],"write":["admin"]},"removable":false,"sharing":"system"},"content":{"allow_user_selection":true,"core.icon":"table","core.order":"14","core.preview_image":"statistics.png","core.recommend_for":"timechart, top, rare, predict","core.type":"statistics","data_sources":"primary","data_sources.primary.params.count":"20","data_sources.primary.params.offset":"0","data_sources.primary.params.output_mode":"json_rows","data_sources.primary.params.show_metadata":"true","data_sources.primary.params.sort_direction":"$display.statistics.sortDirection:$","data_sources.primary.params.sort_key":"$display.statistics.sortColumn:$","default_height":"300","default_width":"300","description":"Show results organized in rows and columns.","disabled":false,"eai:acl":null,"eai:appName":"dashboard_playground","eai:userName":"admin","label":"Statistics Table","max_height":"1000","min_height":"0","min_width":"100","search_fragment":"","supports_drilldown":"True","supports_export":"True","supports_trellis":"False","trellis_default_height":"400"}}],"paging":{"total":15,"perPage":10000000,"offset":0},"messages":[]}')},"splunkjs/mvc/linklistview":function(e,t,i){var n;void 0===(n=function(e,t,n){var s=i("splunkjs/mvc/basechoiceview"),a=i("splunkjs/mvc/components/LinkList");return s.extend({moduleId:n.i,className:"splunk-linklist splunk-choice-input",options:{valueField:"",labelField:"",default:void 0,choices:[],selectFirstChoice:!1,disabled:!1,value:void 0},getReactComponent:function(){return a}})}.call(t,i,t,e))||(e.exports=n)},"splunkjs/mvc/multidropdownview":function(e,t,i){var n;void 0===(n=function(e,t,n){var s=i("require/underscore"),a=i("splunkjs/mvc/basemultichoiceview"),r=i("splunkjs/mvc/components/MultiDropdown");return a.extend({moduleId:n.i,className:"splunk-multidropdown splunk-choice-input",getReactComponent:function(){return r},getState:function(){var e=a.prototype.getState.apply(this,arguments);return s.extend({},e,{allowCustomValues:this.settings.get("allowCustomValues")})}})}.call(t,i,t,e))||(e.exports=n)},"splunkjs/mvc/multiselectview":function(e,t,i){var n;void 0===(n=function(e){return i("util/console").warn("%s is deprecated. Please require %s instead.","splunkjs/mvc/simpleform/multiselectview","splunkjs/mvc/simpleform/multidropdownview"),i("splunkjs/mvc/multidropdownview")}.call(t,i,t,e))||(e.exports=n)},"splunkjs/mvc/paginatorview":function(e,t,i){var n;void 0===(n=function(e,t,n){var s=i("shim/jquery"),a=i("require/underscore"),r=(i("splunkjs/mvc/mvc"),i("splunkjs/mvc/basesplunkview"));i("splunkjs/mvc/settings");return i("splunkjs/css/paginator.css"),r.extend({moduleId:n.i,tagName:"nav",attributes:{"aria-label":"Pagination"},className:"splunk-paginator",events:{"click a":"onPageClick"},options:{itemCount:-1,page:0,pageSize:10},initialize:function(){this.configure(),this.settings.on("change",this.render,this)},hide:function(){this.$el.css("display","none")},render:function(e){this.$el.empty();var t=this.settings.get("pageSize"),i=this.settings.get("itemCount");if(i<=t)return this.settings.set("page",0),this;var n,r,o=this.settings.get("page"),l=Math.ceil(i/t),d=Math.min(10,l);o>l&&(o=l-1,this.settings.set({page:o})),n=Math.max(0,o-d/2),r=Math.min(l,n+d)-1,n=Math.max(0,r-d+1);var h,u=function(e){return"<a href='#' role='button' data-page='"+e+"' aria-label='"+(Number.isInteger(e)?a("Go to page "+(e+1)).t():a("Go to "+e+" page").t())+"' />"},c="<a href='#' role='button' class='disabled' aria-disabled='true' tabindex='-1' />",p=function(e){return"<a href='#' role='button' class='selected' aria-selected='true' aria-current='page' aria-label='"+a("Selected page "+(e+1)).t()+"' />"},m=this.$el,f=s(0==o?c:u("prev"),m);for(f.html("&laquo; "+a("Prev").t()).appendTo(m),h=n;h<=r;++h)(f=s(h==o?p(h):u(h))).text(h+1).appendTo(m);return(f=s(o==r?c:u("next"),m)).html(a("Next").t()+" &raquo;").appendTo(m),this},show:function(){this.$el.css("display","")},onPageClick:function(e){if(e.stopPropagation(),e.preventDefault(),!s(e.currentTarget).is(".selected,.disabled")){var t=s(e.currentTarget).attr("data-page"),i=this.settings.get("page");switch(t){case"prev":e.shiftKey?i=0:i-=1;break;case"next":if(e.shiftKey){var n=this.settings.get("itemCount"),a=this.settings.get("pageSize");i=parseInt(n/a,10)-(n%a==0?1:0)}else i+=1;break;default:i=parseInt(t,10)}this.settings.set({page:i})}}})}.call(t,i,t,e))||(e.exports=n)},"splunkjs/mvc/progressbarview":function(e,t,i){var n;void 0===(n=function(e,t,n){var s=i("shim/jquery"),a=(i("splunkjs/mvc/mvc"),i("require/backbone")),r=i("splunkjs/mvc/basesplunkview"),o=i("require/underscore"),l=i("views/shared/delegates/Popdown"),d=(i("shim/splunk.util"),i("stubs/splunk.config"),i("models/search/Job")),h=i("views/shared/ProgressBar");return r.extend({moduleId:n.i,className:"splunk-progressbar",configure:function(){this.options.manager&&(this.options.managerid=this.options.manager),r.prototype.configure.apply(this,arguments)},initialize:function(){this.configure(),this.children||(this.children={}),this.bindToComponentSetting("managerid",this.onManagerChange,this),this.model={jobState:new a.Model,messages:new a.Model};var e=o.debounce(this.render);this.model.jobState.on("change",e,this),this.model.messages.on("change",e,this),this.model.searchJob=new d,this.children.progressBar=new h({model:this.model.searchJob,animateRealTime:!1})},onManagerChange:function(e,t){this.manager&&this.manager.off(null,null,this),this.manager=t,t&&(this.model.jobState.clear(),this.model.messages.clear(),this.manager.on("search:start",this.onSearchStart,this),this.manager.on("search:progress search:done",this.onSearchProgress,this),this.manager.on("search:error",this.onSearchFail,this),this.manager.on("search:fail",this.onSearchFail,this),this.manager.on("search:cancelled",this.onSearchCancelled,this),this.manager.replayLastSearchEvent(this))},onSearchStart:function(){var e=this.manager.getSid();this.model.searchJob.set("id",e),this.model.messages.clear(),this.model.jobState.set({progress:!0})},onSearchProgress:function(e){this.model.searchJob.setFromSplunkD({entry:[e]});var t=e.content||{},i=t.dispatchState;if(t.messages){var n=o(t.messages).chain().where({type:"ERROR"}).pluck("text").value(),s=o(t.messages).chain().where({type:"WARN"}).pluck("text").value();this.model.messages.set("errors",n,{unset:o.isEmpty(n)}),this.model.messages.set("warnings",s,{unset:o.isEmpty(s)})}void 0===i||"FAILED"===i||"DONE"===t.dispatchState?this.model.jobState.clear():this.model.jobState.set({progress:!0})},onSearchFail:function(){this.model.jobState.clear()},onSearchCancelled:function(){this.model.jobState.clear()},render:function(){return this.model.jobState.has("progress")&&this.$el.is(":empty")&&this.children.progressBar.render().prependTo(this.$el),this.model.messages.has("errors")||this.model.messages.has("warnings")?(this.$error||(this.$error=s('<div class="error-details"><a href="#" class="dropdown-toggle error-indicator"><i class="icon-warning-sign"></i></a><div class="dropdown-menu"><div class="arrow"></div><ul class="first-group error-list"></ul></div></div>').appendTo(this.$el),this.$error.find("a.error-indicator").attr("aria-label",o("Click to see the error details.").t())),this.$error.find(".error-list").html(this.errorStatusTemplate(o.extend({_:o,errors:null,warnings:null},this.model.messages.toJSON()))),this.children.errorPopdown||(this.children.errorPopdown=new l({el:this.$error})),this.$error[this.model.messages.has("errors")?"addClass":"removeClass"]("severe")):(this.$error&&(this.$error.remove(),this.$error=null),this.children.errorPopdown&&(this.children.errorPopdown.remove(),this.children.errorPopdown=null)),this},remove:function(){return o(this.children).invoke("remove"),o(this.model).invoke("off"),this.manager&&this.manager.off(null,null,this),r.prototype.remove.call(this)},errorStatusTemplate:o.template('<% _(errors).each(function(error){ %><li class="error"><i class="icon-warning-sign"></i> <%- error %></li><% }); %><% _(warnings).each(function(warn){ %><li class="warning"><i class="icon-warning-sign"></i> <%- warn %></li><% }); %>')})}.call(t,i,t,e))||(e.exports=n)},"splunkjs/mvc/radiogroupview":function(e,t,i){var n;void 0===(n=function(e,t,n){var s=i("splunkjs/mvc/basechoiceview"),a=i("splunkjs/mvc/components/RadioGroup");return s.extend({moduleId:n.i,className:"splunk-radiogroup splunk-choice-input",options:{valueField:"",labelField:"",default:void 0,choices:[],selectFirstChoice:!1,disabled:!1,value:void 0,labelledBy:""},getReactComponent:function(){return a}})}.call(t,i,t,e))||(e.exports=n)},"splunkjs/mvc/refreshtimeindicatorview":function(e,t,i){var n;void 0===(n=function(e,t,n){i("splunkjs/mvc/mvc");var s=i("require/backbone"),a=i("splunkjs/mvc/basesplunkview"),r=i("util/moment");i("util/moment/compactFromNow");var o,l=i("require/underscore"),d=i("shim/splunk.util"),h=i("util/general_utils"),u={};function c(){l(u).each((function(e){e()}))}function p(e){delete u[e],l.isEmpty(u)&&(clearInterval(o),o=null)}return a.extend({moduleId:n.i,className:"splunk-timeindicator",events:{"click a.refresh-btn":"refresh"},configure:function(){this.options.manager&&(this.options.managerid=this.options.manager),this.options["refresh.time.visible"]=h.normalizeBoolean(this.options["refresh.time.visible"],{default:!0}),d.isInt(this.options["refresh.auto.interval"])?this.options["refresh.auto.interval"]=parseInt(this.options["refresh.auto.interval"],10):this.options["refresh.auto.interval"]=0,a.prototype.configure.apply(this,arguments),this.refreshTimeModel=new s.Model,this.listenTo(this.refreshTimeModel,"change",this.renderRefreshTime,this)},initialize:function(){this.configure(),this.bindToComponentSetting("managerid",this.onManagerChange,this),this.timer=l.uniqueId("timer_"),this.listenTo(this.settings,"change",this.updateContent)},onManagerChange:function(e,t){this.manager&&this.manager.off(null,null,this),t&&(this.manager=t,this.manager.on("search:start",this.clear,this),this.manager.on("search:progress",this.onSearchProgress,this),this.manager.on("search:done",this.onSearchProgress,this),this.manager.on("search:fail",this.clear,this),this.manager.on("search:cancelled",this.clear,this),t.replayLastSearchEvent(this))},clear:function(){p(this.timer),this.$el.html("&nbsp;")},updateRefreshTime:function(){this.refreshTime&&r().diff(this.refreshTime)>=1e4&&this.refreshTimeModel.set({text:this.refreshTime.compactFromNow(),title:l("Last refresh: ").t()+this.refreshTime.format("LLL")})},renderRefreshTime:function(){this.$(".time-freshness").text(this.refreshTimeModel.get("text")).show(),this.$(".time-freshness").attr("title",this.refreshTimeModel.get("title")),this.$el.show()},onSearchProgress:function(e){this.lastContent=(e||{}).content||{},this.updateContent()},updateContent:function(){var e,t,i,n=this.lastContent;this.autoRefresh&&(clearInterval(this.autoRefresh),this.autoRefresh=null),"FAILED"===n.dispatchState||"PARSING"===n.dispatchState||"QUEUED"===n.dispatchState?this.clear():"RUNNING"===n.dispatchState?n.isRealTimeSearch?(p(this.timer),this.$el.text(l("Real-time").t())):this.clear():"DONE"===n.dispatchState&&(this.refreshTime=r(this.manager.get("published")),this.clear(),this.refreshTime&&this.settings.get("refresh.time.visible")&&(this.$el.append('<span class="time-freshness"/>'),this.updateRefreshTime(),e=this.timer,t=this.updateRefreshTime,i=this,u[e]&&p(e),u[e]=l.bind(t,i),o||(o=setInterval(c,1e3))),this.settings.get("refresh.auto.interval")&&(this.autoRefresh=setTimeout(l.bind(this.refresh,this),1e3*this.settings.get("refresh.auto.interval"))))},refresh:function(e){e&&e.preventDefault(),this.manager.startSearch()},render:function(){return this.$el.html("&nbsp;"),this},remove:function(){return p(this.timer),this.autoRefresh&&(clearInterval(this.autoRefresh),this.autoRefresh=null),this.onManagerChange(null,null),a.prototype.remove.call(this)}})}.call(t,i,t,e))||(e.exports=n)},"splunkjs/mvc/resultslinkview":function(e,t,i){var n;void 0===(n=function(e,t,n){var s=i("shim/jquery"),a=i("require/underscore"),r=i("shim/splunk.util"),o=i("shim/splunk.window"),l=i("models/search/Job"),d=i("uri/route"),h=i("views/shared/jobstatus/buttons/ExportResultsDialog"),u=i("splunkjs/mvc/basesplunkview"),c=(i("splunkjs/mvc/mvc"),i("models/search/Report")),p=i("splunkjs/mvc/savedsearchmanager"),m=i("splunkjs/mvc/utils"),f=i("splunkjs/mvc/sharedmodels"),g=i("shim/splunk.util"),v=i("splunkjs/mvc/postprocessmanager");return u.extend({moduleId:n.i,events:{"click a.refresh-button":"refresh","blur a":"hideResultsLink","focus a":"showResultsLink"},hideResultsLink:function(e){e.currentTarget.getAttribute("class");this.$el.removeClass("show")},showResultsLink:function(e){e.currentTarget.getAttribute("class");this.$el.addClass("show")},configure:function(){this.options.manager&&(this.options.managerid=this.options.manager),u.prototype.configure.apply(this,arguments)},initialize:function(){this.configure(),this.bindToComponentSetting("managerid",this.onManagerChange,this),this.searchJobModel=new l,this.applicationModel=f.get("app"),this.userModel=f.get("user"),this.showExportResultsButton=this.userModel.canExportResults(),this.model=this.model||new c,this.listenTo(this.model.entry.content,"change:search",a.bind(this.render,this))},onManagerChange:function(e,t){this.manager&&(this.manager.off(null,null,this),this.manager=null),t&&(this.manager=t,this.listenTo(t,"search:start",this.onSearchStart),this.listenTo(t,"search:done",this.onSearchDone),this.manager.hasJob()&&this.onSearchStart(),this.manager.replayLastSearchEvent(this))},onSearchStart:function(){var e=this.manager.getSid();this.searchJobModel.set("id",e),this.$pivotButton&&this.$pivotButton.off("click").on("click",this.openPivot.bind(this)).show(),this.$searchButton&&this.$searchButton.off("click").on("click",this.openSearch.bind(this)).show(),this.$refreshButton&&this.$refreshButton.show(),this.$exportButton&&(this.manager instanceof v?(this.$exportButton.tooltip("destroy"),this.$exportButton.attr("title",a("Export - You cannot export results for post-process jobs.").t()),this.$exportButton.tooltip({animation:!1,container:"body"}),this.$exportButton.addClass("disabled"),this.$exportButton.off("click").on("click",(function(e){e.preventDefault()})).show()):(this.$exportButton.addClass("disabled"),this.$exportButton.off("click").on("click",(function(e){e.preventDefault()})).show())),this.$inspectButton&&this.$inspectButton.off("click").on("click",this.inspectSearch.bind(this)).show()},onSearchDone:function(e){var t=this.manager.getJobResponse();this.searchJobModel.setFromSplunkD(t),this.$exportButton&&(this.manager instanceof v?(this.$exportButton.tooltip("destroy"),this.$exportButton.attr("title",a("Export - You cannot export results for post-process jobs.").t()),this.$exportButton.tooltip({animation:!1,container:"body"}),this.$exportButton.addClass("disabled"),this.$exportButton.off("click").on("click",(function(e){e.preventDefault()})).show()):(this.$exportButton.tooltip("destroy"),this.$exportButton.attr("title",a("Export").t()),this.$exportButton.tooltip({animation:!1,container:"body"}),this.$exportButton.removeClass("disabled"),this.$exportButton.off("click").on("click",this.exportResults.bind(this)).show()))},openSearch:function(e){e&&(e.preventDefault(),s(e.currentTarget).blur());var t=this.options,i=this.manager,n={},a=i.get("data"),r=t["link.openSearch.searchEarliestTime"];null!=(r=!r&&a.earliestTime?g.getEpochTimeFromISO(a.earliestTime):i.settings.get("earliest_time"))&&(n.earliest=r);var o=t["link.openSearch.searchLatestTime"];null!=(o=!o&&a.latestTime?g.getEpochTimeFromISO(a.latestTime):i.settings.get("latest_time"))&&(n.latest=o),t["link.openSearch.search"]?n.q=t["link.openSearch.search"]:t["link.openSearch.viewTarget"]?n={sid:this.searchJobModel.get("id")}:(n.sid=this.searchJobModel.get("id"),n.q=i.settings.resolve(),i instanceof p&&(n.s=i.get("searchname")));var l=this.model.openInView(this.userModel),h=m.getPageInfo(),u=d.page(h.root,h.locale,h.app,t["link.openSearch.viewTarget"]||l,{data:n});m.redirect(u,!0)},exportResults:function(e){e&&e.preventDefault();var t=new h({model:{searchJob:this.searchJobModel,application:this.applicationModel,report:this.model},usePanelType:!0,onHiddenRemove:!0});t.render().appendTo(s("body")),t.show()},inspectSearch:function(e){e&&(e.preventDefault(),s(e.currentTarget).blur());var t=m.getPageInfo(),i=d.jobInspector(t.root,t.locale,t.app,this.searchJobModel.get("id"));o.open(i,"splunk_job_inspector",{width:870,height:560,menubar:!1})},openPivot:function(e){e&&(e.preventDefault(),s(e.currentTarget).blur());var t,i,n=m.getPageInfo();this.model.has("id")?(t={s:this.model.get("id")},this.model.entry.content.has("dispatch.earliest_time")&&(t.earliest=this.model.entry.content.get("dispatch.earliest_time"),t.latedst=this.model.entry.content.get("dispatch.latest_time")),i=d.pivot(n.root,n.locale,n.app,{data:t}),m.redirect(i,!0)):(t={q:this.model.entry.content.get("search")},this.model.entry.content.has("dispatch.earliest_time")&&(t.earliest=this.model.entry.content.get("dispatch.earliest_time"),t.latest=this.model.entry.content.get("dispatch.latest_time")),i=d.pivot(n.root,n.locale,n.app,{data:t}),m.redirect(i,!0))},render:function(){var e;e=this.model.isPivotReport()&&this.userModel.canPivot()?a.template(this.pivotTemplate):a.template(this.template);var t=this.model.openInView(this.userModel),i=d.getViewRouteData(t);return this.$el.html(e({options:this.options,showExportResultsButton:this.showExportResultsButton,openLabel:i.openLabel})),this.resolveBooleanOptions("link.openPivot.visible","link.visible",!0)?this.$pivotButton=this.$(".pivot-button").hide():this.$(".pivot-button").remove(),this.resolveBooleanOptions("link.openSearch.visible","link.visible",!0)?this.$searchButton=this.$(".search-button").hide():this.$(".search-button").remove(),this.resolveBooleanOptions("link.exportResults.visible","link.visible",!0)?this.$exportButton=this.$(".export-button").hide():this.$(".export-button").remove(),this.resolveBooleanOptions("link.inspectSearch.visible","link.visible",!0)?this.$inspectButton=this.$(".inspect-button").hide():this.$(".inspect-button").remove(),this.resolveBooleanOptions("refresh.link.visible","link.visible",!0)?this.$refreshButton=this.$(".refresh-button").hide():this.$(".refresh-button").remove(),this.$searchButton||this.$exportButton||this.$inspectButton||this.$refreshButton?this.$el.show():this.$el.hide(),this.$("> a").tooltip({animation:!1,container:"body"}),this},resolveBooleanOptions:function(){for(var e,t=this.options,i=0,n=arguments.length-1;i<n;i++)if(null!=(e=t[arguments[i]]))return r.normalizeBoolean(e);return r.normalizeBoolean(arguments[arguments.length-1])},refresh:function(e){e&&e.preventDefault(),this.manager.startSearch("refresh")},template:'            <a href="#" class="search-button btn-pill" title="<%- options[\'link.openSearch.text\'] || _(\'Open in Search\').t() %>">                <i class="icon-search"></i>                <span class="hide-text"><%- options[\'link.openSearch.text\'] || openLabel %></span>            </a>            <% if (showExportResultsButton) { %>                <a href="#" class="export-button btn-pill" title="<%- _(\'Export - You can only export results for completed jobs.\').t() %>">                    <i class="icon-export"></i>                    <span class="hide-text"><%- _("Export").t() %></span>                </a>            <% } %>            <a href="#" class="inspect-button btn-pill" title="<%- _(\'Inspect\').t() %>">                <i class="icon-info"></i>                <span class="hide-text"><%- _("Inspect").t() %></span>            </a><a href="#" class="refresh-button btn-pill" title="<%- _(\'Refresh\').t() %>">                <i class="icon-rotate-counter"></i>                <span class="hide-text"><%- _("Refresh").t() %></span>            </a>        ',pivotTemplate:'            <a href="#" class="pivot-button btn-pill" title="<%- _(\'Open in Pivot\').t() %>">                <i class="icon-pivot"></i>                <span class="hide-text"><%- _("Open in Pivot").t() %></span>            </a>            <% if (showExportResultsButton) { %>                <a href="#" class="export-button btn-pill" title="<%- _(\'Export\').t() %>">                    <i class="icon-export"></i>                    <span class="hide-text"><%- _("Export").t() %></span>                </a>            <% } %>            <a href="#" class="inspect-button btn-pill" title="<%- _(\'Inspect\').t() %>">                <i class="icon-info"></i>                <span class="hide-text"><%- _("Inspect").t() %></span>            </a><a href="#" class="refresh-button btn-pill" title="<%- _(\'Refresh\').t() %>">                <i class="icon-rotate-counter"></i>                <span class="hide-text"><%- _("Refresh").t() %></span>            </a>        '})}.call(t,i,t,e))||(e.exports=n)},"splunkjs/mvc/savedsearchmanager":function(e,t,i){var n;void 0===(n=function(e,t,n){var s=i("splunkjs/mvc/searchmanager"),a=i("require/underscore"),r=i("util/console"),o=i("splunkjs/mvc/messages"),l=i("util/general_utils"),d=i("models/search/Report"),h=i("models/search/Job"),u=i("models/search/DispatchJob"),c=i("splunkjs/mvc/utils"),p=i("util/splunkd_utils"),m=i("util/dashboard_utils"),f=i("stubs/splunk.config"),g=i("splunkjs/mvc/tokenutils"),v=u.DISPATCHABLE_PROPERTIES,b={trigger_actions:!0};return s.extend({moduleId:n.i,defaults:{autostart:!0,cache:!1,cancelOnUnload:!0,enablePreview:!0,runWhenTimeIsUndefined:!0},handleAutostart:function(){return this.get("autostart")?this.on("change:searchname",this._debouncedStartSearch,this):this.off("change:searchname",this._debouncedStartSearch,this),s.prototype.handleAutostart.apply(this,arguments)},createManager:function(e){var t=this.settings.get("tokenDependencies",{tokens:!0});g.tokenDependenciesMet(t,this.registry)?s.prototype.createManager.call(this,e):this.trigger("search:error",o.resolve("unresolved-tokens").message)},startSearch:function(e){if("boolean"==typeof e||"refresh"===e?e={refresh:!!e}:e||(e={}),this._refresh=e.refresh,this.get("searchname")){var t=this.get("cache")||!1;"scheduled"!==t&&(t=a.isBoolean(t)||l.isBooleanEquivalent(t)?l.normalizeBoolean(t)?-1:0:parseInt(t,10)),a.isNaN(t)&&(r.warn("Invalid value for cache setting: %o",this.get("cache")),t=0);var i=t<0?new Date(0).valueOf():(new Date).valueOf()-1e3*t,n=this.settings.get("tokenDependencies",{tokens:!0});if(g.tokenDependenciesMet(n,this.registry)){var s=new d;s.set("id",this.applyModelFullPathToName(s,this.get("searchname")));var u=this;return s.fetch({success:function(){u.settings.set("search",s.entry.content.get("search"),{silent:!0}),0===t||"scheduled"===t&&!s.entry.content.get("is_scheduled")?u._startSearchWithNewJob(s):"scheduled"===t?s.getLatestHistoricJobId().then((function(e){if(e){var t=new h;t.set(t.idAttribute,e),t.fetch({success:function(){u._startSearchWithExistingJob(t)},error:function(){u._startSearchWithNewJob(s)}})}else u._startSearchWithNewJob(s)})).fail((function(){u._startSearchWithNewJob(s)})):s.fetchJobs({success:function(e){var t=e.filter((function(e){var t=e.entry.content,n=new Date(e.entry.get("published")).valueOf(),s=t.get("isRealTimeSearch")&&!t.get("isDone");return n>i||s}));if(t.length){var n=a.max(t,(function(e){return new Date(e.entry.get("published"))}));u._startSearchWithExistingJob(n)}else u._startSearchWithNewJob(s)},error:function(){u._startSearchWithNewJob(s)}})},error:function(e,t){var i=p.convertToSDKResponse(t);if(404===i.status){var n=a("Warning: saved search not found: ").t()+'"'+u.get("searchname")+'"';r.log(n),u.trigger("search:error",n,i)}else r.log("Error fetching saved searches"),u.trigger("search:error",a("Error fetching saved searches").t(),i)}}),this}this.trigger("search:error",o.resolve("unresolved-tokens").message)}else this.trigger("search:error",a("No saved search provided.").t())},_startSearchWithExistingJob:function(e){this.createManager(e)},_startSearchWithNewJob:function(e){var t=this;if(!(void 0===this.settings.get("earliest_time",{tokens:!1})&&this.settings.get("earliest_time",{tokens:!0})||void 0===this.settings.get("latest_time",{tokens:!1})&&this.settings.get("latest_time",{tokens:!0}))||this.settings.get("runWhenTimeIsUndefined")){var i=new u,n=e.entry.links.get("dispatch"),s=p.fullpath(n);i.save({},{url:s,data:this._createOptionsForSearchJob(),success:function(){t.createManager(i)},error:function(e,n){var s=p.convertToSDKResponse(n);if(p.messagesContainsOneOfTypes(s.data.messages,[p.RISKY_COMMAND]))if(m.isHiddenSearch(t.get("parentElement")))i.error.set("messages",s.data.messages),t.showRiskyWarningDialog(i);else{var r=a("Action required: Click the icon in the top right corner to review the query before running.").t(),o=t.settings.get("risky_error_message")||r;t.trigger("search:error",o,s,i)}else t.trigger("search:error",a("Error dispatching saved search.").t(),s)}})}else this.trigger("search:error",o.resolve("unresolved-search").message)},_createOptionsForSearchJob:function(){return a.reduce(this.settings.toJSON(),(function(e,t,i){return(a.has(v,i)||a.has(b,i))&&(e[i]=t),e}),{})},applyModelFullPathToName:function(e,t){return/^\/services.*/i.test(t)||(t=p.fullpath(e.url+"/"+encodeURIComponent(t),{app:this.settings.get("app")||c.getCurrentApp(),owner:this.settings.get("owner")||f.USERNAME})),t}})}.call(t,i,t,e))||(e.exports=n)},"splunkjs/mvc/searchbarview":function(e,t,i){var n;void 0===(n=function(e,t,n){var s=i("shim/jquery"),a=i("require/underscore"),r=(i("splunkjs/mvc/mvc"),i("require/backbone")),o=i("splunkjs/mvc/basesplunkview"),l=i("util/console"),d=i("splunkjs/mvc/timerangeview"),h=i("views/shared/searchbar/Master"),u=i("models/shared/TimeRange"),c=(i("splunkjs/mvc/utils"),i("splunkjs/mvc/sharedmodels")),p=i("stubs/splunk.config"),m=i("models/search/SearchBar");return o.extend({moduleId:n.i,className:"splunk-searchbar",options:{default:void 0,managerid:null,timerange:!0,useAdvancedEditor:!0,useAssistant:!0,searchAssistant:void 0,useSyntaxHighlighting:!0,syntaxHighlighting:void 0,autoFormat:!1,showLineNumbers:!1,autoOpenAssistant:!0,value:void 0},initialize:function(){var e=this;this.configure(),this.settings.enablePush("value"),this.settings.has("timepicker")&&(l.warn('The "%s" setting of class "%s" is deprecated. Use "%s" instead.',"timepicker","SearchBarView","timerange"),this.settings.set("timerange",this.settings.get("timepicker")),this.settings.unset("timepicker")),this._onDefaultChange(),this._state=new r.Model({"dispatch.earliest_time":this.settings.get("earliest_time"),"dispatch.latest_time":this.settings.get("latest_time"),search:this.settings.get("value")||""});var t=c.get("app"),i=c.get("user"),n=c.get("times"),o=c.get("serverInfo"),d=c.get("searchBNFs"),f=new u;f.save({earliest:this.settings.get("earliest_time"),latest:this.settings.get("latest_time")});var g=new m;this.timerange=this._createTimeRange(this.settings),this.timepicker=this.timerange,this._dfd=s.when(n.dfd,i.dfd,o.dfd,d.dfd).done((function(){var s=e.settings.get("useAssistant")&&!p.INDEPENDENT_MODE,r=!a.isUndefined(e.settings.get("searchAssistant"))&&p.INDEPENDENT_MODE?"none":e.settings.get("searchAssistant"),l=e.settings.get("autoOpenAssistant")&&s,u=e.settings.get("useSyntaxHighlighting")?"light":"black-white";a.isUndefined(e.settings.get("syntaxHighlighting"))||(u=e.settings.get("syntaxHighlighting")),e.searchbar=new h({showTimeRangePicker:!0,useAdvancedEditor:e.settings.get("useAdvancedEditor"),useAssistant:s,autoOpenAssistant:l,searchAssistant:r,syntaxHighlighting:u,autoFormat:e.settings.get("autoFormat"),showLineNumbers:e.settings.get("showLineNumbers"),disableOnSubmit:!1,collection:{times:n,searchBNFs:d},model:{state:e._state,timeRange:f,user:i,application:t,serverInfo:o,searchBar:g}})})),this.settings.on("change:value",(function(t,i,n){(n=n||{})._self||e.val(i||"")})),this.bindToComponentSetting("managerid",this._onManagerChange,this),this._state.on("change:search",this._onSearchChange,this),this.settings.on("change:timerange",this._onDisplayTimeRangeChange,this),this.settings.on("change:default",this._onDefaultChange,this)},_createTimeRange:function(e){var t=e.extractWithPrefix("timerange_"),i=e.extractWithPrefix("timepicker_");a.isEmpty(i)||l.warn('The "%s" settings of class "%s" are deprecated. Use "%s" instead.',"timepicker_*","SearchBarView","timerange_*");var n=a.extend({managerid:e.get("managerid")},t,i);return new d(n)},_onDefaultChange:function(e,t,i){var n=this.settings.previous("default"),s=this.settings.get("default"),a=this.settings.get("value");void 0===s||a!==n&&void 0!==a||this.settings.set("value",s)},_onDisplayTimeRangeChange:function(){var e=this;s.when(this._dfd).done((function(){e.settings.get("timerange")?e.searchbar.children.timeRangePicker.$el.show():e.searchbar.children.timeRangePicker.$el.hide()}))},_onManagerChange:function(e,t){this.manager&&(this.manager.off(null,null,this),this.manager=null),this.manager=t;var i=this;a.defer((function(){i._updateQuery()}))},render:function(){var e=this;return s.when(this._dfd).done((function(){e._rendered||(e.searchbar.render(),e._patchTimePicker(),e.$el.append(e.searchbar.el),e._onDisplayTimeRangeChange(),e._rendered=!0)})),this},_patchTimePicker:function(){this.searchbar.children.timeRangePicker.setElement(this.timerange.el),this.timerange.render(),this.searchbar.$(".search-timerange").empty().append(this.timerange.el),s(this.timerange.el).addClass("btn-group"),this.timerange.on("change",(function(){this.searchbar.children.timeRangePicker.model.timeRange.set(this.timerange.val())}),this),this.searchbar.children.timeRangePicker.model.timeRange.on("change",(function(){this.timerange.val({earliest_time:this.searchbar.children.timeRangePicker.model.timeRange.get("earliest_time"),latest_time:this.searchbar.children.timeRangePicker.model.timeRange.get("latest_time")})}),this)},val:function(e){if(void 0===e)return this._getSearch();this._setSearch(e),this.settings.unset("value",{_self:!0}),this.settings.set("value",e,{_self:!0}),this.trigger("change",e,this)},_onSearchChange:function(e,t,i){(i=i||{})._self||this.val(t)},_getSearch:function(){return this._state.get("search")},_setSearch:function(e){this._state.set("search",e,{_self:!0})},_updateQuery:function(){if(this.manager){var e=this._state.get("search")||"",t=(this.manager.settings.resolve()||"").trim();!e&&t&&this._setSearch(t)}}})}.call(t,i,t,e))||(e.exports=n)},"splunkjs/mvc/searchcontrolsview":function(e,t,i){var n;void 0===(n=function(e,t,n){var s=i("require/underscore"),a=i("require/backbone"),r=(i("splunkjs/mvc/mvc"),i("splunkjs/mvc/basesplunkview")),o=i("views/shared/jobstatus/Master"),l=i("models/ACLReadOnly"),d=(i("models/shared/Application"),i("splunkjs/mvc/utils"),i("util/time")),h=i("splunkjs/mvc/sharedmodels"),u=i("shim/splunk.util"),c=i("util/splunkd_utils"),p=a.Model.extend({constructor:function(){this.control=new a.Model,this.error=new a.Model,this.entry=new a.Model,this.entry.content=new a.Model,this.entry.content.custom=new a.Model,this.entry.acl=new l,a.Model.prototype.constructor.apply(this,arguments)},initialize:function(){this._isNew=!0},set:function(){a.Model.prototype.set.apply(this,arguments),a.Model.prototype.set.apply(this.entry.content,arguments)},isNew:function(){return this._isNew},fetch:function(){return this},clear:function(){this.entry.clear(),this.entry.content.clear(),this.entry.content.custom.clear(),this._isNew=!0},destroy:function(e){this.cancel(),e.success&&e.success()},pause:function(e){this.manager&&this.manager.pause()},unpause:function(e){this.manager&&this.manager.unpause()},finalize:function(e){this.manager&&this.manager.finalize()},cancel:function(e){this.manager&&this.manager.cancel()},touch:function(e){this.manager&&this.manager.touch()},saveIsBackground:function(e){this.entry.content.custom.set("isBackground","1")},isBackground:function(){return u.normalizeBoolean(this.entry.content.custom.get("isBackground"))},resultCountSafe:function(){return this.entry.content.get("isPreviewEnabled")&&!this.entry.content.get("isDone")?this.entry.content.get("resultPreviewCount"):this.entry.content.get("resultCount")},eventAvailableCountSafe:function(){return 0==this.entry.content.get("statusBuckets")?this.resultCountSafe():this.entry.content.get("eventAvailableCount")},latestTimeSafe:function(){var e=this.entry;return e.content.get("latestTime")||e.get("published")},isQueued:function(){return this.checkUppercaseValue("dispatchState",p.QUEUED)},isParsing:function(){return this.checkUppercaseValue("dispatchState",p.PARSING)},isFinalizing:function(){return this.checkUppercaseValue("dispatchState",p.FINALIZING)},isDone:function(){return u.normalizeBoolean(this.entry.content.get("isDone"))},isPreparing:function(){return this.isQueued()||this.isParsing()},isRunning:function(){return!(this.isNew()||this.entry.content.get("isPaused")||this.entry.content.get("isDone")||this.isPreparing()||this.isFinalizing())},isAdHocLevelFast:function(){return this.checkUppercaseValue("adhoc_search_level","FAST")},isReportSearch:function(){return!!this.entry.content.get("reportSearch")},isOverAllTime:function(){var e=this.entry.content.request;return!!e&&(!e.get("earliest_time")&&!e.get("latest_time"))},isRealtime:function(){var e=this.entry.content.request;return e&&d.isRealtime(e.get("earliest_time"))&&d.isRealtime(e.get("latest_time"))},isUsingSampling:function(){return this.entry.content.get("sampleRatio")>"1"},getMessages:function(){return c.parseMessagesObject(this.entry.content.get("messages"))},checkUppercaseValue:function(e,t){var i=this.entry.content.get(e);return!!i&&i.toUpperCase()===t}},{QUEUED:"QUEUED",PARSING:"PARSING",RUNNING:"RUNNING",PAUSED:"PAUSED",FINALIZING:"FINALIZING",FAILED:"FAILED",DONE:"DONE"});return r.extend({moduleId:n.i,className:"splunk-searchcontrols",options:{managerid:null},initialize:function(){this.configure(),this._searchJob=new p,this._state=new a.Model({"display.page.search.mode":"smart"});var e=h.get("app"),t=h.get("appLocal"),i=this;this._statusDfd=t.dfd.done((function(){i.jobStatus=new o({model:{searchJob:i._searchJob,state:i._state,application:e,appLocal:t},collection:{limits:new a.Collection},enableSearchMode:!0,showAutoPause:!1,showJobButtons:!1})})),this.bindToComponentSetting("managerid",this.onManagerChange,this),this._state.on("change",this._onSearchModeChange,this)},onManagerChange:function(e,t){this.manager&&(this.manager.off(null,null,this),this.manager.settings.off(null,null,this)),this.manager=t,t&&(this._searchJob.manager=t,t.on("search:start",this._onSearchStart,this),t.on("search:cancelled",this._onSearchCancelled,this),t.on("search:failed",this._onSearchFailed,this),t.on("search:progress",this._onSearchProgress,this),this.manager.settings.get("adhoc_search_level")?this._state.set("display.page.search.mode",this.manager.settings.get("adhoc_search_level")):this._onSearchModeChange())},render:function(){var e=this;return this._statusDfd.done((function(){e.$el.append(e.jobStatus.render().el)})),this},_onSearchModeChange:function(){var e=this._state.get("display.page.search.mode");e&&this.manager&&this.manager.settings.set("adhoc_search_level",e)},_onSearchStart:function(e){this._searchJob._isNew=!0,this._searchJob.clear()},_onSearchCancelled:function(e){this._searchJob._isNew=!0,this._searchJob.clear()},_onSearchFailed:function(e){this._searchJob._isNew=!0,this._searchJob.clear()},_onSearchProgress:function(e){this._searchJob._isNew=!1,this._searchJob.entry.set(e),this._searchJob.entry.content.set(e.content),this._searchJob.entry.acl.set(e.acl),this._searchJob.trigger("jobProgress"),e.content&&e.content.sid&&(this._searchJob.id=e.content.sid);var t=this;this._statusDfd.done((function(){s.each(t.jobStatus.children.controls.children.menu.children,(function(e){e.render()})),t.jobStatus.children.controls.render()}))}})}.call(t,i,t,e))||(e.exports=n)},"splunkjs/mvc/selectview":function(e,t,i){var n;void 0===(n=function(e){return i("util/console").warn("%s is deprecated. Please require %s instead.","splunkjs/mvc/selectview","splunkjs/mvc/dropdownview"),i("splunkjs/mvc/dropdownview")}.call(t,i,t,e))||(e.exports=n)},"splunkjs/mvc/simpleform/edit/concertinasettingseditor":function(e,t,i){var n;void 0===(n=function(e,t,n){var s=i("require/underscore"),a=i("shim/jquery"),r=(i("util/console"),i("splunkjs/mvc"),i("views/Base")),o=i("views/shared/delegates/Concertina"),l=i("views/shared/controls/ControlGroup");return r.extend({moduleId:n.i,className:"concertina",render:function(){return this.children.concertina||(this.$el.html(this.template),this.children.concertina=new o({el:this.el}),s(this.options.panels||[]).each((function(e,t){this.renderPanel(e)}),this)),this},renderPanel:function(e){var t=a(s.template(this.templatePanel,e)),i=t.find(".concertina-group-body");s(e.controls||[]).each((function(e,t){e.controlOptions.model=this.model;var n=e.controlTypeClass||l,a=this.children[s.uniqueId("control_")]=new n(e);i.append(a.render().$el)}),this),this.$(".concertina-body").append(t)},activate:function(){this.children.concertina&&this.children.concertina.reset()},template:'            <div class="concertina-dock-top"></div>            <div class="concertina-body"></div>            <div class="concertina-dock-bottom"></div>        ',templatePanel:'            <div class="concertina-group">            <div class="concertina-heading <%- headingClassName || \'\' %>">                <a href="#" class="concertina-toggle">                    <%- title %>                </a>            </div>            <div class="concertina-group-body panel-body <%- headingClassName ? (headingClassName + \'-body\') : \'\' %>">            </div>            </div>        '})}.call(t,i,t,e))||(e.exports=n)},"splunkjs/mvc/simpleform/edit/defaultcontrol":function(e,t,i){var n;void 0===(n=function(e,t,n){var s=i("require/underscore"),a=i("shim/jquery"),r=(i("util/console"),i("splunkjs/mvc"),i("splunkjs/mvc/simpleform/inputsettings")),o=i("views/shared/controls/ControlGroup");return o.extend({moduleId:n.i,initialize:function(){this._optionsModel=this.options.controlOptions&&this.options.controlOptions.model,this._optionsAttribute=this.options.controlOptions&&this.options.controlOptions.modelAttribute,this._optionsModelProxy=new r(a.extend(!0,{},this._optionsModel?this._optionsModel.omit("initialValue","default","value","selectFirstChoice"):{})),this.options.controlOptions&&this._optionsModelProxy.set(this.options.controlOptions),this._optionsModel&&this._optionsAttribute&&(this._optionsModelProxy.set("value",this._optionsModel.get(this._optionsAttribute)),this.listenTo(this._optionsModel,"change",this.onOptionsModelChange,this),this.listenTo(this._optionsModelProxy,"change:value",this.onProxyValueChange,this),this.listenTo(this._optionsModelProxy,"change:choices",this.onProxyChoicesChange,this));var e=this.options.inputTypeClass;e&&(this.options.controls=[new e({settings:this._optionsModelProxy})]),o.prototype.initialize.apply(this,arguments)},events:{"click a.default-clear-selection":function(e){e.preventDefault(),this._optionsModelProxy.set("value",null)}},render:function(){return o.prototype.render.apply(this,arguments),this.options.enableClearSelection&&(this._clearSelectionButton||(this._clearSelectionButton=a(s.template(this.clearSelectionTemplate,{_:s}))),this.$(".controls").append(this._clearSelectionButton)),this},onOptionsModelChange:function(){if(!this._isProxySyncing)try{this._isProxySyncing=!0;var e=a.extend(!0,{},this._optionsModel.changed);delete e.value,delete e.default,delete e.initialValue,delete e.selectFirstChoice,this._optionsModelProxy.set(e)}finally{this._isProxySyncing=!1}},onProxyValueChange:function(){if(!this._isProxySyncing)try{this._isProxySyncing=!0,this._optionsModel.set(this._optionsAttribute,this._optionsModelProxy.get("value"))}finally{this._isProxySyncing=!1}},onProxyChoicesChange:function(){var e=s.difference(s.pluck(this._optionsModel.previous("choices"),"value"),s.pluck(this._optionsModel.get("choices"),"value"));if(e.length){var t=this._optionsModel.get(this._optionsAttribute);a.isArray(t)?this._optionsModel.set(this._optionsAttribute,s.difference(t,e)):t===e[0]&&this._optionsModel.set(this._optionsAttribute,null)}},clearSelectionTemplate:'            <div><a class="default-clear-selection btn-link" href="#"><%- _("Clear Selection").t() %></a></div>        '})}.call(t,i,t,e))||(e.exports=n)},"splunkjs/mvc/simpleform/edit/dynamicoptionscontrol":function(e,t,i){var n;void 0===(n=function(e,t,n){var s=i("require/underscore"),a=i("require/backbone"),r=(i("util/console"),i("splunkjs/mvc"),i("views/Base")),o=i("views/shared/controls/ControlGroup"),l=i("views/shared/controls/SearchTextareaControl"),d=i("splunkjs/mvc/simplexml/controller"),h=i("splunkjs/mvc/simplexml/dialog/addpanel/report"),u=i("splunkjs/mvc/timerangeview"),c=i("splunkjs/mvc/utils"),p=i("uri/route"),m=i("models/services/authentication/User"),f=i("controllers/dashboard/helpers/ModelHelper"),g=i("util/theme_utils");i("shim/bootstrap.tooltip");var v=r.extend({moduleId:n.i,initialize:function(){r.prototype.initialize.apply(this,arguments),this._optionsModel=this.options.controlOptions&&this.options.controlOptions.model||new a.Model,this._optionsModelProxy=new a.Model,this.collection=this.collection||{},this.collection.searchBNFs=this.collection.searchBNFs||f.getCachedModel("parsedSearchBNFs",{app:d.model.app.get("app"),owner:d.model.app.get("owner"),count:0}),this.listenTo(this._optionsModel,"change",this.onOptionsModelChange,this),this.listenTo(this._optionsModelProxy,"change",this.onProxyModelChange,this),this.onOptionsModelChange(),this.children.elementCreateType=new o({label:s("Content Type").t(),controlType:"SyntheticRadio",controlOptions:{additionalClassNames:"btn-group-3 add-panel-select",items:[{value:"inline",label:'<i class="icon-search-thin"></i>',tooltip:s("Inline Search").t()},{value:"saved",label:'<i class="icon-report"></i>',tooltip:s("Report").t()}],model:this._optionsModelProxy,modelAttribute:"elementCreateType"}}),this.children.inline=new b({model:this._optionsModelProxy,collection:{searchBNFs:this.collection.searchBNFs,timeRanges:d.collection.times}}),this.children.report=new h({model:{report:this._optionsModelProxy,user:d.model.user,application:d.model.app},collection:{searchBNFs:this.collection.searchBNFs,timeRanges:d.collection.times},controller:d,popdownOptions:{attachDialogTo:".popdown-dialog.open",scrollContainer:".popdown-dialog.open .concertina-body"}})},onOptionsModelChange:function(){if(!this._isProxySyncing)try{this._isProxySyncing=!0,this._optionsModelProxy.set({elementCreateType:this._optionsModel.get("searchType")||"inline",savedSearchName:this._optionsModel.get("searchName"),search:this._optionsModel.get("search"),earliest_time:this._optionsModel.get("populating_earliest_time"),latest_time:this._optionsModel.get("populating_latest_time")})}finally{this._isProxySyncing=!1}},onProxyModelChange:function(){if(!this._isProxySyncing)try{this._isProxySyncing=!0,this._optionsModel.set({searchType:this._optionsModelProxy.get("elementCreateType"),searchName:this._optionsModelProxy.get("savedSearchName"),search:this._optionsModelProxy.get("search"),populating_earliest_time:this._optionsModelProxy.get("earliest_time"),populating_latest_time:this._optionsModelProxy.get("latest_time")})}finally{this._isProxySyncing=!1}},render:function(){return this.$el.append(this.children.elementCreateType.render().el),this.$el.append(this.children.inline.render().el),this.$el.append(this.children.report.render().el),this}}),b=r.extend({className:"inline-search-options",initialize:function(){r.prototype.initialize.apply(this,arguments),this.children.searchField=new l({model:{content:this.model,user:d.model.user,application:d.model.app},collection:{searchBNFs:this.collection.searchBNFs},searchAssistant:m.SEARCH_ASSISTANT.NONE,syntaxHighlighting:g.getSearchEditorTheme()}),this.children.timeRangeView=new u({popdownOptions:{attachDialogTo:".popdown-dialog.open",scrollContainer:".popdown-dialog.open .concertina-body"}}),this.children.timeRangeView.val({earliest_time:this.model.get("earliest_time"),latest_time:this.model.get("latest_time")}),this.listenTo(this.children.searchField,"runSearch",this.runSearch),this.listenTo(this.model,"change:elementCreateType",this.onModeChange,this),this.listenTo(this.children.timeRangeView,"change",this.onTimeRangeChange,this)},runSearch:function(){var e=this.model.get("search"),t={q:e},i=c.getPageInfo();e&&(this.model.has("dispatch.earliest_time")&&(t.earliest=this.model.get("dispatch.earliest_time"),t.latest=this.model.get("dispatch.latest_time")),c.redirect(p.search(i.root,i.locale,i.app,{data:t}),!0))},onModeChange:function(){switch(this.model.get("elementCreateType")){case"inline":this.children.timeRangeView.$el.show(),this.$el.show();break;case"postprocess":this.children.timeRangeView.$el.hide(),this.$el.show();break;default:this.$el.hide()}},onTimeRangeChange:function(e){this.model.set(this.children.timeRangeView.val())},render:function(){return this.children.searchField.render().appendTo(this.el),this.children.timeRangeView.render().$el.appendTo(this.el),this.onModeChange(),this}});return v}.call(t,i,t,e))||(e.exports=n)},"splunkjs/mvc/simpleform/edit/editinputmenu":function(e,t,i){var n;void 0===(n=function(e,t,n){var s=i("require/underscore"),a=i("shim/jquery"),r=(i("util/console"),i("splunkjs/mvc"),i("views/shared/PopTart")),o=i("splunkjs/mvc/simpleform/inputsettings"),l=i("splunkjs/mvc/simpleform/edit/concertinasettingseditor"),d=i("splunkjs/mvc/savedsearchmanager"),h=i("splunkjs/mvc/searchmanager"),u=i("splunkjs/mvc/utils"),c=i("splunkjs/mvc/simpleform/edit/staticoptionscontrol"),p=i("splunkjs/mvc/simpleform/edit/dynamicoptionscontrol"),m=i("splunkjs/mvc/simpleform/edit/defaultcontrol"),f=i("splunkjs/mvc/simpleform/edit/tokenpreviewcontrol"),g=i("splunkjs/mvc/radiogroupview"),v=i("splunkjs/mvc/linklistview"),b=i("splunkjs/mvc/dropdownview"),_=i("splunkjs/mvc/checkboxgroupview"),y=i("splunkjs/mvc/multidropdownview"),w=i("splunkjs/mvc/timerangeview"),k=i("views/shared/FlashMessages"),T=r.extend({moduleId:n.i,initialize:function(){this.options.ignoreClasses=["dropdown-menu","ui-datepicker"],r.prototype.initialize.apply(this,arguments),this.workingSettings=new o(this.model.toJSON({tokens:!0}),{applyTokensByDefault:!0,retrieveTokensByDefault:!0}),this.on("shown",this.onShown,this),this.children.flashMessage=new k({model:this.workingSettings})},events:{"click a.input-editor-toggle":function(e){e.preventDefault();var t=a(e.currentTarget).data("label");t&&this.toggleEditType(t)},"click .input-editor-apply":function(e){e.preventDefault(),this.applyChanges()},"click .input-editor-cancel":function(e){e.preventDefault(),this.hide()},"keypress .input-editor-apply":function(e){e.preventDefault(),this.applyChanges()},"keypress .input-editor-cancel":function(e){e.preventDefault(),this.hide()}},toggleEditType:function(e){this._currentToggle&&this._currentToggle.removeClass("selected"),this._currentEditor&&(this._currentEditor.remove(),this._currentEditor=null);var t=this.workingSettings.get("type");"time"===e?this.previousDefault&&(this.workingSettings.set("default",this.previousDefault),this.previousDefault=null):"time"===t&&this.workingSettings.get("default")&&(this.previousDefault=this.workingSettings.get("default"),this.workingSettings.unset("default")),this.workingSettings.set("type",e),this._currentToggle=this.$("[data-label='"+e+"']"),this._currentToggle.addClass("selected");var i=re[e];i&&(this._currentEditor=new l({model:this.workingSettings,panels:i}),this.$(".input-editor-format").append(this._currentEditor.render().$el),this._currentEditor.activate())},onShown:function(){s.defer(s.bind(this._currentToggle.focus,this._currentToggle)),this._currentEditor&&this._currentEditor.activate()},remove:function(){this._currentEditor&&(this._currentEditor.remove(),this._currentEditor=null),this.previousDefault=null,r.prototype.remove.apply(this,arguments)},applyChanges:function(){if(this.workingSettings.validate(),this.workingSettings.isValid()){var e=this.model.get("search"),t=this.model.get("populating_earliest_time"),i=this.model.get("populating_latest_time"),n=this.model.get("searchName");this.model.set(this.workingSettings.toJSON({tokens:!0}),{tokens:!0}),this.model.save().done(s.bind((function(){var a=this.model.get("searchType");this.model.set("managerid",this.model.get("managerid")||s.uniqueId()),a&&"inline"!==a||!this.model.get("search")?"saved"===a&&this.model.get("searchName")&&n!=this.model.get("searchName")&&new d({id:this.model.get("managerid"),searchname:this.model.get("searchName"),app:u.getCurrentApp(),auto_cancel:90,status_buckets:0,preview:!0,timeFormat:"%s.%Q",wait:0},{replace:!0}):e==this.model.get("search")&&t==this.model.get("populating_earliest_time")&&i==this.model.get("populating_latest_time")||new h({id:this.model.get("managerid"),latest_time:this.model.get("populating_latest_time"),earliest_time:this.model.get("populating_earliest_time"),search:this.model.get("search"),app:u.getCurrentApp(),auto_cancel:90,status_buckets:0,preview:!0,timeFormat:"%s.%Q",wait:0},{replace:!0}),this.hide()}),this))}},render:function(){var e={_:s};return this.$el.html(r.prototype.template),this.$(".popdown-dialog-body").append(a(this.compiledTemplate(e))),this.$(".popdown-dialog-body").removeClass("popdown-dialog-padded"),a(".flash-messages-placeholder",this.$el).append(this.children.flashMessage.render().el),this.toggleEditType(this.workingSettings.get("type")),this},template:'            <div class="input-editor-body-and-flash-message">                <div class="input-editor-body">                    <ul class="input-editor-type">                        <li><a class="edit-text input-editor-toggle" href="#" data-label="text"><i class="icon-text"></i> <%- _("Text").t() %></a></li>                        <li><a class="edit-radio input-editor-toggle" href="#" data-label="radio"><i class="icon-boolean"></i> <%- _("Radio").t() %></a></li>                        <li><a class="edit-dropdown input-editor-toggle" href="#" data-label="dropdown"><i class="icon-triangle-down-small"></i> <%- _("Dropdown").t() %></a></li>                        <li><a class="edit-checkbox input-editor-toggle" href="#" data-label="checkbox"><i class="icon-box-checked"></i> <%- _("Checkbox").t() %></a></li>                        <li><a class="edit-multiselect input-editor-toggle" href="#" data-label="multiselect"><i class="icon-triangle-down-small"></i> <%- _("Multiselect").t() %></a></li>                        <li><a class="edit-link input-editor-toggle" href="#" data-label="link"><i class="icon-link"></i> <%- _("Link List").t() %></a></li>                        <li><a class="edit-trp input-editor-toggle" href="#" data-label="time"><i class="icon-clock"></i> <%- _("Time").t() %></a></li>                    </ul>                    <div class="input-editor-format"></div>                </div>                <div class="flash-messages-placeholder"></div>            </div>            <a class="input-editor-cancel btn pull-left" tabindex="0">'+s("Cancel").t()+'</a>            <a class="input-editor-apply btn btn-primary pull-right" tabindex="0"> '+s("Apply").t()+"</a>        "}),S={label:s("Label").t(),controlType:"Text",controlOptions:{modelAttribute:"label"}},x={label:s("Search on Change").t(),controlType:"SyntheticCheckbox",controlOptions:{modelAttribute:"searchWhenChanged"}},C={label:s("Token").t(),controlType:"Text",controlOptions:{modelAttribute:"token"},tooltip:s("ID to reference the selected value in search (reference as $token$)").t()},E={label:s("Default").t(),controlType:"Text",controlClass:"default_control",controlOptions:{modelAttribute:"default"},tooltip:s("The default value of the input.").t()},M={label:s("Default").t(),controlTypeClass:m,inputTypeClass:g,controlClass:"default_control",enableClearSelection:!0,controlsLayout:"stack",controlOptions:{modelAttribute:"default"},tooltip:s("The default value of the input.").t()},R={label:s("Default").t(),controlTypeClass:m,inputTypeClass:v,controlClass:"default_control",enableClearSelection:!0,controlsLayout:"stack",controlOptions:{modelAttribute:"default"},tooltip:s("The default value of the input.").t()},D={label:s("Default").t(),controlTypeClass:m,inputTypeClass:b,controlClass:"default_control",enableClearSelection:!0,controlsLayout:"stack",controlOptions:{modelAttribute:"default"},tooltip:s("The default value of the input.").t()},P={label:s("Default").t(),controlTypeClass:m,inputTypeClass:_,controlClass:"default_control",controlOptions:{modelAttribute:"default"},tooltip:s("The default value of the input.").t()},L={label:s("Default").t(),controlTypeClass:m,inputTypeClass:y,controlClass:"default_control",controlOptions:{modelAttribute:"default"},tooltip:s("The default value of the input.").t()},O={label:s("Default").t(),controlTypeClass:m,inputTypeClass:w,controlClass:"default_control",controlOptions:{modelAttribute:"default",popdownOptions:{attachDialogTo:".popdown-dialog.open",scrollContainer:".popdown-dialog.open .concertina-body"}},controlsLayout:"stack",tooltip:s("The default value of the input.").t()},I={label:s("Initial Value").t(),controlType:"Text",controlClass:"seed_control",controlOptions:{modelAttribute:"initialValue"},tooltip:s("Initial value on page load. Ignored when Default is specified.").t()},A={label:s("Initial Value").t(),controlTypeClass:m,inputTypeClass:g,controlClass:"seed_control",enableClearSelection:!0,controlsLayout:"stack",controlOptions:{modelAttribute:"initialValue"},tooltip:s("Initial value on page load. Ignored when Default is specified.").t()},N={label:s("Initial Value").t(),controlTypeClass:m,inputTypeClass:v,controlClass:"seed_control",enableClearSelection:!0,controlsLayout:"stack",controlOptions:{modelAttribute:"initialValue"},tooltip:s("Initial value on page load. Ignored when Default is specified.").t()},j={label:s("Initial Value").t(),controlTypeClass:m,inputTypeClass:b,controlClass:"seed_control",enableClearSelection:!0,controlsLayout:"stack",controlOptions:{modelAttribute:"initialValue"},tooltip:s("Initial value on page load. Ignored when Default is specified.").t()},z={label:s("Initial Value").t(),controlTypeClass:m,inputTypeClass:_,controlClass:"seed_control",controlOptions:{modelAttribute:"initialValue"},tooltip:s("Initial value on page load. Ignored when Default is specified.").t()},B={label:s("Initial Value").t(),controlTypeClass:m,inputTypeClass:y,controlClass:"seed_control",controlOptions:{modelAttribute:"initialValue"},tooltip:s("Initial value on page load. Ignored when Default is specified.").t()},$={label:s("Token Prefix").t(),controlType:"Text",controlOptions:{modelAttribute:"prefix",trimLeadingSpace:!1,trimTrailingSpace:!1,updateOnKeyUp:!0},tooltip:s("String prefixed to the value retrieved by the token").t()},F={label:s("Token Suffix").t(),controlType:"Text",controlOptions:{modelAttribute:"suffix",trimLeadingSpace:!1,trimTrailingSpace:!1,updateOnKeyUp:!0},tooltip:s("String appended to the value retrieved by the token").t()},V={label:s("Token Value Prefix").t(),controlType:"Text",controlOptions:{modelAttribute:"valuePrefix",updateOnKeyUp:!0},tooltip:s("String prefixed to each specified value of a multiple selection input").t()},U={label:s("Token Value Suffix").t(),controlType:"Text",controlOptions:{modelAttribute:"valueSuffix",updateOnKeyUp:!0},tooltip:s("String appended to each specified value of a multiple selection input").t()},H={label:s("Delimiter").t(),controlType:"Text",controlOptions:{modelAttribute:"delimiter",trimLeadingSpace:!1,trimTrailingSpace:!1,updateOnKeyUp:!0},tooltip:s("String inserted between each value (typical values: AND,OR). Specify a leading and trailing space in the string.").t()},q={label:s("Preview").t(),controlTypeClass:f,controlOptions:{modelAttribute:"TEMP"}},G={controlTypeClass:c,controlOptions:{modelAttribute:"choices"}},Z={controlTypeClass:p,controlOptions:{modelAttribute:"TEMP"}},Y={label:s("Field For Label").t(),controlType:"Text",controlOptions:{modelAttribute:"labelField"},tooltip:s("Field returned from the search to use as the option label").t()},J={label:s("Field For Value").t(),controlType:"Text",controlOptions:{modelAttribute:"valueField"},tooltip:s("Field returned from the search to use as the option value").t()},X={headingClassName:"general-input-settings",title:s("General").t(),controls:[S,x]},W={headingClassName:"token-input-settings",title:s("Token Options").t(),controls:[C,E,I,$,F]},K={headingClassName:"token-input-settings",title:s("Token Options").t(),controls:[C,M,A,$,F]},Q={headingClassName:"token-input-settings",title:s("Token Options").t(),controls:[C,R,N,$,F]},ee={headingClassName:"token-input-settings",title:s("Token Options").t(),controls:[C,D,j,$,F]},te={headingClassName:"token-input-settings",title:s("Token Options").t(),controls:[C,P,z,$,F,V,U,H,q]},ie={headingClassName:"token-input-settings",title:s("Token Options").t(),controls:[C,L,B,$,F,V,U,H,q]},ne={headingClassName:"token-input-settings",title:s("Token Options").t(),controls:[C,O]},se={headingClassName:"static-input-settings",title:s("Static Options").t(),controls:[G]},ae={headingClassName:"dynamic-input-settings",title:s("Dynamic Options").t(),controls:[Z,Y,J]},re={text:[X,W],radio:[X,K,se,ae],dropdown:[X,ee,se,ae],checkbox:[X,te,se,ae],multiselect:[X,ie,se,ae],link:[X,Q,se,ae],time:[X,ne]};return T}.call(t,i,t,e))||(e.exports=n)},"splunkjs/mvc/simpleform/edit/formsettings":function(e,t,i){var n;void 0===(n=function(e,t,n){var s=i("require/underscore"),a=(i("shim/jquery"),i("require/backbone")),r=i("views/Base"),o=i("splunkjs/mvc/simplexml/controller");return r.extend({className:"form-settings",initialize:function(){r.prototype.initialize.apply(this,arguments),this.model=new a.Model({value:!!o.model.view.isFormAutoRun()}),this.listenTo(this.model,"change",this.update),this.listenTo(this.model,"change:value",(function(e,t){o.model.view.updateFormSettings({autoRun:t}).fail((function(){e.set("value",!t)}))})),this.listenTo(o.model,"change:rootNodeName",this.render)},events:{"click label":function(e){e.preventDefault(),this.model.get("disabled")||this.model.set("value",!this.model.get("value"))},"click .btn":function(e){e.preventDefault()}},update:function(){this.$("i.icon-check")[this.model.get("value")?"show":"hide"](),this.$("label,.btn")[this.model.get("disabled")?"addClass":"removeClass"]("disabled")},render:function(){return"form"===o.model.get("rootNodeName")?this.$el.html(this.compiledTemplate({label:s("Autorun dashboard").t(),checked:this.model.get("value")})):this.$el.empty(),this},template:'            <label class="checkbox">                  <a href="#" class="btn"><i class="icon-check" <% if (!checked) {%>style="display:none"<% } %>></i></a>                  <%= label%>            </label>        '})}.call(t,i,t,e))||(e.exports=n)},"splunkjs/mvc/simpleform/edit/menu":function(e,t,i){var n;void 0===(n=function(e,t,n){var s=i("require/underscore"),a=i("shim/jquery"),r=i("views/shared/dialogs/TextDialog"),o=i("views/Base"),l=i("splunkjs/mvc/simplexml/controller"),d=i("shim/splunk.util"),h=i("splunkjs/mvc/simpleform/edit/editinputmenu");return o.extend({events:{"click a.edit-input":function(e){e.preventDefault();var t=a(e.currentTarget);this.editInputMenu&&this.editInputMenu.shown?this.editInputMenu.hide():(t.addClass("active"),this.editInputMenu=new h({model:this.model,onHiddenRemove:!0}),a("body").append(this.editInputMenu.render().el),this.editInputMenu.show(t),this.editInputMenu.on("hide",(function(){t.removeClass("active")}),this))},"click a.delete-input":function(e){e.preventDefault();var t=new r({id:"modal_delete",flashModel:l.model.view}),i=this.model;t.on("click:primaryButton",(function(){t.preventDefault(),i.destroy().then((function(){t.closeDialog()}))})),t.settings.set("primaryButtonLabel",s("Delete").t()),t.settings.set("cancelButtonLabel",s("Cancel").t()),t.settings.set("titleLabel",s("Delete").t());var n=a.trim(this.model.get("label"))||d.sprintf(s("the %s input").t(),s(this.model.get("type")).t());t.setText(d.sprintf(s("Are you sure you want to delete %s?").t(),"<em>"+s.escape(n)+"</em>")),a("body").append(t.render().el),t.show()}},render:function(){return this.$el.html(this.template),this},template:'<div class="edit-dropdown"><a href="#" class="edit-input" title="'+s("Edit Input").t()+'"><i class="icon-pencil"></i></a><a href="#" class="delete-input" title="'+s("Delete Input").t()+'"><i class="icon-x"></i></a></div>'})}.call(t,i,t,e))||(e.exports=n)},"splunkjs/mvc/simpleform/edit/staticoptionscontrol":function(e,t,i){var n;void 0===(n=function(e,t,n){var s=i("require/underscore"),a=i("shim/jquery"),r=(i("util/console"),i("splunkjs/mvc"),i("views/Base")),o=i("views/shared/controls/TextControl"),l=(i("shim/jquery.ui.sortable"),r.extend({moduleId:n.i,initialize:function(){r.prototype.initialize.apply(this,arguments),this._optionsModel=this.options.controlOptions&&this.options.controlOptions.model,this._optionsAttribute=this.options.controlOptions&&this.options.controlOptions.modelAttribute,this._optionPairMap={}},events:{"click a.static-options-add":function(e){e.preventDefault(),this._addOptionPair()}},render:function(){this.$el.html(this.compiledTemplate({_:s}));var e=this._optionsModel&&this._optionsAttribute?this._optionsModel.get(this._optionsAttribute):null;if(e&&e.length)for(var t=0,i=e.length;t<i;t++)this._addOptionPair(e[t]);else this._addOptionPair();this._updateValue();var n=this;this.$(".static-options-body").sortable({handle:".drag-handle",tolerance:"pointer"}).on("sortupdate",(function(e){n._updateValue()})).on("stop",(function(e){n._updateValue()}));return this},_addOptionPair:function(e){var t=new d(e||{});t.on("change",this._updateValue,this),t.on("click:remove",(function(){this._removeOptionPair(t)}),this),this.$(".static-options-body").append(t.render().$el),this._optionPairMap[t.cid]=t},_removeOptionPair:function(e){delete this._optionPairMap[e.cid],e.remove(),this._updateValue(),0===this.$(".static-option-pair").length&&this._addOptionPair()},_updateValue:function(){for(var e,t,i,n,r=[],o=this.$(".static-option-pair").removeClass("error"),l=this._optionPairMap,d={},h=0,u=o.length;h<u;h++)(e=a(o[h]).data("cid"))&&(t=l[e])&&(i=t.getLabel(),n=t.getValue(),(i||n)&&r.push({label:i,value:n}),n&&(i&&!s.has(d,n)||t.$el.addClass("error"),d[n]=!0));this._optionsModel&&this._optionsAttribute&&this._optionsModel.set(this._optionsAttribute,r)},template:'            <div class="static-options-heading">                <div class="static-options-heading-name"><%- _("Name").t() %></div>                <div class="static-options-heading-value"><%- _("Value").t() %></div>            </div>            <div class="static-options-body">            </div>            <div class="static-options-footer">                <a class="static-options-add" href="#"><i class="icon-plus" /><%- _("Add New").t() %></a>            </div>        '})),d=r.extend({className:"static-option-pair control-group",initialize:function(){r.prototype.initialize.apply(this,arguments),this._labelControl=new o({defaultValue:this.options.label||""}),this._labelControl.on("change",this._notifyChange,this),this._valueControl=new o({defaultValue:this.options.value||""}),this._valueControl.on("change",this._notifyChange,this)},events:{"click a.static-option-remove":function(e){e.preventDefault(),this.trigger("click:remove")}},getLabel:function(){return this._labelControl.getValue()},setLabel:function(e){this._labelControl.setValue(e)},getValue:function(){return this._valueControl.getValue()},setValue:function(e){this._valueControl.setValue(e)},render:function(){return this.$el.append(a(this.template)),this.$(".static-option-label").append(this._labelControl.render().$el),this.$(".static-option-value").append(this._valueControl.render().$el),this},_notifyChange:function(){this.trigger("change")},template:'            <div class="drag-handle"></div>            <div class="static-option-label"></div>            <div class="static-option-value"></div>            <a class="static-option-remove btn-pill btn-square" href="#"><i class="icon-x"></i></a>        '});return l}.call(t,i,t,e))||(e.exports=n)},"splunkjs/mvc/simpleform/edit/tokenpreviewcontrol":function(e,t,i){var n;void 0===(n=function(e,t,n){var s=i("require/underscore"),a=(i("shim/jquery"),i("util/console"),i("splunkjs/mvc"),i("views/shared/controls/ControlGroup"));return a.extend({moduleId:n.i,initialize:function(){this.options=s.extend({controlType:"Label"},this.options),a.prototype.initialize.apply(this,arguments),this._optionsModel=this.options.controlOptions&&this.options.controlOptions.model,this._optionsModel&&(this.listenTo(this._optionsModel,"change",this.onOptionsModelChange,this),this.onOptionsModelChange())},onOptionsModelChange:function(){var e=this._optionsModel.get("prefix")||"",t=this._optionsModel.get("suffix")||"",i=this._optionsModel.get("valuePrefix")||"",n=this._optionsModel.get("valueSuffix")||"",s=this._optionsModel.get("delimiter")||"",a="";a+=e,a+=i+"value1"+n,a+=s,a+=i+"value2"+n,a+=s+"...",a+=t,this.getAllControls()[0].setValue(a)}})}.call(t,i,t,e))||(e.exports=n)},"splunkjs/mvc/simpleform/fieldsetview":function(e,t,i){var n;void 0===(n=function(e,t){var n=i("require/underscore"),s=i("shim/jquery"),a=i("splunkjs/mvc/mvc"),r=i("splunkjs/mvc/basesplunkview"),o=i("splunkjs/mvc/simplexml/controller");return i("views/dashboard/form/Fieldset.pcss"),r.extend({moduleId:t.id,className:"fieldset",options:{editable:!0},initialize:function(){this.configure(),this.listenTo(o,"formupdate",this.render),this.listenTo(o.model,"change:edit change:rootNodeName",this.render),this.listenTo(this.settings,"change:editable",this.render),r.prototype.initialize.apply(this,arguments)},isEmpty:function(){return 0===this.getChildElementIDs().length},childrenVisible:function(){return n.any(this.getChildElements(),(function(e){return!e.$el.is(".hidden")}))},addChild:function(e){e.render().$el.appendTo(this.show()),this.render()},show:function(){return this.$el.removeClass("hidden")},hide:function(){return this.$el.addClass("hidden")},updateEmptyState:function(){this.$el[this.isEmpty()?"addClass":"removeClass"]("empty")},render:function(){this.$el.attr("id",this.id);var e=this.settings.get("editable");this.$el[e?"addClass":"removeClass"]("editable");var t=o.isEditMode()&&e,i=!n.all(this.$el.find(".input>label"),(function(e){return!s.trim(s(e).text())}));t||i?this.$el.removeClass("hide-label"):this.$el.addClass("hide-label");var a=o.model.get("rootNodeName");return!t&&this.isEmpty()||null!=a&&"form"!==a?this.hide():this.show(),this.updateEmptyState(),this},getChildElementIDs:function(){return n(this.$el.children(":not(.form-submit)")).map((function(e){return s(e).attr("id")}))},getChildElements:function(){return n(this.getChildElementIDs()).chain().map(n.bind(a.Components.get,a.Components)).filter(n.identity).value()},removeChildren:function(){n(this.getChildElements()).invoke("remove")},serializeStructure:function(){return this.getChildElementIDs()},remove:function(){this.removeChildren(),r.prototype.remove.apply(this,arguments)}})}.call(t,i,t,e))||(e.exports=n)},"splunkjs/mvc/simpleform/formutils":function(e,t,i){var n;void 0===(n=function(e,t,n){var s=i("require/underscore"),a=i("shim/jquery"),r=i("splunkjs/mvc"),o=i("splunkjs/mvc/simplexml/controller"),l={},d={submitForm:s.debounce((function(e){if(d.isFormReady()){e||(e={});var t=r.Components.getInstance("default",{create:!0}),i=r.Components.getInstance("submitted");i&&i.set(t.toJSON());var n=r.Components.getInstance("url");n&&n.saveOnlyWithPrefix("form\\.",t.toJSON(),{replaceState:e.replaceState})}else d.onFormReady().then(s.bind(d.submitForm,d,{replaceState:!0}))})),handleValueChange:function(e){var t=e.vizSettings,i=t.get("type"),n=r.Components.getInstance("default",{create:!0}),a=d.getInputTypeSettings(i),o=t.get("token");if("time"===i){if(!t.get("value")){var l=t.get("default"),h=t.get("preset");return void(l?e.val(l):h?e.visualization._onTimePresetUpdate():t.set("value",{earliest_time:"",latest_time:""}))}if(o){var u=e.val(),c={};c[o+".earliest"]=u.earliest_time||"",c[o+".latest"]=u.latest_time||"",n.set(c)}}else{if(!e.hasValue())return e.defaultUpdate=!0,void e.val(t.get("default"));var p=e.val();if(void 0===p)return n.set(o,p),e.defaultUpdate=!1,void d._handleAutoSubmit(e);if(a.multiValue){if(null===p||0===p.length)return n.set(o,void 0),e.defaultUpdate=!1,void d._handleAutoSubmit(e);var m=t.has("valuePrefix")?t.get("valuePrefix"):"",f=t.has("valueSuffix")?t.get("valueSuffix"):"",g=t.has("delimiter")?t.get("delimiter"):" ";p=s(p).map((function(e){return m+e+f})).join(g)}var v="";if(p){var b=t.get("prefix");b&&(v+=b),v+=p;var _=t.get("suffix");_&&(v+=_)}n.set(o,v)}d._handleAutoSubmit(e)},_handleAutoSubmit:function(e,t){var i=e.vizSettings;(!0===i.get("searchWhenChanged")||null==i.get("searchWhenChanged")&&!r.Components.get("submit"))&&(!d.isFormReady()&&e.defaultUpdate?e.defaultUpdate=!1:d.submitForm())},getInputType:function(e){var t=l[e];if(!t)throw new Error("Unkonwn input type: "+e);return t.clazz},getInputTypeSettings:function(e){var t=l[e];if(!t)throw new Error("Unkonwn input type: "+e);return t.settings},registerInputType:function(e,t,i){l[e]={clazz:t,settings:i}},isInputTypeRegistered:function(e){return s.has(l,e)},onFormReady:s.once((function(){var e=a.Deferred();return o.onReady((function(){var t=d.getFormInputs();if(t.length>0){var i=s(t).invoke("_onReady");a.when.apply(a,i).always(e.resolve)}else e.resolve()})),e.promise()})),isFormReady:function(){return"resolved"===d.onFormReady().state()},isFormInput:function(e){return e&&e._isDashboardInput},getFormInputs:function(){return s(r.Components.toJSON()).filter(d.isFormInput)}};return d}.call(t,i,t,e))||(e.exports=n)},"splunkjs/mvc/simpleform/input":function(e,t,i){var n;void 0===(n=function(e){return{SubmitButton:i("splunkjs/mvc/simpleform/input/submit"),TextInput:i("splunkjs/mvc/simpleform/input/text"),DropdownInput:i("splunkjs/mvc/simpleform/input/dropdown"),RadioGroupInput:i("splunkjs/mvc/simpleform/input/radiogroup"),TimeRangeInput:i("splunkjs/mvc/simpleform/input/timerange"),Submit:i("splunkjs/mvc/simpleform/input/submit"),Text:i("splunkjs/mvc/simpleform/input/text"),Dropdown:i("splunkjs/mvc/simpleform/input/dropdown"),Radio:i("splunkjs/mvc/simpleform/input/radiogroup"),TimeRangePicker:i("splunkjs/mvc/simpleform/input/timerange")}}.call(t,i,t,e))||(e.exports=n)},"splunkjs/mvc/simpleform/input/base":function(e,t,i){var n;void 0===(n=function(e){var t=i("require/underscore"),n=i("shim/jquery"),s=i("splunkjs/mvc/basesplunkview"),a=i("splunkjs/mvc/simpleform/inputsettings"),r=i("splunkjs/mvc/utils"),o=i("splunkjs/mvc/simplexml/controller"),l=i("splunkjs/mvc/simpleform/edit/menu"),d=(i("splunkjs/mvc"),i("util/console")),h=i("splunkjs/mvc/tokenutils"),u=i("splunkjs/mvc/savedsearchmanager"),c=i("splunkjs/mvc/postprocessmanager"),p=i("splunkjs/mvc/simpleform/formutils"),m=i("splunkjs/mvc/simplexml/dashboard/tokendeps");return s.extend(t.extend({},m,{className:"input",_isDashboardInput:!0,options:{submitOnChange:!1,editable:!0},omitted:["id","name","model","collection","el","attributes","className","tagName","events","settingsOptions"],initialize:function(e){this.configure(),this.initialVisualization&&this.settings.set("type",this.initialVisualization),e=e||{},this.inputId=e.inputId||t.uniqueId((this.id||"input")+"_"),this.settings.set("id",this.id),this._extractTokenName(),this.listenTo(this.settings,"change:label",this.renderLabel),this.listenTo(this.settings,"change:token change:type",this._applyTokenName),this.listenTo(this.settings,"change:type",this._updateType),this.listenToOnce(this.settings,"removeInput",this.remove),this.listenTo(o.getStateModel(),"change:edit",this.onEditModeChange),this.listenTo(this.settings,"change:editable",this.onEditModeChange),this.bindToComponent(this.settings.get("managerid"),this.onManagerChange,this),e.handleValueChange&&this.listenTo(this,"change",(function(){p.handleValueChange(this)})),this.setupTokenDependencies()},configure:function(){s.prototype.configure.apply(this,arguments);var e=this.settings.toJSON({tokens:!0});return this.settings=new a(e,this.options.settingsOptions),this},onManagerChange:function(e,t){t instanceof u?this.settings.set({searchName:t.get("searchname"),searchType:"saved"},{tokens:!0}):t instanceof c?this.settings.set({searchType:"postprocess",search:t.get("search",{tokens:!0}),basesearch:t.get("managerid")},{tokens:!0}):t&&this.settings.set({searchType:"inline",search:t.get("search",{tokens:!0}),populating_earliest_time:t.get("earliest_time",{tokens:!0}),populating_latest_time:t.get("latest_time",{tokens:!0})},{tokens:!0})},_updateType:function(){this._removeVisualization();var e=this.settings.get("type")||this.initialVisualization,i=p.getInputType(e);if(d.log("Creating input of type=%o class=%o",e,i),i){this._bindVizSettings();var n=this.vizSettings.toJSON({tokens:!0});n.settings=this.vizSettings,n.id=this.inputId;var s=this.visualization=new i(n,this.options.settingsOptions);s.render().$el.appendTo(this.$el),this.listenTo(s,"change datachange",this._triggerValueChangeEvent),this.listenTo(s,"all",this.trigger,this),this.trigger("create:visualization",s),t.defer(t.bind((function(){this.trigger("change",this.visualization.val(),this.visualization),this._triggerValueChangeEvent()}),this))}else this.trigger("typenotfound",e)},_triggerValueChangeEvent:function(){var e=this.visualization,t={value:e._getSelectedValue(),label:e._getSelectedLabel(),data:e._getSelectedData()};this.trigger("valueChange",t)},_onReady:function(){var e=n.Deferred(),t=function(t){t._onReady((function(){e.resolve()}))};return this.visualization?t(this.visualization):this.listenToOnce(this,"create:visualization",t),e.promise()},_bindVizSettings:function(){this.vizSettings=new a(t.omit(this.options,this.omitted),this.options.settingsOptions),this.vizSettings.id=this.inputId,this.settings._sync=r.syncModels(this.settings,this.vizSettings,{auto:!0,exclude:this.omitted.concat(["value","earliest_time","latest_time","populating_earliest_time","populating_latest_time"])})},_unbindVizSettings:function(){this.settings._sync&&(this.settings._sync.destroy(),this.settings._sync=null),this.vizSettings&&(this.vizSettings.dispose(),this.vizSettings=null)},_extractTokenName:function(){var e=function(e,t,i){return 0===e.indexOf(t)?i&&e.slice(-i.length)===i?e.substring(t.length,e.length-i.length):e.substring(t.length):null};if("time"!==this.settings.get("type")){var t=this.settings.get("value",{tokens:!0});if(h.isToken(t)){var i=e(h.getTokenName(t),"form.");i&&this.settings.set("token",i)}}else{var n=this.settings.get("earliest_time",{tokens:!0}),s=this.settings.get("latest_time",{tokens:!0});h.isToken(n)&&h.isToken(s)&&(n=e(h.getTokenName(n),"form.",".earliest"),s=e(h.getTokenName(s),"form.",".latest"),n&&s&&n===s&&this.settings.set("token",n))}},_applyTokenName:function(){var e=this.settings.get("type"),t=this.settings.get("token");if("time"===e){this.settings.unset("value",{tokens:!0});var i={};i.earliest_time=t?"$form."+t+".earliest$":"$earliest$",i.latest_time=t?"$form."+t+".latest$":"$latest$",this.settings.set(i,{tokens:!0}),this.vizSettings&&this.vizSettings.set(i,{tokens:!0})}else{this.settings.set({earliest_time:null,latest_time:null},{unset:!0,tokens:!0});var n="$form."+t+"$";this.settings.set("value",n,{tokens:!0}),this.vizSettings&&this.vizSettings.set("value",n,{tokens:!0})}},remove:function(){this._removeEditMenu(),this._removeVisualization(),this.stopListeningToTokenDependencyChange();var e=this.$el.parent();s.prototype.remove.call(this),e.trigger("itemRemoved")},_removeVisualization:function(){this._unbindVizSettings(),this.visualization&&(this.stopListening(this.visualization),this.visualization.off(),this.visualization.remove(),this.visualization=null)},_createEditMenu:function(){return new l({model:this.settings})},_removeEditMenu:function(){this.editMenu&&(this.editMenu.remove(),this.editMenu=null)},isEditMode:function(){return o.isEditMode()&&this.settings.get("editable")},onEditModeChange:function(){this.$(".drag-handle").remove(),this.isEditMode()?(n('<div class="drag-handle"></div>').prependTo(this.$el),this.editMenu||(this.editMenu=this._createEditMenu().render().prependTo(this.$el))):this._removeEditMenu()},renderLabel:function(){var e=this.$el.children("label");if(e.length||(e=n("<label></label>").appendTo(this.el)),e.attr("for",this.inputId),this.settings.has("label"))e.html(t.escape(this.settings.get("label"))||"&nbsp;");else{var i=e.text();i&&this.settings.set("label",i,{tokens:!0})}},hasValue:function(){return!!this.visualization&&this.visualization._hasValueForDashboards()},val:function(e){if(this.visualization)return this.visualization.val.apply(this.visualization,arguments)},render:function(){return this.renderLabel(),this._updateType(),this.onEditModeChange(),this}}))}.call(t,i,t,e))||(e.exports=n)},"splunkjs/mvc/simpleform/input/checkboxgroup":function(e,t,i){var n;void 0===(n=function(e){var t=i("splunkjs/mvc/simpleform/input/base"),n=i("splunkjs/mvc/checkboxgroupview");return i("splunkjs/mvc/simpleform/formutils").registerInputType("checkbox",n,{choices:!0,multiValue:!0}),t.extend({initialVisualization:"checkbox"})}.call(t,i,t,e))||(e.exports=n)},"splunkjs/mvc/simpleform/input/dropdown":function(e,t,i){var n;void 0===(n=function(e){var t=i("splunkjs/mvc/simpleform/input/base"),n=i("splunkjs/mvc/dropdownview");return i("splunkjs/mvc/simpleform/formutils").registerInputType("dropdown",n,{choices:!0,multiValue:!1}),t.extend({initialVisualization:"dropdown"})}.call(t,i,t,e))||(e.exports=n)},"splunkjs/mvc/simpleform/input/linklist":function(e,t,i){var n;void 0===(n=function(e){var t=i("splunkjs/mvc/simpleform/input/base"),n=i("splunkjs/mvc/linklistview");return i("splunkjs/mvc/simpleform/formutils").registerInputType("link",n,{choices:!0,multiValue:!1}),t.extend({initialVisualization:"link"})}.call(t,i,t,e))||(e.exports=n)},"splunkjs/mvc/simpleform/input/multiselect":function(e,t,i){var n;void 0===(n=function(e){var t=i("splunkjs/mvc/simpleform/input/base"),n=i("splunkjs/mvc/multiselectview");return i("splunkjs/mvc/simpleform/formutils").registerInputType("multiselect",n,{choices:!0,multiValue:!0}),t.extend({initialVisualization:"multiselect"})}.call(t,i,t,e))||(e.exports=n)},"splunkjs/mvc/simpleform/input/radiogroup":function(e,t,i){var n;void 0===(n=function(e){var t=i("splunkjs/mvc/simpleform/input/base"),n=i("splunkjs/mvc/radiogroupview");return i("splunkjs/mvc/simpleform/formutils").registerInputType("radio",n,{choices:!0,multiValue:!1}),t.extend({initialVisualization:"radio"})}.call(t,i,t,e))||(e.exports=n)},"splunkjs/mvc/simpleform/input/submit":function(e,t,i){var n;void 0===(n=function(e){var t=i("require/underscore"),n=i("splunkjs/mvc/basesplunkview"),s=i("splunkjs/mvc/simplexml/controller"),a=i("splunkjs/mvc/simpleform/formutils");return n.extend({className:"splunk-submit-button form-submit",options:{text:t("Submit").t(),useIcon:!1},events:{"click button":function(e){e.preventDefault(),this.$("button").is(".disabled")||this.trigger("submit",this)},"click .delete-input":function(e){e.preventDefault(),s.model.view.updateFormSettings({submitButton:!1}).done(t.bind(this.remove,this))}},initialize:function(){this.configure(),this.listenTo(this.settings,"change",this.render),this.listenTo(s.getStateModel(),"change:edit",this.onEditModeChange);var e=this.settings;e.set("formReady",a.isFormReady()),t.defer((function(){a.onFormReady().then((function(){e.set("formReady",!0)}))})),this.listenTo(e,"change",this.render)},onEditModeChange:function(){if(this.$(".edit-dropdown").remove(),s.isEditMode()){var e=document.createElement("div");e.classList.add("edit-dropdown"),e.innerHTML='<a href="#" class="delete-input" title="'+t("Delete submit button").t()+'"><i class="icon-x"/></a>';var i=document.querySelector(".btn-primary");i.parentNode.insertBefore(e,i)}},render:function(){var e=this.$("button");if(!e.length){var t=document.createElement("button");t.classList.add("btn","btn-primary"),this.el.appendChild(t)}return this.settings.get("useIcon")?e.html('<i class="icon-search"></i>'):this.settings.has("text")?e.text(this.settings.get("text")):this.settings.set("text",e.text()),e[this.settings.get("formReady")?"removeClass":"addClass"]("disabled"),this.onEditModeChange(),this}})}.call(t,i,t,e))||(e.exports=n)},"splunkjs/mvc/simpleform/input/text":function(e,t,i){var n;void 0===(n=function(e){var t=i("splunkjs/mvc/simpleform/input/base"),n=i("splunkjs/mvc/textinputview");return i("splunkjs/mvc/simpleform/formutils").registerInputType("text",n,{blankIsUndefined:!0}),t.extend({initialVisualization:"text"})}.call(t,i,t,e))||(e.exports=n)},"splunkjs/mvc/simpleform/input/timerange":function(e,t,i){var n;void 0===(n=function(e){var t=i("splunkjs/mvc/simpleform/input/base"),n=i("splunkjs/mvc/timerangeview");return i("splunkjs/mvc/simpleform/formutils").registerInputType("time",n),t.extend({initialVisualization:"time"})}.call(t,i,t,e))||(e.exports=n)},"splunkjs/mvc/simpleform/inputsettings":function(e,t,i){var n;void 0===(n=function(e){var t=i("require/underscore"),n=i("shim/jquery"),s=i("splunkjs/mvc/settings"),a=i("splunkjs/mvc/simplexml/controller");return s.extend({validation:{token:{fn:"validateToken"},labelField:{fn:"validateLabelAndValueFields"},valueField:{fn:"validateLabelAndValueFields"},choices:{fn:"validateChoices"}},validateToken:function(e,i){if(!e&&"time"!==this.get("type"))return t("Token is required").t()},validateLabelAndValueFields:function(e,i,n){var s,a="time"!==this.get("type")&&"text"!==this.get("type");if(s="inline"==n.searchType&&!n.search,a&&!e&&!s)return t("Field For Label and Value are required for search").t()},validateChoices:function(e,i,n){if("time"!==this.get("type")&&"text"!==this.get("type")&&n.choices&&n.choices.length>0){var s=!1,a=!1,r={};if(t.each(n.choices,(function(e){e.value&&(e.label||(s=!0),t.has(r,e.value)&&(a=!0),r[e.value]=!0)})),s)return t("Static option values must have a name attributed to them").t();if(a)return t("Static option values must be unique").t()}},save:function(e,i,n){var s;this.attributes;if(null==e||"object"==typeof e?(s=e,n=i):(s={})[e]=i,n=t.extend({validate:!0},n),s&&!n.wait){if(!this.set(s,n))return!1}else if(!this._validate(s,n))return!1;return a.model.view.updateInput(this)},destroy:function(){var e=n.Deferred(),t=this;return a.model.view.deleteInput(t.get("id")).done((function(){e.resolve(),t.trigger("removeInput")})).fail((function(t){e.reject(t)})),e.promise()}})}.call(t,i,t,e))||(e.exports=n)},"splunkjs/mvc/simplexml":function(e,t,i){var n;void 0===(n=function(e){var t=i("splunkjs/mvc/simplexml/controller");return i("splunkjs/mvc/simplexml/dashboardview"),i("splunkjs/mvc/simplexml/dashboard"),i("splunkjs/mvc/simplexml/dashboard/panelref"),i("splunkjs/mvc/simplexml/element/table"),i("splunkjs/mvc/simplexml/element/chart"),i("splunkjs/mvc/simplexml/element/event"),i("splunkjs/mvc/simplexml/element/single"),i("splunkjs/mvc/simplexml/element/map"),i("splunkjs/mvc/simplexml/element/list"),i("splunkjs/mvc/simplexml/element/html"),i("splunkjs/mvc/simplexml/element/visualization"),i("splunkjs/mvc/simplexml/urltokenmodel"),i("splunkjs/mvc/searchmanager"),i("splunkjs/mvc/savedsearchmanager"),i("splunkjs/mvc/postprocessmanager"),i("splunkjs/mvc/drilldown"),i("splunkjs/mvc/headerview"),i("splunkjs/mvc/footerview"),i("splunkjs/mvc/simpleform/formutils"),i("splunkjs/mvc/simplexml/eventhandler"),i("splunkjs/mvc/simplexml/searcheventhandler"),i("splunkjs/mvc/simpleform/input"),i("splunkjs/mvc/simpleform/input/submit"),i("splunkjs/mvc/simpleform/input/text"),i("splunkjs/mvc/simpleform/input/dropdown"),i("splunkjs/mvc/simpleform/input/radiogroup"),i("splunkjs/mvc/simpleform/input/linklist"),i("splunkjs/mvc/simpleform/input/timerange"),i("splunkjs/mvc/simpleform/input/checkboxgroup"),i("splunkjs/mvc/simpleform/input/multiselect"),i("splunkjs/mvc/utils"),t}.call(t,i,t,e))||(e.exports=n)},"splunkjs/mvc/simplexml/controller":function(e,t,i){var n;void 0===(n=function(e){var t=i("util/router_utils"),n=i("require/backbone"),s=i("shim/jquery"),a=i("require/underscore"),r=(i("splunkjs/mvc/utils"),i("util/pdf_utils")),o=i("util/console"),l=i("uri/route"),d=i("splunkjs/mvc/sharedmodels"),h=(i("util/splunkd_utils"),i("shim/splunk.util")),u=i("splunkjs/mvc/protections"),c=i("collections/search/Reports"),p=i("splunkjs/mvc/simplexml/dashboardmodel"),m=i("splunkjs/mvc/simplexml/router");i("util/ajax_no_cache"),u.enableCSRFProtection(s),u.enableUnauthorizationRedirection(s,h.make_url("account/login"),"/account/logout");var f=function(){if(!0!==window.__splunkjs_router_disabled__){this.readyDfd=s.Deferred(),this.readyDeps=[];var e=this.model=new n.Model;this.collection={};var i=this.model.app=d.get("app"),a=(this.model.appLocal=d.get("appLocal"),this.model.user=d.get("user"),this.model.userPref=d.get("userPref"),this.collection.times=d.get("times"),this.model.serverInfo=d.get("serverInfo"));this.collection.searchBNFs=d.get("searchBNFs");this._onViewModelLoadDfd=s.Deferred();var o=this.model.view=new p;this.model.view.fetch({url:l.splunkdNS(i.get("root"),i.get("locale"),i.get("owner"),i.get("app"),[o.url,i.get("page")].join("/"))}).done(this._onViewModelLoad.bind(this)),r.isPdfServiceAvailable().always((function(t){e.set("pdf_available",t)})),this.on("addInput",this.model.view.addInput,this.model.view),this.router=new m({model:this.model,app:i,serverInfo:a}),t.start_backbone_history(),this.onReady((function(){e.trigger("ready")}))}else this._onViewModelLoadDfd=s.Deferred().resolve(),this.readyDfd=s.Deferred(),this.readyDeps=[],this.model=new n.Model,this.collection={},this.model.view=new p,this.router={on:function(){}}};a.extend(f.prototype,n.Events,{_populateSharedModels:function(e){this.model.app=e.get("app"),this.model.appLocal=e.get("appLocal"),this.model.user=e.get("user"),this.model.userPref=e.get("userPref"),this.collection.times=e.get("times"),this.model.serverInfo=e.get("serverInfo")},_onViewModelLoad:function(){o.trace("controller _onViewModelLoad");var e=this.model;e.set("editable",e.view.isEditable()&&e.view.entry.acl.canWrite()),e.view.isXML()&&(e.set("label",this.model.view.getLabel()),e.set("description",this.model.view.getDescription()),e.on("change:label change:description",(function(){e.view.setLabelAndDescription(e.get("label"),e.get("description")),e.view.save(),this.updatePageTitle()}),this),e.set("rootNodeName",e.view.getRootNodeName()),e.view.on("change:rootNodeName",(function(t,i){e.set("rootNodeName",i)}))),this._onViewModelLoadDfd.resolve(this.model.view),this.updatePageTitle()},onViewModelLoad:function(e,t){o.trace("controller onViewModelLoad"),this._onViewModelLoadDfd.done(e.bind(t||null))},getStateModel:function(){return o.trace("controller getStateModel"),this.model},isEditMode:function(){return o.trace("controller isEditMode"),!0===this.model.get("edit")},addReadyDep:function(e){o.trace("controller addReadyDep");var t=s.Deferred();e.always(a.bind(t.resolve,t)),this.readyDeps.push(t)},onReady:function(e){o.trace("controller onReady");var t=s.when(this.readyDfd,this._onViewModelLoadDfd);return e&&t.then(e),t},ready:function(){o.trace("controller ready");var e=this.readyDfd;o.log("Waiting for %d dependencies before signaling dashboard readiness",this.readyDeps.length),s.when.apply(s,this.readyDeps).then((function(){o.log("Dashboard is ready"),e.resolve()}))},isReady:function(){return o.trace("controller isReady"),"resolved"===this.readyDfd.state()},fetchCollection:function(){o.trace("controller fetchCollection"),this.reportsCollection=new c,this.reportsCollection.REPORTS_LIMIT=100;var e=this.model.app,t={data:{count:this.reportsCollection.REPORTS_LIMIT,app:e.get("app"),owner:e.get("owner"),search:"is_visible=1 AND disabled=0"}};this.reportsCollection.initialFetchDfd=this.reportsCollection.fetch(t)},updatePageTitle:function(){o.trace("controller updatePageTitle");var e=a("%s | Splunk").t();document.title=h.sprintf(e,a(this.model.view.getLabel()).t())},_signalReadyByMainController:function(e){this.model.view.setFromSplunkD(e.model.view.toSplunkD()),this.ready()}});var g=new f;return o.DEBUG_ENABLED&&(window.Dashboard=g),g}.call(t,i,t,e))||(e.exports=n)},"splunkjs/mvc/simplexml/dashboard":function(e,t,i){var n;void 0===(n=function(e){return i("util/console").warn("%s is deprecated. Please require %s instead.","splunkjs/mvc/simplexml/dashboard","splunkjs/mvc/simplexml/dashboardview"),i("splunkjs/mvc/simplexml/dashboardview")}.call(t,i,t,e))||(e.exports=n)},"splunkjs/mvc/simplexml/dashboard/basepanel":function(e,t,i){var n;void 0===(n=function(e,t,n){var s=i("require/underscore"),a=i("shim/jquery"),r=i("splunkjs/mvc/mvc"),o=i("splunkjs/mvc/basesplunkview"),l=i("splunkjs/mvc/simpleform/fieldsetview"),d=i("splunkjs/mvc/simplexml/controller"),h=i("splunkjs/mvc/simplexml/element/base"),u=i("splunkjs/mvc/simpleform/input/base"),c=i("splunkjs/mvc/simplexml/dashboard/titleeditor"),p=i("views/shared/dialogs/TextDialog"),m=i("shim/splunk.util").sprintf,f=i("splunkjs/mvc/simplexml/factory"),g=i("splunkjs/mvc/simplexml/dashboard/tokendeps"),v=i("splunkjs/mvc/postprocessmanager");return o.extend(s.extend({},g,{className:"dashboard-cell",_uniqueIdPrefix:"panel",configure:function(){this.options.settingsOptions=s.extend({retainUnmatchedTokens:!0},this.options.settingsOptions||{}),o.prototype.configure.apply(this,arguments)},initialize:function(){this.configure(),this.model||(this.model={}),this.listenTo(d.getStateModel(),"change:edit ready",this.onEditStateChange),this.listenTo(this.settings,"change:title",this.updatePanelTitle),this.fieldset=this.createFieldset(),this.setupTokenDependencies()},isEditMode:function(){return!!d.isReady()&&(d.getStateModel().get("edit")&&!1!==this.settings.get("editable"))},childrenVisible:function(){return s.any(this.getChildElements(),(function(e){return!e.$el.is(".hidden")}))||this.fieldset.childrenVisible()},layoutElements:function(){this.getChildElementIDs().length>0&&!this.childrenVisible()?this.hide():this.tokenDependenciesMet()?this.show():this.hide();var e=this.$panel(),t=this.isEditMode();s(e.children(".panel-element-row.grouped")).each((function(e){var i=".dashboard-element"+(t?"":":not(.hidden)"),n=a(e).children(i);n.length>0&&n.css({width:String(100/n.length)+"%"})}))},resetGroupLayout:function(){s(this.$panel().children(".panel-element-row")).chain().map(a).invoke("removeClass","grouped").filter((function(e){return e.children(".dashboard-element").length>1})).invoke("addClass","grouped")},resetLayout:function(){this.onEditStateChange(),this.resetGroupLayout()},addChild:function(e){if(e instanceof h)this.addElement(e);else{if(!(e instanceof u))throw new Error("Cannot add unknown component as child of panel");this.addInput(e)}},addElement:function(e){var t,i=this.$panel();"visualizations:singlevalue"==e.getVisualizationType()&&(t=i.children(".panel-element-row:last")).length?0===t.children(".single")&&(t=a('<div class="panel-element-row" />').appendTo(i)):t=a('<div class="panel-element-row" />').appendTo(i),e.render().$el.addClass("dashboard-element").appendTo(t),this.$el.trigger("cellContentChange")},setEditable:function(e){this.fieldset.settings.set("editable",e),s(this.getChildElements()).each((function(t){t.settings.set("editable",e)}))},addInput:function(e){this.fieldset.addChild(e)},getChildElementIDs:function(){return s(this.$el.find(".dashboard-element")).map((function(e){return a(e).attr("id")}))},getChildElements:function(){return s(this.getChildElementIDs()).chain().map(s.bind(r.Components.get,r.Components)).filter(s.identity).value()},getAllChildren:function(){return Array.prototype.concat.call(this.fieldset.getChildElements(),this.getChildElements())},removeChildren:function(){s(this.getChildElements()).invoke("remove")},onEditStateChange:function(){this.isEditMode()?this.enterEditMode():this.leaveEditMode()},enterEditMode:function(){var e=this.createTitleEditor();e&&e.render().$el.prependTo(this.createPanelTitle());var t=this._panelEditor=this.createPanelEditor();t&&t.render().$el.prependTo(this.$panel()),this.createDragHandle()},leaveEditMode:function(){this.removeDragHandle(),this.removePanelEditor(),this.removeTitleEditor(),this.updatePanelTitle()},createFieldset:function(e){return e||(e={}),new l(e)},removeFieldset:function(){this.fieldset.remove(),this.fieldset=null},createTitleEditor:function(){return this.removeTitleEditor(),this._titleEditor=new c({model:this.settings,attribute:"title"}),this.listenTo(this.settings,"change:title",this.triggerStructureChange),this._titleEditor},removeTitleEditor:function(){this._titleEditor&&(this.stopListening(this.settings,"change:title",this.triggerStructureChange),this._titleEditor.remove(),this._titleEditor=null)},createPanelEditor:function(){},removePanelEditor:function(){this._panelEditor&&(this.stopListening(this._panelEditor),this._panelEditor.remove(),this._panelEditor=null)},createPanelTitle:function(e){var t=this.$panel(),i=t.children(".panel-title");return i.length||(i=a('<h2 class="panel-title" />').prependTo(t)),e?(i.text(s(e).t()).removeClass("empty"),t.addClass("with-title")):(i.empty().addClass("empty"),t.removeClass("with-title")),i},updatePanelTitle:function(){if(!this._titleEditor){var e=this.settings.get("title");null!=e&&(e=e.trim()),this.createPanelTitle(e)}},removePanelTitle:function(){this.removeTitleEditor(),this.$el.children(".dashboard-panel").children(".panel-title").remove()},createDragHandle:function(){this._dragHandle||(this._dragHandle=a('<div class="drag-handle"><a href="#" class="delete-panel"><i class="icon-x"></i></a><div class="handle-inner"></div></div>')),this._dragHandle.prependTo(this.$panel())},removeDragHandle:function(){this._dragHandle&&(this._dragHandle.remove(),this._dragHandle=null)},hide:function(){this.$el.is(".hidden")||this.$el.addClass("hidden").trigger("panelVisibilityChanged")},show:function(){this.$el.is(".hidden")&&this.$el.removeClass("hidden").trigger("panelVisibilityChanged")},events:{itemRemoved:"removeIfEmpty",elementVisibilityChanged:"layoutElements","click a.delete-panel:not(.disabled)":"showDeleteDialog","click a.rename-panel:not(.disabled)":"focusTitleEditor","click a.convert-panel:not(.disabled)":"convertPanel"},$panel:function(){return this.$el.children(".dashboard-panel")},render:function(){this.$el.attr("id",this.id);var e=this.$panel();e.length||(e=a('<div class="dashboard-panel"></div>').appendTo(this.$el)),this.fieldset.render().$el.appendTo(e);var t=this.settings.get("title").trim();return t&&this.createPanelTitle(t),this.resetLayout(),this},focusTitleEditor:function(){this._titleEditor&&this._titleEditor.focus()},convertPanel:function(){},onPanelConverted:function(){this.leaveEditMode(),this.onEditStateChange()},convertPanelTo:function(e){return new Promise((function(t){var i=this,n=this.getAllChildren(),a=this.settings.toJSON(),r={type:e,settings:a,children:[]};f.getDefault().materialize(r,null,{loadPanels:!1}).then((function(e){e.render().$el.insertBefore(i.$el),i.$el.detach(),s(n).each((function(t){f.addChildToContainer(t,e)})),i.remove(),e.onPanelConverted(),t(e)}))}))},showDeleteDialog:function(e){e.preventDefault();var t=new p({id:"modal_delete"});t.settings.set({primaryButtonLabel:s("Delete").t(),cancelButtonLabel:s("Cancel").t(),titleLabel:s("Delete").t()}),this.listenToOnce(t,"click:primaryButton",this.deletePanel);var i=a.trim(this.settings.get("title")),n=i?m("<em>%s</em>",s.escape(i)):s.escape(s("this panel").t());t.setText(m(s("Are you sure you want to delete %s?").t(),n)),t.render().$el.appendTo(document.body),t.show()},deletePanel:function(){var e=this.$el.parent();this.remove(),s.defer((function(){a(window).trigger("resize"),e.trigger("structureChange")}))},triggerStructureChange:function(){this.isEditMode()&&this.$el.trigger("structureChange")},serializeStructure:function(e){return e||(e={}),{inputs:this.fieldset?this.fieldset.serializeStructure(e):[],elements:this.getChildElementIDs(),title:this.settings.get("title",{tokens:!1!==e.tokens}),tokenDependencies:this.settings.get("tokenDependencies",{tokens:!0}),id:this.settings.get("originalId")}},hasChildWithBaseSearch:function(){var e=function(e){return r.Components.get(e.settings.get("managerid"))instanceof v};return s(this.getChildElements()).any(e)||this.fieldset&&s(this.getChildElements()).any(e)},isEmpty:function(){return 0===this.getChildElementIDs().length&&this.fieldset.isEmpty()},removeIfEmpty:function(){this.isEmpty()&&this.remove()},remove:function(){this.removeTitleEditor(),this.removeFieldset(),this.removeChildren(),this.stopListeningToTokenDependencyChange(),o.prototype.remove.apply(this,arguments)}}))}.call(t,i,t,e))||(e.exports=n)},"splunkjs/mvc/simplexml/dashboard/description":function(e,t,i){var n;void 0===(n=function(e){var t=i("require/underscore");return i("require/backbone").View.extend({initialize:function(){this.listenTo(this.model,"change:description",this.render,this),this.listenTo(this.model,"change:edit",this.render,this)},render:function(){if(this.model.has("description")){var e=t(this.model.get("description")||"").t(),i=this.model.get("edit");this.$el.text(e)[e&&!i?"show":"hide"]()}return this}})}.call(t,i,t,e))||(e.exports=n)},"splunkjs/mvc/simplexml/dashboard/empty":function(e,t,i){var n;void 0===(n=function(e,t,n){var s=i("require/underscore"),a=i("shim/jquery"),r=i("require/backbone"),o=i("shim/splunk.util");i("uri/route");return r.View.extend({initialize:function(e){r.View.prototype.initialize.apply(this,arguments),this.listenTo(this.model.state,"change:editable change:edit",this.render,this)},events:{"click a.start-edit":function(e){e.preventDefault(),this.model.state.set("edit",!0)}},render:function(){this.$el.empty().removeClass("empty-dashboard"),this.$el.addClass("empty-dashboard");var e=a('<div class="alert alert-error"><i class="icon-alert"></i></div>');if(this.model.state.get("editable")){var t;if(this.model.state.get("edit"))t=s("Click Add Panel to start.").t();else{t=s("This dashboard has no panels. %s to add panels.").t();var i=o.sprintf('<a class="start-edit" href="#edit">%s</a>',s("Start editing").t());t=o.sprintf(t,i)}a("<span></span>").html(t).appendTo(e)}else a("<span></span>").text(s("This dashboard has no panels.").t()).appendTo(e);return e.appendTo(this.$el),this}})}.call(t,i,t,e))||(e.exports=n)},"splunkjs/mvc/simplexml/dashboard/panel":function(e,t,i){var n;void 0===(n=function(e){var t=i("require/underscore"),n=i("splunkjs/mvc/simplexml/dashboard/basepanel"),s=i("splunkjs/mvc/simplexml/dashboard/paneleditor"),a=i("splunkjs/mvc/simplexml/dialog/convertpanel"),r=s.extend({className:"inline-panel-editor",initialize:function(e){s.prototype.initialize.call(this,t.extend({popdownLabel:t("Inline Panel").t()},e))},getActions:function(){return[{className:"rename-panel",label:t("Rename").t()},{className:this.canConvert()?"convert-panel":"disabled",label:t("Convert to Prebuilt Panel").t(),tooltip:this.convertTooltip},{className:"delete-panel",label:t("Delete").t()}]}});return n.extend({renderFromDOM:function(){var e=this.$panel(),t=this.$el.data("original-id");t&&this.settings.set("originalId",t);var i=e.children(".panel-title");i.length&&this.settings.set("title",i.text().trim(),{tokens:!0});var n=e.children(".fieldset");return n.length&&this.fieldset.setElement(n),this.fieldset.render(),i.length?this.fieldset.$el.insertAfter(i):this.fieldset.$el.prependTo(e),this.resetLayout(),this},createPanelEditor:function(){this.removePanelEditor();var e=this.hasChildWithBaseSearch();return new r({canConvert:!e,convertTooltip:e?t("Unable to convert to prebuilt panel due to dependency on base search.").t():null})},convertPanel:function(e){e.preventDefault();var t=new a({id:"modal_convert_to_ref",panel:this});t.render().appendTo(document.body),t.show(),this.listenToOnce(t,"panelCreated",(function(e){this.convertPanelTo("panelref").then((function(t){t.model.panel.setFromSplunkD(e.toSplunkD()),t.$el.trigger("structureChange")}))}))},addChild:function(e){e&&e.settings&&e.settings.set("editable",!0),n.prototype.addChild.apply(this,arguments)}})}.call(t,i,t,e))||(e.exports=n)},"splunkjs/mvc/simplexml/dashboard/paneleditor":function(e,t,i){var n;void 0===(n=function(e,t,n){var s=i("shim/jquery"),a=i("require/underscore"),r=i("views/Base"),o=i("views/shared/delegates/Popdown");return i("shim/bootstrap.tooltip"),r.extend({initialize:function(e){e&&a.extend(this,a.pick(e,"actions","popdownLabel")),this._canConvert=e.canConvert,this.convertTooltip=e.convertTooltip},render:function(){this.$el.addClass("dashboard-panel-editor").html(this.compiledTemplate({actions:this.getActions(),popdownLabel:this.getLabel(),className:this.className}));var e=a(this.getActions()).map((function(e){var t=s('<a href="#"></a>').addClass(e.className).text(e.label);return e.tooltip&&t.tooltip({animation:!1,title:e.tooltip,container:"body"}),s("<li></li>").append(t)}));return this.$(".dashboard-panel-actions").append(e),this.children.popdown=new o({el:this.el,mode:"dialog"}),this},getActions:function(){return this.actions||[]},getLabel:function(){return this.popdownLabel||a("Panel").t()},canConvert:function(){return null==this._canConvert||this._canConvert},events:{"click li>a":function(e){e.preventDefault(),s(e.currentTarget).is(".disabled")||this.children.popdown.hide()}},template:'<a href="#" class="dropdown-toggle btn-pill"><% if(className === "inline-panel-editor") { %><span class="icon-gear"></span><% } else if (className === "ref-panel-editor") { %> <span class="icon-lock"></span><% } %><span class="caret" aria-hidden="true"></span></a><div class="dropdown-menu"><div class="arrow"></div><ul class="dashboard-panel-actions"><li class="panel-type-label"><%- popdownLabel %></li></ul></div>'})}.call(t,i,t,e))||(e.exports=n)},"splunkjs/mvc/simplexml/dashboard/panelref":function(e,t,i){var n;void 0===(n=function(e,t,n){var s=i("require/underscore"),a=i("shim/jquery"),r=i("splunkjs/mvc"),o=i("require/backbone"),l=i("splunkjs/mvc/simplexml/parser"),d=i("splunkjs/mvc/simplexml/factory"),h=i("splunkjs/mvc/sharedmodels"),u=i("util/splunkd_utils"),c=i("models/services/data/ui/Panel"),p=i("splunkjs/mvc/simplexml/dashboard/basepanel"),m=i("splunkjs/mvc/messages"),f=i("shim/splunk.util").sprintf,g=(i("splunkjs/mvc/utils"),i("splunkjs/mvc/simplexml/dashboard/paneleditor")),v=i("views/shared/dialogs/TextDialog"),b=g.extend({className:"ref-panel-editor",initialize:function(e){g.prototype.initialize.call(this,s.extend({popdownLabel:s("Prebuilt Panel").t()},e)),this.listenTo(this.model.state,"change",this.render)},getActions:function(){return[{className:this.canConvert()?"convert-panel":"disabled",label:s("Convert to Inline Panel").t(),tooltip:this.convertTooltip},{className:"delete-panel",label:s("Delete").t()}]},canConvert:function(){var e=g.prototype.canConvert.apply(this,arguments);if(e){var t=this.model.state.toJSON();e=t.ready&&t.loaded&&!t.error}return e}});return p.extend({initialize:function(){p.prototype.initialize.apply(this,arguments),this.model.panel||(this.model.panel=new c),this.model.state=new o.Model({loaded:this.model.panel.isNew(),ready:!1,error:!1}),this.dashboardFactory=new d.createLegacy},load:function(e,t,i){this.model.state.set({loaded:!1,error:!1,ready:!1}),this.model.panel.entry.set("name",e),this.model.panel.entry.acl.set("app",t),this.renderMessage({icon:"info-circle",level:"info",message:s("Loading panel...").t()});var n=h.get("app");t||(t=n.get("app"));var r=a.Deferred(),o=this;return this.model.panel.fetch({url:u.fullpath(this.model.panel.url+"/"+encodeURIComponent(e),{app:t,owner:n.get("owner")}),success:function(){o.parsePanel(i).then(s.bind(o.removeMessage,o)).then(s.bind(r.resolve,r)).fail(s.bind(r.reject,r))},error:function(i,n){var a=404===n.status?f(s('Dashboard panel "%s" not found.').t(),s.escape(e)):f(s('Error loading dashboard panel "%s".').t(),s.escape(e));o.onLoadError(a,e,t),r.reject()}}),r.promise()},clearPanel:function(){this.fieldset.removeChildren(),this.removeChildren()},parsePanel:function(e){e||(e={});var t=this.model.state;t.set({loaded:!0,error:!1,ready:!1});var i=this.model.panel.entry.content.get("eai:data");try{var n=l.getDefault().parsePanel(i);return!1!==e.clear&&this.clearPanel(),e.idPrefix=this.id+"_",this.dashboardFactory.materializeExisting(this,n,e).done((function(){t.set("ready",!0)}))}catch(e){return this.onParserError(e),a.Deferred().reject(e)}},applySettings:function(e){this.settings.set(e),this.onEditStateChange()},onLoadError:function(e,t){this.model.state.set("error",!0),this.renderError(e)},onParserError:function(){this.model.state.set("error",!0),this.renderError(s("Error parsing prebuilt dashboard panel.").t())},renderError:function(e){this.renderMessage({icon:"warning-sign",level:"error",message:e})},renderMessage:function(e){this.removeMessage();var t=a('<div class="dashboard-element panel-message"></div>'),i=a('<div class="panel-body"></div>').appendTo(t);m.render(e,i),this.$panel().append(t)},removeMessage:function(){this.$panel().children(".panel-message").remove()},addChild:function(e){this.removeMessage(),e&&e.settings&&e.settings.set("editable",!1),p.prototype.addChild.apply(this,arguments)},createFieldset:function(e){return p.prototype.createFieldset.call(this,s.extend({editable:!1},e))},serializeStructure:function(e){return e||(e={}),e.flatten&&this.model.state.get("loaded")?p.prototype.serializeStructure.call(this,e):{ref:this.model.panel.entry.get("name"),app:this.model.panel.entry.acl.get("app"),tokenDependencies:this.settings.get("tokenDependencies",{tokens:!0}),id:this.settings.get("originalId"),inputs:[],elements:[]}},createPanelEditor:function(){this.removePanelEditor();var e=this.hasChildWithBaseSearch();return new b({model:{state:this.model.state},canConvert:!e,convertTooltip:e?s("Unable to convert to inline panel due to dependency on base search.").t():null})},createTitleEditor:function(){this.createPanelTitle(this.settings.get("title"))},onPanelConverted:function(){this.model.state.set({loaded:!0,ready:!0,error:!1}),p.prototype.onPanelConverted.apply(this,arguments)},convertPanel:function(e){e.preventDefault();var t=this;v.confirm(s("Conversion to an inline panel lets you edit and customize the panel on this dashboard.").t(),{id:"modal_convert_to_inline",title:s("Convert to Inline Panel").t(),primaryButtonLabel:s("Convert").t(),primaryAction:function(){var e=p.prototype.serializeStructure.call(t),i=t.model.panel.getElementNodes(),n=t.model.panel.getInputNodes();if(e.elements.length!==i.length||e.inputs.length!==n.length)throw new Error("Error converting to inline panel - unable to obtain correct structure information.");var a=s.object(e.elements,i),o=s.object(e.inputs,n);t.convertPanelTo("panel").then((function(e){r.Components.get("dashboard").updateDashboardStructure({itemMap:a,inputMap:o}),e.$el.trigger("resetDragAndDrop")}))}})}})}.call(t,i,t,e))||(e.exports=n)},"splunkjs/mvc/simplexml/dashboard/row":function(e,t,i){var n;void 0===(n=function(e){var t=i("require/underscore"),n=i("shim/jquery"),s=i("splunkjs/mvc/mvc"),a=i("splunkjs/mvc/basesplunkview"),r=i("splunkjs/mvc/simplexml/controller"),o=i("splunkjs/mvc/simplexml/dashboard/tokendeps");return a.extend(t.extend({},o,{className:"dashboard-row",_uniqueIdPrefix:"row",initialize:function(){this.configure(),this.listenTo(r.getStateModel(),"change:edit",this.onEditStateChange,this),this.setupTokenDependencies()},onEditStateChange:function(){this.onContentChange()},bindToDOMChanges:function(){this.unbindFromDOMChanges(),!this.isEditMode()&&this.$(".dashboard-panel").length>1&&(this.$el.on("DOMSubtreeModified",this.throttledAlignItemHeights.bind(this)),this.throttledAlignItemHeights())},unbindFromDOMChanges:function(){this.$el.off("DOMSubtreeModified")},isEditMode:function(){return r.getStateModel().get("edit")},onContentChange:function(){this.unbindFromDOMChanges();var e=this.$el.children(".dashboard-cell");if(0!==e.length){var t=this.isEditMode()?e:e.filter(":not(.hidden)");e.removeClass("last-visible"),t.last().addClass("last-visible");var i=t.length,s=String(100/i)+"%";e.css({width:s}).find(".panel-element-row").each((function(){var e=n(this).find(".dashboard-element");e.css({width:String(100/e.length)+"%"})})),this.isEditMode()?this.alignOff():(i>0&&this.throttledAlignItemHeights(),this.bindToDOMChanges())}else this.$el.addClass("empty")},onPanelVisibilityChange:function(){this.onContentChange(),n(window).trigger("resize")},throttledAlignItemHeights:function(){var e=this;if(!e._alignTimer){var t=null==e._lastAlign||+new Date-e._lastAlign>1e3;e._alignTimer=setTimeout((function(){e.alignItemHeights(),e._alignTimer=null}),t?50:1e3)}},alignItemHeights:function(){var e=this.$el.find(".dashboard-panel");e.css({"min-height":0}),e.length>1&&e.css({"min-height":t.max(t.map(e,(function(e){return n(e).height()})))}),this._lastAlign=+new Date},alignOff:function(){clearTimeout(this._alignTimer),this._alignTimer=null,this.$el.find(".dashboard-panel").css({"min-height":0})},getChildContainer:function(){return this.$el},events:{cellContentChange:"onContentChange",cellRemoved:"onContentChange",structureChange:"onContentChange",panelVisibilityChanged:"onPanelVisibilityChange"},render:function(){return this.isEmpty()&&this.$el.addClass("empty"),this.onContentChange(),this},hide:function(){this.$el.addClass("hidden")},show:function(){this.$el.removeClass("hidden")},renderFromDOM:function(){var e=this.$el.data("original-id");return e&&this.settings.set("originalId",e),this.render()},isEmpty:function(){return 0===this.$el.children(".dashboard-cell").length},removeIfEmpty:function(){this.isEmpty()&&this.remove()},remove:function(){return this.unbindFromDOMChanges(),this.stopListeningToTokenDependencyChange(),a.prototype.remove.apply(this,arguments)},serializeStructure:function(e){return e||(e={}),{panels:t(this.$el.children(".dashboard-cell")).chain().map((function(e){return n(e).attr("id")})).map(t.bind(s.Components.get,s.Components)).filter((function(t){return t&&!0!==e.omitHidden||!t.$el.is(".hidden")})).map((function(t){return t.serializeStructure(e)})).value(),tokenDependencies:this.settings.get("tokenDependencies",{tokens:!0}),id:this.settings.get("originalId")}}}))}.call(t,i,t,e))||(e.exports=n)},"splunkjs/mvc/simplexml/dashboard/title":function(e,t,i){var n;void 0===(n=function(e){var t=i("require/underscore");return i("require/backbone").View.extend({initialize:function(){this.model.on("change:edit change:label",this.render,this)},render:function(){if(this.model.has("label")||this.model.set({label:this.$el.text()},{silent:!0}),this.$(".edit-label").remove(),this.$el.text(t(this.model.get("label")).t()),this.model.get("edit")){var e=document.createElement("span");e.classList.add("edit-label"),e.innerHTML=t("Edit").t()+": ",this.el.insertBefore(e,this.el.firstChild)}return this}})}.call(t,i,t,e))||(e.exports=n)},"splunkjs/mvc/simplexml/dashboard/titleeditor":function(e,t,i){var n;void 0===(n=function(e,t,n){var s=i("require/underscore"),a=i("require/backbone"),r=i("util/console");return a.View.extend({tagName:"input",className:"title-editor",initialize:function(e){a.View.prototype.initialize.apply(this,arguments),this.attribute=e.attribute||"title",this.placeholder=e.placeholder||s("Untitled").t(),this.listenTo(this.model,"change:"+this.attribute,(function(e){this.trigger("update",e)}))},updateFromModel:function(){var e=this.$el.val(),t=this.model.get(this.attribute);e!=t&&this.$el.val(t?s(t).t():"")},updateModel:function(){var e=this.$el.val().trim();r.log("Update title: ",e),this.model.set(this.attribute,e)},$input:function(){return this.$el},events:{change:"updateModel",keyup:function(e){27==e.keyCode?(this.updateFromModel(),this.$el.blur()):13==e.keyCode&&(this.updateModel(),this.$el.blur())}},focus:function(){this.$el.focus()},render:function(){return this.$el.attr("type","text").attr("placeholder",this.placeholder),this.updateFromModel(),this}})}.call(t,i,t,e))||(e.exports=n)},"splunkjs/mvc/simplexml/dashboard/tokendeps":function(e,t,i){var n;void 0===(n=function(e,t,n){i("require/underscore");var s=i("splunkjs/mvc/mvc"),a=i("splunkjs/mvc/tokenutils"),r=s.Components;return{setupTokenDependencies:function(){var e=this.settings.get("tokenDependencies",{tokens:!0});e||(this._tokenDepsMet=!0),a.listenToTokenDependencyChange(e,r,this.handleTokenChange,this),this.listenTo(this.settings,"change:tokenDependencies",(function(e,t){var i=e.previous("tokenDependencies");a.stopListeningToTokenDependencyChange(i,r),a.listenToTokenDependencyChange(t,r,this._start,this)})),this.handleTokenChange()},handleTokenChange:function(){var e=this.settings.get("tokenDependencies",{tokens:!0});e&&(a.tokenDependenciesMet(e,r)?(this._tokenDepsMet=!0,this.show()):(this._tokenDepsMet=!1,this.hide()))},stopListeningToTokenDependencyChange:function(){var e=this.settings.get("tokenDependencies",{tokens:!0});a.stopListeningToTokenDependencyChange(e,r)},tokenDependenciesMet:function(){return this._tokenDepsMet},show:function(){this.$el.removeClass("hidden").trigger("elementVisibilityChanged")},hide:function(){this.$el.addClass("hidden").trigger("elementVisibilityChanged")}}}.call(t,i,t,e))||(e.exports=n)},"splunkjs/mvc/simplexml/dashboardeventhandler":function(e,t,i){var n,s;n=[i("require/underscore"),i("splunkjs/mvc/simplexml/eventhandler")],void 0===(s=function(e,t){return t.extend({startListenToDashboard:function(e,t){this._dashboard=e,this.listenTo(this._dashboard,"dashboard:"+t,this.handleEvent)},stopListenToDashboard:function(){this._dashboard&&this.stopListening(this._dashboard)},onComponentChange:function(e,t){this.stopListenToDashboard(),t&&this.startListenToDashboard(t,this.settings.get("event"))}})}.apply(t,n))||(e.exports=s)},"splunkjs/mvc/simplexml/dashboardmodel":function(e,t,i){var n;void 0===(n=function(e){var t=i("require/underscore"),n=i("shim/jquery"),s=i("models/search/Dashboard"),a=i("util/general_utils"),r=i("util/console"),o=i("splunkjs/mvc/simplexml/serializer"),l=i("models/services/data/ui/Panel");return s.extend({initialize:function(){s.prototype.initialize.apply(this,arguments)},updateElement:function(e,t,i){var s=this.get$XML(),a=this.getXMLNode(e,s);if(!a)throw new Error("Unable to find dashboard element with ID "+e);var r=o.updateExistingElementNode(a,t,i);return t.search&&"global"===t.search.type&&o.applyGlobalSearch(s,t),n(a).replaceWith(r),this.set$XML(s),this.save()},deleteElement:function(e){var i={fieldset:this._structure.fieldset,rows:t(this._structure.rows).map((function(i){return t.defaults({panels:t(i.panels).map((function(i){return{inputs:i.inputs,elements:t(i.elements).without(e)}}))},i)}))};return this.updateStructure(i)},addElement:function(e,t){var i={inputs:[],elements:[e]},n=this.get$XML();return o.insertNewElement(n,t),this._structure.rows.push({panels:[i]}),this.set$XML(n),this.save()},_migrateViewType:function(e,t){var i=o.migrateViewType(e,t);return void 0!==i&&(e=i,this.trigger("change:rootNodeName",this,t)),e},captureDashboardStructure:function(e){var t=this.get$XML();this.validateItemOrder(this._getItemOrderMap(e.rows,t)),this.validateInputOrder(this._getInputOrderMap(e,t)),this._structure=e},getStructureMap:function(e,i){return t.extend({},this._getItemOrderMap(e.rows,i),this._getInputOrderMap(e,i))},getCurrentStructureMap:function(){return this.getStructureMap(this._structure,this.get$XML())},getXMLNode:function(e,t){e=String(e);var i=t.find(":eq(0)>fieldset>#"+e+",:eq(0)>row>#"+e+",:eq(0)>row>panel>#"+e);return i.length?i[0]:this.getStructureMap(this._structure,t)[e]},_getItemOrderMap:function(e,i){var s=t(i.find("row").children()).map((function(e){return n(e).is("panel")?l.getPanelElementNodes(e).toArray():e}));return function(e,i,n){if(e.length!==i.length)throw new Error("Item order did not match XML structure ("+e.length+" keys, "+i.length+" nodes)");return t.object(e,i)}(t(e).chain().pluck("panels").flatten().pluck("elements").flatten().value(),t.flatten(s))},validateItemOrder:function(e){t(e).each((function(e,t){var i=n(e).attr(t);if(void 0!==i&&i!==t)throw new Error("Invalid Item order. Expected node with ID "+t+". Instead saw "+i)}))},updateInputXML:function(e,t,i){var s=this.get$XML(),a=this.getXMLNode(e,s);if(!a)throw new Error("Unable to find input with ID=",e);a=n(a);var r=o.updateExistingInputNode(a,t.toJSON({tokens:!1!==i.tokens}),i);return n(a).replaceWith(r),this.set$XML(s),this.save()},isFormAutoRun:function(){var e=this.get$XML().find("fieldset");return a.normalizeBoolean(e.attr("autoRun"))},updateFormSettings:function(e){return this.set$XML(o.updateFormSettings(this.get$XML(),e)),this.save()},deleteInput:function(e){var i={fieldset:t(this._structure.fieldset).without(e),rows:t(this._structure.rows).map((function(i){return t.defaults({panels:t(i.panels).map((function(i){return{inputs:t(i.inputs).without(e),elements:i.elements}}))},i)}))};return this.updateStructure(i)},_getInputOrderMap:function(e,i){var n={},s=function(e,i,n){if(e.length!==i.length)throw new Error("Input ("+n+") order did not match XML structure ("+e.length+" keys, "+i.length+" nodes)");return t.object(e,i)};return t.extend(n,s(e.fieldset,i.find(":eq(0)>fieldset>input,:eq(0)>fieldset>html"),"fieldset")),t.extend(n,s(t(e.rows).chain().pluck("panels").flatten().pluck("inputs").flatten().value(),i.find(":eq(0)>row>panel>input"),"panels")),n},validateInputOrder:function(e){t(e).each((function(e,t){var i=n(e).attr(t);if(void 0!==i&&i!==t)throw new Error("Invalid Input order. Expected node with ID "+t+". Instead saw "+i)}))},updateInput:function(e){return this.updateInputXML(e.get("name"),e,{})},addInput:function(e){var t=o.createInputNode(e.toJSON({tokens:!0})),i=this._migrateViewType(this.get$XML(),"form");return o.createFieldset(i).append(t),this._structure.fieldset.push(e.get("id")),this.set$XML(i),this.save()},updateStructure:function(e,i){if(i||(i={}),this._structure||(r.warn("No captured dashboard structure"),this.captureDashboardStructure(e)),t.isEqual(e,this._structure))return r.log("no changes to input order"),n.Deferred().resolve();r.log("Saving new dashboard structure",e),e.rows=t(e.rows).filter((function(e){return e.panels.length>0}));var s=this.get$XML(),a=t.extend(this._getItemOrderMap(this._structure.rows,s),i.itemMap),l=t.extend(this._getInputOrderMap(this._structure,s),i.inputMap);return s=o.serializeDashboardStructure(s,e,t.extend({},i,{itemMap:a,inputMap:l})),r.log("Updated dashboard structure",JSON.stringify(e),s.find(":eq(0)")[0]),this._structure=e,s=this.hasInputs()?this._migrateViewType(s,"form"):this._migrateViewType(s,"dashboard"),this.set$XML(s),r.log("Saving XML changes"),this.save()},isEditable:function(){return this.isDashboard()||this.isForm()},getRootNodeName:function(){return(this.get$XML().find(":eq(0)").prop("nodeName")||"").toLowerCase()},hasInputs:function(){return this._structure.fieldset.length>0||t(this._structure.rows).any((function(e){return t(e.panels).any((function(e){return e.inputs&&e.inputs.length>0}))}))}})}.call(t,i,t,e))||(e.exports=n)},"splunkjs/mvc/simplexml/dashboardview":function(e,t,i){var n;void 0===(n=function(e){var t=i("splunkjs/mvc/basesplunkview"),n=i("splunkjs/mvc/mvc"),s=i("require/underscore"),a=i("shim/jquery"),r=i("splunkjs/mvc/simplexml/controller"),o=i("splunkjs/mvc/simplexml/editdashboard/master"),l=i("splunkjs/mvc/simplexml/dragndrop"),d=i("util/console"),h=i("splunkjs/mvc/simpleform/fieldsetview"),u=i("splunkjs/mvc/simplexml/dashboard/title"),c=i("splunkjs/mvc/simplexml/dashboard/description"),p=i("splunkjs/mvc/simplexml/dashboard/row"),m=i("splunkjs/mvc/simplexml/dashboard/panel"),f=i("models/services/ScheduledView"),g=i("splunkjs/mvc/simplexml/dashboard/empty"),v=i("splunkjs/mvc/simpleform/edit/formsettings"),b=i("views/dashboards/table/controls/SchedulePDF"),_=i("splunkjs/mvc/sharedmodels");return t.extend({options:{showTitle:!0,editable:!0},initialize:function(){this.configure(),this.collection=this.collection||{},this.collection.appLocalsUnfiltered=_.get("appLocalsUnfiltered"),this.model=r.getStateModel(),this.model.scheduledView=new f,this.scheduledViewDfd=a.Deferred(),r.onViewModelLoad((function(){var e=this.model.scheduledView.findByName(this.model.view.entry.get("name"),this.model.app.get("app"),this.model.app.get("owner"));e.done(s.bind(this.scheduledViewDfd.resolve,this.scheduledViewDfd)),e.fail(s.bind(this.scheduledViewDfd.reject,this.scheduledViewDfd))}),this),this.settings.get("editable")&&(this.editControls=new o({model:{state:this.model,dashboard:this.model.view,application:this.model.app,scheduledView:this.model.scheduledView,serverInfo:this.model.serverInfo,userPref:this.model.userPref},collection:{appLocalsUnfiltered:this.collection.appLocalsUnfiltered},controller:r}),this.model.on("change:edit",this.onEditStateChange,this)),this.listenTo(this.model,"change:dialog",this.handleDialog),this.model.has("dialog")&&this.handleDialog(this.model)},render:function(){var e=this.model;if(s.each(this.$(".dashboard-row"),(function(e){var t=a(e),i=t.attr("id");n.Components.has(i)||new p({id:i,tokenDependencies:{depends:t.data("depends"),rejects:t.data("rejects")},el:e}).renderFromDOM()})),this.settings.get("showTitle")){this.titleView=new u({model:this.model,el:this.$(".dashboard-header h2")}).render();var t=this.$("p.description");t.length||(t=a('<p class="description"></p>').appendTo(this.$(".dashboard-header")).hide()),this.descriptionView=new c({el:t,model:e}).render()}var i=this.$el.children(".fieldset");if(i.length||(i=a('<div class="fieldset"></div>').insertAfter(this.$(".dashboard-header"))),this.fieldsetView=new h({el:i}).render(),this.settings.get("editable")){var o=a('<div class="edit-dashboard-menu pull-right"></div>').prependTo(this.$(".dashboard-header"));a.when(this.scheduledViewDfd).then(function(){this.editControls.render().appendTo(o)}.bind(this))}return s(this.$(".dashboard-cell")).each((function(e){var t=a(e),i=t.attr("id");n.Components.has(i)||new m({id:i,tokenDependencies:{depends:t.data("depends"),rejects:t.data("rejects")},el:e}).renderFromDOM()})),this.onEditStateChange(),s.defer((function(){a("body").removeClass("preload")})),this.$el.addClass(this.model.get("edit")?"edit-mode":"view-mode"),r.onReady(s.bind((function(){this.model.view.isSimpleXML()&&this.resetDashboardStructure()}),this)),this.updateEmptyState(),this},getController:function(){return r},getStateModel:function(){return this.model},getDashboardStructure:function(e){e||(e={});var t={},i=s.bind(n.Components.get,n.Components)(this.$el.children(".fieldset").attr("id"));return t.fieldset=i?i.serializeStructure(e):[],t.rows=s(this.$el.children(".dashboard-row")).chain().map(a).invoke("attr","id").map(s.bind(n.Components.get,n.Components)).filter((function(t){return t&&!0!==e.omitHidden||!t.$el.is(".hidden")})).map((function(t){return t.serializeStructure(e)})).value(),t},isEmptyDashboard:function(){return!1},getElementIds:function(e){return s(this.getDashboardStructure(e).rows).chain().pluck("panels").flatten().pluck("elements").flatten().value()},updateEmptyState:function(e){this.isEmptyDashboard()&&!0!==e&&this.model.view.isSimpleXML()?(this.emptyStateView||(this.emptyStateView=new g({model:{app:this.model.app,state:this.model}})),this.emptyStateView.render().$el.appendTo(this.$el)):this.emptyStateView&&(this.emptyStateView.remove(),this.emptyStateView=null)},enterEditMode:function(){if(this.leaveEditMode(),this.model.get("editable")){if(d.log("Entering edit mode"),this.dragnDrop=new l({el:this.el}),!this.resetDashboardStructure())return;this.dragnDrop.on("sortupdate",s.debounce(this.updatePanelOrder,0),this),this.dragnDrop.render(),this.$el.is(".view-mode")&&this.$el.addClass("edit-mode").removeClass("view-mode"),this.formSettings=(new v).render().insertBefore(this.$el.children(".fieldset"))}else d.log("Aborting edit mode: Dashboard is not editable"),this.model.set("edit",!1)},resetDashboardStructure:function(){try{this.model.view.captureDashboardStructure(this.getDashboardStructure())}catch(e){return d.error("Error capturing dashboard structure - disabling edit mode!",e),this.model.set("editable",!1),this.model.set("edit",!1),!1}return!0},updatePanelOrder:function(){return this.updateDashboardStructure()},updateDashboardStructure:function(e){return this.model.get("editable")?this.model.view.updateStructure(this.getDashboardStructure(),e):a.Deferred().resolve()},leaveEditMode:function(){this.formSettings&&(this.formSettings.remove(),this.formSettings=null),this.dragnDrop&&(this.dragnDrop.off(),this.dragnDrop.destroy(),this.updatePanelOrder(),this.dragnDrop=null),this.$el.is(".edit-mode")&&this.$el.removeClass("edit-mode").addClass("view-mode"),this.updateEmptyState()},onEditStateChange:function(){this.model.get("edit")?r.onReady(s.bind(this.enterEditMode,this)):this.leaveEditMode()},events:{structureChange:function(e){this.model.get("edit")&&this.updatePanelOrder(),this.updateEmptyState()},structureReset:function(e){this.resetDashboardStructure()&&this.updateDashboardStructure()},panelRemoved:function(e){this.onPanelRemoved(a(e.target))}},getChildContainer:function(){return this.$el},onPanelRemoved:function(e){e.trigger("cellRemoved"),this.updateEmptyState()},createNewRow:function(){var e=new p({});return e.render().$el.appendTo(this.$el),e},createNewPanel:function(e){var t=this.createNewRow(),i=new m(e);return i.render().$el.appendTo(t.getChildContainer()),s.defer(s.bind(this.updateEmptyState,this)),i},handleDialog:function(e){e.get("dialog")&&r.onViewModelLoad((function(){"schedulePDF"===e.get("dialog")&&(e.unset("dialog"),e.view.isForm()||this.openSchedulePDFDialog())}),this)},openSchedulePDFDialog:function(){var e=this.model;this.scheduledViewDfd.done((function(){var t=new b({model:{scheduledView:e.scheduledView,dashboard:e.view,application:e.app,appLocal:e.appLocal},onHiddenRemove:!0});a("body").append(t.render().el),t.show()}))},rowTemplate:'  <div class="dashboard-row">                            <div class="dashboard-cell" style="width: 100%;">                                <div class="dashboard-panel clearfix">                                    <div class="panel-element-row">                                        <div class="dashboard-element" id="<%= id %>" style="width: 100%">                                            <div class="panel-head"><h3><%- title %></h3></div>                                            <div class="panel-body"></div>                                        </div>                                    </div>                                </div>                            </div>                        </div>'})}.call(t,i,t,e))||(e.exports=n)},"splunkjs/mvc/simplexml/dialog/addpanel/report":function(e,t,i){var n;void 0===(n=function(e,t,n){var s=i("require/underscore"),a=i("views/Base"),r=i("views/shared/controls/ControlGroup"),o=i("views/shared/controls/SearchTextareaControl"),l=i("splunkjs/mvc/utils"),d=i("util/time"),h=i("models/shared/Cron"),u=i("shim/splunk.util"),c=i("uri/route"),p=i("views/shared/Modal"),m=i("util/theme_utils");return a.extend({moduleId:n.i,initialize:function(){a.prototype.initialize.apply(this,arguments),this.children.reportPlaceholder=new a,this.controller=this.options.controller,this.controller.reportsCollection||this.controller.fetchCollection(),this.controller.reportsCollection.initialFetchDfd.done(s.bind((function(){var e=this.controller.reportsCollection.map((function(e){return{label:e.entry.get("name"),value:e.entry.get("name")}})),t=l.getPageInfo(),i=c.reports(t.root,t.locale,t.app);this.controller.reportsCollection.length===this.controller.reportsCollection.REPORTS_LIMIT?this.children.report=new r({label:"",controlType:"SyntheticSelect",controlOptions:{additionalClassNames:"add-panel-report",toggleClassName:"btn",model:this.model.report,modelAttribute:"savedSearchName",items:e,popdownOptions:this.options.popdownOptions||{attachDialogTo:".modal:visible",scrollContainer:".modal:visible .modal-body:visible"}},help:s("This does not contain all reports. Add a report that is not listed from ").t()+u.sprintf("<a href=%s>%s</a>.",i,s("Reports").t())}):this.children.report=new r({label:"",controlType:"SyntheticSelect",controlOptions:{additionalClassNames:"add-panel-report",toggleClassName:"btn",model:this.model.report,modelAttribute:"savedSearchName",items:e,popdownOptions:this.options.popdownOptions||{attachDialogTo:".modal:visible",scrollContainer:".modal:visible .modal-body:visible"}}}),this.model.report.get("savedSearchName")||this.model.report.set("savedSearchName",e[0].value)}),this)),this.children.searchField=new o({model:{content:this.model.report,user:this.model.user,application:this.model.application},collection:{searchBNFs:this.collection.searchBNFs},searchAttribute:"savedSearchString",syntaxHighlighting:m.getSearchEditorTheme(),readOnly:!0}),this.children.timerangeField=new r({controlType:"Label",controlOptions:{modelAttribute:"savedSearchTimerange",model:this.model.report},label:s("Time Range").t()}),this.children.schedule=new r({controlType:"Label",controlOptions:{modelAttribute:"savedSearchSchedule",model:this.model.report},label:s("Schedule").t()}),this.children.permissions=new r({controlType:"Label",controlOptions:{modelAttribute:"savedSearchPermissions",model:this.model.report},label:s("Permissions").t()}),this.model.report.set("savedSearchString","..."),this.listenTo(this.children.searchField,"runSearch",this.runSearch),this.listenTo(this.model.report,"change:elementCreateType",this.onModeChange,this),this.listenTo(this.model.report,"change:savedSearchName",this.searchSelected,this)},runSearch:function(){var e=this.model.report.get("savedSearchName");if(e){var t=l.getPageInfo(),i=c.search(t.root,t.locale,t.app,{data:{s:e}});l.redirect(i,!0)}},searchSelected:function(){var e=this.model.report.get("savedSearchName"),t=this.controller.reportsCollection.find((function(t){return t.entry.get("name")===e}));if(t){this.model.report.set("savedSearch",t.get("id")),this.model.report.set("savedSearchString",t.entry.content.get("search"));var i,n=t.entry.content.get("dispatch.earliest_time"),a=t.entry.content.get("dispatch.latest_time"),r="statistics";t.entry.content.has("display.general.type")&&(i=["display",r=t.entry.content.get("display.general.type"),"type"].join("."),t.entry.content.has(i)&&(r=[r,t.entry.content.get(i)].join(":"))),this.model.report.set("savedSearchVisualization",r),this.model.report.set("savedSearchTimerange",d.generateLabel(this.collection.timeRanges,n,null,a,null));var o=s("Never").t();if(t.entry.content.get("is_scheduled"))o=h.createFromCronString(t.entry.content.get("cron_schedule")).getScheduleString();this.model.report.set("savedSearchSchedule",o),this.model.report.set("savedSearchPermissions",u.sprintf(s("%s. Owned by %s.").t(),t.entry.acl.get("perms")?s("Shared").t():s("Not Shared").t(),t.entry.acl.get("owner")))}},onModeChange:function(){this.$el["saved"===this.model.report.get("elementCreateType")?"show":"hide"](),"saved"===this.model.report.get("elementCreateType")&&4!==this.controller.reportsCollection.initialFetchDfd.readyState&&0===this.$(p.LOADING_SELECTOR).length&&(this.$el.append(p.LOADING_HORIZONTAL),this.$(p.LOADING_SELECTOR).html(s("Loading...").t()))},render:function(){return this.children.reportPlaceholder.render().appendTo(this.el),this.controller.reportsCollection.initialFetchDfd.done(s.bind((function(){this.$(p.LOADING_SELECTOR).length>0&&this.$(p.LOADING_SELECTOR).remove(),this.children.report.render().appendTo(this.children.reportPlaceholder.el),this.searchSelected(),this.children.searchField.render().appendTo(this.el),this.children.searchField.$("textarea").attr("readonly","readonly"),this.children.timerangeField.render().appendTo(this.el),this.children.schedule.render().appendTo(this.el),this.children.permissions.render().appendTo(this.el),this.onModeChange()}),this)),this}})}.call(t,i,t,e))||(e.exports=n)},"splunkjs/mvc/simplexml/dialog/convertpanel":function(e,t,i){var n;void 0===(n=function(e,t,n){var s=i("require/underscore"),a=i("require/backbone"),r=i("views/shared/Modal"),o=i("views/shared/MultiStepModal"),l=i("models/services/data/ui/Panel"),d=i("views/Base"),h=i("views/shared/controls/TextControl"),u=(i("views/shared/delegates/PairedTextControls"),i("views/shared/FlashMessages")),c=i("views/shared/controls/ControlGroup"),p=i("util/splunkd_utils"),m=i("splunkjs/mvc/sharedmodels"),f=i("splunkjs/mvc/simplexml/serializer"),g=i("util/xml"),v=i("shim/splunk.util").sprintf,b=i("uri/route"),_=i("splunkjs/mvc/simplexml/controller"),y=d.extend({className:"step step-create",initialize:function(){d.prototype.initialize.apply(this,arguments),this.children.flashMessage=new u({model:{panel:this.model.panel}}),this.children.panelNameTextControl=new h({model:this.model.inmem,modelAttribute:"panelName"}),this.children.panelName=new c({label:s("ID").t(),controls:this.children.panelNameTextControl,tooltip:s("The ID is used as the filename on disk. Cannot be changed later.").t(),help:s("The prebuilt panel ID can only contain letters, numbers, dashes, and underscores. Do not start the prebuilt panel ID with a period.").t()}),this.children.panelPerm=new c({label:s("Permissions").t(),controlType:"SyntheticRadio",controlOptions:{additionalClassNames:"btn-group-2",items:[{value:"private",label:s("Private").t()},{value:"shared",label:this.model.user.canUseApps()?s("Shared in App").t():s("Shared").t()}],model:this.model.inmem,modelAttribute:"panelPerm"}})},render:function(){this.$el.html(r.TEMPLATE),this.$(r.HEADER_TITLE_SELECTOR).html(s("Convert to Prebuilt Panel").t()),this.children.flashMessage.render().prependTo(this.$(r.BODY_SELECTOR)),this.$(r.BODY_SELECTOR).append(r.FORM_HORIZONTAL);var e=this.$(r.BODY_FORM_SELECTOR);return this.children.panelName.render().appendTo(e),this.children.panelPerm.render().appendTo(e),this.$(r.FOOTER_SELECTOR).append(r.BUTTON_CANCEL),this.$(r.FOOTER_SELECTOR).append(r.BUTTON_SAVE),this},setSelected:function(e){this.$el[e?"addClass":"removeClass"]("active-step")},submit:function(){var e=this.model.inmem;this.createReferencePanel().then((function(){e.trigger("createSuccess")}))},createReferencePanel:function(){return new Promise(function(e){var t=this.model.inmem.get("panelStructure"),i=_.model.view.getCurrentStructureMap(),n=f.serializePanelStructure(t,{tokens:!0,structureMap:i}),s=g.serializeDashboardXML(n,!0);this.model.panel.entry.content.set("eai:data",s),this.model.panel.entry.content.set("name",this.model.inmem.get("panelName"));var a=this.model.app.getPermissions(this.model.inmem.get("panelPerm"));this.model.panel.save({},{data:a,success:function(){e()}})}.bind(this))},events:{"click .modal-btn-primary":function(e){this.submit(),e.preventDefault()}}}),w=d.extend({className:"step step-success",initialize:function(){d.prototype.initialize.apply(this,arguments)},updateContent:function(){var e=this.model.panel,t=this.model.app,i=t.get("root"),n=t.get("locale"),a=t.get("app"),o=b.managerPermissions(i,n,a,["data","ui","panels"],e.entry.get("name"),{data:{uri:e.id,return_to:b.editDashboard(i,n,a,t.get("page"))}});this.$(r.BODY_SELECTOR).html(this.compiledTemplate({msgHTML:v(s('You may now add your reference panel to other dashboards or refine <a href="%s">permissions</a>.').t(),o)}))},render:function(){return this.$el.html(r.TEMPLATE),this.$(r.HEADER_TITLE_SELECTOR).html(s("Your Panel Has Been Created").t()),this.$(r.FOOTER_SELECTOR).append('<a href="#" class="btn cancel btn-primary modal-btn-primary pull-right" data-dismiss="modal">'+s("OK").t()+"</a>"),this},setSelected:function(e){this.$el[e?"addClass":"removeClass"]("active-step")},template:'<p class="convert-panel-success-message"><%= msgHTML %></p>'});return o.extend({moduleId:n.i,initialize:function(e){o.prototype.initialize.apply(this,e);var t=e.panel;this.model={},this.model.panel=new l,this.model.inmem=new a.Model({panelPerm:"private",panelTitle:t.settings.get("title"),panelName:p.nameFromString(t.settings.get("title")),panelStructure:t.serializeStructure()}),this.model.user=m.get("user"),this.model.app=m.get("app"),this.model.serverInfo=m.get("serverInfo"),this.children.create=new y({model:{panel:this.model.panel,inmem:this.model.inmem,user:this.model.user,app:this.model.app,serverInfo:this.model.serverInfo}}),this.children.success=new w({model:{panel:this.model.panel,app:this.model.app}}),this.listenTo(this.model.inmem,"createSuccess",(function(){this.trigger("panelCreated",this.model.panel),this.children.success.updateContent(),this.stepViewStack.setSelectedView(this.children.success)}),this)},events:{"hidden.bs.modal":function(e){e.target===this.el&&(this.stepViewStack.remove(),this.remove())}},getStepViews:function(){return[this.children.create,this.children.success]}})}.call(t,i,t,e))||(e.exports=n)},"splunkjs/mvc/simplexml/dragndrop":function(e,t,i){var n;void 0===(n=function(e){var t=i("require/backbone"),n=i("require/underscore"),s=i("shim/jquery"),a=i("splunkjs/mvc/mvc"),r=i("util/console"),o=i("splunkjs/mvc/simplexml/controller"),l=i("splunkjs/mvc/simplexml/dashboard/row"),d=s.Deferred();document.createElement("div");return r.log("loading jquery ui sortable"),Promise.resolve().then(function(){var e=[i("shim/jquery.ui.sortable")];d.resolve.apply(null,e)}.bind(this)).catch(i.oe),t.View.extend({initialize:function(){n.bindAll(this,"updateRow")},render:function(){return d.done(this.startDragAndDrop.bind(this)),this},events:{"mouseover .drag-handle":function(e){s(e.target).parents(".dashboard-panel").addClass("drag-hover")},"mouseout .drag-handle":function(e){s(e.target).parents(".dashboard-panel").removeClass("drag-hover")},resetDragAndDrop:"restart"},startDragAndDrop:function(){this.delegateEvents(),this.$el.addClass("dragndrop-enabled"),n.defer(n.bind((function(){this.enablePanelDragAndDrop(),this.enableInputDragAndDrop()}),this))},getDragItemSize:function(){return Math.max(100,Math.min(s(window).width()/3,600))},enablePanelDragAndDrop:function(){var e,t=this,i=n.debounce(t.updateDimensions.bind(this),0),a=n(this.enablePanelDragAndDrop).bind(this),o=n.once((function(){if(r.log("sort STOP"),e){try{e.sortable("destroy")}catch(e){}n.defer(a),t.cleanupEmptyRows(),t.trigger("sortupdate"),e=null,s(window).trigger("resize"),t.$(".dashboard-row").trigger("panelVisibilityChanged")}}));this.createNewDropRow(),e=this.$(".dashboard-row").sortable({handle:".drag-handle",connectWith:this.$(".dashboard-row"),placeholder:{element:function(){return s('<div class="sortable-placeholder"><div class="dashboard-panel"></div></div>')},update:function(e,i){t.updateRow(i.parents(".dashboard-row"))}},tolerance:"pointer",cursorAt:{left:t.getDragItemSize()/2}}).on("sort",(function(e){i()})).on("sortupdate",(function(e){o()})).on("stop",(function(e){o()})),i(),s(window).trigger("resize")},enableInputDragAndDrop:function(){var e,t=this,i=n.once((function(){if(e){try{e.sortable("destroy")}catch(e){}n.defer((function(){t.enableInputDragAndDrop()})),t.trigger("sortupdate"),e=null}}));e=this.$(".fieldset.editable").sortable({handle:".drag-handle",connectWith:this.$(".fieldset.editable"),items:">.input",tolerance:"pointer",placeholder:{element:function(e){var t=s('<div class="input ui-sortable-placeholder"><div class="placeholder-inner"></div></div>'),i=e.height();return t.height(i-5),t.children().height(i-15),t[0]},update:function(){}},start:function(){s(".dashboard-body").addClass("form-drag"),s("#search_btn").hide()},stop:function(){s(".dashboard-body").removeClass("form-drag");var e=s("#search_btn");e.length&&e.appendTo(e.parent()).show(),o.trigger("formupdate")}}).on("sortupdate",i).on("stop",i)},destroy:function(){this.undelegateEvents(),this.$el.removeClass("dragndrop-enabled"),this.cleanupEmptyRows();try{this.$(".dashboard-row").sortable("destroy"),this.$(".fieldset").sortable("destroy")}catch(e){}this.updateDimensions()},restart:function(){this.destroy(),this.render()},updateRow:function(e){var t=s(e),i=t.children().not(".ui-sortable-helper"),n=String(Math.floor(1e4/i.not(".sortable-dragging").length)/100)+"%";i.css({width:n}),t.children(".ui-sortable-helper").css({width:this.getDragItemSize()})},updateDimensions:function(){n(this.$(".dashboard-row")).each(this.updateRow)},createNewDropRow:function(){this.cleanupEmptyRows(),n(this.$(".dashboard-row")).each((function(e){(new l).render().$el.insertAfter(e)}));var e=this.$(".dashboard-row").first();e&&(new l).render().$el.insertBefore(e)},cleanupEmptyRows:function(){n(this.$(".dashboard-row")).chain().map((function(e){return s(e).attr("id")})).map(n.bind(a.Components.get,a.Components)).invoke("removeIfEmpty"),this.$(".dashboard-row.empty").removeClass("empty")},getItemOrder:function(){return n(this.$(".dashboard-row")).map((function(e){return n(s(e).find(".dashboard-panel")).map((function(e){return n(s(e).find(".dashboard-element")).map((function(e){return s(e).attr("id")}))}))}))}})}.call(t,i,t,e))||(e.exports=n)},"splunkjs/mvc/simplexml/editdashboard/master":function(e,t,i){var n;void 0===(n=function(e,t,n){var s=i("require/underscore"),a=i("require/backbone"),r=i("views/Base"),o=i("models/search/Dashboard"),l=i("models/ACLReadOnly"),d=i("collections/services/authorization/Roles"),h=i("views/dashboard/header/EditMenu"),u=i("views/shared/documentcontrols/dialogs/permissions_dialog/Master"),c=i("views/dashboards/table/controls/CloneDashboard"),p=(i("views/dashboards/table/controls/SchedulePDF"),i("views/shared/dialogs/TextDialog")),m=(i("splunkjs/mvc/simplexml/serializer"),i("helpers/Printer")),f=i("shim/splunk.util"),g=i("splunkjs/mvc/utils"),v=i("uri/route"),b=(i("splunkjs/mvc"),i("util/pdf_utils"),i("util/jquery_polyfills"));return r.extend({className:"splunk-dashboard-controls",initialize:function(){r.prototype.initialize.apply(this,arguments),this.rolesCollection=new d,this.rolesCollection.fetch(),this._mockController=new a.Model,this.children.menuView=new h({model:{controller:this._mockController,view:this.model.dashboard,application:this.model.application,scheduledView:this.model.scheduledView,serverInfo:this.model.serverInfo,user:this.model.state.user,userPref:this.model.userPref},collection:{apps:this.collection.appLocalsUnfiltered}}),this._handleControllerEvent()},render:function(){return this.$el.append(this.children.menuView.render().el),this},_handleControllerEvent:function(){this.stopListening(this._mockController),this.listenTo(this._mockController,"all",(function(e){switch(e){case"action:export-pdf":case"action:schedule-pdf":case"action:make-home":this.model.userPref.entry.content.set({"display.page.home.dashboardId":this.model.dashboard.get("id")}),this.model.userPref.save({},{success:function(){window.location.href=v.home(this.model.application.get("root"),this.model.application.get("locale"))}.bind(this)});break;case"action:edit-permission":this.children.permissionsDialog=new u({model:{document:this.model.dashboard,nameModel:this.model.dashboard.entry.content,user:this.model.state.user,serverInfo:this.model.serverInfo},collection:this.rolesCollection,nameLabel:"Dashboard",nameKey:"label",onHiddenRemove:!0}),document.body.appendChild(this.children.permissionsDialog.render().el),this.children.permissionsDialog.show();break;case"action:clone":var t=new o;t.fetch({success:function(){"html"===this.model.dashboard.entry.content.get("eai:type")?t.setHTML(this.model.dashboard.entry.content.get("eai:data")):t.setXML(this.model.dashboard.entry.content.get("eai:data")),t.meta.set(this.model.dashboard.meta.toJSON());var e=this.children.cloneDialog=new c({model:{dashboard:t,acl:new l(b.deepExtend({},this.model.dashboard.entry.acl.toJSON())),application:this.model.application,appLocal:this.model.state.appLocal,state:this.model.state,user:this.model.state.user,serverInfo:this.model.serverInfo},collection:{roles:this.rolesCollection},onHiddenRemove:!0});document.body.appendChild(e.render().el),e.show()}.bind(this)});break;case"action:delete":var i=new p({id:"modal-delete-dashboard"});i.dialogShown=function(){this.trigger("show"),s.debounce(function(){this.$(".btn-primary:first").focus()}.bind(this),0)()},i.settings.set("primaryButtonLabel",s("Delete").t()),i.settings.set("cancelButtonLabel",s("Cancel").t()),i.settings.set("titleLabel",s("Delete Dashboard").t()),i.setText(f.sprintf(s("Are you sure you want to delete %s?").t(),"<em>"+s.escape(""!==this.model.state.get("label")?this.model.state.get("label"):this.model.dashboard.entry.get("name"))+"</em>")),i.render().appendTo(document.body),i.once("click:primaryButton",(function(){this.model.dashboard.destroy().done((function(){var e=g.getPageInfo();g.redirect(v.page(e.root,e.locale,e.app,"dashboards"))}))}),this),i.on("hidden",(function(){i.remove()}),this),i.show();break;case"action:print":m.printPage();break;case"mode:edit":var n=this.model.application.toJSON();g.redirect(v.manager(n.root,n.locale,n.app,["data","ui","views",n.page],{data:{action:"edit",ns:n.app,redirect_override:v.page(n.root,n.locale,n.app,n.page)}}))}}))}})}.call(t,i,t,e))||(e.exports=n)},"splunkjs/mvc/simplexml/element/base":function(e,t,i){var n;void 0===(n=function(e){var t=i("require/underscore"),n=i("shim/jquery"),s=i("require/backbone"),a=i("splunkjs/mvc/basesplunkview"),r=i("splunkjs/mvc"),o=i("splunkjs/mvc/utils"),l=i("splunkjs/mvc/simplexml/controller"),d=i("models/dashboards/DashboardReport"),h=i("util/console"),u=i("splunkjs/mvc/progressbarview"),c=i("splunkjs/mvc/refreshtimeindicatorview"),p=i("splunkjs/mvc/resultslinkview"),m=i("splunkjs/mvc/simplexml/paneleditor"),f=i("splunkjs/mvc/savedsearchmanager"),g=i("splunkjs/mvc/postprocessmanager"),v=i("splunkjs/mvc/messages"),b=i("util/general_utils"),_=i("splunkjs/mvc/simplexml/dashboard/titleeditor"),y=i("splunkjs/mvc/simplexml/dashboard/tokendeps"),w=i("splunkjs/mvc/sharedmodels"),k={},T=(new d).fetch(),S=s.View.extend({className:"panel-head",initialize:function(e){s.View.prototype.initialize.apply(this,arguments),this.parent=e.parent},remove:function(){return this.parent=null,s.View.prototype.remove.apply(this,arguments)}}),x=S.extend({editMode:!1,initialize:function(e){S.prototype.initialize.apply(this,arguments),this.listenTo(this.parent.settings,"change:title",this.updateTitle)},updateTitle:function(){var e=this.$el.children("h3"),t=n.trim(this.parent.settings.get("title"));t?(e.length||(e=n("<h3 />").appendTo(this.$el)),e.text(t)):e.remove()},render:function(){return this.progressBar||(this.progressBar=new u({id:t.uniqueId(this.parent.id+"-progressbar"),manager:this.parent.settings.get("managerid"),el:n('<div class="progress-container pull-right"></div>')}).render().$el.appendTo(this.$el)),this.updateTitle(),this},remove:function(){this.progressBar&&(this.progressBar.remove(),this.progressBar=null),S.prototype.remove.call(this)}}),C=S.extend({editMode:!0,initialize:function(){S.prototype.initialize.apply(this,arguments),this.listenTo(this.model,"editTitle",this.focusTitleEditor)},render:function(){return this.progressBar||(this.progressBar=new u({id:t.uniqueId(this.parent.id+"-progressbar"),manager:this.parent.settings.get("managerid"),el:n('<div class="progress-container pull-right"></div>')}).render().$el.appendTo(this.$el)),this.createPanelElementEditor(),this.createTitleEditor(),this},createPanelElementEditor:function(){this.removePanelElementEditor(),this.panelEditor=new m({manager:this.parent.managerid,model:{report:this.model}}),this.$el.prepend(this.panelEditor.render().el)},removePanelElementEditor:function(){this.panelEditor&&(this.panelEditor.remove(),this.panelEditor=null)},createTitleEditor:function(){this.removeTitleEditor(),this._titleEditor=new _({model:this.model.entry.content,attribute:"display.general.title"}),this.listenTo(this._titleEditor,"update",this.saveTitle);var e=this.$("h3");e.length||(e=n("<h3 />").appendTo(this.$el)),this._titleEditor.render().$el.appendTo(e)},focusTitleEditor:function(){this._titleEditor.focus()},removeTitleEditor:function(){this._titleEditor&&(this.stopListening(this._titleEditor),this._titleEditor.remove(),this._titleEditor=null)},saveTitle:function(){this.model.saveXML()},remove:function(){this.progressBar&&(this.progressBar.remove(),this.progressBar=null),this.removeTitleEditor(),this.removePanelElementEditor(),S.prototype.remove.call(this)}});return a.extend(t.extend({},y,{initialVisualization:"#abstract",configure:function(){this.options.settingsOptions=t.extend({retainUnmatchedTokens:!0},this.options.settingsOptions||{}),this.options=t.defaults(this.options,{id:this.id,manager:this.options.managerid,title:this.$el.children(".panel-head:first").children("h3").text().trim(),editable:!0}),a.prototype.configure.apply(this,arguments)},initialize:function(){this.configure(),this.visualization=null,this.model=new d,this.managerid=this.options.managerid,this.settings._sync=o.syncModels(this.settings,this.model.entry.content,{auto:!0,prefix:"display.general.",include:["id","title","manager","managerid","tokenDependencies"]}),this.bindToComponent(this.managerid,this.onManagerChange,this);var e=this.typeModel=new s.Model({type:this.initialVisualization});this.reportReady=n.Deferred(),this.listenTo(this.typeModel,"change",this.createVisualization,this),this.options.noEdit||(this.listenTo(l.getStateModel(),"change:edit",this.onEditModeChange,this),this.listenTo(this.settings,"change:editable",this.onEditModeChange,this)),this.reportReady.done(t.bind((function(){this.listenTo(this.model.entry.content,"change:display.general.type change:display.visualizations.type change:display.events.type",(function(t){var i=t.get("display.general.type"),n=["display",i,"type"].join("."),s=t.get(n),a=s?[i,s].join(":"):i;e.set("type",k.hasOwnProperty(a)?a:i)}),this),this.listenTo(this.model,"removedPanel",this.remove,this)}),this)),this.setupTokenDependencies()},remove:function(){this.removeRefreshTimeIndicator(),this._removeVisualization(),this.removePanelHead(),this.stopListeningToTokenDependencyChange(),this.settings&&this.settings._sync&&this.settings._sync.destroy();var e=this.$el.parent();a.prototype.remove.call(this),e.trigger("elementRemoved")},onManagerChange:function(e,i){var n=this;if(i instanceof f){var s=i.get("searchname"),a=l.getStateModel().app,r=!this.model.entry.content.has("display.general.type");this.model.id=["","servicesNS",encodeURIComponent(a.get("owner")),encodeURIComponent(a.get("app")),"saved","searches",encodeURIComponent(s)].join("/"),this.model.fetch({tokens:!1}).done((function(){r&&n.model.entry.content.set(n._initialVisualizationToAttributes()),n.reportReady.resolve(n.model)})).fail((function(e){h.error("Failed to load saved search",arguments),404===e.status&&n.showErrorMessage(t("Warning: saved search not found: ").t()+'"'+t.escape(s)+'"')}))}else i?T.done((function(e){n.model.entry.content.has("display.general.type")||(n.model.entry.content.set(e.entry[0].content,{tokens:!1}),"#abstract"!==n.initialVisualization&&n.model.entry.content.set(n._initialVisualizationToAttributes()));var t="inline";i instanceof g?(t="postprocess",n.model.entry.content.set("display.general.search.fullSearch",i.settings.resolve({tokens:!0}),{tokens:!0}),n.model.entry.content.set("display.general.search.base",i.settings.get("managerid")),n.model.entry.content.set("display.general.search.postProcessSearch",i.settings.postProcessResolve({tokens:!0}),{tokens:!0})):i.has("metadata")&&i.get("metadata").global&&(t="global"),n.model.entry.content.set("display.general.search.type",t),n.model.entry.content.set({search:i.get("search",{tokens:!0}),"dispatch.earliest_time":i.get("earliest_time",{tokens:!0}),"dispatch.latest_time":i.get("latest_time",{tokens:!0})},{tokens:!0});var s=i.get("sample_ratio",{tokens:!0});null!=s&&1!=s&&n.model.entry.content.set("dispatch.sample_ratio",s,{tokens:!0}),n.reportReady.resolve(n.model)})):T.done((function(e){n.model.entry.content.has("display.general.type")||(n.model.entry.content.set(e.entry[0].content,{tokens:!1}),"#abstract"!==n.initialVisualization&&n.model.entry.content.set(n._initialVisualizationToAttributes())),n.reportReady.resolve(n.model)}))},showErrorMessage:function(e){this._removeInitialPlaceholder();var t=this.$(".panel-body>.msg");t.length||(t=n('<div class="msg"></div>').appendTo(this.$(".panel-body"))),v.render({level:"error",icon:"warning-sign",message:e},t)},_initialVisualizationToAttributes:function(){var e=this.initialVisualization.split(":"),t={"display.general.type":e[0]};return e.length>1&&(t[["display",e[0],"type"].join(".")]=e[1]),t},onEditModeChange:function(e){var i=this._debouncedOnEditModeChange;i||(i=this._debouncedOnEditModeChange=t.debounce(t.bind(this._onEditModeChange,this),0)),this.reportReady.done((function(){i(e)}))},removePanelHead:function(){this.panelHead&&(this.panelHead.remove(),this.panelHead=null),this.$el.children(".panel-head").remove()},isEditMode:function(){return l.isEditMode()&&this.settings.get("editable")},_onEditModeChange:function(){this.updatePanelHead(),this.isEditMode()?this.$el.is(".hidden")&&this.$el.show().parents(".dashboard-panel").trigger("elementVisibilityChanged"):(this.$el.is(".hidden")&&this.$el.hide().parents(".dashboard-panel").trigger("elementVisibilityChanged"),this._resizeVisualization())},_resizeVisualization:function(){this.getVisualization((function(e){"function"==typeof e.resizeChart&&e.resizeChart()}))},updatePanelHead:function(){var e=this.isEditMode();if(!this.panelHead||this.panelHead.editMode!==e){this.removePanelHead();var t=e?C:x;this.panelHead=new t({parent:this,model:this.model,settings:this.settings}),this.panelHead.render().$el.prependTo(this.$el)}},hide:function(){this.$el.is(".hidden")||(this.isEditMode()||this.$el.hide(),this.$el.addClass("hidden").parents(".dashboard-panel").trigger("elementVisibilityChanged"))},show:function(){this.$el.is(".hidden")&&(this.$el.show().removeClass("hidden").parents(".dashboard-panel").trigger("elementVisibilityChanged"),this.visualization&&this.visualization.render())},createRefreshTimeIndicator:function(){this.removeRefreshTimeIndicator();var e=this.settings.get("refresh.time.visible"),i=void 0===e||b.normalizeBoolean(e,{default:!1}),s=this.settings.get("refresh.auto.interval");this.refreshTime||!i&&!s||(this.refreshTime=new c({id:t.uniqueId(this.id+"-refreshtime"),el:n('<div class="refresh-time-indicator pull-right"></div>'),manager:this.managerid,"refresh.auto.interval":this.settings.get("refresh.auto.interval"),"refresh.time.visible":this.settings.get("refresh.time.visible")}).render().$el.appendTo(this.$(".panel-footer")))},removeRefreshTimeIndicator:function(){this.refreshTime&&this.refreshTime.remove()},createVisualization:function(e){var i=this._debouncedCreateViz;i||(i=this._debouncedCreateViz=t.debounce(t.bind(this._createVisualization,this),0)),n.when(this.reportReady,w.load("visualizations")).then((function(){i(!0===e)}))},_removeVisualization:function(){this.visualization&&(this.visualization.panelClassName&&this.$el.removeClass(this.visualization.panelClassName),this.visualization.off(),this.visualization.remove(),this.visualization=null),this.resultsLink&&(this.resultsLink.off(),this.resultsLink.remove(),this.resultsLink=null)},_removeInitialPlaceholder:function(){this.$(".panel-body > .msg, .panel-body > .initial-placeholder").remove()},_createVisualization:function(e){var i=!this.visualization;this._removeInitialPlaceholder(),this._removeVisualization();var s=this.typeModel.get("type"),a=k[s];if(a){var o={el:n("<div></div>").appendTo(this.$(".panel-body")),reportModel:this.model.entry.content,managerid:this.settings.get("manager"),id:t.uniqueId(this.id+"-viz-"),forceNormalizeSettings:!0};if((i||e)&&(o=t.extend({},this.options,o)),o.settingsOptions&&(o.settingsOptions.retainUnmatchedTokens=!1),this.visualization=new a(o).render(),this.visualization.panelClassName&&this.$el.addClass(this.visualization.panelClassName),0===s.indexOf("events"))r.Components.getInstance(this.settings.get("manager")).settings.set("status_buckets",300);this.trigger("create:visualization",this.visualization),i&&this.model.entry.content.set(t.defaults(this.model.entry.content.toJSON({tokens:!0}),this.visualization.reportDefaults)),this.resultsLink=new p(t.extend({},this.options,{id:t.uniqueId(this.id+"-resultslink"),el:n('<div class="view-results pull-left"></div>').appendTo(this.$(".panel-footer")),manager:this.managerid,model:this.model})).render(),this.visualization.on("all",this.trigger,this)}else this.showErrorMessage(t("Unsupported visualization type: ").t()+JSON.stringify(s))},getVisualizationType:function(){return this.typeModel.get("type")},getVisualization:function(e){var t=n.Deferred();return e&&t.done(e),this.visualization?t.resolve(this.visualization):this.once("create:visualization",t.resolve,t),t.promise()},render:function(){return this.createPanelStructure(),this.createRefreshTimeIndicator(),this.createVisualization(),this.options.noEdit||this.onEditModeChange(l.getStateModel()),this},createPanelStructure:function(){var e=this.$el.children(".panel-body");e.length||(e=n('<div class="panel-body"></div>').appendTo(this.$el)),n('<div class="initial-placeholder"></div>').addClass("placeholder-"+this.initialVisualization.replace(/\W+/,"-")).appendTo(e),this.$el.children(".panel-footer").length||n('<div class="panel-footer"></div>').appendTo(this.$el)},getExportParams:function(e){var t=r.Components.get(this.managerid),i={};return!t||t instanceof g||!t.hasJob()||(i[e]=t.getSid()),i},componentReady:function(){var e=null==this.settings.get("managerid")?n.Deferred().resolve():this.reportReady,t=this.getVisualization();return n.when(e,t)}}),{registerVisualization:function(e,t){k[e]=t},getVisualization:function(e){var t=k[e];return t||(t=k[e.split(":")[0]]),t}})}.call(t,i,t,e))||(e.exports=n)},"splunkjs/mvc/simplexml/element/chart":function(e,t,i){var n;void 0===(n=function(e){var t=i("require/underscore"),n=(i("shim/jquery"),i("require/backbone"),i("splunkjs/mvc"),i("splunkjs/mvc/simplexml/element/base")),s=i("splunkjs/mvc/chartview"),a=i("splunkjs/mvc/simplexml/mapper"),r=(i("util/console"),i("splunkjs/mvc/drilldown"));a.register("visualizations:charting",a.extend({tagName:"chart",map:function(e,i,n){t(e.toJSON(n)).each((function(t,s){"display.visualizations.charting."===s.substring(0,"display.visualizations.charting.".length)&&(i.options[s.substring("display.visualizations.".length)]=e.get(s,n))})),n["charting.drilldown"]=r.getNormalizedDrilldownType(n["charting.drilldown"]||n.drilldown,{allowBoolean:!0}),delete n.drilldown,i.removeOptions=["drilldown"]}}));var o=s.extend({panelClassName:"chart",reportDefaults:{"display.visualizations.show":!0,"display.visualizations.type":"charting","display.general.type":"visualizations"},options:t.defaults({resizable:!0},s.prototype.options)});return n.registerVisualization("visualizations:charting",o),n.registerVisualization("visualizations",o),n.extend({initialVisualization:"visualizations:charting"})}.call(t,i,t,e))||(e.exports=n)},"splunkjs/mvc/simplexml/element/event":function(e,t,i){var n;void 0===(n=function(e){var t=i("require/underscore"),n=(i("shim/jquery"),i("require/backbone"),i("splunkjs/mvc"),i("splunkjs/mvc/simplexml/element/base")),s=i("splunkjs/mvc/eventsviewerview"),a=i("splunkjs/mvc/simplexml/mapper"),r=(i("util/console"),i("shim/splunk.util")),o=a.extend({tagName:"event",map:function(e,i,n){i.options.count=e.get("display.prefs.events.count",n),t(e.toJSON(n)).each((function(s,a){if(0===a.indexOf("display.events.")){var r=e.get(a,n);t.isArray(r)&&(r=JSON.stringify(r)),i.options[a.substring("display.events.".length)]=null!=r?String(r):null}})),i.options["table.drilldown"]&&(i.options["table.drilldown"]=r.normalizeBoolean(i.options["table.drilldown"])?"all":"none"),i.removeOptions=["drilldown","segmentation"]}});a.register("events",o),a.register("events:raw",o),a.register("events:list",o),a.register("events:table",o);var l=s.extend({panelClassName:"event",reportDefaults:{"display.general.type":"events","display.prefs.events.count":10}});return n.registerVisualization("events",l),n.registerVisualization("events:raw",l),n.registerVisualization("events:list",l),n.registerVisualization("events:table",l),n.extend({initialVisualization:"events"})}.call(t,i,t,e))||(e.exports=n)},"splunkjs/mvc/simplexml/element/html":function(e,t,i){var n;void 0===(n=function(e){var t=i("require/underscore"),n=i("shim/jquery"),s=(i("splunkjs/mvc"),i("splunkjs/mvc/utils")),a=i("splunkjs/mvc/simplexml/element/base"),r=i("splunkjs/mvc/simplexml/controller"),o=i("splunkjs/mvc/tokenutils"),l=i("shim/splunk.util"),d=i("splunkjs/mvc/sharedmodels"),h=i("uri/route"),u=i("splunkjs/mvc/simplexml/mapper"),c=i("splunkjs/mvc/tokenawaremodel"),p=i("splunkjs/mvc/messages"),m=i("util/console");u.register("html",u.extend({toXML:function(e,i){var n={type:"html",attributes:{tokens:e.get("useTokens")}},s=e.get("serverSideInclude");return s&&!0!==i.flatten?t.extend(n,{attributes:{src:s},content:null}):t.extend(n,{content:e.get("html",i)})}}));var f={a:"href",iframe:"src",img:"src"};return a.extend({options:{serverSideInclude:void 0,html:void 0,useTokens:!0},configure:function(){this.options.settingsOptions=t.extend({tokenEscaper:o.getEscaper("html"),allowNoEscape:!1},this.options.settingsOptions||{}),a.prototype.configure.apply(this,arguments)},initialize:function(){this.configure(),this.model=new c({},{retainUnmatchedTokens:!0,tokenEscaper:o.getEscaper("html")}),s.syncModels(this.settings,this.model,{include:["html","serverSideInclude","tokenDependencies","useTokens"],auto:"push"}),this.reportReady=n.Deferred().resolve(this.model),this.contentLoadedDfd=n.Deferred(),this.listenTo(this.settings,"change:serverSideInclude",this.getStaticFile),this.settings.has("serverSideInclude")?t.defer(t.bind(this.getStaticFile,this)):this._checkExistingMarkup=!0,this.listenTo(r.getStateModel(),"change:edit",this.onEditModeChange,this),this.listenTo(this.model,"change:html change:error",this.render),this.setupTokenDependencies()},updatePanelHead:function(){this.$(".panel-head").remove(),r.isEditMode()&&n('<div class="panel-head"><h3><span class="untitled">HTML Panel</span></h3></div>').prependTo(this.$el)},getVisualizationType:function(){return"html"},getStaticFile:function(){var e=this.settings.get("serverSideInclude");if(e){var i=d.get("app").toJSON(),s=h.appStaticFile(i.root,i.locale,this.settings.get("app")||i.app,e),a=this.model,r=this.settings.get("useTokens");a.unset({html:void 0,error:void 0});var o=this.contentLoadedDfd;/^https?:/.test(e)||/(^|\/)\.\.\//.test(e)||/^\//.test(e)?(a.set("error",t("Error loading HTML panel content: Invalid src attribute value specified.").t()),o.resolve()):(m.log("Loading static asset %s (url=%s) for HTML panel",e,s),n.ajax({dataType:"html",type:"GET",url:s,error:function(i){a.set("error",404===i.status?l.sprintf(t('Error loading HTML panel content: HTML file "%s" not found.').t(),e):l.sprintf(t("Error loading HTML panel content: Error loading HTML file (HTTP status %d).").t(),i.statusCode)),o.resolve()},success:function(e){""!==e&&a.set({error:void 0,html:e},{tokens:r}),o.resolve()}}))}},normalizeLinks:function(e){t(f).each((function(t,i){var s=l.sprintf("%s[%s]",i,t);e.find(s).each((function(){var e=n(this),i=e.attr(t);i&&"/"===i[0]&&"/"!==i[1]&&e.attr(t,l.make_url(i))}))}))},loadExistingMarkup:function(e){this.settings.set("html",n.trim(e.html()),{tokens:this.settings.get("useTokens")}),this.contentLoadedDfd.resolve()},render:function(){this.$el.is(":empty")&&this.$el.html('<div class="panel-body"></div>'),this.$el.addClass("html");var e=this.$el.children(".panel-body");return e.addClass("html"),this._checkExistingMarkup&&(this._checkExistingMarkup=!1,this.settings.has("html")||this.loadExistingMarkup(e)),this.model.has("error")?p.render({icon:"warning-sign",level:"error",message:this.model.get("error")},e):this.model.has("html")&&(e.html(this.model.get("html")),this.normalizeLinks(e)),this.onEditModeChange(r.getStateModel()),this},getExportParams:function(){return{}},contentLoaded:function(){return this.contentLoadedDfd.promise()},componentReady:function(){return n.Deferred().resolve()}})}.call(t,i,t,e))||(e.exports=n)},"splunkjs/mvc/simplexml/element/list":function(e,t,i){var n;void 0===(n=function(e){var t=i("require/underscore"),n=(i("shim/jquery"),i("require/backbone"),i("splunkjs/mvc"),i("splunkjs/mvc/simplexml/element/base")),s=i("util/console");return n.extend({initialVisualization:"statistics",constructor:function(e){return t.extend(e,{displayRowNumbers:!1,fields:[e.labelField||"",e.valueField||""],sortKey:e.initialSort||e.labelField,sortDirection:e.initialSortDir||"asc"}),s.log("[%o] Creating table with options: %o",e.id,e),n.prototype.constructor.call(this,e)}})}.call(t,i,t,e))||(e.exports=n)},"splunkjs/mvc/simplexml/element/map":function(e,t,i){var n;void 0===(n=function(e){var t=i("require/underscore"),n=(i("shim/jquery"),i("require/backbone"),i("splunkjs/mvc"),i("splunkjs/mvc/simplexml/element/base")),s=i("splunkjs/mvc/splunkmapview"),a=i("splunkjs/mvc/simplexml/mapper"),r=(i("util/console"),i("splunkjs/mvc/drilldown"));a.register("visualizations:mapping",a.extend({tagName:"map",map:function(e,i,n){t(e.toJSON()).each((function(t,s){0===s.indexOf("display.visualizations.mapping.")&&(i.options[s.substring("display.visualizations.".length)]=e.get(s,n))})),(n||{}).pdf||delete i.options["mapping.data.bounds"],i.options["mapping.drilldown"]&&(i.options.drilldown=r.getNormalizedDrilldownType(i.options["mapping.drilldown"],{allowBoolean:!0}),delete i.options["mapping.drilldown"])}}));var o=s.extend({panelClassName:"map",options:t.defaults({resizable:!0},s.prototype.options),reportDefaults:{"display.visualizations.show":!0,"display.visualizations.type":"mapping","display.general.type":"visualizations"}});return n.registerVisualization("visualizations:mapping",o),n.extend({initialVisualization:"visualizations:mapping"})}.call(t,i,t,e))||(e.exports=n)},"splunkjs/mvc/simplexml/element/single":function(e,t,i){var n;void 0===(n=function(e){var t=i("require/underscore"),n=i("splunkjs/mvc/simplexml/element/base"),s=i("splunkjs/mvc/singleview"),a=i("splunkjs/mvc/simplexml/mapper"),r=i("util/console"),o=i("splunkjs/mvc/drilldown");a.register("visualizations:singlevalue",a.extend({tagName:"single",map:function(e,i,n){var s="display.visualizations.singlevalue.";r.log(e.toJSON(n)),t(e.toJSON(n)).each((function(e,t){t.substring(0,s.length)===s&&(i.options[t.substring(s.length)]=e)})),r.log("single export options: ",i.options),i.options.drilldown=o.getNormalizedDrilldownType(i.options.drilldown,{default:"none"})}}));var l=s.extend({panelClassName:"single",reportDefaults:{"display.visualizations.show":!0,"display.visualizations.type":"singlevalue","display.general.type":"visualizations"},options:t.defaults({resizable:!0},s.prototype.options)});return n.registerVisualization("visualizations:singlevalue",l),n.extend({initialVisualization:"visualizations:singlevalue"})}.call(t,i,t,e))||(e.exports=n)},"splunkjs/mvc/simplexml/element/table":function(e,t,i){var n;void 0===(n=function(e){var t=i("require/underscore"),n=(i("splunkjs/mvc"),i("splunkjs/mvc/simplexml/element/base")),s=i("splunkjs/mvc/tableview"),a=(i("util/console"),i("splunkjs/mvc/simplexml/mapper")),r=i("shim/splunk.util"),o=i("splunkjs/mvc/drilldown"),l=a.extend({tagName:"table",map:function(e,i,n){t(e.toJSON(n)).each((function(t,s){"display.statistics.format."===s.substring(0,"display.statistics.format.".length)&&(i.options[s.substring("display.statistics.".length)]=e.get(s,n))})),i.options.wrap=String(r.normalizeBoolean(e.get("display.statistics.wrap",n))),i.options.rowNumbers=String(r.normalizeBoolean(e.get("display.statistics.rowNumbers",n))),i.options.dataOverlayMode=e.get("display.statistics.overlay",n),i.options.totalsRow=String(r.normalizeBoolean(e.get("display.statistics.totalsRow",n))),i.options.percentagesRow=String(r.normalizeBoolean(e.get("display.statistics.percentagesRow",n))),i.options.drilldown=o.getNormalizedDrilldownType(e.get("display.statistics.drilldown",n),{validValues:["cell","row","none"],default:"row",aliasMap:{all:"cell",off:"none"}}),i.options.count=e.get("display.prefs.statistics.count",n),i.options.labelField=null,i.options.valueField=null;var s=e.get("display.statistics.fields",n);i.tags.fields=t.isArray(s)?t.isEmpty(s)?null:JSON.stringify(s):"[]"===s?null:s,i.sparkline=e.get("display.statistics.sparkline.format",n)}});a.register("statistics",l);var d=s.extend({panelClassName:"table",prefix:"display.statistics.",reportDefaults:{"display.general.type":"statistics","display.prefs.statistics.count":10,"display.statistics.drilldown":"cell"}});return n.registerVisualization("statistics",d),n.extend({initialVisualization:"statistics"})}.call(t,i,t,e))||(e.exports=n)},"splunkjs/mvc/simplexml/element/visualization":function(e,t,i){var n;void 0===(n=function(e){var t=i("require/underscore"),n=(i("splunkjs/mvc"),i("splunkjs/mvc/simplexml/element/base")),s=i("splunkjs/mvc/visualizationview"),a=i("splunkjs/mvc/simplexml/mapper");a.register("visualizations:custom",a.extend({tagName:"viz",map:function(e,i,n){var s=e.get("display.visualizations.custom.type"),a="display.visualizations.custom.",r=a+s+".";t(e.toJSON(n)).each((function(t,s){s.substring(0,r.length)===r&&(i.options[s.substring(a.length)]=e.get(s,n))})),i.attributes=t.extend({type:s},i.attributes)}}));var r=s.extend({panelClassName:"viz",reportDefaults:{"display.visualizations.show":!0,"display.visualizations.type":"custom","display.general.type":"visualizations"},options:t.defaults({resizable:!0},s.prototype.options)});return n.registerVisualization("visualizations:custom",r),n.extend({initialVisualization:"visualizations:custom"})}.call(t,i,t,e))||(e.exports=n)},"splunkjs/mvc/simplexml/eventhandler":function(e,t,i){var n,s;n=[i(0),i("shim/jquery"),i("require/underscore"),i("splunkjs/mvc"),i("splunkjs/mvc/basemanager"),i("splunkjs/mvc/basesplunkview"),i("splunkjs/mvc/components/UrlWarningModal"),i("splunkjs/mvc/settings"),i("splunkjs/mvc/tokenutils"),i("splunkjs/mvc/utils"),i("shim/splunk.util"),i("util/eval"),i("util/console"),i("util/react_render")],void 0===(s=function(e,t,i,n,s,a,r,o,l,d,h,u,c,p){var m=s.extend({componentIdSetting:"viewid",initialize:function(e){if(this.$urlWarningModal=t('<div class="url-warning-modal"/>'),!e.event)throw new Error("No event name specified for event handler instance");if(e.actions&&!e.conditions)if(e.allowImplicitConditions){var n=e.allowImplicitConditions,s=[],a=[];i(e.actions).each((function(e){if(i(n.actions).contains(e.type)){var t=i(n.attributes).find((function(t){return null!=e[t]}));if(t)return void s.push({attr:n.attr,value:e[t],actions:[e]})}a.push(e)})),a.length>0&&s.push({value:"*",actions:a}),e.conditions=s}else e.conditions=[{value:"*",actions:e.actions}];this.settings=new o(i.pick(e,this.componentIdSetting,"event","conditions","target")),this.normalizeEventName(),this.listenTo(this.settings,"change:event",this.normalizeEventName),this.bindToComponentSetting()},normalizeEventName:function(){},bindToComponentSetting:function(){this.settings.has(this.componentIdSetting)&&this.bindToComponent(this.settings.get(this.componentIdSetting)),this.listenTo(this.settings,"change:"+this.componentIdSetting,this.bindToComponent)},bindToComponent:function(){var e=this.settings.get(this.componentIdSetting);this.listenTo(n.Components,"change:"+e,this.onComponentChange);var t=n.Components.get(e);t&&this.onComponentChange(null,t)},onComponentChange:function(e,t){this._component&&this.stopListening(this._component),t&&(this._component=t,this.listenTo(t,this.settings.get("event"),this.handleEvent))},handleEvent:function(e){var t=this.settings.get("conditions");if(e&&t&&t.length){var n=i(t).find(i.partial(i.bind(this.conditionMatches,this),i,e));if(n){var s=e.data,a=e.event&&e.event.originalEvent?e.event.originalEvent:null;i.isFunction(e.preventDefault)&&e.preventDefault(),i(n.actions).each(i.partial(i.bind(this.executeAction,this),i,s,a))}}},conditionMatches:function(e,t){return"match"===e.attr?m.evaluateCondition(e.value,t.data):"*"==e.value||(i.isArray(t[e.attr])?this.arrayMatch(t[e.attr],e.value):t[e.attr]===e.value)},arrayMatch:function(e,t){var n=i.map((t||"").split(","),(function(e){return e.trim()}));return i.isEqual(i.clone(e).sort(),n.sort())},executeAction:function(e,t,i){var n=this.settings.get("target");switch(e.type){case"set":return m.setToken(e.token,e.value,e,t,e.submit);case"unset":return m.unsetToken(e.token,e.submit);case"link":var s=i&&!(!i.metaKey&&!i.ctrlKey),a=l.replaceTokenNames(e.value,m.getTokenModel(t),l.getEscaper("url"),m.getTokenFilters());if(!m.isAbsoluteURL(a)||sessionStorage.getItem(a))return m.linkTo(e.value,e.target||n,t,s);this._showUrlWarningModal(a).then((function(){return m.linkTo(e.value,e.target||n,t,s)})).catch((function(){}));break;case"eval":return m.evalToken(e.token,e.value,t,e.submit);default:throw new Error("Invalid drilldown action type "+JSON.stringify(e.type))}},_showUrlWarningModal:function(t){return new Promise(function(i,n){var s=document.activeElement,a=function(){this.unmountUrlWarningModal&&(this.unmountUrlWarningModal(),this.unmountUrlWarningModal=null),s&&s.focus()},o=e.createElement(r,{url:t,onConfirm:function(){i(),a.call(this)}.bind(this),onRequestClose:function(){n(),a.call(this)}.bind(this),onAddUrlToAllowList:function(){sessionStorage.setItem(t,!0)}.bind(this)});this.unmountUrlWarningModal=p(o,this.$urlWarningModal[0])}.bind(this))}},{setToken:function(e,t,n,s,a){var r;if(null!=n.delimiter&&i.isArray(s))r=i(s).map((function(e){var i=m.getTokenModel(e);return l.replaceTokenNames(t,i)})).join(n.delimiter);else{i.isArray(s)&&(s=i.first(s));var o=m.getTokenModel(s);r=l.replaceTokenNames(t,o)}null==n.prefix&&null==n.suffix||(r=(n.prefix||"")+r+(n.suffix||"")),m.applyTokenValue(e,r,a)},evalToken:function(e,t,i,n){try{m.applyTokenValue(e,m.evaluate(t,i),n)}catch(e){c.error("Error executing eval expression %s: %s",t,e)}},applyTokenValue:function(e,t,i){i=!1!==i;var s=n.Components.get("default"),a=n.Components.get("submitted");s.set(e,t),i&&a&&a.set(e,t)},unsetToken:function(e,t){t=!1!==t;var i=n.Components.get("default"),s=n.Components.get("submitted");i.unset(e),t&&s&&s.unset(e)},linkTo:function(e,t,i,n){var s=l.replaceTokenNames(e,m.getTokenModel(i),l.getEscaper("url"),m.getTokenFilters());m.isServerRelativeURL(s)?s=h.make_url(s):m.isServerRelativeURL(s)||m.isAbsoluteURL(s)||m.isProtocolRelativeURL(s)||!m.isEditMode()||(s="../"+s),d.redirect(s,n,t)},getTokenModel:function(e){var t=n.Components.get("submitted");return i.extend(t?t.toJSON():{},e)},getTokenFilters:function(){return l.getFilters(n.Components)},evaluate:function(e,t){return u.execute(e,m.getTokenModel(t),!0)},evaluateCondition:function(e,t){try{var n=m.evaluate(e,t);return i.isBoolean(n)||c.warn("Eval expression %s for condition did not return a boolean value",e),!0===n}catch(t){c.error("Error executing eval expression %s for condition: %s",e,t)}},isEditMode:function(){return/\/edit$/.test(window.location)},isAbsoluteURL:function(e){return/^https?\:\/\//.test(e)},isServerRelativeURL:function(e){return"/"===e[0]&&!m.isProtocolRelativeURL(e)},isProtocolRelativeURL:function(e){return/^\/\//.test(e)}});return m}.apply(t,n))||(e.exports=s)},"splunkjs/mvc/simplexml/factory":function(e,t,i){var n,s;n=[i("dashboard/DashboardFactory")],void 0===(s=function(e){return e}.apply(t,n))||(e.exports=s)},"splunkjs/mvc/simplexml/mapper":function(e,t,i){var n;void 0===(n=function(e){var t=i("require/underscore"),n=i("require/backbone"),s=i("util/console"),a=function(){};t.extend(a.prototype,{tagName:"#abstract",map:function(){},getSearch:function(e,t){var i;if(e.error.has("details")){var n=e.error.get("details");if(404==n.status&&"saved"==n.type)return i={type:"saved",name:n.searchname}}if(e.entry.get("name",t))i={type:"saved",name:e.entry.get("name",t)},s.log("Mapped Saved Search",i);else if(e.entry.content.get("search",t)){i={type:e.entry.content.get("display.general.search.type",t)||"inline",search:e.entry.content.get("search",t),earliest_time:e.entry.content.get("dispatch.earliest_time",t),latest_time:e.entry.content.get("dispatch.latest_time",t),base:e.entry.content.get("display.general.search.base",t)};var a=e.entry.content.get("dispatch.sample_ratio");null!=a&&"1"!=a&&(i.sample_ratio=a),t.flatten&&"postprocess"===i.type&&(i.type="inline",i.search=e.entry.content.get("display.general.search.fullSearch",t)),s.log("Mapped Inline Search",i)}return i},toXML:function(e,t){t=t||{tokens:!0};var i={type:this.tagName,title:e.entry.content.get("display.general.title",t),search:this.getSearch(e,t),tokenDependencies:e.entry.content.get("display.general.tokenDependencies"),options:{},tags:{}};return this.map(e.entry.content,i,t),i.options.fields&&(i.tags.fields||(i.tags.fields=i.options.fields),i.options.fields=null),i}});var r={};return a.register=function(e,t){r[e]=t},a.get=function(e){var t=r[e];if(!t)throw new Error("No mapper for type "+e);return new t},a.extend=n.Model.extend,a}.call(t,i,t,e))||(e.exports=n)},"splunkjs/mvc/simplexml/paneleditor":function(e,t,i){var n;void 0===(n=function(e,t,n){var s=i("splunkjs/mvc/mvc"),a=i("splunkjs/mvc/basesplunkview"),r=i("views/shared/vizcontrols/Master"),o=i("splunkjs/mvc/sharedmodels"),l=i("views/dashboards/panelcontrols/Master"),d=i("splunkjs/mvc/savedsearchmanager"),h=i("splunkjs/mvc/searchmanager"),u=i("splunkjs/mvc/utils"),c=i("require/underscore"),p=i("stubs/splunk.config"),m=(i("util/console"),i("splunkjs/mvc/simplexml/controller")),f=i("splunkjs/mvc/tokenawaremodel"),g=i("models/dashboards/DashboardReport"),v=g.extend({initialize:function(e,t){g.prototype.initialize.apply(this,arguments),this._report=t.report,this.entry.content=new f({},{applyTokensByDefault:!0,retrieveTokensByDefault:!0}),this.setFromSplunkD(this._report.toSplunkD()),this.contentSyncer=u.syncModels({source:this._report.entry.content,dest:this.entry.content,auto:"push"}),this.entrySyncer=u.syncModels({source:this._report.entry,dest:this.entry,auto:"push"})},save:function(e,t){return e&&this.set(e,t),this._report.entry.set(this.entry.toJSON()),this._report.entry.content.set(this.entry.content.toJSON({tokens:!0})),this._report.saveXML(t)},syncOff:function(){this.contentSyncer.destroy(),this.entrySyncer.destroy(),this.off()}});return a.extend({className:"panel-editor",initialize:function(){this.children=this.children||{},a.prototype.initialize.call(this),this.model=this.model||{},this.model.report=this.model.report||new g,this.model.working=new v({},{report:this.model.report}),this.model.application=m.model.app,this.manager=this.options.manager,this._instantiateChildren(),this.bindToComponent(this.manager,this.onManagerChange,this),this.listenTo(this.model.report,"makeInline",this._makePanelInline,this),this.listenTo(this.model.report,"useReportFormatting",this._useReportFormatting,this),this.listenTo(this.model.report,"updateReportID",this._updateReportID,this),this.listenTo(this.model.report,"saveAsReport",this._saveAsReport,this),this.listenTo(this.model.report,"updateSearchString",this._updateSearchManager,this),this.listenTo(this.model.report,"deleteReport",this._deleteReport,this),this.listenTo(this.model.working,"saveTitle",this._saveTitle,this),this.listenTo(this.model.working,"editTitle",this._editTitle,this),this.model.user=m.model.user,this.model.appLocal=m.model.appLocal},_instantiateChildren:function(){this.children.vizControl=new r({model:{report:this.model.working,application:this.model.application,user:this.model.user},vizTypes:["events","statistics","visualizations"],saveOnApply:!0,dashboard:!0}),this.children.panelControl=new l({model:{report:this.model.report,working:this.model.working,application:this.model.application,appLocal:this.model.appLocal,user:this.model.user,dashboard:m.model.view,state:m.getStateModel(),serverInfo:o.get("serverInfo")},controller:m})},remove:function(){this.model.working.syncOff(),this._removeChildren(),a.prototype.remove.apply(this,arguments)},_removeChildren:function(){this.children.vizControl.remove(),this.children.panelControl.remove()},_updateSearchManager:function(e){var t=this.model.report.toSplunkD();this.model.report.entry.content.set(e);var i=this.model.report.saveXML();i.done(c.bind((function(){this.model.report.trigger("successfulSave");var e=s.Components.get(this.manager);e.settings&&(e.settings.set("search",this.model.report.entry.content.get("search",{tokens:!0}),{tokens:!0,silent:!1}),e.settings.set({earliest_time:this.model.report.entry.content.get("dispatch.earliest_time",{tokens:!0}),latest_time:this.model.report.entry.content.get("dispatch.latest_time",{tokens:!0})},{tokens:!0}))}),this)),i.fail(c.bind((function(){this.model.report.setFromSplunkD(t,{silent:!1})}),this))},onManagerChange:function(){this._removeChildren(),this._instantiateChildren(),this.render()},render:function(){return this.$el.append(this.children.panelControl.render().el),this.$el.append(this.children.vizControl.render().el),this},_makePanelInline:function(){var e=this.model.report.toSplunkD(),t=this.model.report.entry.get("name"),i=this.model.report.get("id");delete this.model.report.id,this.model.report.unset("id",{silent:!0}),this.model.report.entry.unset("name",{silent:!0});var n=this.model.report.saveXML();n.fail(c.bind((function(){this.model.report.setFromSplunkD(e,{silent:!1})}),this)),n.done(c.bind((function(){this.model.report.trigger("successfulManagerChange"),new h({id:this.manager,latest_time:this.model.report.entry.content.get("dispatch.latest_time"),earliest_time:this.model.report.entry.content.get("dispatch.earliest_time"),search:this.model.report.entry.content.get("search"),sample_ratio:this.model.report.entry.content.get("dispatch.sample_ratio"),app:u.getCurrentApp(),auto_cancel:90,status_buckets:0,preview:!0,timeFormat:"%s.%Q",wait:0},{replace:!0}),this.model.report.set({id:i},{silent:!0}),this.model.report.unset("id",{silent:!1}),this.model.report.entry.set({name:t},{silent:!0}),this.model.report.entry.unset("name",{silent:!1})}),this))},_useReportFormatting:function(){var e=this.model.report.toSplunkD();this.model.report.fetch({},{silent:!0}).done(c.bind((function(){var t=this.model.report.toSplunkD(),i=this.model.report.saveXML({clearOptions:!0});i.fail(c.bind((function(){this.model.report.setFromSplunkD(e,{silent:!1})}),this)),i.done(c.bind((function(){this.model.report.setFromSplunkD(e,{silent:!0}),this.model.report.setFromSplunkD(t,{silent:!1}),this.model.report.trigger("successfulReportFormatting")}),this))}),this))},_updateReportID:function(e,t){var i=this.model.report.toSplunkD();e&&(this.model.report.set({id:e},{silent:!0}),this.model.report.entry.set({id:e},{silent:!0}),this.model.report.id=e),t&&this.model.report.entry.content.set({"display.general.title":t}),this.model.report.fetch({},{silent:!0}).done(c.bind((function(){var e=this.model.report.saveXML();e.fail(c.bind((function(){this.model.report.setFromSplunkD(i,{silent:!1})}),this)),e.done(c.bind((function(){this.model.report.trigger("successfulManagerChange"),new d({id:this.manager,searchname:this.model.report.entry.get("name"),app:u.getCurrentApp(),auto_cancel:90,status_buckets:0,preview:!0,timeFormat:"%s.%Q",wait:0},{replace:!0})}),this))}),this))},_saveAsReport:function(e,t){var i=this.model.report.toSplunkD();this.model.report.entry.content.set({name:e,description:t,"display.general.title":e}),this.model.report.entry.set({name:e},{silent:!0}),"postprocess"===this.model.report.entry.content.get("display.general.search.type")&&this.model.report.entry.content.set("search",this.model.report.entry.content.get("display.general.search.fullSearch")),this.model.report.save({},{data:{app:u.getCurrentApp(),owner:p.USERNAME}}).done(c.bind((function(){var t=this.model.report.saveXML();t.fail(c.bind((function(){this.model.report.destroy(),this.model.report.unset("id",{silent:!0}),this.model.report.setFromSplunkD(i,{silent:!1})}),this)),t.done(c.bind((function(){this.model.report.trigger("successfulReportSave"),new d({id:this.manager,searchname:e,app:u.getCurrentApp(),auto_cancel:90,status_buckets:0,preview:!0,timeFormat:"%s.%Q",wait:0},{replace:!0})}),this))}),this))},_saveTitle:function(e){var t=this.model.report.toSplunkD();this.model.working.entry.content.set({"display.general.title":e});var i=this.model.working.save();i.fail(c.bind((function(){this.model.report.setFromSplunkD(t,{silent:!1})}),this)),i.done(c.bind((function(){this.model.working.trigger("successfulSave"),this.model.report.entry.content.set({"display.general.title":""},{silent:!1}),this.model.report.entry.content.set({"display.general.title":e},{silent:!1})}),this))},_editTitle:function(){this.model.report.trigger("editTitle")},_deleteReport:function(){this.model.report.deleteXML().done(c.bind((function(){this.model.report.trigger("successfulDelete"),this.model.report.trigger("removedPanel")}),this))}})}.call(t,i,t,e))||(e.exports=n)},"splunkjs/mvc/simplexml/parser":function(e,t,i){var n,s;n=[i("require/underscore"),i("dashboard/DashboardParser"),i("util/console")],void 0===(s=function(e,t,i){function n(){i.warn("simplexml/parser is deprecated, use dashboard/DashboardParser instead"),t.apply(this,arguments)}var s;return e.extend(n.prototype,t.prototype),e.extend(n,t,{getDefault:function(){return s||(s=n.createDefault())},createDefault:function(){return new n(n.getDefaultConfig())}}),t}.apply(t,n))||(e.exports=s)},"splunkjs/mvc/simplexml/ready":function(e,t,i){var n;void 0===(n=function(e,t,n){var s=i("shim/jquery"),a=i("splunkjs/mvc/simplexml/controller"),r=s.Deferred();return a.onReady((function(){r.resolve(a)})),{load:function(e,t,i,n){r.done(i)}}}.call(t,i,t,e))||(e.exports=n)},"splunkjs/mvc/simplexml/router":function(e,t,i){var n;void 0===(n=function(e){var t=i("require/underscore"),n=i("require/backbone"),s=i("models/url"),a=i("util/console");return n.Router.extend({initialize:function(e){a.warn("splunkjs dashboard router is DEPRECATED!"),this.model=e.model,this.app=e.app},routes:{":locale/app/:app/:page?*qs":"view",":locale/app/:app/:page":"view",":locale/app/:app/:page/?*qs":"view",":locale/app/:app/:page/":"view",":locale/app/:app/:page/edit?*qs":"edit",":locale/app/:app/:page/edit":"edit","*root/:locale/app/:app/:page?*qs":"rootedView","*root/:locale/app/:app/:page":"rootedView","*root/:locale/app/:app/:page/?*qs":"rootedView","*root/:locale/app/:app/:page/":"rootedView","*root/:locale/app/:app/:page/edit?*qs":"rootedEdit","*root/:locale/app/:app/:page/edit":"rootedEdit",":locale/manager/:app/:page?*qs":"view",":locale/manager/:app/:page":"view",":locale/manager/:app/:page/?*qs":"view",":locale/manager/:app/:page/":"view","*root/:locale/manager/:app/:page?*qs":"rootedView","*root/:locale/manager/:app/:page":"rootedView","*root/:locale/manager/:app/:page/?*qs":"rootedView","*root/:locale/manager/:app/:page/":"rootedView"},view:function(){a.log("ROUTE: view"),this.page.apply(this,arguments),this.model.set("edit",!1)},edit:function(){a.log("ROUTE: edit"),this.page.apply(this,arguments),this.model.set("edit",!0)},rootedView:function(e){this.app.set("root",e),this.view.apply(this,t.rest(arguments))},rootedEdit:function(e){this.app.set("root",e),this.edit.apply(this,t.rest(arguments))},page:function(e,t,i){a.log("ROUTE: page(locale=%o, app=%o, page=%o)",e,t,i),this.app.set({locale:e,app:t,page:i}),s.fetch(),"schedulePDF"===s.get("dialog")&&(this.model.set("dialog",s.get("dialog")),s.unset("dialog"),this.updateUrl({replace:!0}))},updateUrl:function(e){var i=[this.app.get("root")||"",this.app.get("locale"),"app",this.app.get("app"),this.app.get("page")];this.model.get("edit")&&i.push("edit");var n=[i.join("/")],a=s.encode();a.length&&n.push(a),this.navigate(n.join("?"),t.extend({replace:!1},e))}})}.call(t,i,t,e))||(e.exports=n)},"splunkjs/mvc/simplexml/searcheventhandler":function(e,t,i){var n,s;n=[i("require/underscore"),i("splunkjs/mvc/simplexml/eventhandler"),i("util/eval"),i("splunkjs/mvc/tokenutils"),i("util/console"),i("splunkjs/mvc/messages")],void 0===(s=function(e,t,i,n,s,a){var r=t.extend({componentIdSetting:"managerid",normalizeEventName:function(){var e=this.settings.get("event"),t=r.events[e];!1===t.data&&t.withData&&this.needsResultsData()&&this.settings.set("event",t.withData)},startListeningToManager:function(e,t){this._component=e;var i=r.events[t];if(!1===i.data&&i.withData&&this.needsResultsData()&&(i=r.events[i.withData]),i.data){var n=this._data=e.data(i.data,i.fetchOptions);this.listenTo(n,"data nodata",this.handleDataLoaded)}else this.listenTo(e,"search:"+t,this.handleEvent)},needsResultsData:function(){var t=this.settings.get("conditions");function s(t){return e.any(t,(function(e){return 0===e.indexOf("result.")}))}function a(e){try{return s(i.compile(e).findVariables(!0))}catch(e){return!1}}return!(!t||!e.any(t,(function(t){return!("match"!==t.attr||!a(t.value))||e.any(t.actions,(function(e){switch(e.type){case"eval":return a(e.value);case"set":case"link":return t=e.value,s(n.getTokenNames(t));default:return!1}var t}))})))},stopListeningToManager:function(){this._data&&(this.stopListening(this._data),this._data.destroy(),this._data=null),this._component&&(this.stopListening(this._component),this._component=null)},onComponentChange:function(e,t){this.stopListeningToManager(),this.startListeningToManager(t,this.settings.get("event"))},createEventData:function(t,i){var n=r.events[t],s={data:{}};return n.data&&e.extend(s.data,r.getResultModel(this._data.data())),n.props&&e.extend(s.data,r.getJobPropertiesModel(i)),n.msg&&(s.data.message=a.getSearchFailureMessage(i)||i),s},handleDataLoaded:function(){this.handleEvent({content:this._component.get("data")})},handleEvent:function(e){var i=this.settings.get("event"),n=this.createEventData(i,e);null!=n&&t.prototype.handleEvent.call(this,n)}},{expandJobProperties:function(t,i,n){e.each(i,(function(i,s){e.isObject(i)?r.expandJobProperties(t,i,n+"."+s):t[n+"."+s]=i}))},getJobPropertiesModel:function(t){var i={};return e.each(t.content,(function(t,n){e.isObject(t)?r.expandJobProperties(i,t,"job."+n):i["job."+n]=t})),i},getResultModel:function(t){var i={};return t&&t.results&&t.results.length&&e.each(t.results[0],(function(e,t){i["result."+t]=e})),i},events:{progress:{data:!1,props:!0,withData:"preview"},preview:{data:"preview",fetchOptions:{output_mode:"json",count:1},props:!0},done:{data:!1,props:!0,withData:"finalized"},finalized:{data:"results",fetchOptions:{count:1,output_mode:"json",condition:function(e){var t=e.get("data");return t&&t.isDone}},props:!0},error:{msg:!0},fail:{msg:!0},cancelled:{msg:!1}}});return r}.apply(t,n))||(e.exports=s)},"splunkjs/mvc/simplexml/serializer":function(e,t,i){var n;void 0===(n=function(e,t,n){var s=i("require/underscore"),a=i("shim/jquery"),r=i("splunkjs/mvc"),o=i("util/general_utils"),l=i("splunkjs/mvc/simplexml/mapper"),d=i("util/console"),h=i("util/xml"),u=i("splunkjs/mvc/simplexml/parser");function c(e,t,i){return i&&i.clearOptions&&(e.find("option").remove(),delete t.options),t.tokenDependencies&&s(["depends","rejects"]).each((function(i){var n=t.tokenDependencies[i];n&&e.attr(i,n)})),function(e,t){var i=e.find("title");t.title?(i.length||(i=h.$node("<title/>").prependTo(e)),i.text(t.title)):i.remove()}(e,t),t.search&&"global"!==t.search.type&&function(e,t){if(t.search){t.search=s.extend({id:e.children("search").attr("id")},t.search),function(e){e.children("searchString,searchTemplate,searchName,searchPostProcess,pivotSearch,earliestTime,latestTime,search").remove()}(e);var i=k(t.search);if(i){var n=e.find("title");n.length?i.insertAfter(n):i.prependTo(e)}}}(e,t),function(e,t){t.options&&(d.log("Applying options",t.options),s.each(t.options,(function(t,i){var n=e.find('option[name="'+i+'"]');""===t||null==t?n.remove():n.length?n.text(t):h.$node("<option/>").attr("name",i).text(t).appendTo(e)})));t.removeOptions&&s(t.removeOptions).each((function(t){e.find('option[name="'+t+'"]').remove()}))}(e,t),function(e,t){t.tags&&s.each(t.tags,(function(t,i){e.find(i).remove(),(s.isArray(t)&&t.length||t)&&h.$node("<"+i+"/>").text(t).appendTo(e)}))}(e,t),function(e,t){t.attributes&&s.each(t.attributes,(function(t,i){e.attr(i,t)}))}(e,t),function(e,t){void 0!==t.content&&(e.empty(),t.content&&(t.cdata?e.append(h.cdata(t.content)).attr("encoded","true"):function(e,t){try{var i="<ct>"+t+"</ct>",n=h.$node(i);return h.serialize(n)===i&&(h.moveChildren(n,e),!0)}catch(e){return!1}}(e,t.content)||(i=e,n=t.content,i.append(h.cdata(n)).attr("encoded","true"))));var i,n}(e,t),function(e,t){t.sparkline&&s.each(t.sparkline,(function(i,n){var a=h.$node("<format/>").attr("field",n).attr("type","sparkline").appendTo(e);s.each(t.sparkline[n],(function(e,i){if(s.contains(["colorMap","valueSpots"],i)){var r=h.$node("<option/>").attr("name",i).appendTo(a),o=t.sparkline[n][i];s.isArray(o)?r.text(JSON.stringify(o)):s.each(o,(function(e,t){h.$node("<option/>").attr("name",t).text(e).appendTo(r)}))}else h.$node("<option/>").attr("name",i).text(e).appendTo(a)}))}))}(e,t),e}function p(e,t){var i=h.$tag(e.type);return c(i,e,t),i}function m(e,t,i){return e.attr("type",t.type),e.attr("token",t.token||null),e.attr("searchWhenChanged",null!=t.searchWhenChanged?String(o.normalizeBoolean(t.searchWhenChanged)):null),function(e,t,i){var n=a.trim(e.label);void 0!==n&&n!==e.token?h.replaceOrPrepend({node:h.$node("<label/>").text(n),selector:"label",container:t}):t.children("label").remove()}(t,e),function(e,t,i){if(e.choices&&e.choices.length){var n=s(e.choices).map((function(e){return h.$node("<choice/>").attr("value",e.value).text(e.label)}));h.replaceOrAppend({node:n,container:t,selector:"choice"})}else t.children("choice").remove()}(t,e),function(e,t,i){var n,a=e.children("search").attr("id");if("saved"===t.searchType){if(!t.searchName)return g(e);n=k({id:a,type:"saved",name:t.searchName})}else if("postprocess"===t.searchType){if(!t.search)return g(e);n=k(s.extend({id:a,type:"postprocess",base:t.basesearch},s.pick(t,"search")))}else{if(!t.search)return g(e);n=k({id:a,type:"inline",earliest_time:t.populating_earliest_time,latest_time:t.populating_latest_time,search:t.search})}h.replaceOrAppend({node:n,container:e,selector:"populatingSavedSearch,populatingSearch,search"}),t.labelField?h.replaceOrAppend({node:h.$tag("fieldForLabel").text(t.labelField),container:e,selector:"fieldForLabel"}):e.children("fieldForLabel").remove();t.valueField?h.replaceOrAppend({node:h.$tag("fieldForValue").text(t.valueField),container:e,selector:"fieldForValue"}):e.children("fieldForValue").remove()}(e,t),function(e,t,i){var n=t.default;if(!n||s.isArray(n)&&0===n.length)e.children("default").remove();else{var a=h.$node("<default/>");"time"==t.type?(h.$node("<earliest></earliest>").text(null==n.earliest_time?"":n.earliest_time).appendTo(a),h.$node("<latest></latest>").text(null==n.latest_time?"":n.latest_time).appendTo(a)):s.isArray(n)?a.text((r=n,s.map(r,(function(e){return/[,\r\n""]/.test(e)?'"'+e.replace(/"/g,'""')+'"':e})).join(","))):a.text(n),h.replaceOrAppend({node:a,selector:"default",container:e})}var r}(e,t),function(e,t,i){s(["prefix","suffix","seed","initialValue","valuePrefix","valueSuffix","delimiter"]).each((function(i){var n=t[i];if(!n||s.isArray(n)&&0===n.length)e.children(i).remove();else{var a=h.$tag(i).text(n);h.replaceOrAppend({node:a,container:e,selector:i})}}))}(e,t),e}function f(e,t){var i=r.Components.get(e);return m(h.$node("<input />"),i.settings.toJSON(t))}function g(e){e.children("populatingSavedSearch,populatingSearch,search,fieldForLabel,fieldForValue").remove()}function v(e,t){t||(t={});var i=s.extend({},t.structureMap,t.itemMap),n=s.extend({},t.structureMap,t.inputMap),o=h.$node("<panel/>");return e.ref?(o.attr("ref",e.ref),e.app&&o.attr("app",e.app)):(s(e.elements).each((function(e){var n=i[e];if(!n){if(!1===t.createMissingElements){var s="Element "+e+" not found in XML";if(t.failIfComponentNotFound)throw new Error(s);return void d.warn(s)}n=function(e,t){var i=r.Components.get(e);if(!i)throw new Error("Element "+e+" not found");return p(l.get(i.getVisualizationType()).toXML(i.model,t),t)}(e,t)}a(n).find("script").remove(),o.append(n)})),!1!==t.includeFormElements&&s(e.inputs).chain().clone().reverse().each((function(e){var i=n[e];if(i)a(i).find("script").remove();else{if(!1===t.createMissingInputs){var s="Input "+e+"not found in XML";if(t.failIfComponentNotFound)throw new Error(s);return void d.warn(s)}i=f(e,t)}a(o).prepend(i)}))),a.trim(e.title)&&h.$node("<title />").text(e.title).prependTo(o),e.id&&o.attr("id",e.id),e.tokenDependencies&&(e.tokenDependencies.depends&&o.attr("depends",e.tokenDependencies.depends),e.tokenDependencies.rejects&&o.attr("rejects",e.tokenDependencies.rejects)),o}function b(e,t,i){(i=s.extend({tokens:!0,createMissingElements:!0,createMissingInputs:!0,includeFormElements:!0,itemMap:{},inputMap:{},failIfComponentNotFound:!0,moveGlobalSearches:!0},i)).moveGlobalSearches&&function(e){var t=h.root(e);t.find("row>panel>search").appendTo(t)}(e);var n=h.root(e);if(n.children("row").detach(),s(t.rows).each((function(e){var t=h.$node("<row/>");s(e.panels).each((function(e){var n=v(e,i);t.append(n)})),e.id&&t.attr("id",e.id),e.tokenDependencies&&(e.tokenDependencies.depends&&t.attr("depends",e.tokenDependencies.depends),e.tokenDependencies.rejects&&t.attr("rejects",e.tokenDependencies.rejects)),n.append(t)})),i.includeFormElements){var r=n.children("fieldset");r.length||(r=w(e,i)),r.children().detach(),s(t.fieldset).each((function(e){var t=i.inputMap[e];if(t)a(t).find("script").remove();else{if(!1===i.createMissingInputs){var n="Input "+e+"not found in XML";if(i.failIfComponentNotFound)throw new Error(n);return void d.warn(n)}t=f(e)}r.append(t)})),0==r.children().length&&r.remove()}return e}function _(e,t){if(!y(e,t)){var i=h.root(e),n=h.parse("<"+t+"/>"),a=h.root(n),r=i[0];return s(r.attributes).each((function(e){a.attr(e.nodeName,e.nodeValue)})),h.moveChildren(i,a),n}}function y(e,t){return h.root(e).prop("tagName")===t}function w(e,t){var i=h.root(e),n=i.children("fieldset");return n.length||(n=h.$node('<fieldset submitButton="false"></fieldset>'),h.inject({node:n,where:"after",container:i,selectors:["description","label"],fallback:"prepend"})),n}function k(e){var t=h.$node("<search/>");switch("$earliest$"===e.earliest_time&&(e.earliest_time=void 0),"$latest$"===e.latest_time&&(e.latest_time=void 0),e.id&&t.attr("id",e.id),e.type){case"inline":h.$node("<query />").text(e.search).appendTo(t),null!=e.earliest_time&&h.$node("<earliest />").text(e.earliest_time).appendTo(t),null!=e.latest_time&&h.$node("<latest />").text(e.latest_time).appendTo(t),null!=e.sample_ratio&&h.$node("<sampleRatio />").text(e.sample_ratio).appendTo(t);break;case"postprocess":h.$node("<query />").text(e.search).appendTo(t),t.attr("base",e.base||"global");break;case"saved":t.attr("ref",e.name),null!=e.earliest_time&&h.$node("<earliest />").text(e.earliest_time).appendTo(t),null!=e.latest_time&&h.$node("<latest />").text(e.latest_time).appendTo(t);break;default:throw new Error("Invalid search type: "+e.type)}return e.eventHandlerNodes&&t.append(e.eventHandlerNodes),t}return{updateExistingElementNode:function(e,t,i){var n=h.$tag(t.type);if(t.search){var r=u.getDefault().findNodeDefinitions((function(e){return"search-eventhandler"===e.extends})),o=s(r).chain().pluck("tagName").unique().value().join(","),l=a(e).children("search").children(o).detach();l.length&&(t.search=s.extend({eventHandlerNodes:l},t.search))}return h.moveChildren(e,n),s(["id","depends","rejects"]).each((function(t){var i=a(e).attr(t);i&&n.attr(t,i)})),c(n,t,i)},updateElementNode:c,createElementNode:p,insertNewElement:function(e,t,i){var n=h.$node("<row />"),s=h.$node("<panel />").appendTo(n);return p(t,i).appendTo(s),h.root(e).append(n),e},updateExistingInputNode:function(e,t,i){return m(h.clone(e),t,i)},updateInputNode:m,createInputNode:function(e,t){return m(h.$node("<input />"),e)},serializeDashboardStructure:b,serializePanelStructure:v,createFlattenedDashboardXML:function(e,t){if(t=s.extend({serializeInputs:!1,tokens:!1,indent:!1},t),!e)throw new Error("Cannot create flattened XML without the item order being captured first");t=t||{};var i=h.parse("<dashboard/>"),n=h.root(i);return h.$node("<label/>").text(t.label).appendTo(n),a.trim(t.description)&&h.$node("<description/>").text(t.description).appendTo(n),i=b(i,e,s.extend({tokens:!1,flatten:!0,includeFormElements:!!t.serializeInputs},t)),h.serializeDashboardXML(i,t.indent)},migrateViewType:_,updateFormSettings:function(e,t){y(e,"form")||(e=_(e,"form"));var i=e.find("fieldset");return i.length||(i=w(e)),t.hasOwnProperty("submitButton")&&i.attr("submitButton",String(t.submitButton)),t.hasOwnProperty("autoRun")&&i.attr("autoRun",String(t.autoRun)),e},createFieldset:w,createSearchNode:k,applyGlobalSearch:function(e,t){var i=h.root(e);i.children("searchTemplate,earliestTime,latestTime,search[id=global]").remove();var n=k(s.extend({id:"global"},t.search));h.inject({node:n,container:i,where:"after",selectors:["label","description"],fallback:"prepend"})}}}.call(t,i,t,e))||(e.exports=n)},"splunkjs/mvc/simplexml/urltokenmodel":function(e,t,i){var n;void 0===(n=function(e,t,n){var s=i("splunkjs/mvc/basetokenmodel"),a=i("models/url"),r=i("splunkjs/mvc/simplexml/controller"),o=i("util/general_utils");return s.extend({moduleId:n.i,initialize:function(){a.on("change",(function(e,t){this.setFromClassicUrl()}),this),this.setFromClassicUrl(),r.router.on("route",(function(){this.trigger("url:navigate")}),this)},save:function(e,t){this.set(e),this.saveClassicUrl(t)},saveOnlyWithPrefix:function(e,t,i){var n=["^"+e+".*","^earliest$","^latest$"];this.save(o.filterObjectByRegexes(t,n,{allowEmpty:!0,allowObject:!0}),i)},saveClassicUrl:function(e){a.save(this.toJSON(),e)},setFromClassicUrl:function(){this.set(a.toJSON())}})}.call(t,i,t,e))||(e.exports=n)},"splunkjs/mvc/singleview":function(e,t,i){var n;void 0===(n=function(e,t,n){var s=i("require/underscore"),a=i("splunkjs/mvc/visualizationview"),r=i("views/shared/ReportVisualizer"),o=i("splunkjs/mvc/utils"),l=i("splunkjs/mvc/drilldown");return a.extend({moduleId:n.i,className:"splunk-single",options:s.extend({},a.prototype.options,{linkView:"search",height:"115px"}),normalizeSettings:function(e){a.prototype.normalizeSettings.apply(this,arguments),e.set("drilldown",l.getNormalizedDrilldownType(e.get("drilldown"),{default:"none"}))},syncSettingsAndReportModel:function(e,t){this._settingsSync=o.syncModels(e,t,{auto:!0,prefix:"display.visualizations.",alias:{additionalClass:"display.visualizations.singlevalue.additionalClass",linkView:"display.visualizations.singlevalue.linkView",field:"display.visualizations.singlevalue.field",linkFields:"display.visualizations.singlevalue.linkFields",classField:"display.visualizations.singlevalue.classField",beforeLabel:"display.visualizations.singlevalue.beforeLabel",afterLabel:"display.visualizations.singlevalue.afterLabel",underLabel:"display.visualizations.singlevalue.underLabel",unit:"display.visualizations.singlevalue.unit",unitPosition:"display.visualizations.singlevalue.unitPosition",linkSearch:"display.visualizations.singlevalue.linkSearch",drilldown:"display.visualizations.singlevalue.drilldown",colorMode:"display.visualizations.singlevalue.colorMode",trendColorInterpretation:"display.visualizations.singlevalue.trendColorInterpretation",trendInterval:"display.visualizations.singlevalue.trendInterval",rangeValues:"display.visualizations.singlevalue.rangeValues",rangeColors:"display.visualizations.singlevalue.rangeColors",showSparkline:"display.visualizations.singlevalue.showSparkline",showTrendIndicator:"display.visualizations.singlevalue.showTrendIndicator",trendDisplayMode:"display.visualizations.singlevalue.trendDisplayMode",colorBy:"display.visualizations.singlevalue.colorBy",useColors:"display.visualizations.singlevalue.useColors",numberPrecision:"display.visualizations.singlevalue.numberPrecision",useThousandSeparator:"display.visualizations.singlevalue.useThousandSeparator",height:"display.visualizations.singlevalueHeight"},exclude:["data","drilldownRedirect","id","managerid","name","pagerPosition","pageSize","refreshDisplay","resizeable","type"]})},getVisualizationRendererOptions:function(){return{generalTypeOverride:r.GENERAL_TYPES.VISUALIZATIONS,customConfigOverride:{"display.visualizations.type":"singlevalue"},sizeConfigOverride:{defaultHeight:115}}},waitingTemplate:'            <div class="msg waiting">                <div class="single-value">                    <span class="single-result">&hellip;</span>                </div>            </div>        ',noResultsTemplate:'            <div class="msg no-results">                <div class="single-value">                    <span class="single-result">N/A</span>                </div>            </div>        ',remove:function(){return this.reportModel&&(this.reportModel._sync&&this.reportModel._sync.destroy(),this.reportModel._sync2&&this.reportModel._sync2.destroy(),this.reportModel.off()),this._settingsSync&&this._settingsSync.destroy(),a.prototype.remove.call(this)}})}.call(t,i,t,e))||(e.exports=n)},"splunkjs/mvc/splunkmapview":function(e,t,i){var n;void 0===(n=function(e,t,n){var s=i("require/underscore"),a=i("splunkjs/mvc/visualizationview"),r=i("views/shared/ReportVisualizer"),o=i("splunkjs/mvc/utils"),l=i("util/console"),d=i("splunkjs/mvc/drilldown"),h=i("stubs/splunk.config"),u=i("util/general_utils"),c={openStreetMap:{url:"http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",maxZoom:18}};return a.extend({moduleId:n.i,className:"splunk-map",options:s.extend({},a.prototype.options,{tileSource:void 0,height:"400px"}),normalizeSettings:function(e){a.prototype.normalizeSettings.apply(this,arguments),e.set("drilldown",d.getNormalizedDrilldownType(e.get("drilldown"),{allowBoolean:!0})),e.has("mapping.map.scrollZoom")&&u.isBooleanEquivalent(e.get("mapping.map.scrollZoom"))&&e.set("mapping.map.scrollZoom",u.normalizeBoolean(e.get("mapping.map.scrollZoom"))),e.has("mapping.map.panning")&&u.isBooleanEquivalent(e.get("mapping.map.panning"))&&e.set("mapping.map.panning",u.normalizeBoolean(e.get("mapping.map.panning")));var t=e.get("mapping.type");"marker"!==t&&"choropleth"!==t&&e.set("mapping.type","marker"),h.INDEPENDENT_MODE&&(e.has("tileSource")||e.set("tileSource","openStreetMap"))},initialize:function(e){a.prototype.initialize.apply(this,arguments),this.$el.css({overflow:"hidden",position:"relative"}),this.$msg.css({overflow:"hidden",position:"absolute",width:"100%",height:"100%"}),this.listenTo(this.settings,"change:maxZoom",(function(e,t){this.settings.set({"mapping.tileLayer.maxZoom":t},{silent:!0})})),this.listenTo(this.settings,"change:tileUrl",(function(e,t){this.settings.set({"mapping.tileLayer.url":t},{silent:!0})})),this.listenTo(this.settings,"change:drilldown",(function(e,t){this.settings.set({"mapping.drilldown":t},{silent:!0})})),this.listenTo(this.settings,"change:tileSource",this._updateTileSource),this._updateTileSource()},syncSettingsAndReportModel:function(e,t){this._settingsSync=o.syncModels(e,t,{auto:!0,prefix:"display.visualizations.",alias:{tileUrl:"display.visualizations.mapping.tileLayer.url",maxZoom:"display.visualizations.mapping.tileLayer.maxZoom",drilldown:"display.visualizations.mapping.drilldown",height:"display.visualizations.mapHeight"},exclude:["managerid","data","tileSource","type","drilldownRedirect"]})},getVisualizationRendererOptions:function(){return{generalTypeOverride:r.GENERAL_TYPES.VISUALIZATIONS,customConfigOverride:{"display.visualizations.type":"mapping"}}},hideVisualization:function(){this.$viz.css("visibility","hidden")},showVisualization:function(){this.$viz.css("visibility","")},message:function(e){var t=u.normalizeBoolean(this.model.get("display.visualizations.trellis.enabled"),{default:!1})&&"choropleth"===this.model.get("display.visualizations.mapping.type");t||"waiting"!==e&&"no-results"!==e?a.prototype.message.apply(this,arguments):this.hideMessages()},_updateTileSource:function(){if(this.settings.has("tileSource")){var e=c[this.settings.get("tileSource")];e?this.settings.set({tileUrl:e.url,maxZoom:e.maxZoom}):l.warn("Invalid tileSource parameter value=%o",e)}},onDrilldown:function(e,t){this.trigger("click:marker",t,this)},remove:function(){return this._settingsSync&&this._settingsSync.destroy(),a.prototype.remove.call(this)}})}.call(t,i,t,e))||(e.exports=n)},"splunkjs/mvc/tableview":function(e,t,i){var n;void 0===(n=function(e,t,n){var s=i("shim/jquery"),a=i("require/underscore"),r=i("splunkjs/mvc/utils"),o=i("require/backbone").Collection,l=i("splunkjs/mvc/visualizationview"),d=i("views/shared/ReportVisualizer"),h=i("splunkjs/mvc/drilldown"),u=i("views/shared/results_table/renderers/BaseCellRenderer"),c=i("views/shared/results_table/renderers/BaseRowExpansionRenderer"),p=i("util/console"),m=i("util/general_utils"),f=i("splunkjs/mvc/simplexml/parser"),g=function(e){return a.isString(e)?e:e.name},v=l.extend({moduleId:n.i,className:"splunk-table",options:a.extend({},l.prototype.options,{fields:[]}),drilldownWithJobTimeOnly:!0,normalizeSettings:function(e,t){if(l.prototype.normalizeSettings.apply(this,arguments),e.has("wrap")&&m.isBooleanEquivalent(e.get("wrap"))&&e.set("wrap",m.normalizeBoolean(e.get("wrap"))?"1":"0"),e.has("rowNumbers")?m.isBooleanEquivalent(e.get("rowNumbers"))?e.set("displayRowNumbers",m.normalizeBoolean(e.get("rowNumbers"))?"1":"0"):e.set("displayRowNumbers",e.get("rowNumbers")):e.has("displayRowNumbers")&&e.set("displayRowNumbers",m.normalizeBoolean(e.get("displayRowNumbers"))?"1":"0"),e.has("overlay")&&e.set("dataOverlayMode",e.get("display.statistics.overlay")),e.set("drilldown",h.getNormalizedDrilldownType(e.get("drilldown"),{validValues:["row","cell","none"],aliasMap:{all:"cell",off:"none"},default:"cell"})),e.get("format")){var i={};a.each(e.get("format"),(function(e,t){a.each(e,(function(e){"sparkline"===e.type&&(i[t]=e.options)}))})),a(i).isEmpty()||e.set({"sparkline.format":i})}},initialize:function(e){l.prototype.initialize.apply(this,arguments),this.table=this.viz,a(["addCellRenderer","removeCellRenderer","getCellRenderers"]).each((function(e){if(this.viz[e])throw new Error("Trying to hackily intercept the "+e+" method of the `table` child view but it already exists.  This should not happen.");this.viz[e]=a((function(){return p.warn("Calling "+e+" on the `table` child view directly is deprecated.  Use the panel element's method of the same name."),this[e].apply(this,arguments)})).bind(this)}),this),this._rendered=!1,this.listenTo(this.viz,"rendered",(function(){this._rendered=!0}),this),this.transformFieldsToArray(),this.listenTo(this.settings,"change:fields",this.onFieldsChanged)},updateMessageHeight:function(){this.$msg.height(306)},syncSettingsAndReportModel:function(e,t){this._settingsSync=r.syncModels(e,t,{auto:!0,alias:{displayRowNumbers:"display.statistics.rowNumbers",dataOverlayMode:"display.statistics.overlay",pageSize:"display.prefs.statistics.count",offset:"display.prefs.statistics.offset",sortKey:"display.statistics.sortColumn",sortDirection:"display.statistics.sortDirection",totalsRow:"display.statistics.totalsRow",percentagesRow:"display.statistics.percentagesRow"},prefix:"display.statistics.",exclude:["data","editable","height","id","manager","managerid","name","pagerPosition","resizable","title","drilldownRedirect"]})},getVisualizationRendererOptions:function(){return this.cellRendererCollection=new o,this.rowExpansionRendererCollection=new o,{enableTableDock:!1,generalTypeOverride:d.GENERAL_TYPES.STATISTICS,sortableFieldsExcluded:this.settings.get("sortableFieldsExcluded"),collection:{customCellRenderers:this.cellRendererCollection,customRowExpansionRenderers:this.rowExpansionRendererCollection}}},canEnablePagination:function(){return!0},canEnableResize:function(){return!1},formatData:function(e){var t,i;if(!e)return e;if(this.settings.has("fields")&&!a.isEmpty(this.settings.get("fields"))){var n=this.settings.get("fields");i=a(n).chain().map((function(t){return"*"===t?a(e.fields).select((function(e){return!a(n).contains(g(e))})):a(e.fields).find((function(e){return g(e)===t}))||function(e,t){return t&&t.length&&!a.isString(t[0])?{name:e}:e}(t,e.fields)})).flatten().unique(g).value();var s={};a(e.fields).each((function(e,t){s[g(e)]=t})),t=a(e.rows).map((function(e){return a(i).map((function(t){var i=g(t);return s.hasOwnProperty(i)?e[s[i]]:null}))})),e.rows=t,e.fields=i}return e},getDrilldownData:function(e){var t=l.prototype.getDrilldownData.apply(this,arguments);if(this.managerConnection&&this.managerConnection.isConnected()){var i=this.managerConnection.resultsModel,n=i?i.data().rows:null,s=e.rowIndex;if(n&&s<n.length){var r=n[s];a(i.data().fields).each((function(e,i){var n=a.isString(e)?e:e.name;t["row."+n]=r[i]}))}}return t},onDrilldown:function(e,t){if(this.managerConnection&&this.managerConnection.isConnected()){var i=this.managerConnection.resultsModel.collection().at(e.rowIndex);if(i){var n=e.hasOwnProperty("name2")?e.name2:e.name,s=e.hasOwnProperty("value2")?e.value2:e.value,r=e.originalEvent;this.trigger("clicked:row click:row",a.extend({model:i,index:e.rowIndex,originalEvent:r,component:this,event:r},t),this),this.trigger("clicked:cell click:cell",a.extend({model:i,index:e.rowIndex,column:e.cellIndex,key:n,value:s,originalEvent:r,event:r,component:this},t),this)}}},onFieldsChanged:function(){this.transformFieldsToArray(),this.managerConnection&&this.managerConnection.isConnected()&&this.managerConnection.onDataChange()},transformFieldsToArray:function(){var e=this.settings.get("fields");a.isString(e)&&(e=f.parseFieldsList(s.trim(e)),this.settings.set("fields",e,{silent:!0}))},remove:function(){return this._settingsSync&&this._settingsSync.destroy(),l.prototype.remove.call(this)},addRowExpansionRenderer:function(e){this.rowExpansionRendererCollection.unshift({renderer:e}),this._rendered&&this.render()},removeRowExpansionRenderer:function(e){this.rowExpansionRendererCollection.remove(this.rowExpansionRendererCollection.findWhere({renderer:e})),this._rendered&&this.render()},getRowExpansionRenderers:function(){return this.rowExpansionRendererCollection.pluck("renderer")},expandRow:function(e){this.viz.expandRow(e)},collapseRow:function(){this.viz.collapseRow()},addCellRenderer:function(e){this.cellRendererCollection.unshift({renderer:e}),this._rendered&&this.render()},removeCellRenderer:function(e){this.cellRendererCollection.remove(this.cellRendererCollection.findWhere({renderer:e})),this._rendered&&this.render()},getCellRenderers:function(){return this.cellRendererCollection.pluck("renderer")}});return v.BaseCellRenderer=u,v.BaseRowExpansionRenderer=c,v}.call(t,i,t,e))||(e.exports=n)},"splunkjs/mvc/textboxview":function(e,t,i){var n;void 0===(n=function(e){return i("util/console").warn("%s is deprecated. Please require %s instead.","splunkjs/mvc/simpleform/textboxview","splunkjs/mvc/simpleform/textinputview"),i("splunkjs/mvc/textinputview")}.call(t,i,t,e))||(e.exports=n)},"splunkjs/mvc/textinputview":function(e,t,i){var n;void 0===(n=function(e,t,n){var s=i("require/underscore"),a=i("splunkjs/mvc/baseinputview"),r=i("splunkjs/mvc/components/TextInput");return a.extend({moduleId:n.i,className:"splunk-textinput",options:{default:void 0,type:"text",value:void 0,disabled:!1},getReactComponent:function(){return r},getState:function(){var e=a.prototype.getState.apply(this,arguments);return s.extend({},e,{type:this.settings.get("type")})},_hasValueForDashboards:function(){var e=this.settings.get("value"),t=this.settings.get("default");return null!=e&&""!==e||void 0===t||e===t}})}.call(t,i,t,e))||(e.exports=n)},"splunkjs/mvc/timelineview":function(e,t,i){var n;void 0===(n=function(e,t,n){var s=i("require/underscore"),a=i("require/backbone"),r=(i("splunkjs/mvc/mvc"),i("splunkjs/mvc/basesplunkview")),o=i("views/shared/CanvasTimeline"),l=i("splunk/time/DateTime"),d=i("models/search/Job"),h=i("splunk/time/SimpleTimeZone");return r.extend({moduleId:n.i,className:"splunk-timeline",options:{managerid:null,data:"timeline",minimize:!1,value:void 0,default:void 0},initialize:function(){this.configure(),this.settings.enablePush("value");var e=this._model={searchJob:new d,report:new a.Model};e.searchJob.entry={content:new a.Model},e.report.entry={content:new a.Model},this._state=e.report.entry.content,e.searchJob.isNew=function(){return!1},this.timeline=new o({model:e}),this.timeline.update=function(){},this._onDefaultChange(),this.bindToComponentSetting("managerid",this.onManagerChange,this),this.settings.on("change:minimize",this._onMinimizeChange,this),this.settings.on("change:value",this._onValueChange,this),this.settings.on("change:default",this._onDefaultChange,this),this._state.on("change:display.events.timelineEarliestTime change:display.events.timelineLatestTime",s.debounce(this._onTimeRangeChange),this)},_onDefaultChange:function(e,t,i){var n=this.settings.previous("default"),a=this.settings.get("default"),r=this.settings.get("value");void 0===a||!s.isEqual(r,n)&&void 0!==r||this.val(a)},onManagerChange:function(e,t){this.manager&&(this.manager.off(null,null,this),this.manager=null),this.resultsModel&&(this.resultsModel.off(null,null,this),this.resultsModel.destroy(),this.resultsModel=null),t&&(this.manager=t,this.resultsModel=this.manager.data(this.settings.get("data"),{condition:function(e){var t=e.get("data");if(!t)return!1;var i=t.statusBuckets,n=t.eventCount;return i>0&&n>0}}),t.on("search:start",this._onSearchStart,this),t.on("search:cancelled",this._onSearchCancelled,this),this.resultsModel.on("data",this._onDataChanged,this),t.replayLastSearchEvent(this))},render:function(){this.el.appendChild(this.timeline.render().el);var e=this;return s.defer((function(){e._onMinimizeChange()})),this},clearTimeline:function(){this.timeline.resetUI(),this.timeline._timeline._timeline._updateTimelineData({buckets:[],event_count:0,cursor_time:0})},_onValueChange:function(e,t){this.trigger("change",t,this);var i=this.settings.get("value");s.isEqual(i,t)||void 0!==t&&this.timeline.setSelectionRange(t.earliest_time,t.latest_time,!0)},_onMinimizeChange:function(){this.settings.get("minimize")?this.timeline.maximizeCompact(!1):this.timeline.maximizeFull(!1)},_onDataChanged:function(){var e=this.resultsModel.data(),t={buckets:[],cursorTime:new l(e.cursor_time),eventCount:e.event_count,earliestOffset:e.earliestOffset||0};t.cursorTime&&(t.cursorTime=t.cursorTime.toTimeZone(new h(t.earliestOffset)));for(var i=0;i<e.buckets.length;i++){var n=e.buckets[i],s={earliestTime:new l(n.earliest_time),duration:n.duration,eventCount:n.total_count,eventAvailableCount:n.available_count,isComplete:n.is_finalized,buckets:[]};isNaN(s.duration)&&(s.duration=0),isNaN(s.earliestOffset)&&(s.earliestOffset=0),isNaN(s.latestOffset)&&(s.latestOffset=0),s.earliestTime&&(s.latestTime=new l(s.earliestTime.getTime()+s.duration)),s.earliestTime&&(s.earliestTime=s.earliestTime.toTimeZone(new h(n.earliest_time_offset))),s.latestTime&&(s.latestTime=s.latestTime.toTimeZone(new h(n.latest_time_offset))),t.buckets.push(s)}this.timeline._timeline._timeline._updateTimelineData(t),this.timeline.onDataUpdated({updateCount:Number.MAX_VALUE})},_onSearchStart:function(){this.clearTimeline()},_onSearchCancelled:function(){this.clearTimeline()},_onTimeRangeChange:function(e,t,i){(!i||i&&!i._self)&&this.settings.set("value",this._getTimeRange())},val:function(e){return 0===arguments.length?this.settings.get("value"):e!==this.settings.get("value")?this._setTimeRange(e):e},_setTimeRange:function(e){return this.settings.set("value",e),e},_getTimeRange:function(){return{earliest_time:this._state.get("display.events.timelineEarliestTime"),latest_time:this._state.get("display.events.timelineLatestTime")}}})}.call(t,i,t,e))||(e.exports=n)},"splunkjs/mvc/timepickerview":function(e,t,i){var n;void 0===(n=function(e){return i("util/console").warn("%s is deprecated. Please require %s instead.","splunkjs/mvc/simpleform/timepickerview","splunkjs/mvc/simpleform/timerangeview"),i("splunkjs/mvc/timerangeview")}.call(t,i,t,e))||(e.exports=n)},"splunkjs/mvc/timerangeview":function(e,t,i){var n;void 0===(n=function(e,t,n){var s=i("require/underscore"),a=i("shim/jquery"),r=i("splunkjs/mvc/basesplunkview"),o=i("util/console"),l=i("util/general_utils").normalizeBoolean,d=i("util/react_render"),h=i("collections/shared/Times"),u=i("splunkjs/mvc/tokenutils"),c=i("splunkjs/mvc/sharedmodels"),p=i(0),m=i(40),f=i("uri/route"),g=i(105),v=i("splunkjs/mvc/components/TimeRangePickerDropdown").default;return r.extend({moduleId:n.i,className:"splunk-timerange",options:{default:void 0,managerid:null,earliest_time:void 0,latest_time:void 0,preset:void 0,presets:void 0,value:void 0,dialogOptions:{},popdownOptions:{}},initialize:function(){this.configure(),this.settings.enablePush("value"),this.settings.enablePush("earliest_time"),this.settings.enablePush("latest_time"),this._initializeValue();var e=this.settings.get("presets"),t=this.settings.get("dialogOptions"),i=s.isEmpty(e)?c.get("times"):h.createFromPresets(e,t);this.canRealTimeSearch=!0,c.get("user").entry.content.get("capabilities")&&(this.canRealTimeSearch=s.contains(c.get("user").entry.content.get("capabilities"),"rtsearch")),this.canRealTimeSearch||(i.models=i.filter((function(e){return"rt"!==e.entry.content.get("latest_time")}))),s.isEmpty(t)||i.setSettings(t),this._timesCollection=i,this._pickerDfd=a.when(i.dfd),this._timesCollection.on("change reset",this._onTimePresetUpdate,this),this.settings.on("change:preset",this._onTimePresetUpdate,this),this.settings.on("change:default",this._onDefaultChange,this),this.settings.on("change:value",this._onTimeRangeChange,this),this.bindToComponentSetting("managerid",this._onManagerChange,this),void 0===this.settings.get("value")&&this._onTimePresetUpdate(),this._onReady(s.bind(this.trigger,this,"ready"))},_onReady:function(e){var t=a.Deferred().resolve();return this.settings.get("preset")&&!this.settings.get("value")&&(this._presetDfd=a.Deferred(),t=this._presetDfd.promise()),e&&t.always(e),t},_initializeValue:function(){var e=this,t=this.settings.get("value");if(null!=t?this.settings.set({earliest_time:t.earliest_time,latest_time:t.latest_time}):void 0!==this.settings.get("earliest_time")||void 0!==this.settings.get("latest_time")?this.settings.set("value",{earliest_time:this.settings.get("earliest_time"),latest_time:this.settings.get("latest_time")}):this.settings.set({value:void 0,earliest_time:void 0,latest_time:void 0}),this.settings.on("change:value",(function(t,i){i&&e.settings.set({earliest_time:i.earliest_time,latest_time:i.latest_time})})),this.settings.on("change:earliest_time change:latest_time",s.debounce((function(){var t=s.clone(e.settings.get("value"))||{};t.earliest_time=e.settings.get("earliest_time"),t.latest_time=e.settings.get("latest_time"),e.settings.set("value",t)})),this),u.isToken(this.settings.get("value",{tokens:!0}))){var i=u.getTokens(this.settings.get("value",{tokens:!0}))[0],n=function(t){return e.settings.get(t,{tokens:!0})===e.settings.get(t,{tokens:!1})};n("earliest_time")&&this.settings.set("earliest_time","$"+i.namespace+":"+i.name+".earliest_time$",{tokens:!0}),n("latest_time")&&this.settings.set("latest_time","$"+i.namespace+":"+i.name+".latest_time$",{tokens:!0})}void 0===this.settings.get("value")&&this.settings.set("value",this.settings.get("default"))},_onDefaultChange:function(){var e=this.settings.previous("default"),t=this.settings.get("default"),i=this.settings.get("value");void 0===t||!s.isEqual(i,e)&&void 0!==i||this.settings.set("value",t)},_onTimePresetUpdate:function(){var e=this.settings.get("preset");if(e){this._presetInFlightCancelled=!1;var t=this;a.when(this._pickerDfd).done((function(){var i=t._timesCollection.find((function(t){return t.entry.content.get("label")===e}));i?t._presetInFlightCancelled||t.val({earliest_time:i.entry.content.get("earliest_time"),latest_time:i.entry.content.get("latest_time")}):(o.warn('Could not find matching preset "'+e+'" for time range view.'),t.val({earliest_time:"0",latest_time:""})),t._presetDfd&&t._presetDfd.resolve()}))}},_onManagerChange:function(e,t){this.manager&&(this.manager.off(null,null,this),this.manager=null),this.manager=t,t&&t.search&&(this.listenTo(t.search,"change:earliest_time change:latest_time",s.debounce(this._onManagerTimeRangeChange.bind(this))),this._onManagerTimeRangeChange())},_onManagerTimeRangeChange:function(){var e=this.val();e.earliest_time=this.manager.settings.get("earliest_time")||e.earliest_time,e.latest_time=this.manager.settings.get("latest_time")||e.latest_time,this.val(e)},_onTimeRangeChange:function(e,t,i){(!i||i&&!i._self)&&(this.trigger("change",this._getTimeRange(),this),this.render())},render:function(){return a.when(this._pickerDfd).done(function(){this.renderReactComponent()}.bind(this)),this},renderReactComponent:function(){d(p.createElement(this.getReactComponent(),this.getState()),this.getReactRoot())},getReactComponent:function(){return v},getReactRoot:function(){return this.el},getState:function(){var e=f.docHelp(c.get("app").get("root"),c.get("app").get("locale"),"learnmore.timerange.picker");return{presets:this.getPresets(),menuSettings:this.getMenuSettings(),onChange:function(e,t){this.val({earliest_time:t.earliest,latest_time:t.latest})}.bind(this),earliest:this._getTimeRange().earliest_time,latest:this._getTimeRange().latest_time,documentationURL:e}},getMenuSettings:function(){return this._timesCollection.filter((function(e){return"settings"===e.entry.get("name")})).map(function(e){return{showAdvanced:l(e.entry.content.get("show_advanced")),showDate:l(e.entry.content.get("show_date_range")),showDateTime:l(e.entry.content.get("show_datetime_range")),showPresets:l(e.entry.content.get("show_presets")),showRealtime:!!this.canRealTimeSearch&&l(e.entry.content.get("show_realtime")),showRelative:l(e.entry.content.get("show_relative"))}}.bind(this))[0]},getPresets:function(){return this._timesCollection.filter((function(e){return(e.entry.content.get("earliest_time")||e.entry.content.get("latest_time"))&&!e.entry.content.get("disabled")})).map((function(e){return{label:s(e.entry.content.get("label")).t(),earliest:e.entry.content.get("earliest_time")||"",latest:e.entry.content.get("latest_time")||""}}))},val:function(e){return 0===arguments.length||(e=e||{earliest_time:void 0,latest_time:void 0},this._setTimeRange(e),this._presetInFlightCancelled=!0),this._getTimeRange()},_getSelectedData:function(){var e=this._getTimeRange()||{};return{earliest:e.earliest_time,latest:e.latest_time,label:this._getSelectedLabel()}},_getSelectedLabel:function(){var e=this._getTimeRange();return g.createRangeLabel(e.earliest_time,e.latest_time,this.getPresets())},_getSelectedValue:function(){var e=this._getTimeRange()||{};return e=null!=e.earliest_time||null!=e.latest_time?[e.earliest_time||"",e.latest_time||""].join(":"):void 0},_hasValueForDashboards:function(){var e=this.settings.get("value"),t=this.settings.get("default");return null!=e||void 0===t||e===t},_setTimeRange:function(e){if(!Object.keys(e).find((function(e){return"earliest_time"===e||"latest_time"===e})))throw Error("invalid time range value: "+JSON.stringify(e));this.settings.set("value",e)},_getTimeRange:function(){var e=this.settings.get("value")||{};return{earliest_time:e.earliest_time||"",latest_time:e.latest_time||""}},remove:function(){m.unmountComponentAtNode(this.getReactRoot()),r.prototype.remove.apply(this,arguments)}})}.call(t,i,t,e))||(e.exports=n)},"splunkjs/mvc/tokenforwarder":function(e,t,i){var n;void 0===(n=function(e,t,n){var s=i("require/underscore"),a=i("require/backbone"),r=i("splunkjs/mvc/mvc"),o=i("splunkjs/mvc/tokenutils"),l=function(){l.prototype.initialize.apply(this,arguments)};return s.extend(l,{NO_CHANGE:{_forwardNoChange:!0}}),s.extend(l.prototype,{initialize:function(e,t,i){var n,d=s.isString(e)?[e]:e,h=s.map(d,(function(e){if(!o.isToken(e))throw new Error("Not a valid input token: "+e);var t=o.getTokens(e)[0];if(t.filters.length>0)throw new Error("Input token may not have filters: "+e);return t}));if(!o.isToken(t))throw new Error("Not a valid output token: "+t);if((n=o.getTokens(t)[0]).filters.length>0)throw new Error("Output token may not have filters: "+t);var u=function(){var e=s.map(h,(function(e){return r.Components.getInstance(e.namespace,{create:!0}).get(e.name)})),t=i.apply(null,e),a=r.Components.getInstance(n.namespace,{create:!0});t!==l.NO_CHANGE&&a.set(n.name,t)};this._listeners=s.extend({},a.Events),s.each(h,(function(e){var t=r.Components.getInstance(e.namespace,{create:!0});this._listeners.listenTo(t,"change:"+e.name,u)}),this),u()},dispose:function(){this._listeners.stopListening()}}),l}.call(t,i,t,e))||(e.exports=n)},"splunkjs/mvc/visualizationloader":function(e,t,i){var n;void 0===(n=function(e,t,n){var s=i("splunkjs/mvc/sharedmodels");return{load:function(e,t,i){s.load("visualizations").done(i)}}}.call(t,i,t,e))||(e.exports=n)},"splunkjs/mvc/visualizationregistry":function(e,t,i){"use strict";i(1),Object.defineProperty(t,"__esModule",{value:!0}),t.loadVisualizations=t.getVisualizer=void 0;var n=c(i("require/underscore")),s=c(i("shim/jquery")),a=c(i("helpers/VisualizationRegistry")),r=c(i("splunkjs/mvc/sharedmodels")),o=c(i("collections/services/configs/Visualizations")),l=c(i("models/services/configs/Visualization")),d=c(i("collections/SplunkDsBase")),h=c(i("splunkjs/mvc/visualizationview")),u=c(i("splunkjs/mvc/legacy/corevisualizations.json"));function c(e){return e&&e.__esModule?e:{default:e}}t.getVisualizer=function(e,t){if(!e||!t)throw new Error("app name and viz name required for getVisualizer");if(!a.default.isLoaded())throw new Error('The VisualizationRegistry has not been loaded. Make sure the "visualizations" collection in sharedmodels is loaded before retrieving a visualizer.');var i=e+"."+t;if(!a.default.getVisualizationById(i))throw new Error("Visualization "+JSON.stringify(i)+" has not been registered with the system. It may not exist or might not be visible for the current user or app.");return h.default.extend({initialize:function(){this.options.type=i;for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];h.default.prototype.initialize.apply(this,t)}})};var p={default_height:250,default_width:250,trellis_default_height:400,allow_user_selection:!0,supports_trellis:!1,supports_drilldown:!1,supports_export:!1,data_sources:"primary","data_sources.primary.params.show_metadata":!0},m=d.default.extend({url:"configs/conf-visualizations",model:l.default});t.loadVisualizations=function(){return new Promise((function(e,t){r.default.load("visualizations").then(e,(function(){new Promise((function(e,t){r.default.load("app").then((function(){var i=new m;i.fetch({includeFormatter:!1,data:n.default.extend({search:l.default.ENABLED_FILTER,count:0},r.default.get("app").pick("app","owner"))}).then((function(){e(i)}),t)}))})).then((function(i){var l=new o.default;l.setFromSplunkD(u.default);var d=i.map((function(e){return e.entry.content.set(n.default.defaults(e.entry.content.toJSON(),p)),e}));l.add(d),r.default._prepopulate({visualizations:{model:l,dfd:s.default.Deferred().resolve()}}),a.default.registerVisualizationsCollection({collection:{visualizations:l,appLocals:r.default.get("appLocals")}}).then(e,t)}),t)}))}))}},"splunkjs/mvc/visualizationview":function(e,t,i){var n;void 0===(n=function(e,t,n){var s=i("shim/jquery"),a=i("require/underscore"),r=i("splunkjs/mvc/basesplunkview"),o=i("splunkjs/mvc/tokenawaremodel"),l=i("splunkjs/mvc/sharedmodels"),d=i("views/shared/ReportVisualizer"),h=i("splunkjs/mvc/paginatorview"),u=i("splunkjs/mvc/messages"),c=i("splunkjs/mvc/drilldown"),p=i("splunkjs/mvc/utils"),m=i("util/general_utils"),f=i("util/splunkd_utils"),g=i("util/datasource_utils"),v=i("shim/splunk.util");return r.extend({omitFromSettings:["el","reportModel"],options:{drilldownRedirect:!0,data:"preview",resizable:!1,refreshDisplay:"preview",pagerPosition:"bottom",pageSize:10},initialize:function(){r.prototype.initialize.apply(this,arguments),this.configure(),this.model=this.options.reportModel||o._createReportModel({},{_tokenRegistry:this.options.settingsOptions.registry}),this.syncSettingsAndReportModel(this.settings,this.model),this.syncGenericVizSettings(this.settings,this.model),this.options.reportModel&&!this.options.forceNormalizeSettings||this.normalizeSettings(this.settings,this.options),this.$el.css({overflow:"hidden",position:"relative"}),this.$msg=s('<div class="splunk-viz-msg" />'),this.$viz=s("<div/>").appendTo(this.el);var e=s.extend(!0,{},{el:this.$viz,allowResize:this.canEnableResize()&&this.settings.get("resizable"),saveOnResize:this.options.saveOnResize,autoHideResizeBar:!1,model:{config:this.model,application:l.get("app")},enableEditingReportProperty:this.options.enableEditingReportProperty,saveOnApply:this.options.saveOnApply},this.getVisualizationRendererOptions());this.viz=new d(e),this.listenTo(this.viz,"drilldown",this._emitDrilldownEvent),this.listenTo(this.viz,"dataSourcesChange",this._bindDataSources),this.listenTo(this.viz,"rendered",this.trigger.bind(this,"rendered",this)),this.listenTo(this.viz,"message",this.hideMessages),this.viz.load(),this.canEnableResize()&&this.listenTo(this.settings,"change:resizable",(function(e,t,i){this.viz.setAllowResize(t)})),this.canEnablePagination()&&(this._onShowPagerChanged(),this.listenTo(this.settings,"change:showPager",this._onShowPagerChanged),this.listenTo(this.settings,"change:pagerPosition",this._onPaginatorPositionChange)),this._bindDataSources(),this.bindToComponentSetting("managerid",this._onManagerChange,this)},syncGenericVizSettings:function(e,t){var i={};"refreshDisplayReportProperty"in this.options&&(i.refreshDisplay=this.options.refreshDisplayReportProperty),a.size(i)&&(this._genericSettingsSync=p.syncModels(e,t,{auto:!0,alias:i,include:a.keys(i)}))},configure:function(){return!1===this.options.normalizeSettings&&(this.omitFromSettings=(this.omitFromSettings||[]).concat(a(this.options).chain().omit("id","managerid","data","resizable","drilldownRedirect","pagerPosition").keys().value())),r.prototype.configure.apply(this,arguments)},render:function(){return this.viz.render(),this.paginator&&this.paginator.render(),this},show:function(){this.$el.css("display","")},hide:function(){this.$el.css("display","none")},remove:function(){return this.viz.remove(),this._genericSettingsSync&&this._genericSettingsSync.destroy(),this._customPropSync&&this._customPropSync.destroy(),this._settingsSync&&this._settingsSync.destroy(),this.paginator&&this.paginator.remove(),r.prototype.remove.call(this)},isJobDone:function(){return!!this._isJobDone},hideMessages:function(){this.$msg.detach(),this.showVisualization(),this.paginator&&this.paginator.$el.show()},syncSettingsAndReportModel:function(e,t){this._customPropSync=p.syncModels(e,t,{auto:!0,prefix:"display.visualizations.custom.",include:["type","height"]}),this._settingsSync=p.syncModels(e,t,{auto:!0,prefix:"display.visualizations.custom.",exclude:["managerid","id","name","data","type","drilldownRedirect","pagerPosition","refreshDisplay"]})},normalizeSettings:function(e,t){if(e.has("count")){var i=parseInt(t.count,10)||10;e.set("pageSize",i>100||i<1?10:i)}e.set({height:parseInt(e.get("height"),10)||0})},getVisualizationRendererOptions:function(){return{generalTypeOverride:d.GENERAL_TYPES.VISUALIZATIONS,customConfigOverride:{"display.visualizations.type":"custom"}}},formatData:function(e){return e},message:function(e){this.viz&&a.result(this.viz,"suppressExternalMessage",!1)||(this.$msg.detach(),u.render(e,this.$msg),this.updateMessageHeight(),this.$msg.prependTo(this.$el),this.hideVisualization(),this.paginator&&this.paginator.$el.hide())},updateMessageHeight:function(){this.$msg.height(this.settings.get("height"))},hideVisualization:function(){this.viz.hide()},showVisualization:function(){this.viz.show()},canEnableResize:function(){return!0},canEnablePagination:function(){return!1},getDrilldownData:function(e){return c.normalizeDrilldownEventData(e,{manager:this.primaryManager,contextProperty:"rowContext",jobTimeOnly:a.result(this,"drilldownWithJobTimeOnly",!1)})},onDrilldown:function(e,t){},_unbindDataSources:function(){a.each(this.dataSources||[],(function(e){e.disconnect(),this.stopListening(e)}),this),this.managerConnection=null},_bindDataSources:function(){if(this._unbindDataSources(),this.viz&&this.managers){var e=g.pairDataSourcesWithProviders(this.viz.getAllDataSources(),this.managers,(function(e){return e.getType()}));this.dataSources=[],a.each(e.match,(function(e,t){var i=e.dataSource,n=e.provider;this.dataSources.push(i),"primary"===i.name?(this.listenTo(i,"searchError",(function(e,t,i){this._onPrimarySearchError(t,i)})),this.listenTo(i,"searchResultsChange",this._onPriamryDataChanged),this.canEnablePagination()&&i.updateFetchParams({count:Math.min(this.settings.get("pageSize")||10,100)}),this.managerConnection=i.connectToSearchManager(n,{formatter:this.formatData.bind(this)})):(this.stopListening(n),this.listenTo(n,"search:done",a.partial(this._onSecondarySearchDone,n)),i.connectToSearchManager(n),n.replayLastSearchEvent(this))}),this)}},_onManagerChange:function(e){this.managers&&(a.each(this.managers,(function(e){this.stopListening(e)}),this),this.managers=null),null!=e&&0!==e.length?e&&(this.managers=e,this._bindDataSources(),a.each(this.managers,(function(e){"primary"===e.getType()&&(this.primaryManager=e,this._clearPrimaryResults(),this.message("empty"),this.listenTo(e,"search:fail",this._onPrimarySearchFail),this.listenTo(e,"search:error",this._onPrimarySearchError),this.listenTo(e,"search:start",this._onPrimarySearchStart),this.listenTo(e,"search:progress search:done",this._onPrimarySearchProgress),this.listenTo(e,"search:done",this._onPrimarySearchDone),this.listenTo(e,"search:cancelled",this._onPrimarySearchCancelled),this.listenTo(e,"search:refresh",this._onPrimarySearchRefresh),e.replayLastSearchEvent(this))}),this)):this.message("no-search")},_onPriamryDataChanged:function(e){e.hasSearchResults()?this.hideMessages():this.isJobDone()&&this.message("no-results")},_clearPrimaryResults:function(){this.viz.getPrimaryDataSource()&&this.viz.getPrimaryDataSource().clearSearchResults(),this.paginator&&this.paginator.settings.set("itemCount",0)},_isSilentRefreshEnabled:function(){return"preview"!==this.settings.get("refreshDisplay")},_onPrimarySearchStart:function(){this._isSilentRefreshEnabled()&&this.primaryManager.isRefresh()?this._unbindDataSources():(this.paginator&&this.paginator.settings.set("page",0),this._isJobDone=!1,this._clearPrimaryResults(),this.message("waiting"))},_onPrimarySearchDone:function(e){this._isSilentRefreshEnabled()&&this.primaryManager.isRefresh()&&this._bindDataSources()},_onPrimarySearchProgress:function(e){var t=(e=e||{}).content||{},i=t.resultPreviewCount||0,n=this._isJobDone=t.isDone||!1;this._isSilentRefreshEnabled()&&this.primaryManager.isRefresh()&&!n||("QUEUED"===t.dispatchState?this.message("waiting-queued"):0===i&&this.message(n?"no-results":"waiting"),this.paginator&&i>0&&this.paginator.settings.set("itemCount",i))},_onPrimarySearchCancelled:function(){this._isJobDone=!1,this.message("cancelled")},_onPrimarySearchRefresh:function(){this._isJobDone=!1,this.viz&&this.viz.onRefresh&&this.viz.onRefresh(),this._isSilentRefreshEnabled()||this.message("refresh")},_onPrimarySearchError:function(e,t){this._isJobDone=!1;var i=u.getSearchErrorMessage(t)||e;f.getParentRiskyError(this.primaryManager.parent)?this.message({level:"error",icon:"warning-sign",message:a("Paused: Dependent on successful preceding search.").t()}):this.message({level:"error",icon:"warning-sign",message:i})},_onPrimarySearchFail:function(e){this._isJobDone=!1;var t=u.getSearchFailureMessage(e);this.message({level:"error",icon:"warning-sign",message:t})},_onSecondarySearchDone:function(e,t){if(this.viz){var i=this.viz.getDataSource(e.getType());if(i){var n=null==i.getFetchParams().count?100:i.getFetchParams().count,s=t.content,r=s.reportSearch?s.resultPreviewCount:s.eventAvailableCount;if(n<r){var o=v.sprintf(a("[%s] The results are truncated (%s of %s have been fetched).").t(),e.getType(),n,r);this.trigger("searchMessageUpdate",e,"warning",o)}}}},_emitDrilldownEvent:function(e){var t=this.getDrilldownData(e),i={field:e.name2||e.name||t["click.name"],data:t,event:e},n=c.createEventPayload(i,a.bind(c.autoDrilldown,null,e,this.primaryManager));this.trigger("drilldown click",n,this),this.onDrilldown(e,n),"none"!==this.settings.get("drilldown")&&this.settings.get("drilldownRedirect")&&!n.defaultPrevented()&&n.drilldown()},_onShowPagerChanged:function(){!1!==m.normalizeBoolean(this.settings.get("showPager"),{default:!0})?this.paginator||(this.paginator=new h({id:a.uniqueId(this.id+"-paginator"),el:s("<div></div>"),pageSize:this.settings.get("pageSize")}),this.listenTo(this.settings,"change:pageSize",this._onPageSizeChanged),this.listenTo(this.paginator.settings,"change:page",(function(){var e=this.settings.get("pageSize"),t=this.paginator.settings.get("page");this.settings.set("offset",e*t)}),this),this._onPaginatorPositionChange()):this.paginator&&(this.stopListening(this.settings,"change:pageSize",this._onPageSizeChanged),this.stopListening(this.paginator.settings,"change:page"),this.paginator.remove(),this.paginator=null)},_onPageSizeChanged:function(){this.paginator.settings.set("pageSize",this.settings.get("pageSize"))},_onPaginatorPositionChange:function(){var e="bottom"===this.settings.get("pagerPosition")?"appendTo":"prependTo";this.paginator&&(this.paginator.$el.detach(),this.paginator.$el[e](this.$el))}})}.call(t,i,t,e))||(e.exports=n)},"splunkjs/ready":function(e,t,i){var n;void 0===(n=function(e,t,n){var s=i("shim/jquery"),a=i("require/underscore"),r=i("util/console"),o=i("splunkjs/mvc"),l=i("shim/splunkjs"),d=i("splunkjs/mvc/sharedmodels"),h=i("shim/splunk"),u=i("stubs/splunk.config"),c=i("splunkjs/mvc/tokenawaremodel"),p=null,m=function(e,t,i,n){t&&(m.requireFn=t),t=t||m._getRequire();var l=["splunkjs/mvc/visualizationloader!"];s("[data-require]:not([data-initialized])").each((function(){var e=s(this);l.push(e.attr("data-require"))})),t(l,(function(){m._enableComponentDivs(o),m._enableTokenSafeSpans(o,a,c,r),u.INDEPENDENT_MODE?v.loginLoad(e,t,i,n):i(o)}))};m.load=function(e,t,i,n){n.isBuild?i(null):m(e,t,i,n)},m._enableComponentDivs=function(e){var t=s(".splunk-view:not([data-initialized])");a.each(t,(function(t,i){var n=s(t),a=n.attr("id"),r=n.data("require");if(r){var o=f(n,e);o.id=a,o.el=n,new(m._getRequire()(r))(o).render(),n.attr("data-initialized","")}}));var i=s(".splunk-manager:not([data-initialized])");a.each(i,(function(t,i){var n=s(t),a=n.attr("id"),r=n.data("require");if(r){var o=f(n,e);o.id=a;new(m._getRequire()(r))(o);n.attr("data-initialized","")}}))};var f=function(e,t){var i={},n=e.attr("data-options");return n&&n.length>0&&(i=JSON.parse(n),a.each(i,(function(e,n){i[n]=g(e,t)}))),i},g=function(e,t){if(!e)return e;switch(e.type){case"token_safe":return t.tokenSafe(e.value);case void 0:return e;default:throw Error("Unrecognized option value type: "+e.type)}};m._enableTokenSafeSpans=function(e,t,i,n){t.each(s(".splunk-tokensafe:not([data-initialized])"),(function(t){var a=s(t).data("value");if(a){var r=new i({value:e.tokenSafe(a)}),o=function(){s(t).text(r.get("value"))};o(),r.on("change:value",o),s(t).attr("data-initialized","")}else n.warn("Ignoring .splunk-tokensafe element with missing data-value attribute.")}))},m._getRequire=function(){if(m.requireFn)return m.requireFn;if(void 0!==e)return e;throw Error("requireFn must be passed in or not used in a webpack context. You are likely using this file incorrectly.")},m._setSessionKey=function(e){p=e};var v={_wasCalled:!1,loginLoad:function(e,t,i,n){if(v._wasCalled&&i(o),v._wasCalled=!0,!u.AUTHENTICATE)throw new Error("Could not authenticate. No login information");var s=null;if(a.isFunction(u.AUTHENTICATE))s=u.AUTHENTICATE;else{if(!a.isObject(u.AUTHENTICATE))throw new Error("Could not authenticate. Invalid login information");if(!u.AUTHENTICATE.username||!u.AUTHENTICATE.password)throw new Error("Could not log in. Missing username/password");s=function(e){var t=null;t=u.SPLUNKD_IS_PROXIED?new l.ProxyHttp(u.SPLUNKD_PATH):new splunkjs.JQueryHttp;var i=new l.Service(t,{username:u.AUTHENTICATE.username,password:u.AUTHENTICATE.password,scheme:u.SCHEME,host:u.HOST,port:u.PORT});i.login((function(t){var n=i.sessionKey;e(t,{sessionKey:n,username:u.AUTHENTICATE.username})}))}}v._installAmbientAuthenticationPrefilter(),v._installSessionTimeoutPrefilter(s),s((function(e,t){if(e)i.error(new Error("Login failed. Authenticate(done) received an error"));else if(t&&t.sessionKey&&t.username){p=t.sessionKey,o._setSessionKey(p),u.USERNAME=t.username,u.USER_DISPLAYNAME=t.username,d._setAppOwner(t.username);o.createService().get("/services/search/timeparser/tz",null,(function(e,t){e?i.error(new Error("Login failed. Unable to retrieve timezone information from splunk server.")):(u.SERVER_ZONEINFO=t.data,h.namespace("Globals"),h.Globals.timeZone=new h.TimeZone(t.data),i(o))}))}else i.error(new Error("Login failed. Authenticate did not provide a username or sessionKey"))}))},_installAmbientAuthenticationPrefilter:function(){s.ajaxPrefilter((function(e,t,i){if(0===e.url.indexOf(u.SPLUNKD_PATH))if(e.headers||(e.headers={}),p&&(e.headers.hasOwnProperty("Authorization")||(e.headers.Authorization="Splunk "+p)),u.SPLUNKD_IS_PROXIED){if(!e.headers.hasOwnProperty("X-ProxyDestination")){var n=e.url.substring(u.SPLUNKD_PATH.length);e.data&&(n+="?"+e.data),e.headers["X-ProxyDestination"]=u.SCHEME+"://"+u.HOST+":"+u.PORT+n}}else delete e.headers["X-ProxyDestination"]}))},_installSessionTimeoutPrefilter:function(e){var t=u.ON_SESSION_EXPIRED||function(e,t){e(t)},i=!1,n=[];s.ajaxPrefilter((function(r,l,h){if(l._retry=isNaN(l._retry)?1:l._retry-1,0===r.url.indexOf(u.SPLUNKD_PATH)){l._error=l.error,l._success=l.success,r.error=s.noop(),r.success=s.noop();var c=s.Deferred();return h.done((function(){var e=Array.prototype.slice.call(arguments);l._success&&l._success.apply(this,arguments),c.resolveWith(h,e)})),h.fail((function(){var r=Array.prototype.slice.call(arguments);401===h.status&&l._retry>0?(n.push({storedOptions:l,storedDfd:c}),i||(i=!0,t(e,(function(e,t){if(e)throw new Error("Authentication attempt failed");i=!1,p=t.sessionKey,o._setSessionKey(p),u.USERNAME=t.username,u.USER_DISPLAYNAME=t.username,d._setAppOwner(t.username),a.each(n,(function(e){e.storedOptions.headers=e.storedOptions.headers||{},e.storedOptions.headers.Authorization="Splunk "+p,s.ajax(e.storedOptions).then(e.storedDfd.resolve,e.storedDfd.reject)})),n=[]})))):(l._error&&l._error.apply(this,arguments),c.rejectWith(h,r))})),c.promise(h)}}))}};return m}.call(t,i,t,e))||(e.exports=n)},time_range:function(e,t){Splunk.TimeRange=$.klass({_absoluteArgs:{},_relativeArgs:{},_fallbackAbsoluteTimeFormat:"%s.%Q",_isSubRangeOfJob:!1,_unitMap:{},YEAR:0,MONTH:1,DAY:2,HOUR:3,MINUTE:4,SECOND:5,MILLISECOND:6,CUSTOM_RELATIVE_RANGE_HEADER:_("over custom relative time range"),GENERIC_REAL_TIME_RANGE_HEADER:_("%s (real-time)"),CUSTOM_REAL_TIME_RANGE_HEADER:_("in custom real-time range"),DATE_METHODS:[{name:"year",getter:"getFullYear",setter:"setFullYear",minValue:"1974"},{name:"month",getter:"getMonth",setter:"setMonth",minValue:"0"},{name:"day",getter:"getDate",setter:"setDate",minValue:"1"},{name:"hour",getter:"getHours",setter:"setHours",minValue:"0"},{name:"minute",getter:"getMinutes",setter:"setMinutes",minValue:"0"},{name:"second",getter:"getSeconds",setter:"setSeconds",minValue:"0"},{name:"millisecond",getter:"getMilliseconds",setter:"setMilliseconds",minValue:"0"}],initialize:function(e,t){this._constructorArgs=[e,t];var i=this._unitMap;if(i.s=i.sec=i.secs=i.second=i.seconds=_("second"),i.m=i.min=i.mins=i.minute=i.minutes=_("minute"),i.h=i.hr=i.hrs=i.hour=i.hours=_("hour"),i.d=i.day=i.days=_("day"),i.w=i.week=_("week"),i.mon=i.month=i.months=_("month"),i.y=i.yr=i.yrs=i.year=i.years=_("year"),this._absoluteArgs={earliest:!1,latest:!1},this._relativeArgs={earliest:!1,latest:!1},"now"==e&&(e="0s"),"now"==t&&(t="0s"),this.logger=Splunk.Logger.getLogger("time_range.js"),this._isSubRangeOfJob=!1,this._absoluteArgs.earliest=this.parseAbsoluteArgs(e),this._absoluteArgs.latest=this.parseAbsoluteArgs(t),this.isAbsolute()){var n=Splunk.Globals.timeZone;this.serverOffsetAtEarliest=n.getOffset(this._absoluteArgs.earliest.valueOf()/1e3)/60,this.serverOffsetAtLatest=n.getOffset(this._absoluteArgs.latest.valueOf()/1e3)/60}this._absoluteArgs.earliest||(this._relativeArgs.earliest=this.parseRelativeArgs(e)),this._absoluteArgs.latest||(this._relativeArgs.latest=this.parseRelativeArgs(t))},containsTime:function(e){var t=this.getAbsoluteEarliestTime(),i=this.getAbsoluteLatestTime();return!t&&!i||t<=e&&i>e},containsRange:function(e){return!!this.isAllTime()||!e.isAllTime()&&(!!this.equalToRange(e)||(!(!this.relativeTerm||e.relativeTerm)||(this.getEarliestTimeTerms()==e.getEarliestTimeTerms()&&this.getLatestTimeTerms()==e.getLatestTimeTerms()||!(this.getAbsoluteEarliestTime()>e.getAbsoluteEarliestTime())&&!(this.getAbsoluteLatestTime()<e.getAbsoluteLatestTime()))))},normalizeEquivalentNowValues:function(e){return"+0s"==e?"now":e},equalToRange:function(e){if(this===e)return!0;if(this.normalizeEquivalentNowValues(this.getRelativeEarliestTime())!=this.normalizeEquivalentNowValues(e.getRelativeEarliestTime()))return!1;if(this.normalizeEquivalentNowValues(this.getRelativeLatestTime())!=this.normalizeEquivalentNowValues(e.getRelativeLatestTime()))return!1;if(typeof this.getAbsoluteEarliestTime()!=typeof e.getAbsoluteEarliestTime())return!1;if(typeof this.getAbsoluteLatestTime()!=typeof e.getAbsoluteLatestTime())return!1;var t=e.getAbsoluteEarliestTime();if(this.getAbsoluteEarliestTime()&&t&&this.getAbsoluteEarliestTime().getTime()!=t.getTime())return!1;var i=e.getAbsoluteLatestTime();return!this.getAbsoluteLatestTime()||!i||this.getAbsoluteLatestTime().getTime()==i.getTime()},getDuration:function(){return this.relativeTerm?-1:this.getAbsoluteLatestTime()&&this.getAbsoluteEarliestTime()?this.getAbsoluteLatestTime()-this.getAbsoluteEarliestTime():-1},isAllTime:function(){return!this.isAbsolute()&&!this.isRelative()},isAbsolute:function(){return!!(this.getAbsoluteEarliestTime()&&0!=this.getAbsoluteEarliestTime().valueOf()||this.getAbsoluteLatestTime())},isRelative:function(){return!(!this._relativeArgs.earliest&&!this._relativeArgs.latest)},isRealTime:function(){return!(!this._relativeArgs.earliest||!this._relativeArgs.earliest.isRealTime)||!(!this._relativeArgs.latest||!this._relativeArgs.latest.isRealTime)},isSubRangeOfJob:function(){return this._isSubRangeOfJob},setAsSubRangeOfJob:function(e){this._isSubRangeOfJob=e},getEarliestTimeTerms:function(){var e=[];if(this.getAbsoluteEarliestTime()){var t=this.getAbsoluteEarliestTime().getTime()/1e3;e.push(t)}else this._relativeArgs.earliest&&e.push(this.getRelativeEarliestTime());return e.join(" ")},getLatestTimeTerms:function(){var e=[];if(this.getAbsoluteLatestTime()){var t=this.getAbsoluteLatestTime().getTime()/1e3;e.push(t)}else this._relativeArgs.latest&&e.push(this.getRelativeLatestTime());return e.join(" ")},zoomIn:function(){var e=this.getDuration();return e||this.logger.error("Assertion failed - TimeRange.zoomOut not implemented for relative time terms range="+this.toConciseString()),this._absoluteArgs.earliest.setTime(this.getAbsoluteEarliestTime().getTime()+Math.round(e/2)),new Splunk.TimeRange(this._absoluteArgs.earliest,this._absoluteArgs.latest,this.serverOffsetAtEarliest,this.serverOffsetAtLatest)},zoomOut:function(){this.getDuration()||this.logger.error("Assertion failed - TimeRange.zoomOut not implemented for relative time terms range="+this.toConciseString());var e=splunk.time.DateTime,t=splunk.time.Duration,i=splunk.time.SplunkTimeZone,n=splunk.time.TimeUtils,s=new i(Splunk.util.getConfigValue("SERVER_ZONEINFO")),a=new e(this._absoluteArgs.earliest.getTime()/1e3).toTimeZone(s),r=new e(this._absoluteArgs.latest.getTime()/1e3).toTimeZone(s),o=n.subtractDates(r,a),l=new t;o.years>0||o.months>0?l.years=1:o.days>0?l.months=1:o.hours>0?l.days=1:o.minutes>0?l.hours=1:o.seconds>=1?l.minutes=1:o.seconds>0&&(l.seconds=1),o=o.years<1?l.clone():new t(10*Math.ceil(2*o.years/10)),r=n.ceilDate(r,o);var d=!1,h=n.ceilDate((new e).toTimeZone(s),l);r.getTime()>=h.getTime()&&(r=h,d=!0);var u=n.subtractDateDuration(r,o),c=!1;return(a=u.getTime()<=a.getTime()?u:n.floorDate(a,l)).getTime()<=0&&(a.setTime(1),c=!0),c&&d||n.subtractDates(r,a).years>20?(this._absoluteArgs.earliest=!1,this._absoluteArgs.latest=!1,new Splunk.TimeRange(0)):(this._absoluteArgs.earliest.setTime(1e3*a.getTime()),this._absoluteArgs.latest.setTime(1e3*r.getTime()),new Splunk.TimeRange(a.getTime(),r.getTime()))},genericGetForRelativeArg:function(e){if("earliest"==e&&this._constructorArgs[0])return this._constructorArgs[0];if(this._constructorArgs[1])return this._constructorArgs[1];if(!this._relativeArgs.hasOwnProperty(e))return!1;var t=this._relativeArgs[e],i=[];return t.isRealTime&&i.push("rt"),t.hasOwnProperty("count")&&(t.count>=0&&i.push("+"),i.push(t.count)),t.hasOwnProperty("units")&&i.push(t.units),t.hasOwnProperty("snapUnits")&&i.push("@"+t.snapUnits),i.join("")},getRelativeEarliestTime:function(){return this.genericGetForRelativeArg("earliest")},getRelativeLatestTime:function(){return this.genericGetForRelativeArg("latest")},getAbsoluteEarliestTime:function(){return this._absoluteArgs.earliest},getAbsoluteLatestTime:function(){return this._absoluteArgs.latest},parseRelativeArgs:function(e){if(!e)return!1;-1!=e.indexOf(" ")&&this.logger.error("Assertion failed - Currently we can only deal with a single relative term at a time. ");var t={};0==e.indexOf("rt")&&(t.isRealTime=!0,e=e.substring(2));var i=e.split("@");return e=i[0]||!1,i.length>1&&(t.snapUnits=i[1]),e&&Splunk.util.isInt(parseInt(e,10))&&(t.count=parseInt(e,10),t.units=Splunk.util.trim(e.replace(t.count,""),"+")||"s"),t},parseAbsoluteArgs:function(e,t){if(!e&&!Splunk.util.isInt(e))return!1;if(e&&e.charAt&&("+"==e.charAt(0)||"-"==e.charAt(0)||"rt"==e.substring(0,2)||"now"==e))return!1;if(e instanceof Date)return e;if(e&&(""+e).match(Splunk.TimeRange.UTCRegex)){var i=new Date;return i.setTime(1e3*e),i}return Splunk.util.parseDate(e,this.getTimeFormat())},toString:function(){var e=[];return this.getAbsoluteEarliestTime()&&e.push(this.getAbsoluteEarliestTime()),this.getAbsoluteLatestTime()&&e.push(this.getAbsoluteLatestTime()),this.getRelativeEarliestTime()&&e.push(this.getRelativeEarliestTime()),this.getRelativeLatestTime()&&e.push(this.getRelativeLatestTime()),e.join(" ")},toConciseString:function(){if(this.isAbsolute()){var e=null,t=null;if(this.getAbsoluteEarliestTime()&&((e=new Date).setTime(this._absoluteArgs.earliest.valueOf()),Splunk.TimeRange.CORRECT_OFFSET_ON_DISPLAY)){var i=Splunk.util.getTimezoneOffsetDelta(this.serverOffsetAtEarliest,e);e.setTime(e.valueOf()-i)}if(this.getAbsoluteLatestTime()&&((t=new Date).setTime(this._absoluteArgs.latest.valueOf()),Splunk.TimeRange.CORRECT_OFFSET_ON_DISPLAY)){var n=Splunk.util.getTimezoneOffsetDelta(this.serverOffsetAtLatest,t);t.setTime(t.valueOf()-n)}return format_datetime_range(Splunk.util.getConfigValue("LOCALE","NONE"),e,t)}if(this.isRealTime()){var s=this.formatRelativeRange();return s==this.CUSTOM_RELATIVE_RANGE_HEADER?this.CUSTOM_REAL_TIME_RANGE_HEADER:sprintf(this.GENERIC_REAL_TIME_RANGE_HEADER,s)}return this.isRelative()&&!this.isRealTime()?this.formatRelativeRange():_("over all time")},formatRelativeRange:function(){var e=this._relativeArgs.earliest,t=this._relativeArgs.latest;if(e.hasOwnProperty("snapUnits")){if(t.hasOwnProperty("snapUnits")!=t.hasOwnProperty("snapUnits"))throw"Assertion failed - we dont support cases where one side has snapUnits and the other does not.";if("day"==this._unitMap[e.snapUnits]&&"day"==this._unitMap[t.snapUnits]){if(!e.hasOwnProperty("count")&&t.hasOwnProperty("count")&&1==t.count)return _("today");if(!t.hasOwnProperty("count")&&e.hasOwnProperty("count")&&-1==e.count)return _("yesterday")}if(!e.hasOwnProperty("count")&&t.hasOwnProperty("count")&&1==t.count)return sprintf(_("during this %(singleUnitOfTime)s"),{singleUnitOfTime:this._unitMap[e.snapUnits]});if(!t.hasOwnProperty("count")&&e.hasOwnProperty("count")&&-1==e.count&&e.hasOwnProperty("snapUnits")&&e.snapUnits==e.units&&t.hasOwnProperty("snapUnits")&&t.snapUnits==e.units)return sprintf(_("during last %(singleUnitOfTime)s"),{singleUnitOfTime:this._unitMap[e.snapUnits]})}if(e.hasOwnProperty("units")&&this._unitMap.hasOwnProperty(e.units)&&!t.hasOwnProperty("snapUnits")&&(!t.hasOwnProperty("units")&&!t.hasOwnProperty("count")||0==t.count))if(e.hasOwnProperty("count")&&-1==e.count){if(!e.hasOwnProperty("snapUnits")||e.snapUnits==e.units)return sprintf(_("in the last %(unitOfTime)s"),{unitOfTime:this._unitMap[e.units]})}else if(e.hasOwnProperty("units")&&e.hasOwnProperty("count")&&(!e.hasOwnProperty("snapUnits")||e.snapUnits==e.units))return sprintf(_("in the last %(count)s %(unitOfTime)ss"),{count:-e.count,unitOfTime:this._unitMap[e.units]});return this.CUSTOM_RELATIVE_RANGE_HEADER},clone:function(){var e=new Splunk.TimeRange(this._constructorArgs[0],this._constructorArgs[1],this._constructorArgs[2],this._constructorArgs[3]);return e.setAsSubRangeOfJob(this.isSubRangeOfJob()),e},copy:function(){return this.clone()},strftime:function(e,t){return e.strftime(t||this.getTimeFormat())},getTimeFormat:function(){return Splunk.util.getConfigValue("DISPATCH_TIME_FORMAT",this._fallbackAbsoluteTimeFormat)}}),Splunk.TimeRange.UTCRegex=new RegExp("^[0-9]*(.[0-9]+)?$"),Splunk.TimeRange.CORRECT_OFFSET_ON_DISPLAY=!0,Splunk.TimeRange.relativeArgsToString=function(e,t,i){var n=new Splunk.TimeRange;return n._relativeArgs.earliest={count:e,units:t,snapUnits:i},n.genericGetForRelativeArg("earliest")},Splunk.TimeZone=$.klass({initialize:function(e){this._serializedTimeZone=e,this._standardOffset=null,this._serializedTimeZone=null,this._isConstant=!1,this._offsetList=[],this._timeList=[],this._indexList=[],this._parseSerializedTimeZone(e)},getSerializedTimeZone:function(){return this._serializedTimeZone},numericBinarySearch:function(e,t){if(!e)throw new TypeError("Parameter list must be non-null.");var i=e.length-1;if(i<0)return-1;for(var n,s,a=0;a<=i;)if((s=t-e[n=parseInt(a+(i-a)/2,10)])<0)i=n-1;else{if(!(s>0))return n;a=n+1}return-a-1},getOffset:function(e){if(this._isConstant)return this._standardOffset;var t=this._offsetList,i=t.length;if(0==i)return 0;if(1==i)return t[0];var n,s=this._timeList,a=s.length;return 0==a?0:(1==a?n=0:(n=this.numericBinarySearch(s,e))<-1?n=-n-2:-1==n&&(n=0),t[this._indexList[n]])},_parseSerializedTimeZone:function(e){if(e){for(var t=e.split(";"),i=0;i<t.length;i++){var n=t[i];if(n)switch(n.charAt(0)){case"C":if(this._parseC(n.substring(1,n.length)))return;break;case"Y":this._parseY(n.substring(1,n.length));break;case"@":this._parseAt(n.substring(1,n.length))}}this._standardOffset=this.getOffset(0)}},_parseC:function(e){if(!e)return!1;var t=parseInt(e,10);return t==t&&(this._standardOffset=t,this._isConstant=!0,!0)},_parseY:function(e){if(e){var t=e.split(" ");if(!(t.length<1)){var i=t[0];if(i){var n=parseInt(i,10);n==n&&this._offsetList.push(n)}}}},_parseAt:function(e){if(e){var t=e.split(" ");if(!(t.length<2)){var i=t[0];if(i){var n=parseInt(i,10);if(n==n&&(i=t[1])){var s=parseInt(i,10);s==s&&((s=parseInt(s,10))<0||s>=this._offsetList.length||(this._timeList.push(n),this._indexList.push(s)))}}}}}})},"util/Profiler":function(e,t,i){var n,s;n=[i("shim/jquery"),i("require/underscore"),i("require/backbone"),i("util/moment"),i("shim/splunk.util"),i("shim/splunk.logger")],void 0===(s=function(e,t,i,n,s,a){var r=s.sprintf,o=function(){o.prototype.initialize.apply(this,arguments)};t.extend(o.prototype,{initialize:function(e){e||(e={}),!1!==e.autoStart&&this.start()},start:function(){this._start=Date.now()},fromNow:function(){if(!this._start)throw new Error("Please start the timer first");return Date.now()-this._start}});var l=function(){l.prototype.initialize.apply(this,arguments)};t.extend(l.prototype,{initialize:function(e,t,i){i||(i={}),this.profiler=e,this.name=t,this.options=i},newTimer:function(e){return e||(e={}),new o(t.extend({},this.options,e))},profiledFunction:function(e,i){var n=this;return t.wrap(i,(function(t){var i=n.newTimer(),s=Array.prototype.slice.call(arguments,1),a=t.apply(this,s);return n.log({function:e,duration:i.fromNow()}),a}))},profileFunctions:function(e){if("object"==typeof e){var i=Array.prototype.slice.call(arguments,1);t.each(i,(function(i){t.isFunction(e[i])&&(e[i]=this.profiledFunction(i,e[i]))}),this)}},log:function(e){var i=a.getLogger(this.name),n=[r("profiler=%s",this.profiler.name)];t.each(t.extend({},this.options,e),(function(e,t){n.push(r("%s=%s",t,e))}),this),i[this.options.level](n.join(", "))}});var d=function(){d.prototype.initialize.apply(this,arguments)};t.extend(d.prototype,i.Events,{initialize:function(e,i){this.options=t.defaults(i||{},{level:"debug"}),this.name=e||"Unnamed Profiler"},module:function(e,i){return i||(i={}),new l(this,e,t.extend({},this.options,i))}});var h={};return d.get=function(e,t){return h[e]||(h[e]=new d(e,t)),h[e]},d.clear=function(){h={}},d.isEnabled=function(){return"None"!=s.getConfigValue("JS_LOGGER_MODE","None")},d}.apply(t,n))||(e.exports=s)},"util/create_external_toast_action":function(e,t,i){"use strict";i(1),Object.defineProperty(t,"__esModule",{value:!0});var n=r(i(0)),s=i(7),a=r(i(402));function r(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.label,i=e.href;return t&&i?{label:n.default.createElement(n.default.Fragment,null,t,n.default.createElement(a.default,{style:{marginLeft:"4px"},screenReaderText:(0,s._)("Open externally"),"aria-label":null})),callback:function(){},props:{as:"a",href:i,style:{textDecoration:"none"},type:null,target:"_blank",rel:"noopener,noreferrer"}}:null},e.exports=t.default},"util/datasource_utils":function(e,t,i){"use strict";i(1),Object.defineProperty(t,"__esModule",{value:!0});t.pairDataSourcesWithProviders=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e.name},n={},s=[],a=t;return e.forEach((function(e){var t=a.find((function(t){return i(t)===e.name}));t?(a=a.filter((function(e){return e!==t})),n[e.name]={dataSource:e,provider:t}):s.push(e)})),{match:n,orphanedDataSources:s,orphanedProviders:a}}},"util/jquery_polyfills":function(e,t,i){"use strict";i(1),Object.defineProperty(t,"__esModule",{value:!0});var n,s=i(279),a=(n=s)&&n.__esModule?n:{default:n};t.extend=function(e){for(var t=e||{},i=arguments.length,n=Array(i>1?i-1:0),s=1;s<i;s++)n[s-1]=arguments[s];return n.forEach((function(e){e&&Object.keys(e).forEach((function(i){t[i]=e[i]}))})),t},t.deepExtend=function e(t){for(var i=t||{},n=arguments.length,s=Array(n>1?n-1:0),r=1;r<n;r++)s[r-1]=arguments[r];return s.forEach((function(t){var n=t;n&&Object.keys(n).forEach((function(t){"object"===(0,a.default)(n[t])?n[t]instanceof Array?i[t]=n[t].slice(0):i[t]=e(i[t],n[t]):i[t]=n[t]}))})),i}},"util/moment/compactFromNow":function(e,t,i){var n,s;n=[i("util/moment")],void 0===(s=function(e){var t=Math.round;return e.duration.fn.humanizeCompact=function(e){var i,n,s,a,r,o,l,d,h,u,c,p,m,f=+this,g=(i=f,n=!e,s=this.localeData(),a=t(Math.abs(i)/1e3),r=t(a/60),o=t(r/60),l=t(o/24),d=t(l/365),h=a<45&&["s",a]||1===r&&["m"]||r<45&&["mm",r]||1===o&&["h"]||o<22&&["hh",o]||1===l&&["d"]||l<=25&&["dd",l]||l<=45&&["M"]||l<345&&["MM",t(l/30)]||1===d&&["y"]||["yy",d],u=h[0],c=h[1]||1,p=i>0,void 0===(m=(s._compactRelativeTime||{})[u])?s.relativeTime(c,!!n,u,p):"function"==typeof m?m(c,n,u,p):m.replace(/%d/i,c));return e&&(g=this.localeData().pastFuture(f,g)),this.localeData().postformat(g)},e.fn.compactFromNow=function(t){return e.duration(this.diff(e())).locale(this.localeData()._abbr).humanizeCompact(!t)},e}.apply(t,n))||(e.exports=s)},"util/onerror":function(e,t,i){"use strict";i(1),Object.defineProperty(t,"__esModule",{value:!0});var n,s=i("require/backbone"),a=(n=s)&&n.__esModule?n:{default:n};var r=[{listenerFn:"onJQueryError",eventName:"jQueryError",triggerCondition:function(e){return e.indexOf("$")}}],o=Object.assign({},a.default.Events),l=function(){window.onerror=function(e,t,i,n,s){!function(e){var t=e.msg,i=e.error;i&&i.stack&&r.forEach((function(e){var n=e.eventName;(0,e.triggerCondition)(i.stack)>=0&&o.trigger(n,t)}))}({msg:e,url:t,lineNo:i,columnNo:n,error:s})}},d=r.reduce((function(e,t){var i=t.listenerFn,n=t.eventName,s=Object.assign({},e);return s[i]=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};l(),o.on(n,e)},s}),{});t.default=d,e.exports=t.default},"views/dashboard/Base":function(e,t,i){var n,s;n=[i("shim/jquery"),i("require/underscore"),i("require/backbone"),i("views/Base"),i("splunkjs/mvc"),i("splunkjs/mvc/settings"),i("shim/splunk.util"),i("mixins/viewlogging"),i("dashboard/mixins/ComponentBindingMixin")],void 0===(s=function(e,t,i,n,s,a,r,o,l){var d={register:!0},h=r.sprintf;return n.extend(t.extend({},o,l,{viewOptions:{},omitFromSettings:[],_uniqueIdPrefix:"view_",constructor:function(e,i){i=i||{},(e=e||{}).settingsOptions=t.extend(e.settingsOptions||{},i),this._removed=!1,e.id?(this.id=e.id,this.autoId=e.autoId||!1):(this.id=t.uniqueId(this._uniqueIdPrefix||"view_"),this.autoId=!0),this.options=t.extend({},this.options,e),this.options.moduleId&&(this.moduleId=this.options.moduleId),this.viewOptions=t.defaults(this.viewOptions,d);var a=n.prototype.constructor.apply(this,arguments);return this.viewOptions.register&&s.Components.registerInstance(this.id,this,{replace:i.replace}),a},configure:function(){var e=this.options.settings;if(e&&e instanceof a)return this.settings=e,this.ownSettings=!1,this;var i=(this.omitFromSettings||[]).concat(["model","collection","el","attributes","className","tagName","events","settingsOptions","deferreds","autoId"]),n=t.omit(this.options,i),s=this.options.settingsOptions;return this.settings=new a(n,s),this.ownSettings=!0,this},remove:function(){return this._removed=!0,this.ownSettings?this.settings.dispose():this.settings.off(null,null,this),n.prototype.remove.apply(this,arguments),this.viewOptions.register&&s.Components.get(this.id)===this&&s.Components.revokeInstance(this.id),this},dispose:function(){this.remove()},initialize:function(){n.prototype.initialize.apply(this,arguments),this.configure()},createOrFind:function(i,n,s){i=i.split(" "),n=n||this.$el,s=s||"div";var a=t(i).map((function(e){return"."+e})).join(""),r=n.children(a);if(!r.length){var o=h('<%s class="%s"></%s>',s,i.join(" "),s);r=e(o).prependTo(n)}return r},addChild:function(e){e.render().$el.appendTo(this.$el)},getChildElements:function(i){return t(this.$el.find(i)).chain().map((function(t){return e(t).attr("id")})).map(t.bind(s.Components.get,s.Components)).filter(t.identity).value()},render:function(){return n.prototype.render.apply(this,arguments),this},isEditMode:function(){return"edit"==this.model.state.get("mode")},show:function(){this.$el.removeClass("hidden").trigger("elementVisibilityChanged")},hide:function(){this.$el.addClass("hidden").trigger("elementVisibilityChanged")}}))}.apply(t,n))||(e.exports=s)},"views/dashboard/DashboardPage":function(e,t,i){var n,s;n=[e,i(0),i("shim/jquery"),i("require/underscore"),i("require/backbone"),i(552),i("views/dashboard/editor/ToolBar"),i("splunkjs/mvc/headerview"),i("views/Base"),i("util/react_render"),i("helpers/TourHelper"),i("views/dashboard/panelEditor.pcss"),i("views/dashboard/toolbar.pcss"),i("views/dashboard/DashboardPage.pcss")],void 0===(s=function(e,t,i,n,s,a,r,o,l,d,h){return l.extend({moduleId:e.i,initialize:function(e){l.prototype.initialize.apply(this,arguments),this.deferreds=e.deferreds,this.model.renderState=new s.Model,this.children={},this.listenTo(this.model.page,"change",this.render),this.listenTo(this.model.renderState,"change:hideChrome change:hideSplunkBar change:hideAppBar",this.updateHeaderView),this.listenTo(this.model.renderState,"change:showToolbar",this.updateToolbarView),this.listenTo(this.model.renderState,"change:loading",this.renderLoadingMessage),this.listenTo(this.model.renderState,"change:targetTop",this.updateTargetTop)},updateHeaderView:function(){this.options.deferreds.xmlParsed.done(function(){if(this.model.renderState.get("hideChrome"))this.children.header&&(this.children.header.remove(),this.children.header=null);else{if(!this.children.header)(this.children.header=new o({id:"header",section:"dashboards",acceleratedAppNav:!0,useSessionStorageCache:!1,splunkbar:!this.model.renderState.get("hideSplunkBar"),appbar:!this.model.renderState.get("hideAppBar"),litebar:this.model.serverInfo.isLite(),model:{appNav:this.model.appNav}})).render().$el.prependTo(this.$el.children("header"));this.children.header.settings.set({splunkbar:!this.model.renderState.get("hideSplunkBar"),appbar:!this.model.renderState.get("hideAppBar")})}}.bind(this))},updateToolbarView:function(){this.children.toolbar&&(this.children.toolbar.remove(),this.children.toolbar=null),this.model.renderState.get("showToolbar")&&(this.children.toolbar=new r({id:"dashboard-edit-toolbar",model:this.model,collection:this.collection,deferreds:this.deferreds}).render(),this.children.toolbar.$el.appendTo(this.$el.children("header")))},renderLoadingMessage:function(){this.model.renderState.get("loading")?i('<div class="loading-message"></div>').text(n("Loading...").t()).appendTo(this.$el.children(".main-section-body").empty()):this.$el.children(".main-section-body").children(".loading-message").remove()},updateTargetTop:function(){i("head>base[target]").remove(),this.model.renderState.get("targetTop")&&i('<base target="_top" />').appendTo(i("head"))},renderTour:function(){this.tourRendered||(h.renderTour(this.model.tour,this.model.application,this.model.user,this.collection.tours),this.tourRendered=!0)},renderToastMessageContainer:function(){var e=document.createElement("div"),i=t.createElement(a.default);d(i,e),this.$el.append(e)},render:function(){if(!this.structureRendered){var e=this.compiledTemplate({_:n});this.$el.html(e),this.structureRendered=!0,this.renderToastMessageContainer()}return this.model.renderState.set(this.model.page.toJSON()),this.renderTour(),this},template:'            <a aria-label="<%- _("Click here to skip the navigation bar").t() %>"                class="navSkip" href="#navSkip"><%- _("Skip Navigation").t() %> &gt;            </a>            <header role="banner"></header>            <div id="navSkip" tabindex="-1"></div>             <div class="main-section-body dashboard-body" role="main">            </div>'})}.apply(t,n))||(e.exports=s)},"views/dashboard/DashboardPage.pcss":function(e,t,i){var n=i(2064);"string"==typeof n&&(n=[[e.i,n,""]]);var s={sourceMap:!1,hmr:!0,transform:void 0,insertInto:void 0};i(4)(n,s);n.locals&&(e.exports=n.locals)},"views/dashboard/EmptyStatus":function(e,t,i){var n,s;n=[e,i("shim/jquery"),i("require/underscore"),i("require/backbone"),i("shim/splunk.util")],void 0===(s=function(e,t,i,n,s){return n.View.extend({moduleId:e.i,initialize:function(e){n.View.prototype.initialize.apply(this,arguments),this.listenTo(this.model.state,"change:mode",this.render,this)},events:{"click a.start-edit":function(e){e.preventDefault(),this.model.controller.trigger("mode:edit")}},render:function(){var e=this.model.view.entry.acl.canWrite();this.$el.empty().addClass("empty-dashboard");var n=t('<div class="alert alert-error"><i class="icon-alert"></i></div>');if(e){var a;if("edit"==this.model.state.get("mode"))a=i("Click Add Panel to start.").t();else if(1==this.model.page.get("hideTitle")||1==this.model.page.get("hideEdit"))a=i("This dashboard has no panels.").t();else{a=i("This dashboard has no panels. %s to add panels.").t();var r=s.sprintf('<a class="start-edit" href="#edit">%s</a>',i("Start editing").t());a=s.sprintf(a,r)}t("<span></span>").html(a).appendTo(n)}else t("<span></span>").text(i("This dashboard has no panels.").t()).appendTo(n);return n.appendTo(this.$el),this}})}.apply(t,n))||(e.exports=s)},"views/dashboard/ErrorStatus":function(e,t,i){var n,s;n=[e,i("shim/jquery"),i("require/underscore"),i("views/dashboard/Base"),i("views/dashboard/header/DashboardHeader"),i("shim/splunk.util")],void 0===(s=function(e,t,i,n,s,a){return n.extend({moduleId:e.i,initialize:function(e){n.prototype.initialize.apply(this,arguments),this.message=e.message},createHeader:function(){this.children.headerView&&this.children.headerView.remove();var e=this.model.view.entry.content.get("label")||this.model.view.entry.get("name")||i("Unnamed dashboard").t();return this.children.headerView=new s({label:e,hideMenu:!0,model:this.model,collection:this.collection,deferreds:this.options.deferreds}),this.children.headerView},render:function(){return this.$el.html(this.compiledTemplate({message:this.message||i("Dashboard cannot display due to XML error").t(),editLink:a.sprintf(i('Go to "%s" to fix.').t(),a.sprintf('<a class="action-edit-source" href="#">%s</a>',i("Edit Source").t())),showEditSource:!this.isEditMode()})),this.model.page.get("hideTitle")||this.createHeader().render().$el.prependTo(this.$el),this},events:{"click a.action-edit-source":function(e){e.preventDefault(),this.model.controller.trigger("mode:editxml")}},template:'<div class="alert alert-error"><i class="icon-alert"></i> <span class="parser-message"><%- message %>.</span> <span class="edit-source-link"><%= editLink %></span>'})}.apply(t,n))||(e.exports=s)},"views/dashboard/LoadingStatus":function(e,t,i){var n,s;n=[e,i("shim/jquery"),i("require/underscore"),i("views/dashboard/Base"),i("views/dashboard/header/DashboardHeader")],void 0===(s=function(e,t,i,n,s){return n.extend({moduleId:e.i,createHeader:function(){this.children.headerView&&this.children.headerView.remove();var e=this.model.view.entry.content.get("label")||this.model.view.entry.get("name")||i("Unnamed dashboard").t();return this.children.headerView=new s({label:e,hideMenu:!0,model:this.model,collection:this.collection,deferreds:this.options.deferreds}),this.children.headerView},render:function(){return this.$el.html(this.compiledTemplate({})),this.model.page.get("hideTitle")||this.createHeader().render().$el.prependTo(this.$el),this},template:'<div class="dashboard-loading"><div class="loading-message"><%- _("Loading...").t() %></div></div>'})}.apply(t,n))||(e.exports=s)},"views/dashboard/Master":function(e,t,i){var n,s;n=[e,i("shim/jquery"),i("require/underscore"),i("views/dashboard/Base"),i("views/dashboard/header/DashboardHeader"),i("views/dashboard/header/DashboardMessages"),i("dashboard/mixins/EventManagerMixin")],void 0===(s=function(e,t,i,n,s,a,r){return n.extend(i.extend({},r,{moduleId:e.i,className:"dashboard",initialize:function(){n.prototype.initialize.apply(this,arguments),this.children.messages=new a({model:this.model,collection:this.collection,deferreds:this.options.deferreds}),this.children.headerView=new s({model:this.model,collection:this.collection,settings:this.settings,deferreds:this.options.deferreds,showDescription:!0,allowEdit:!0}),this.model.page.setFromDashboardXML(this.settings.toJSON()),this.listenTo(this.model.state,"change:mode",this._onModeChange),this.setupEventManager()},render:function(){return this.children.messages.render().$el.appendTo(this.$el),this.children.headerView.render().$el.appendTo(this.$el),this._onModeChange(),this},remove:function(){this.model.page.removeFromDashboardXML(),n.prototype.remove.apply(this,arguments)},componentReady:function(){return this.onEventManagerReady()},_onModeChange:function(){var e=this.model.state.previous("mode"),t=this.model.state.get("mode");this.$el.removeClass(e+"-mode").addClass(t+"-mode")}}))}.apply(t,n))||(e.exports=s)},"views/dashboard/editor/AddInputMenu":function(e,t,i){var n,s;n=[e,i("shim/jquery"),i("require/underscore"),i("views/shared/PopTart"),i("splunkjs/mvc"),i("views/dashboard/form/Input")],void 0===(s=function(e,t,i,n,s,a){return n.extend({moduleId:e.i,className:"dropdown-menu",initialize:function(e){n.prototype.initialize.apply(this,arguments),this.model=e.model},events:{"click a.add-text":function(e){e.preventDefault(),this.hide(),this.remove(),this._addInput("text")},"click a.add-radio":function(e){e.preventDefault(),this.hide(),this.remove(),this._addInput("radio")},"click a.add-dropdown":function(e){e.preventDefault(),this.hide(),this.remove(),this._addInput("dropdown")},"click a.add-checkbox":function(e){e.preventDefault(),this.hide(),this.remove(),this._addInput("checkbox")},"click a.add-multiselect":function(e){e.preventDefault(),this.hide(),this.remove(),this._addInput("multiselect")},"click a.add-link":function(e){e.preventDefault(),this.hide(),this.remove(),this._addInput("link")},"click a.add-trp":function(e){e.preventDefault(),this.hide(),this.remove(),this._addInput("time")},"click a.add-submit":function(e){e.preventDefault(),t(e.currentTarget).is(".disabled")||(this.hide(),this._addSubmit(),this.remove())}},_addSubmit:function(){this.model.controller.trigger("new:submit-button")},_addInput:function(e){var t="field"+((i(s.Components.toJSON()).chain().filter((function(e){return e instanceof a})).map((function(e){return[e.id,e.settings.get("token")]})).flatten().filter((function(e){return e&&/^field\d+$/.test(e)})).map((function(e){return parseInt(e.slice("field".length),10)})).push(0).max().value()||0)+1),n={token:t};"time"===e?i.extend(n,{label:"",default:{earliest_time:this.model.userPrefGeneralDefault.entry.content.get("default_earliest_time"),latest_time:this.model.userPrefGeneralDefault.entry.content.get("default_latest_time")}}):i.extend(n,{label:t,populating_earliest_time:this.model.userPrefGeneralDefault.entry.content.get("default_earliest_time"),populating_latest_time:this.model.userPrefGeneralDefault.entry.content.get("default_latest_time")}),this.model.controller.trigger("new:input",{type:e+"-input",settings:n})},render:function(){var e={showAddSubmit:!t(".fieldset>.form-submit").length,_:i},s=this.compiledTemplate(e);return this.$el.html(n.prototype.template_menu),this.$el.append(s),this},template:'            <ul>                <li><a class="add-text" href="#"><i class="icon-text"></i> <%- _("Text").t() %></a></li>                <li><a class="add-radio" href="#"><i class="icon-boolean"></i> <%- _("Radio").t() %></a></li>                <li><a class="add-dropdown" href="#"><i class="icon-triangle-down-small"></i> <%- _("Dropdown").t() %></a></li>                <li><a class="add-checkbox" href="#"><i class="icon-box-checked"></i> <%- _("Checkbox").t() %></a></li>                <li><a class="add-multiselect" href="#"><i class="icon-triangle-down-small"></i> <%- _("Multiselect").t() %></a></li>                <li><a class="add-link" href="#"><i class="icon-link"></i> <%- _("Link List").t() %></a></li>                <li><a class="add-trp" href="#"><i class="icon-clock"></i> <%- _("Time").t() %></a></li>                <li>                    <% if (showAddSubmit) { %>                        <a class="add-submit" href="#">                    <% } else {%>                        <a class="add-submit disabled" href="#" title="<%- _("You cannot add more than one Submit Button.").t() %>">                    <% } %>                    <i class="icon-search"></i> <%- _("Submit").t() %></a>                </li>            </ul>        '})}.apply(t,n))||(e.exports=s)},"views/dashboard/editor/DescriptionEditor":function(e,t,i){var n,s;n=[e,i("shim/jquery"),i("require/underscore"),i("views/dashboard/editor/TitleEditor")],void 0===(s=function(e,t,i,n){return n.extend({moduleId:e.i,attribute:"description",className:"title-editor description-editor",tagName:"textarea",initialize:function(e){n.prototype.initialize.apply(this,arguments),this.placeholder=e.placeholder||i("No description").t()}})}.apply(t,n))||(e.exports=s)},"views/dashboard/editor/ElementEditor":function(e,t,i){var n,s;n=[e,i("shim/jquery"),i("require/underscore"),i("controllers/dashboard/helpers/ReportModelHelper"),i("models/dashboard/DashboardElementReport"),i("views/dashboard/Base"),i("views/dashboard/editor/element/InlineSearchControls"),i("views/dashboard/editor/element/SavedSearchControls"),i("views/dashboard/editor/element/MiscControlsAdapter"),i("splunkjs/mvc"),i("splunkjs/mvc/savedsearchmanager"),i("uri/route"),i("splunkjs/mvc/tokenutils"),i("views/shared/vizcontrols/Master"),i("util/dashboard_utils"),i("views/dashboard/editor/ElementEditor.pcssm")],void 0===(s=function(e,t,i,n,s,a,r,o,l,d,h,u,c,p,m,f){return a.extend({moduleId:e.i,viewOptions:{register:!1},className:"dashboard-element-editor "+f.flexContainer,initialize:function(){a.prototype.initialize.apply(this,arguments),this.bindToComponentSetting("managerid",this.renderElementControl,this),this.bindToComponentSetting("evtmanagerid",this.renderElementControl,this),this.children.vizControls=new p({model:{report:this.model.report,application:this.model.application,user:this.model.user},vizTypes:["events","statistics","visualizations"],saveOnApply:!0,vizpicker:this.reportContainsTokenInVizType()?{warningMsg:i("Warning: Changes here can overwrite related token settings and behavior in your source code.").t()}:void 0,format:this.reportContainsTokenInFormat()?{warningMsg:i("Warning: Changes here can overwrite related token settings and behavior in your source code.").t()}:void 0,dashboard:!0}),this.listenTo(this.model.report.entry.content,s.getTypeChangeEvents().join(" "),this.updateDrilldown)},reportContainsTokenInVizType:function(){var e=this.model.elementReport.toJSON({tokens:!0});return null!=i.find(s.getVizTypeReportProperties(),(function(t){return e[t]&&c.hasToken(e[t])}))},reportContainsTokenInFormat:function(){var e=this.model.elementReport.toJSON({tokens:!0});return null!=i.chain(e).pairs().find((function(e){var t=0===e[0].indexOf("display"),n=i(s.getVizTypeReportProperties()).indexOf(e[0])<0,a=c.hasToken(e[1]);return t&&n&&a})).value()},renderElementControl:function(){this.children.elementControls&&this.children.elementControls.remove(),this.children.miscControls&&this.children.miscControls.remove();var e=m.getPrimarySearchManager(this.settings.get("managerid"),d.Components),t=d.Components.get(this.settings.get("evtmanagerid")),i=e instanceof h?o:r;this.children.elementControls=new i({model:this.model,collection:this.collection,searchManager:e,eventManager:t,settings:this.settings}),this.children.elementControls.render().$el.prependTo(this.$el),this.children.miscControls=new l({model:this.model,collection:this.collection,searchManager:e,eventManager:t,settings:this.settings}),this.children.miscControls.render().$el.appendTo(this.$el)},updateDrilldown:function(){this.model.report.entry.content.set(n.transferDrilldown(this.model.report.entry.content.previousAttributes(),this.model.report.entry.content.toJSON()))},render:function(){return this.renderElementControl(),this.children.vizControls.render().$el.appendTo(this.$el),this}})}.apply(t,n))||(e.exports=s)},"views/dashboard/editor/ElementEditor.pcssm":function(e,t,i){var n=i(546);"string"==typeof n&&(n=[[e.i,n,""]]);var s={sourceMap:!1,hmr:!0,transform:void 0,insertInto:void 0};i(4)(n,s);n.locals&&(e.exports=n.locals)},"views/dashboard/editor/FieldsetEditor":function(e,t,i){var n,s;n=[e,i("shim/jquery"),i("require/underscore"),i("views/Base")],void 0===(s=function(e,t,i,n){return n.extend({moduleId:e.i,className:"form-settings",initialize:function(e){n.prototype.initialize.apply(this,arguments),this.fieldset=e.parent,this.settings=e.parent.settings,this.listenTo(this.settings,"change:autoRun",this.render)},render:function(){return this.$el.html(this.compiledTemplate({label:i("Autorun dashboard").t(),checked:this.settings.get("autoRun")})),this},events:{"click label":"_updateState","click .btn":function(e){e.preventDefault()}},_updateState:function(e){e.preventDefault();var t=!this.settings.get("autoRun");this.settings.set("autoRun",t),this.model.controller.trigger("edit:fieldset",{fieldsetId:this.fieldset.id})},template:'            <label class="checkbox">                  <a href="#" class="btn"><i class="icon-check" <% if (!checked) {%>style="display:none"<% } %>></i></a>                  <%= label%>            </label>        '})}.apply(t,n))||(e.exports=s)},"views/dashboard/editor/PanelEditor":function(e,t,i){var n,s;n=[e,i("shim/jquery"),i("require/underscore"),i("views/Base"),i("views/shared/delegates/Popdown"),i("shim/bootstrap.tooltip")],void 0===(s=function(e,t,i,n,s){return n.extend({moduleId:e.i,className:"dashboard-panel-editor",initialize:function(e){n.prototype.initialize.apply(this,arguments),this.popdownLabel=e.label||i("Inline Panel").t(),this.icon=e.icon||"icon-gear",this.actions=e.actions},render:function(){this.$el.html(this.compiledTemplate({popdownLabel:this.popdownLabel,icon:this.icon}));var e=i(this.actions).map((function(e){var i=t('<a href="#"></a>').addClass(e.className).text(e.label).attr("name",e.name);return e.tooltip&&i.tooltip({animation:!1,title:e.tooltip,container:"body"}),t("<li></li>").append(i)}));return this.$(".dashboard-panel-actions").append(e),this.children.popdown=new s({el:this.el,mode:"dialog"}),this},events:{"click li>a":function(e){if(e.preventDefault(),!t(e.currentTarget).is(".disabled")){var i=t(e.currentTarget).attr("name");this.trigger(i),this.children.popdown.hide()}}},template:'                <a href="#" class="dropdown-toggle btn-pill">                    <span class="<%- icon %>"></span>                </a>                <div class="dropdown-menu">                    <div class="arrow"></div>                        <ul class="dashboard-panel-actions">                            <li class="panel-type-label"><%- popdownLabel %></li>                        </ul>                </div>            '})}.apply(t,n))||(e.exports=s)},"views/dashboard/editor/TitleEditor":function(e,t,i){var n,s;n=[e,i("shim/jquery"),i("require/underscore"),i("require/backbone"),i("views/dashboard/editor/TitleEditor.pcssm")],void 0===(s=function(e,t,i,n,s){return n.View.extend({moduleId:e.i,tagName:"input",className:"title-editor label-editor "+s.fullWidth,initialize:function(e){n.View.prototype.initialize.apply(this,arguments),this.tokenEnabled=!1!==e.tokens,this.attribute=e.attribute||"title",this.placeholder=e.placeholder||i("Untitled").t(),this.listenTo(this.model,"change:"+this.attribute,(function(){this._updateFromModel()})),this._updateModel=i.debounce(this._updateModel.bind(this),50)},_updateFromModel:function(){var e=this.$el.val(),t=this.model.get(this.attribute,{tokens:this.tokenEnabled});e!=t&&this.$el.val(t?i(t).t():"")},_updateModel:function(){var e=this.$el.val();this.model.get(this.attribute,{tokens:this.tokenEnabled})!=e&&(this.model.set(this.attribute,e,{tokens:this.tokenEnabled}),this.trigger("change:title",e))},events:{change:"_updateModel",keydown:function(e){27==e.keyCode||13==e.keyCode?(e.preventDefault(),this.blur()):this._updateModel()}},blur:function(){this._updateModel(),this.$el.blur()},focus:function(){this.$el.focus()},render:function(){return this.$el.attr("type","text").attr("placeholder",this.placeholder),this._updateFromModel(),this}})}.apply(t,n))||(e.exports=s)},"views/dashboard/editor/TitleEditor.pcssm":function(e,t,i){var n=i(534);"string"==typeof n&&(n=[[e.i,n,""]]);var s={sourceMap:!1,hmr:!0,transform:void 0,insertInto:void 0};i(4)(n,s);n.locals&&(e.exports=n.locals)},"views/dashboard/editor/ToolBar":function(e,t,i){var n,s;n=[e,i("shim/jquery"),i("require/underscore"),i("views/dashboard/Base"),i("views/dashboard/editor/AddInputMenu"),i("views/dashboard/editor/addcontent/Master"),i("views/dashboard/header/ThemeSwitch")],void 0===(s=function(e,t,i,n,s,a,r){return n.extend({moduleId:e.i,viewOptions:{register:!1},className:"dashboard-toolbar",initialize:function(e){this.deferreds=e.deferreds,n.prototype.initialize.apply(this,arguments),this.listenTo(this.model.state,"change:mode change:dirty",this._updateState)},events:{"click a.add-panel":function(e){e.preventDefault(),this._showAddContent()},"click a.add-form":function(e){e.preventDefault();var i=t(e.currentTarget);i.hasClass("disabled")||(i.addClass("active"),this._showAddInputMenu(i).on("hide",(function(){i.removeClass("active")}),this))},"click button.edit-ui":function(e){e.preventDefault(),this.model.controller.trigger("mode:edit")},"click button.edit-source":function(e){e.preventDefault(),this.model.controller.trigger("mode:editxml")},"click a.edit-cancel":function(e){e.preventDefault(),this.model.controller.trigger("action:edit-cancel")},"click a.edit-save-as":function(e){e.preventDefault(),this.model.controller.trigger("action:save-as")},"click a.edit-done":function(e){e.preventDefault(),t(e.currentTarget).hasClass("disabled")||this.model.controller.trigger("action:save")}},renderThemeSwitch:function(){if("editxml"!=this.model.state.get("mode")){this.children.themeSwitch||(this.children.themeSwitch=new r({model:this.model}));var e=this.children.themeSwitch.render().$el;this.$el.find(".dashboard-edit-controls").append(e)}else this.children.themeSwitch&&(this.children.themeSwitch.remove(),this.children.themeSwitch=null)},render:function(){return this.$el.html(this.compiledTemplate()),this._updateState(this.model.state),this},_showAddContent:function(){this.children.addContent=new a({model:this.model,collection:this.collection,deferreds:this.deferreds}),this.children.addContent.render()},_showAddInputMenu:function(e){return this.children.addInputMenu&&(this.children.addInputMenu.remove(),this.children.addInputMenu=null),this.children.addInputMenu=new s({model:this.model,collection:this.collection,deferreds:this.deferreds}),t("body").append(this.children.addInputMenu.render().$el.hide()),this.children.addInputMenu.show(e),this.children.addInputMenu},_updateState:function(e){var t=this.$el.find(".edit-ui"),n=this.$el.find(".edit-source"),s=e.get("mode");"edit"==s?(t.addClass("active"),n.removeClass("active")):"editxml"==s&&(t.removeClass("active"),n.addClass("active")),this.$(".btn-add-content").css({visibility:"edit"==s?"":"hidden"}),this.$(".edit-done")[e.get("dirty")?"removeClass":"addClass"]("disabled"),this.deferreds.scheduledView.then(function(){this.model.scheduledView.entry.content.get("is_scheduled")?this.$(".add-form").addClass("disabled").tooltip({animation:!1,placement:"bottom",title:i('You must unschedule this dashboard to add form fields. To do this, use the "Schedule PDF Delivery" link in the Export menu.').t()}):this.$(".add-form").removeClass("disabled").tooltip("destroy")}.bind(this)),this.model.serverInfo.isLite()||this.renderThemeSwitch()},template:'                 <span class="dashboard-edit-controls">                    <h1 class="toolbar-label">                        <%- _("Edit Dashboard").t() %>                    </h1>                    <div class="btn-group edit-mode-toggle">                        <div class="btn-group btn-group-radio shared-controls-syntheticradiocontrol">                            <button class="btn edit-ui"><%- _("UI").t() %></button>                            <button class="btn edit-source"><%- _("Source").t() %></button>                        </div>                    </div>                    <div class="btn-group btn-add-content" add-content>                        <a class="btn add-panel" href="#"><i class="icon-plus"></i> <%- _("Add Panel").t() %></a>                        <a class="btn add-form" href="#"><i class="icon-plus"></i> <%- _("Add Input").t() %> <span class="caret" aria-hidden="true"></span></a>                    </div>                    <a class="btn btn-primary edit-done pull-right" href="#"><%- _("Save").t() %></a>                    <a class="btn default edit-save-as pull-right" href="#"><%- _("Save as...").t() %></a>                    <a class="btn default edit-cancel pull-right" href="#"><%- _("Cancel").t() %></a>                </span>            '})}.apply(t,n))||(e.exports=s)},"views/dashboard/editor/XMLEditor":function(e,t,i){var n,s;n=[e,i("require/underscore"),i("shim/jquery"),i("require/backbone"),i("shim/ace-editor"),i("views/Base"),i("util/general_utils"),i("util/theme_utils"),i("util/xml"),i("shim/splunk.util"),i("helpers/user_agent"),i("views/dashboard/editor/XMLEditorMessage"),i("views/dashboard/editor/XMLEditor.pcss")],void 0===(s=function(e,t,i,n,s,a,r,o,l,d,h,u){var c=s.require("ace/range").Range;return a.extend({moduleId:e.i,className:"dashboard-xml-editor-wrapper",defaultOptions:{autoAdjustHeight:!0,fixedHeight:0,showMessages:!0},events:{"click a.editor-goto-line":"gotoLine"},commands:[{name:"format",bindKey:{win:"Ctrl-Shift-F",mac:"Command-Shift-F"},exec:"formatDashboardXML",readOnly:!1}],initialize:function(e){a.prototype.initialize.apply(this,arguments),this.options=t.extend({},this.defaultOptions,this.options),this.editor=null,this.$editor=null,this.model=t.extend({editorMessage:new n.Model},this.model),this.collection=t.extend({},this.collection),this.options.showMessages&&(this.children.message=new u({collection:{dashboardMessages:this.collection.dashboardMessages},model:{application:this.model.application,state:this.model.state,message:this.model.editorMessage}})),this.listenTo(this.model.editor,"change:theme",this.applyTheme),this.listenTo(this.model.editor,"change:mode",this.applyMode),this.listenTo(this.model.editor,"change:showPrintMargin",this.applyEditorOptions),this.listenTo(this.model.editor,"change:annotations",this.applyAnnotations),this.debouncedUpdateHeight=t.debounce(this.updateHeight.bind(this),250),i(window).on("resize",this.debouncedUpdateHeight)},applyMode:function(){this.editor.getSession().setMode(this.model.editor.get("mode")||"ace/mode/xml")},applyTheme:function(){this.editor.setTheme(this.model.editor.get("theme")||o.getXmlEditorTheme())},applyEditorOptions:function(){this.editor.setOptions({showPrintMargin:r.normalizeBoolean(this.model.editor.get("showPrintMargin"),{default:!1}),fontSize:this.model.editor.get("fontSize")||"12px",useWorker:!1,useSoftTabs:!0,tabSize:2,readOnly:this.options.readOnly,wrap:r.normalizeBoolean(this.model.editor.get("wrap"),{default:!0})})},applyEditorCommands:function(){var e=t(this.commands).chain().map((function(e){var i=t.clone(e);return i.exec=this[e.exec].bind(this),i}),this).value();this.editor.commands.removeCommands(e),this.editor.commands.addCommands(e)},buildSummarySpecifiedResult:function(e,i,n){n.level=i,n.text=e.msg,n.link="#L"+e.line,n.linkClass="editor-goto-line",n.linkData={line:e.line};var s={error:t("Error on line %d: ").t(),warning:t("Warning on line %d: ").t()};n.linkText=d.sprintf(s[i],e.line),n.linkPosition="before"},gotoLine:function(e){e.preventDefault();var t=e.target,n=i(t).data("line");this.editor.resize(!0),this.editor.gotoLine(n,0,!0),this.editor.focus()},getSummaryMessage:function(e){var i={text:t("No validation issues").t(),level:"info",link:void 0,linkText:void 0,linkPosition:void 0,linkClass:void 0},n=e.errors.length,s=e.warnings.length;return n>1?(i.text=s>0?d.sprintf(t("%d Validation errors, %d validation warnings").t(),n,s):d.sprintf(t("%d Validation errors").t(),n),i.level="error"):1==n?this.buildSummarySpecifiedResult(e.errors[0],"error",i):s>1?(i.text=d.sprintf(t("%d Validation warnings").t(),s),i.level="warning"):1==s&&this.buildSummarySpecifiedResult(e.warnings[0],"warning",i),i},clearEditorMarkers:function(){t.each(this.editor.getSession().getMarkers(),(function(e){this.editor.getSession().removeMarker(e.id)}),this)},applyAnnotations:function(){this.clearEditorMarkers();var e=this.model.editor.get("validateResults");if(e){var i=this.getSummaryMessage(e),n=[],s=this.editor;(e.warnings.length||e.errors.length)&&(t(e.warnings).each((function(e){var t=e.line-1;n.push({type:"warning",text:e.msg,row:t,column:0}),s.getSession().addMarker(new c(t,0,t,10),"splunk_warning_marker","fullLine")})),t(e.errors).each((function(e){var t=e.line-1;t<0?(!0,i.text=e.msg,i.level="error"):(n.push({type:"error",text:e.msg,row:t,column:0}),s.getSession().addMarker(new c(t,0,t,10),"splunk_error_marker","fullLine"))}))),this.model.editorMessage.set(i),this.editor.getSession().setAnnotations(n)}else this.model.editorMessage.unset({text:!0,level:!0})},getEditorValue:function(){return this.editor.getSession().getDocument().getValue()},setEditorValue:function(e){this.editor.getSession().getDocument().setValue(e)},formatDashboardXML:function(e){try{var t=l.formatDashboardXML(l.parse(this.getEditorValue()));this.setEditorValue(l.serialize(t))}catch(e){}},newEditorSession:function(){this.editor.setSession(s.createEditSession(this.model.editor.get("code")||""))},updateHeight:function(){this.options.autoAdjustHeight?this.$editor.height(i(window).height()-112-32-52):this.$editor.height(this.options.fixedHeight),this.editor&&this.editor.resize()},render:function(){this.children.message&&this.children.message.render().appendTo(this.$el),this.$editor=i("<div></div>").addClass("dashboard-xml-editor").appendTo(this.$el),this.$editor.attr("id","dashboard-editor"),this.updateHeight(),this.editor=s.edit(this.$editor[0]),this.applyTheme(),this.editor.$blockScrolling=1/0,this.newEditorSession(),this.editor.getSession().getDocument().on("change",function(){this.model.editor.set("code",this.getEditorValue())}.bind(this));var e="id-"+r.generateUUID();return this.$(".ace_content").attr("id",e),this.$("textarea.ace_text-input").attr("aria-describedby",e),this.$("textarea.ace_text-input").attr("aria-label",t("Edit").t()),this.setupEditorListeners(),this.applyMode(),this.applyEditorOptions(),this.applyEditorCommands(),this.applyAnnotations(),this.editor.focus(),this},destroyEditor:function(){this.editor&&(this.editor.destroy(),this.editor=null)},remove:function(){i(window).off("resize",this.debouncedUpdateHeight),this.destroyEditor(),a.prototype.remove.apply(this,arguments)},setupEditorListeners:function(){if(h.getChromeVersion()>=53||h.isIE11){var e=this.editor.textInput&&this.editor.textInput.getElement();e&&i(e).on("compositionend",(function(){var t;"function"==typeof window.Event?t=new window.Event("input"):"function"==typeof document.createEvent&&(t=document.createEvent("Event")).initEvent("input",!0,!0),t&&e.dispatchEvent(t)}))}}})}.apply(t,n))||(e.exports=s)},"views/dashboard/editor/XMLEditor.pcss":function(e,t,i){var n=i(555);"string"==typeof n&&(n=[[e.i,n,""]]);var s={sourceMap:!1,hmr:!0,transform:void 0,insertInto:void 0};i(4)(n,s);n.locals&&(e.exports=n.locals)},"views/dashboard/editor/XMLEditorMessage":function(e,t,i){var n,s;n=[e,i("require/underscore"),i("shim/jquery"),i("require/backbone"),i("views/Base"),i("views/dashboard/header/DashboardMessage"),i("uri/route")],void 0===(s=function(e,t,i,n,s,a,r){return s.extend({moduleId:e.i,className:"xml-editor-message",initialize:function(e){s.prototype.initialize.apply(this,arguments),this.collection.dashboardMessages&&this.listenTo(this.collection.dashboardMessages,"add reset change",this.render),this.listenTo(this.model.message,"change",this.render)},getActiveMessage:function(){var e=this.model.message;if(this.collection.dashboardMessages){var t=this.collection.dashboardMessages.find((function(e){return"error"==e.get("level")&&!e.get("dismissed")}));t&&(e=t)}return e},render:function(){var e=this.getActiveMessage();return this.children.message&&this.children.message.remove(),e&&e.get("text")&&(this.children.message=new a({model:{message:e,application:this.model.application}}),this.children.message.render().appendTo(this.el)),this}})}.apply(t,n))||(e.exports=s)},"views/dashboard/editor/addcontent/Master":function(e,t,i){var n,s;n=[e,i("shim/jquery"),i("require/underscore"),i("require/backbone"),i("views/Base"),i("views/shared/Sidebar"),i("views/shared/controls/TextControl"),i("views/dashboard/editor/addcontent/list/DashboardList"),i("views/dashboard/editor/addcontent/list/InlineList"),i("views/dashboard/editor/addcontent/list/PrebuiltPanelList"),i("views/dashboard/editor/addcontent/list/ReportList"),i("views/dashboard/editor/addcontent/preview/Inline"),i("views/dashboard/editor/addcontent/preview/Report"),i("views/dashboard/editor/addcontent/preview/PrebuiltPanel"),i("views/dashboard/editor/addcontent/preview/DashboardPanel"),i("helpers/VisualizationRegistry"),i("controllers/dashboard/helpers/ModelHelper"),i("views/dashboard/editor/addcontent/Utils"),i("shim/splunk.util"),i("views/dashboard/editor/addcontent/Master.pcssm"),i("shim/bootstrap.collapse")],void 0===(s=function(e,t,i,n,s,a,r,o,l,d,h,u,c,p,m,f,g,v,b){return s.extend({moduleId:e.i,className:"add-content-master",initialize:function(e){s.prototype.initialize.apply(this,arguments),this.deferreds=e.deferreds,this.model=i.extend({sidebarState:new n.Model},this.model),this.collection=i.extend(this._loadCollections(),this._loadInlineCollection(),this.collection),this._initSidebar(),this._initFilter(),this._initBodyViews()},_initSidebar:function(){this.children.sidebar=new a,this.listenTo(this.children.sidebar,"sidebarsRemoved",this._clearPreviewState)},_initFilter:function(){this.children.filter=new r({placeholder:i("Find").t(),updateOnKeyUp:!0,style:"search",canClear:!0,model:this.model.sidebarState,modelAttribute:"filter"}),this.listenTo(this.model.sidebarState,"change:filter",this.filter)},_initBodyViews:function(){this.children.dashboardlist=new o({model:this.model,collection:this.collection.dashboards,title:i("Clone from Dashboard").t()}),this.listenTo(this.children.dashboardlist,"preview",this._previewDashboardPanel),this.children.inlinelist=new l({collection:this.collection.inlines,model:this.model,title:i("New").t()}),this.listenTo(this.children.inlinelist,"preview",this._previewInline),this.children.panellist=new d({collection:this.collection.panels,model:this.model,title:i("Add Prebuilt Panel").t()}),this.listenTo(this.children.panellist,"preview",this._previewPrebuiltPanel),this.children.reportlist=new h({collection:this.collection.reports,model:this.model,title:i("New from Report").t()}),this.listenTo(this.children.reportlist,"preview",this._previewReport)},_loadCollections:function(){var e=this.model.application.get("app"),t=this.model.application.get("owner");return{panels:g.getCachedModel("panels",{sort_key:"panel.title",app:e,count:10}),dashboards:g.getCachedModel("dashboards",{sort_key:"label",app:e,search:'eai:type="views" AND (eai:data="*<dashboard*" OR eai:data="*<form*")',count:10}),reports:g.getCachedModel("reports",{app:e,owner:t,search:"is_visible=1 AND disabled=0",count:10})}},_loadInlineCollection:function(){var e=i(f.getAllVisualizations()).chain().where({isSelectable:!0}).sortBy((function(e){var t=e.matchConfig["display.general.type"];return i(["events","statistics","visualizations"]).indexOf(t)})).map((function(e){return{value:e.id,label:e.label,icon:e.icon}})).value();return{inlinesClean:new n.Collection(e),inlines:new n.Collection(e)}},render:function(){this.$main=t(i.template(this.template,{})),this.$main.appendTo(this.$el),this.children.filter.render().$el.appendTo(this.$(".header")),this.children.sidebar.render().$el.appendTo("body"),this.children.sidebar.addSidebar(this.$el),this.focus(),this._renderSidebarBody()},filter:function(){var e=this.model.sidebarState.get("filter").toLowerCase(),t=e?"*"+e+"* AND ":"",i=e?b.sprintf('((panel.title="*%s*") OR (panel.description="*%s*") OR (eai.data="*%s*"))',e,e,e):"",n=e?b.sprintf('((label="*%s*") OR (eai:data="*%s*")) AND ',e,e):"";this.collection.panels.fetchData.set({count:this.collection.panels.original_count,search:i}),this.collection.dashboards.fetchData.set({count:this.collection.dashboards.original_count,search:n+'eai:type="views" AND (eai:data="*<dashboard*" OR eai:data="*<form*")'}),this.collection.reports.fetchData.set({count:this.collection.reports.original_count,search:t+"is_visible=1 AND disabled=0"}),this.collection.inlines.reset(this.collection.inlinesClean.filter((function(t){return-1!=t.get("label").toLowerCase().indexOf(e)}))),this.collection.inlines.trigger("reset")},_renderSidebarBody:function(){var e=this.$(".panel-contents");this.children.inlinelist.render().$el.appendTo(e),this.children.reportlist.render().$el.appendTo(e),this.children.dashboardlist.render().$el.appendTo(e),this.children.panellist.render().$el.appendTo(e)},_removePreview:function(){this.children.preview&&(this.stopListening(this.children.preview),this.children.preview.remove(),this.children.preview=null)},_showPreview:function(e,t){this._removePreview(),this.children.preview=new e(t),this.listenTo(this.children.preview,"addToDashboard",this._addToDashboard);var i=this.children.preview.render().$el;this.children.sidebar.contents.length>1?this.children.sidebar.replaceLastSidebar(i):this.children.sidebar.addSidebar(i)},_previewDashboardPanel:function(e){this._showPreview(m,{model:i.extend({},{parsedPanel:e},this.model),collection:this.collection,deferreds:this.deferreds})},_previewInline:function(e){this._showPreview(u,{model:i.extend({},{inline:e},this.model),collection:this.collection,deferreds:this.deferreds})},_previewPrebuiltPanel:function(e){this._showPreview(p,{model:i.extend({},{panel:e},this.model),collection:this.collection,deferreds:this.deferreds})},_previewReport:function(e){this._showPreview(c,{model:i.extend({},{report:e},this.model),collection:this.collection,deferreds:this.deferreds})},_addToDashboard:function(e){this.model.controller.trigger(e.type,e.payload),this.children.sidebar.popSidebar()},_clearPreviewState:function(e){this._removePreview()},focus:function(){var e=this.$el.find(".selected");e.length>0?e.find("a").focus():this.children.filter.focus()},template:'            <div class="header">                <h3><%- _("Add Panel").t() %></h3>            </div>            <div class="panel-contents">            </div>            '})}.apply(t,n))||(e.exports=s)},"views/dashboard/editor/addcontent/Master.pcssm":function(e,t,i){var n=i(2060);"string"==typeof n&&(n=[[e.i,n,""]]);var s={sourceMap:!1,hmr:!0,transform:void 0,insertInto:void 0};i(4)(n,s);n.locals&&(e.exports=n.locals)},"views/dashboard/editor/addcontent/Utils":function(e,t,i){var n,s;n=[i("shim/jquery"),i("require/underscore"),i("util/splunkd_utils")],void 0===(s=function(e,t,i){var n=t(["table","single","event","chart","html","map","viz"]);return{getPanelIcon:function(e){var t=this.getPanelElements(e);if(0===t.length)return"icon-panel";if("single"===t[0].type)return"icon-single-value";if("map"===t[0].type)return"icon-location";if("table"===t[0].type)return"icon-table";if("event"===t[0].type)return"icon-list";if("html"===t[0].type)return"icon-code";if("chart"===t[0].type){var i=(t[0].reportContent||{})["display.visualizations.charting.chart"]||"column";switch(i){case"radialGauge":return"icon-gauge-radial";case"fillerGauge":return"icon-gauge-filler";case"markerGauge":return"icon-gauge-marker";default:return"icon-chart-"+i}}return"icon-panel"},getPanelElements:function(e){return t(e.children).filter((function(e){return n.contains(e.type)}))},hasCloneRestriction:function(e){return t(this.getPanelElements(e)).some((function(e){return this.containsPostprocess(e)}),this)?t("Panel cannot be cloned because it includes one or more post-process searches.").t():null},containsPostprocess:function(e){return t(e.children).some((function(e){return"postprocess-search"===e.type}))}}}.apply(t,n))||(e.exports=s)},"views/dashboard/editor/addcontent/list/BaseList":function(e,t,i){var n,s;n=[i("shim/jquery"),i("require/underscore"),i("views/Base"),i("util/keyboard"),i("views/dashboard/editor/addcontent/list/BaseList.pcssm")],void 0===(s=function(e,t,i,n,s){return i.extend({className:s.list,initialize:function(e){i.prototype.initialize.apply(this,arguments),this.id=e.id||t.uniqueId("list_"),this.model=t.extend({},this.model),this.collection=e.collection||{},this.title=e.title,this.listenTo(this.collection,"reset",this._renderContent),this.loadingMore=!1},events:{"click .show-more":"_showMore","keydown .show-more":function(e){e.keyCode===n.KEYS.ENTER&&this._showMore()}},_showMore:function(){this.loadingMore=!0,this.collection.fetchData.set("count",this.collection.fetchData.get("count")+this.collection.original_count),this.$el.find(".show-more").text(t("loading...").t())},render:function(){var i=e(t.template(this.template,{id:this.id,title:this.title}));return this.$el.html(i),this.$container=this.$el.find(".accordion-inner ul"),this._renderContent(),this},expand:function(){this.$el.find(".collapse").first().addClass("in").css("height","auto"),this.$el.find(".accordion-toggle").first().removeClass("collapsed")},collapse:function(){this.$el.find(".collapse").first().removeClass("in").css("height","0px"),this.$el.find(".accordion-toggle").first().addClass("collapsed")},_renderContent:function(){this.$container.empty(),this._removeChildren(),this.collection.each((function(e){var t=this._createEntryView(e);this.$container.append(t.render().$el),this.listenTo(t,"all",this.trigger),this.children[t.id]=t}),this),this._updateState(),this.collection.fetchData&&(this.collection.length>=this.collection.fetchData.get("count")&&this.$(".accordion-inner ul").first().append(e('<li class="panel-content"><a class="show-more" href="#">'+t("Show More").t()+"</a></li>")),this.loadingMore=!1)},_getItemsCount:function(){return this.collection.paging.get("total")},_updateState:function(){this._updateCount(),this._updateExpandState()},_updateCount:function(){var t=this._getItemsCount();this.$count&&this.$count.remove(),this.$count=e('<span class="total"/>').text(" ("+t+")").appendTo(this.$el.find(".accordion-toggle").first())},_updateExpandState:function(){if(!this.loadingMore){if(0==this._getItemsCount())return this.$el.find(".accordion-toggle").first().removeAttr("data-toggle"),void this.collapse();this.$el.find(".accordion-toggle").first().attr("data-toggle","collapse"),this.model.sidebarState.has("filter")&&""!=this.model.sidebarState.get("filter")?this.expand():this.collapse()}},_removeChildren:function(){t.each(this.children,(function(e){this.stopListening(e),e.remove()}),this)},_createEntryView:function(e){},template:'             <div class="accordion-group">                <div class="accordion-heading">                    <a class="accordion-toggle" data-toggle="collapse" href="#<%- id %>">                        <%- title %>                    </a>                </div>                <div class="collapse" id="<%- id %>">                    <div class="accordion-inner">                        <ul></ul>                    </div>                </div>            </div>            '})}.apply(t,n))||(e.exports=s)},"views/dashboard/editor/addcontent/list/BaseList.pcssm":function(e,t,i){var n=i(2058);"string"==typeof n&&(n=[[e.i,n,""]]);var s={sourceMap:!1,hmr:!0,transform:void 0,insertInto:void 0};i(4)(n,s);n.locals&&(e.exports=n.locals)},"views/dashboard/editor/addcontent/list/DashboardList":function(e,t,i){var n,s;n=[e,i("shim/jquery"),i("require/underscore"),i("views/dashboard/editor/addcontent/list/BaseList"),i("views/dashboard/editor/addcontent/list/items/DashboardItem"),i("util/keyboard")],void 0===(s=function(e,t,i,n,s,a){return n.extend({moduleId:e.i,initialize:function(e){n.prototype.initialize.apply(this,arguments)},_createEntryView:function(e){return new s({template:this.template,model:{sidebarState:this.model.sidebarState,reportDefaults:this.model.reportDefaults,dashboard:e},deferreds:this.deferreds})}})}.apply(t,n))||(e.exports=s)},"views/dashboard/editor/addcontent/list/InlineList":function(e,t,i){var n,s;n=[e,i("shim/jquery"),i("require/underscore"),i("views/dashboard/editor/addcontent/list/BaseList"),i("views/dashboard/editor/addcontent/list/items/InlineItem")],void 0===(s=function(e,t,i,n,s){return n.extend({moduleId:e.i,initialize:function(e){n.prototype.initialize.apply(this,arguments)},_createEntryView:function(e){return new s({model:{sidebarState:this.model.sidebarState,inline:e}})},_getItemsCount:function(){return this.collection.length}})}.apply(t,n))||(e.exports=s)},"views/dashboard/editor/addcontent/list/PrebuiltPanelList":function(e,t,i){var n,s;n=[e,i("shim/jquery"),i("require/underscore"),i("views/dashboard/editor/addcontent/list/BaseList"),i("views/dashboard/editor/addcontent/list/items/PrebuiltPanelItem")],void 0===(s=function(e,t,i,n,s){return n.extend({moduleId:e.i,initialize:function(e){n.prototype.initialize.apply(this,arguments)},_createEntryView:function(e){return new s({model:{sidebarState:this.model.sidebarState,panel:e}})}})}.apply(t,n))||(e.exports=s)},"views/dashboard/editor/addcontent/list/ReportList":function(e,t,i){var n,s;n=[e,i("shim/jquery"),i("require/underscore"),i("views/dashboard/editor/addcontent/list/BaseList"),i("views/dashboard/editor/addcontent/list/items/ReportItem")],void 0===(s=function(e,t,i,n,s){return n.extend({moduleId:e.i,initialize:function(e){n.prototype.initialize.apply(this,arguments)},_createEntryView:function(e){return new s({model:{sidebarState:this.model.sidebarState,report:e}})}})}.apply(t,n))||(e.exports=s)},"views/dashboard/editor/addcontent/list/items/DashboardItem":function(e,t,i){var n,s;n=[e,i("shim/jquery"),i("require/underscore"),i("views/Base"),i("dashboard/DashboardParser"),i("dashboard/DashboardFactory"),i("views/dashboard/editor/addcontent/list/items/PanelItem"),i("shim/splunk.util"),i("views/dashboard/editor/addcontent/list/items/DashboardItem.pcssm")],void 0===(s=function(e,t,i,n,s,a,r,o,l){return n.extend({moduleId:e.i,tagName:"li",className:l.item,initialize:function(e){n.prototype.initialize.apply(this,arguments),this.id=e.id||i.uniqueId("dashboard_"),this.template=e.template,this.parseDashboard=i.once(this._parseDashboard)},events:{show:"parseDashboard"},_parseDashboard:function(){var e=this.$(".accordion-inner ul");try{var n=s.getDefault().parseDashboard(this.model.dashboard.entry.content.get("eai:data")),o=a.getDashboardPanels(n);i.each(o,(function(t){var n=i.extend({},{panel:t},this.model),s=new r({model:n});s.render().$el.appendTo(e),this.listenTo(s,"all",this.trigger),this.children[s.id]=s}),this)}catch(n){var d=t('<li class="'+l.item+' parser-error"><a style="padding-left: 48px;"><i class="icon-warning-sign"></i> '+i("Error parsing dashboard!").t()+"</a></li>").appendTo(e);d.attr("title","Error: "+n.message),d.tooltip({template:'<div class="tooltip add-content-name"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',container:"body",delay:{show:500,hide:0}})}},expand:function(){this.$el.find(".collapse").first().addClass("in").css("height","auto"),this.$el.find(".accordion-toggle").first().removeClass("collapsed")},collapse:function(){this.$el.find(".collapse").first().removeClass("in").css("height","0px"),this.$el.find(".accordion-toggle").first().addClass("collapsed")},render:function(){return this.label=o.escapeHtml(this.model.dashboard.entry.content.get("label"))||o.escapeHtml(this.model.dashboard.entry.get("name")),this.compiledTemplate=this.compileTemplate(this.template),this.$el.html(this.compiledTemplate({title:i(this.label).t(),id:this.id})),this.$el.attr("data-role","panel-content"),this._renderTooltip(),this.collapse(),this},_renderTooltip:function(){var e=this.$(".accordion-toggle");e.attr("title",this.label),e.tooltip({template:'<div class="tooltip add-content-name"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',container:"body",delay:{show:500,hide:0}})}})}.apply(t,n))||(e.exports=s)},"views/dashboard/editor/addcontent/list/items/DashboardItem.pcssm":function(e,t,i){var n=i(2059);"string"==typeof n&&(n=[[e.i,n,""]]);var s={sourceMap:!1,hmr:!0,transform:void 0,insertInto:void 0};i(4)(n,s);n.locals&&(e.exports=n.locals)},"views/dashboard/editor/addcontent/list/items/InlineItem":function(e,t,i){var n,s;n=[e,i("shim/jquery"),i("require/underscore"),i("views/Base")],void 0===(s=function(e,t,i,n){return n.extend({moduleId:e.i,tagName:"li",className:"inline-item panel-content",initialize:function(e){n.prototype.initialize.apply(this,arguments),this.id=e.id||i.uniqueId("inline_"),this.listenTo(this.model.sidebarState,"change:select",this._onItemSelected)},render:function(){var e={icon:this.model.inline.get("icon")||"icon-star",name:this.model.inline.get("label"),title:this.model.inline.get("label")};return this.$el.html(this.compiledTemplate(e)),this},events:{"click a":"select"},select:function(e){e.preventDefault(),this.trigger("preview",this.model.inline),this.model.sidebarState.set("select",this.cid)},_onItemSelected:function(){this.model.sidebarState.get("select")===this.cid?this.$el.addClass("selected"):this.$el.removeClass("selected")},template:'                <a href="#" title="<%- title %>">                    <div class="icons"><i class="icon-<%- icon %>"></i></div>                    <span>                        <%- name %>                    </span>                </a>            '})}.apply(t,n))||(e.exports=s)},"views/dashboard/editor/addcontent/list/items/PanelItem":function(e,t,i){var n,s;n=[e,i("shim/jquery"),i("require/underscore"),i("views/Base"),i("dashboard/DashboardParser"),i("dashboard/DashboardFactory"),i("views/dashboard/editor/addcontent/Utils")],void 0===(s=function(e,t,i,n,s,a,r){return n.extend({moduleId:e.i,className:"dashboard-panel-list-item panel-content",tagName:"li",initialize:function(e){n.prototype.initialize.apply(this,arguments),this.title=this._getTitle(),this.icon=r.getPanelIcon(this.model.panel),this.hasPlusIcon=r.getPanelElements(this.model.panel).length>1,this.hasCloneRestriction=r.hasCloneRestriction(this.model.panel),this.listenTo(this.model.sidebarState,"change:select",this._onItemSelected)},_getTitle:function(){var e=this.model.panel.settings.title;if(!e){var t=i(this.model.panel.children).chain().find((function(e){return e.reportContent&&e.reportContent["dashboard.element.title"]})).value();e=t?t.reportContent["dashboard.element.title"]:"Untitled Panel"}return e},render:function(){var e=i(this.title||this.model.panel.id).t();return this.$el.html(this.compiledTemplate({icon:this.icon,hasPlusIcon:this.hasPlusIcon,name:e,title:e})),this.hasCloneRestriction&&(this.$el.addClass("clone-error"),this.$("a").attr("title",this.hasCloneRestriction)),this.$("a").tooltip({template:'<div class="tooltip add-content-name"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',container:"body",delay:{show:500,hide:0}}),this},events:{"click a":"select"},select:function(e){e.preventDefault(),this.hasCloneRestriction||(this.trigger("preview",this.model.panel),this.model.sidebarState.set("select",this.cid))},_onItemSelected:function(){this.model.sidebarState.get("select")===this.cid?this.$el.addClass("selected"):this.$el.removeClass("selected")},template:'                <a style="padding-left: 48px;" href="#" title="<%- title %>">                    <div class="icons">                        <i class="<%- icon %>"></i>                        <% if (hasPlusIcon) { %><i class="icon-plus"></i><% } %>                    </div>                    <span>                        <%- name %>                    </span>                </a>            '})}.apply(t,n))||(e.exports=s)},"views/dashboard/editor/addcontent/list/items/PrebuiltPanelItem":function(e,t,i){var n,s;n=[e,i("shim/jquery"),i("require/underscore"),i("views/Base"),i("splunkjs/mvc/simplexml/parser"),i("views/dashboard/editor/addcontent/Utils")],void 0===(s=function(e,t,i,n,s,a){return n.extend({moduleId:e.i,tagName:"li",className:"panel-list-item panel-content",initialize:function(e){n.prototype.initialize.apply(this,arguments),this.id=e.id||i.uniqueId("panelref_");try{this.parsedPanel=s.getDefault().parsePanel(this.model.panel.entry.content.get("eai:data")),this.icon=a.getPanelIcon(this.parsedPanel),this.hasPlusIcon=a.getPanelElements(this.parsedPanel).length>1,this.listenTo(this.model.sidebarState,"change:select",this._onItemSelected)}catch(e){this.icon="icon-warning-sign",this.error=e.message||"Invalid Panel"}},render:function(){var e=i(this.model.panel.entry.content.get("panel.title")).t(),t={icon:this.icon,title:this.error&&i(this.error).t()||e,name:e,hasPlusIcon:this.hasPlusIcon};return this.$el.html(this.compiledTemplate(t)),this},events:{"click a":"select"},select:function(e){e.preventDefault(),this.trigger("preview",this.model.panel),this.model.sidebarState.set("select",this.cid)},_onItemSelected:function(){this.model.sidebarState.get("select")===this.cid?this.$el.addClass("selected"):this.$el.removeClass("selected")},template:'                <a href="#" title="<%- title %>">                    <div class="icons">                        <i class="<%- icon %>"></i>                        <% if (hasPlusIcon) { %><i class="icon-plus"></i><% } %>                    </div>                    <span>                        <%- name %>                    </span>                </a>            '})}.apply(t,n))||(e.exports=s)},"views/dashboard/editor/addcontent/list/items/ReportItem":function(e,t,i){var n,s;n=[e,i("shim/jquery"),i("require/underscore"),i("views/Base"),i("shim/splunk.util")],void 0===(s=function(e,t,i,n,s){return n.extend({moduleId:e.i,tagName:"li",className:"report-item panel-content",initialize:function(e){n.prototype.initialize.apply(this,arguments),this.id=e.id||i.uniqueId("report_"),this.listenTo(this.model.sidebarState,"change:select",this._onItemSelected)},render:function(){var e={icon:"icon-"+this._getQualifiedType(),title:i(this.model.report.entry.get("name")).t(),name:i(this.model.report.entry.get("name")).t()};return this.$el.html(this.compiledTemplate(e)),this},_getQualifiedType:function(){var e=this.model.report,t=e.entry.content.get("display.general.type"),i=t,n=e.entry.content.get("vsid"),a=e.entry.content.get("displayview"),r=s.normalizeBoolean(e.entry.content.get("display.general.migratedFromViewState"));if(n&&a&&!r)i=null;else switch(t){case"visualizations":var o=e.entry.content.get("display.visualizations.charting.chart");if("charting"===e.entry.content.get("display.visualizations.type"))switch(o){case"radialGauge":i="gauge-radial";break;case"fillerGauge":i="gauge-filler";break;case"markerGauge":i="gauge-marker";break;default:i="chart-"+o}else i="mapping"===e.entry.content.get("display.visualizations.type")?"location":"single-value";break;case"events":i="list";break;case"statistics":i="table"}return i},events:{"click a":"select"},select:function(e){e.preventDefault(),this.trigger("preview",this.model.report),this.model.sidebarState.set("select",this.cid)},_onItemSelected:function(){this.model.sidebarState.get("select")===this.cid?this.$el.addClass("selected"):this.$el.removeClass("selected")},template:'                <a href="#" title="<%- title %>">                    <div class="icons"><i class="<%- icon %>"></i></div>                    <span>                        <%- name %>                    </span>                </a>            '})}.apply(t,n))||(e.exports=s)},"views/dashboard/editor/addcontent/preview/BasePreview":function(e,t,i){var n,s;n=[i("shim/jquery"),i("require/underscore"),i("views/Base")],void 0===(s=function(e,t,i){return i.extend({initialize:function(e){i.prototype.initialize.apply(this,arguments)},render:function(){var e=this._getTitle();return this.$el.html(this.compiledTemplate({title:e})),this.children.preview=this._getPreview(),this.children.preview.render().$el.appendTo(this.$(".preview-body")),this},_getTitle:function(){return""},_getPreview:function(){},_getPayload:function(){return{}},_isValid:function(){return!0},_addToDashboard:function(e){e.preventDefault(),this._isValid()&&this.trigger("addToDashboard",this._getPayload())},template:'                <div class="header">                    <h3><%- title %></h3>                    <a class="btn btn-primary add-content" href="#"><%- _("Add to Dashboard").t() %></a>                </div>                <div class="preview-body"></div>            ',events:{"click .btn.add-content":"_addToDashboard"}})}.apply(t,n))||(e.exports=s)},"views/dashboard/editor/addcontent/preview/DashboardPanel":function(e,t,i){var n,s;n=[e,i("shim/jquery"),i("require/underscore"),i("require/backbone"),i("views/Base"),i("views/dashboard/editor/addcontent/preview/BasePreview"),i("views/dashboard/editor/addcontent/preview/content/PanelContent")],void 0===(s=function(e,t,i,n,s,a,r){return a.extend({moduleId:e.i,className:"panel_content_preview content-preview",initialize:function(e){a.prototype.initialize.apply(this,arguments),this.model=i.extend({},this.model),this.collection=i.extend({},this.collection),this.deferreds=e.deferreds},render:function(){return a.prototype.render.apply(this,arguments),this.$(".preview-body").addClass("dashboard-row"),this},_getPayload:function(){return{type:"new:element-panel",payload:this.model.parsedPanel}},_getTitle:function(){return i("Preview").t()},_getPreview:function(){return new r({model:this.model,collection:this.collection,deferreds:this.deferreds})}})}.apply(t,n))||(e.exports=s)},"views/dashboard/editor/addcontent/preview/Inline":function(e,t,i){var n,s;n=[e,i("shim/jquery"),i("require/underscore"),i("views/Base"),i("views/dashboard/editor/addcontent/preview/BasePreview"),i("views/dashboard/editor/addcontent/preview/content/InlineContent"),i("models/dashboard/DashboardElementReport"),i("models/search/Report"),i("models/shared/TimeRange"),i("models/Base"),i("splunkjs/mvc/tokenawaremodel"),i("controllers/dashboard/helpers/ModelHelper"),i("helpers/VisualizationRegistry"),i("controllers/dashboard/helpers/ReportModelHelper")],void 0===(s=function(e,t,i,n,s,a,r,o,l,d,h,u,c,p){var m=l.extend({validation:i.extend({earliest_token:function(e,t,i){if("tokens"===i.useTimeFrom&&!e)return"No value specified for earliest token."},latest_token:function(e,t,i){if("tokens"===i.useTimeFrom&&!e)return"No value specified for latest token."}})}),f=h.extend({validation:{search:function(e,t,n){if(!this.get(t,{tokens:!0}))return i("Search string is required").t()}}});return s.extend({moduleId:e.i,className:"panel_content_preview content-preview",initialize:function(e){s.prototype.initialize.apply(this,arguments),this.model=i.extend({},this.model),this.model.content=this._buildContentModel(),this.model.timeRange=new m({earliest:this.model.userPrefGeneralDefault.entry.content.get("default_earliest_time"),latest:this.model.userPrefGeneralDefault.entry.content.get("default_latest_time")}),this.model.timeRange.initialDfd=this.model.timeRange.save()},_buildContentModel:function(){var e=c.getReportSettingsForId(this.model.inline.get("value"));return new f(e,{applyTokensByDefault:!0,retrieveTokensByDefault:!0})},_getPayload:function(){var e=new o;e.entry.content.set(this.model.content.toJSON(),{tokens:!0});var t=r.getVizType(e),n=e.entry.content.get("earliest_time",{tokens:!0}),s=null!=n?n:this.model.timeRange.get("earliest"),a=e.entry.content.get("latest_time",{tokens:!0}),l=null!=a?a:this.model.timeRange.get("latest");return{type:"new:element-inline",payload:{type:"panel",settings:{},children:[{type:t,settings:{},children:[{type:"inline-search",settings:{query:e.entry.content.get("search",{tokens:!0}),earliest:s,latest:l},children:[]}],reportContent:i.extend(e.entry.content.toJSON({tokens:!0}),p.getDisabledDrilldownAttribute(i.defaults(e.entry.content.toJSON({tokens:!0}),this.model.reportDefaults.entry.content.toJSON())))}]}}},_isValid:function(){return i.isUndefined(this.model.content.validate())&&i.isUndefined(this.model.timeRange.validate())},_getTitle:function(){return i("New ").t()+this.model.inline.get("label")},_getPreview:function(){return new a({model:this.model,collection:{timeRanges:u.getCachedModel("times",{app:this.model.application.get("app"),owner:this.model.application.get("owner"),count:-1}),searchBNFs:u.getCachedModel("parsedSearchBNFs",{app:this.model.application.get("app"),owner:this.model.application.get("owner"),count:0})}})}})}.apply(t,n))||(e.exports=s)},"views/dashboard/editor/addcontent/preview/PrebuiltPanel":function(e,t,i){var n,s;n=[e,i("shim/jquery"),i("require/underscore"),i("require/backbone"),i("views/Base"),i("views/dashboard/editor/addcontent/preview/BasePreview"),i("views/dashboard/editor/addcontent/preview/content/PrebuiltPanelContent")],void 0===(s=function(e,t,i,n,s,a,r){return a.extend({moduleId:e.i,className:"panel_content_preview content-preview",initialize:function(e){a.prototype.initialize.apply(this,arguments),this.model=i.extend({},this.model),this.collection=i.extend({},this.collection),this.deferreds=e.deferreds},render:function(){return a.prototype.render.apply(this,arguments),this.$(".preview-body").addClass("dashboard-row"),this},_getPayload:function(){return{type:"new:element-refpanel",payload:{type:"panelref",settings:{ref:this.model.panel.entry.get("name"),app:this.model.panel.entry.content.get("eai:appName")},children:[]}}},_getTitle:function(){return i("Preview").t()},_getPreview:function(){return new r({model:this.model,collection:this.collection,deferreds:this.deferreds})}})}.apply(t,n))||(e.exports=s)},"views/dashboard/editor/addcontent/preview/Report":function(e,t,i){var n,s;n=[e,i("shim/jquery"),i("require/underscore"),i("views/Base"),i("views/dashboard/editor/addcontent/preview/BasePreview"),i("views/dashboard/editor/addcontent/preview/content/ReportContent"),i("controllers/dashboard/helpers/ReportModelHelper")],void 0===(s=function(e,t,i,n,s,a,r){return s.extend({moduleId:e.i,className:"report-preview content-preview",initialize:function(e){s.prototype.initialize.apply(this,arguments),this.model=i.extend({},this.model),this.collection=i.extend({},this.collection)},_getPayload:function(){return{type:"new:element-report",payload:{type:"panel",settings:{},children:[{type:this._getType(),settings:{},children:[{type:"saved-search",settings:{cache:"scheduled",ref:this.model.report.entry.get("name")},children:[]}],reportContent:i.extend({"dashboard.element.title":this.model.report.entry.get("name")},this.getCustomVizNameAttribute(),r.getDisabledDrilldownAttribute(this.model.report.entry.content.toJSON({tokens:!0})))}]}}},_getType:function(){return this.model.report.entry.content.get("dashboard.element.viz.type")},_isCustomViz:function(){return"viz"===this._getType()},getCustomVizNameAttribute:function(){var e="display.visualizations.custom.type",t={};return this._isCustomViz()&&(t[e]=this.model.report.entry.content.get(e,{token:!0})),t},_getTitle:function(){return i("Preview").t()},_getPreview:function(){return new a({model:this.model,collection:this.collection})}})}.apply(t,n))||(e.exports=s)},"views/dashboard/editor/addcontent/preview/content/InlineContent":function(e,t,i){var n,s;n=[e,i("shim/jquery"),i("require/underscore"),i("views/Base"),i("views/shared/controls/ControlGroup"),i("views/shared/FlashMessages"),i("views/dashboard/editor/element/TimeRangePanel"),i("views/shared/controls/SearchTextareaControl"),i("models/dashboard/DashboardElementReport"),i("splunkjs/mvc/utils"),i("util/theme_utils"),i("uri/route")],void 0===(s=function(e,t,i,n,s,a,r,o,l,d,h,u){return n.extend({moduleId:e.i,initialize:function(){n.prototype.initialize.apply(this,arguments),this.children.flashMessages=new a({model:this.model.content}),this.children.panelTitleControlGroup=new s({label:i("Content Title").t(),controlType:"Text",className:"content-title-control control-group",controlOptions:{model:this.model.content,modelAttribute:"dashboard.element.title",placeholder:i("optional").t()}}),this.children.searchField=new o({model:{content:this.model.content,user:this.model.user,application:this.model.application},collection:{searchBNFs:this.collection.searchBNFs},syntaxHighlighting:h.getSearchEditorTheme()}),this.children.panelTimeRangePicker=new r({model:{timeRange:this.model.timeRange,searchModel:this.model.content,state:this.model.state,application:this.model.application,appLocal:this.model.appLocal,user:this.model.user},collection:this.collection,popdownTimeRange:!0}),this.listenTo(this.children.searchField,"runSearch",this.runSearch)},runSearch:function(){var e=this.model.content.get("search"),t={q:e},n=d.getPageInfo();if(e){var s=this.model.content.get("earliest_time",{tokens:!1}),a=this.model.content.get("latest_time",{tokens:!1});i.isUndefined(s)||i.isUndefined(a)||(t.earliest=s,t.latest=a),d.redirect(u.search(n.root,n.locale,n.app,{data:t}),!0)}},render:function(){return this.children.flashMessages.render().appendTo(this.el),this.children.panelTimeRangePicker.render().appendTo(this.el),this.children.panelTitleControlGroup.render().appendTo(this.el),this.children.searchField.render().appendTo(this.el),this}})}.apply(t,n))||(e.exports=s)},"views/dashboard/editor/addcontent/preview/content/PanelContent":function(e,t,i){var n,s;n=[e,i("shim/jquery"),i("require/underscore"),i("require/backbone"),i("views/Base"),i("views/dashboard/layout/PanelRef"),i("dashboard/DashboardFactory"),i("controllers/dashboard/helpers/ModelHelper")],void 0===(s=function(e,t,i,n,s,a,r,o){return s.extend({moduleId:e.i,initialize:function(e){s.prototype.initialize.apply(this,arguments),this.viewOnlyModel=o.getViewOnlyModel(this.model),this.deferreds=e.deferreds,this.managers=[],this.events=[]},render:function(){return"panelref"===this.model.parsedPanel.type?this._renderPrebuiltPanel():this._renderPanel(),this},_renderPanel:function(){r.getDefault().materialize(this.model.parsedPanel,this.$el,{waitForReady:!0,model:this.viewOnlyModel,deferreds:this.deferreds}).then(function(e,t,n,s){this.managers=t,this.events=s,i.each(n,(function(e){this.children[e.id]=e}),this)}.bind(this))},_renderPrebuiltPanel:function(){this.children.refPanel=new a({model:this.viewOnlyModel,deferreds:this.deferreds}),this.children.refPanel.render().$el.appendTo(this.$el),this.children.refPanel.load(this.model.parsedPanel.ref,this.model.parsedPanel.app||this.model.application("app"))},remove:function(){i(this.events).invoke("dispose"),i(this.managers).invoke("dispose"),s.prototype.remove.apply(this,arguments)}})}.apply(t,n))||(e.exports=s)},"views/dashboard/editor/addcontent/preview/content/PrebuiltPanelContent":function(e,t,i){var n,s;n=[e,i("shim/jquery"),i("require/underscore"),i("require/backbone"),i("views/Base"),i("views/shared/documentcontrols/details/Permissions"),i("views/dashboard/layout/PanelRef"),i("controllers/dashboard/helpers/ModelHelper")],void 0===(s=function(e,t,i,n,s,a,r,o){return s.extend({moduleId:e.i,initialize:function(e){s.prototype.initialize.apply(this,arguments),this.deferreds=e.deferreds,this.children.refPanel=new r({model:o.getViewOnlyModel(this.model),deferreds:this.deferreds}),this.children.permissionsView=new a({model:{report:this.model.panel,user:this.model.user}})},render:function(){return this.$el.html(this.compiledTemplate({model:this.model,canUseApps:this.model.user.canUseApps()})),this.children.permissionsView.render().$el.appendTo(this.$("dd.permissions")),this.children.refPanel.render().$el.appendTo(this.$el),this},template:'            <dl class="list-dotted">                <% if(model.panel.entry.content.get("panel.description")) { %>                    <dt class="description"><%- _("Description").t() %></dt>                    <dd class="description"><%- model.panel.entry.content.get("panel.description") %></dd>                <% } %>                <% if(canUseApps) { %>                    <dt class="app"><%- _("App").t() %></dt>                    <dd class="app"><%- model.panel.entry.acl.get("app") %></dd>                <% } %>                <dt class="permissions"><%- _("Permissions").t() %></dt>                    <dd class="permissions"></dd>            </dl>            '})}.apply(t,n))||(e.exports=s)},"views/dashboard/editor/addcontent/preview/content/ReportContent":function(e,t,i){var n,s;n=[e,i("shim/jquery"),i("require/underscore"),i("views/Base"),i("models/dashboard/DashboardElementReport"),i("views/dashboard/element/Body"),i("views/dashboard/editor/addcontent/preview/content/SearchDetail"),i("views/shared/reportcontrols/details/Master"),i("splunkjs/mvc/savedsearchmanager"),i("splunkjs/mvc/tokenawaremodel")],void 0===(s=function(e,t,i,n,s,a,r,o,l,d){return n.extend({moduleId:e.i,initialize:function(){n.prototype.initialize.apply(this,arguments),this.children.reportDetails=new o({model:{report:this.model.report,application:this.model.application,appLocal:this.model.appLocal,user:this.model.user,serverInfo:this.model.serverInfo},collection:this.collection,showLinks:!1}),this.children.searchDetail=new r({model:{report:this.model.report}}),this._createSavedSearch(),this._createVizElement()},_createSavedSearch:function(){this.searchManager=new l({id:"previewSearch",searchname:this.model.report.entry.get("name"),app:this.model.application.get("app"),cancelOnUnload:!0,auto_cancel:90,status_buckets:0,preview:!0,cache:"scheduled"},{replace:!0})},_createVizElement:function(){var e=new d,i=this.model.report.entry.get("name");e.set(this.model.report.entry.content.toJSON({tokens:!0}),{tokens:!0}),this.model.report=new s({delegate:e}),this.model.report.entry.set("name",i),this.children.element=new a({model:this.model,deferreds:{reportReady:t.Deferred().resolve(),vizCreated:t.Deferred()},id:"previewElement",managerid:"previewSearch"},{tokens:!0})},render:function(){this.$el.html(this.compiledTemplate());var e=this.children.reportDetails.render().$el;return this.children.searchDetail.render().$el.appendTo(e),e.prependTo(this.$el),this.children.element.render().$el.appendTo(this.$el.find(".dashboard-panel")),this},remove:function(){this.searchManager&&this.searchManager.dispose(),n.prototype.remove.apply(this,arguments)},template:'            <div class="dashboard-row">                <div class="dashboard-cell">                    <div class="dashboard-panel">                    </div>                </div>            </div>            '})}.apply(t,n))||(e.exports=s)},"views/dashboard/editor/addcontent/preview/content/SearchDetail":function(e,t,i){var n,s;n=[e,i("shim/jquery"),i("require/underscore"),i("views/Base"),i("shim/splunk.util")],void 0===(s=function(e,t,i,n,s){return n.extend({moduleId:e.i,tagName:"span",render:function(){var e=this.model.report.entry.content.get("search");return this.$el.html(this.compiledTemplate({_:i,splunkUtil:s,searchString:e})),this},template:'                    <dt class="acceleration"><%- _("Search String").t() %></dt>                    <dd class="acceleration">                        <%- splunkUtil.sprintf(_("%s").t(), searchString) %>                    </dd>                '})}.apply(t,n))||(e.exports=s)},"views/dashboard/editor/dialogs/ConvertPanel":function(e,t,i){var n,s;n=[e,i("shim/jquery"),i("require/underscore"),i("require/backbone"),i("models/services/data/ui/Panel"),i("views/Base"),i("views/shared/Modal"),i("views/shared/MultiStepModal"),i("views/shared/controls/ControlGroup"),i("views/shared/controls/TextControl"),i("views/shared/FlashMessages"),i("util/splunkd_utils"),i("shim/splunk.util"),i("uri/route")],void 0===(s=function(e,t,i,n,s,a,r,o,l,d,h,u,c,p){c.sprintf;var m=a.extend({className:"step step-create",initialize:function(e){a.prototype.initialize.apply(this,arguments),this.panelComponent=e.panelComponent,this.children.flashMessage=new h({model:{panel:this.model.panelModel}}),this.children.panelNameTextControl=new d({model:this.model.panelProperties,modelAttribute:"panelName"}),this.children.panelName=new l({label:i("ID").t(),controls:this.children.panelNameTextControl,tooltip:i("The ID is used as the filename on disk. Cannot be changed later.").t(),help:i("The prebuilt panel ID can only contain letters, numbers, dashes, and underscores. Do not start the prebuilt panel ID with a period.").t()}),this.children.panelPerm=new l({label:i("Permissions").t(),controlType:"SyntheticRadio",controlOptions:{additionalClassNames:"btn-group-2",items:[{value:"private",label:i("Private").t()},{value:"shared",label:this.model.user.canUseApps()?i("Shared in App").t():i("Shared").t()}],model:this.model.panelProperties,modelAttribute:"panelPerm"}})},render:function(){this.$el.html(r.TEMPLATE),this.$(r.HEADER_TITLE_SELECTOR).html(i("Convert to Prebuilt Panel").t()),this.children.flashMessage.render().prependTo(this.$(r.BODY_SELECTOR)),this.$(r.BODY_SELECTOR).append(r.FORM_HORIZONTAL_JUSTIFIED);var e=this.$(r.BODY_FORM_SELECTOR);return this.children.panelName.render().appendTo(e),this.children.panelPerm.render().appendTo(e),this.$(r.FOOTER_SELECTOR).append(r.BUTTON_CANCEL),this.$(r.FOOTER_SELECTOR).append(r.BUTTON_APPLY),this},setSelected:function(e){this.$el[e?"addClass":"removeClass"]("active-step")},events:{"click .modal-btn-primary":function(e){e.preventDefault(),this.createPrebuiltPanel()}},createPrebuiltPanel:function(){this.model.controller.trigger("edit:make-prebuilt-panel",{panelId:this.panelComponent.id,panelComponent:this.panelComponent,panelModel:this.model.panelModel,panelProperties:this.model.panelProperties})}}),f=a.extend({className:"step step-success",initialize:function(e){a.prototype.initialize.apply(this,arguments)},updateContent:function(){this.$(r.BODY_SELECTOR).html(this.compiledTemplate({msgHTML:i("You may now add your reference panel to other dashboards.").t()}))},render:function(){return this.$el.html(r.TEMPLATE),this.$(r.HEADER_TITLE_SELECTOR).text(i("Your Panel Has Been Created").t()),this.$(r.FOOTER_SELECTOR).append(t('<a href="#" class="btn cancel btn-primary modal-btn-primary pull-right" data-dismiss="modal"></a>').text(i("OK").t())),this},setSelected:function(e){this.$el[e?"addClass":"removeClass"]("active-step")},template:'<p class="convert-panel-success-message"><%= msgHTML %></p>'});return o.extend({moduleId:e.i,initialize:function(e){o.prototype.initialize.apply(this,arguments),this.panelComponent=e.panelComponent,this.model=i.extend({panelModel:new s,panelProperties:new n.Model({panelPerm:"private",panelTitle:this.panelComponent.settings.get("title"),panelName:u.nameFromString(this.panelComponent.settings.get("title"))})},this.model),this.children.createDialog=new m({model:this.model,panelComponent:this.panelComponent}),this.children.successDialog=new f({model:this.model,panelComponent:this.panelComponent}),this.listenTo(this.model.panelModel,"createSuccess",this._onPrebuiltPanelCreated)},_onPrebuiltPanelCreated:function(){this.children.successDialog.updateContent(),this.stepViewStack.setSelectedView(this.children.successDialog)},events:{"hidden.bs.modal":function(e){e.target===this.el&&(this.stepViewStack.remove(),this.remove())}},getStepViews:function(){return[this.children.createDialog,this.children.successDialog]}})}.apply(t,n))||(e.exports=s)},"views/dashboard/editor/dialogs/CreateReport":function(e,t,i){var n,s;n=[i("shim/jquery"),i("require/underscore"),i("require/backbone"),e,i("models/search/Report"),i("views/shared/controls/ControlGroup"),i("views/shared/Modal"),i("views/shared/FlashMessages")],void 0===(s=function(e,t,i,n,s,a,r,o){return r.extend({moduleId:n.i,initialize:function(){r.prototype.initialize.apply(this,arguments),this.model.newReport=new s,this.model.newReport.entry.content.set("name",this.model.report.entry.content.get("dashboard.element.title")),this.children.flashMessagesReport=new o({model:this.model.newReport}),this.on("hide",this.model.newReport.error.clear,this.model.newReport.error),this.children.reportNameControlGroup=new a({label:t("Report Title").t(),controlType:"Text",controlOptions:{model:this.model.newReport.entry.content,modelAttribute:"name"}}),this.children.reportDescriptionControlGroup=new a({label:t("Description").t(),controlType:"Textarea",controlOptions:{model:this.model.newReport.entry.content,modelAttribute:"description",placeholder:t("optional").t()}})},events:e.extend({},r.prototype.events,{"click .modal-btn-primary":"onSave"}),onSave:function(e){e.preventDefault(),this.trigger("saveAsReport",this.model.newReport)},render:function(){this.$el.html(r.TEMPLATE),this.$(r.HEADER_TITLE_SELECTOR).html(t("Convert to Report").t()),this.$(r.BODY_SELECTOR).prepend(this.children.flashMessagesReport.render().el),this.$(r.BODY_SELECTOR).append(r.FORM_HORIZONTAL_JUSTIFIED),this.$(r.BODY_FORM_SELECTOR).append(this.children.reportNameControlGroup.render().el),this.$(r.BODY_FORM_SELECTOR).append(this.children.reportDescriptionControlGroup.render().el),this.$(r.FOOTER_SELECTOR).append(r.BUTTON_CANCEL),this.$(r.FOOTER_SELECTOR).append(r.BUTTON_APPLY)}})}.apply(t,n))||(e.exports=s)},"views/dashboard/editor/dialogs/EditDrilldown":function(e,t,i){"use strict";i(1),Object.defineProperty(t,"__esModule",{value:!0});var n=T(i("require/underscore")),s=T(i(0)),a=i(264),r=T(i("dashboard/components/shared/BackboneProvider")),o=T(i(537)),l=T(i(538)),d=T(i("views/ReactAdapterBase")),h=T(i("dashboard/containers/editor/drilldown/drilldownReducer")),u=T(i("dashboard/containers/editor/drilldown/DrilldownContainer")),c=i("dashboard/containers/editor/drilldown/drilldownActions"),p=i("dashboard/containers/editor/drilldown/search/searchActions"),m=i("dashboard/containers/editor/drilldown/dashboard/dashboardActions"),f=i("dashboard/containers/editor/drilldown/report/reportActions"),g=i("dashboard/containers/editor/drilldown/url/urlActions"),v=i("dashboard/containers/editor/drilldown/tokens/tokensActions"),b=i("controllers/dashboard/helpers/DrilldownStateConverter"),_=i("dashboard/containers/editor/drilldown/drilldownNames"),y=i("dashboard/containers/utils/validators"),w=i("util/env"),k=i("dashboard/containers/editor/drilldown/search/timeRangeOptionNames");function T(e){return e&&e.__esModule?e:{default:e}}t.default=d.default.extend({moduleId:e.i,initialize:function(e){for(var t=e.settings,i=e.eventManager,n=e.model,s=e.collection,r=void 0===s?{}:s,u=arguments.length,c=Array(u>1?u-1:0),p=1;p<u;p++)c[p-1]=arguments[p];d.default.prototype.initialize.apply(this,c),this.eventManager=i,this.settings=t,this.model=n,this.collection=r;var m=[o.default];if(w.DEBUG){var f=(0,l.default)({actionTransformer:function(e){return Object.assign({},e,{type:String(e.type)})},collapsed:!0});m.push(f)}this.store=(0,a.createStore)(h.default,(0,b.createInitialState)({model:this.model,eventManager:this.eventManager}),a.applyMiddleware.apply(void 0,m)),this.updateSettingFromState=this.updateSettingFromState.bind(this),this.remove=this.remove.bind(this),this.bootstrap()},bootstrap:function(){var e=this;this.store.dispatch((0,c.fetchTimeRangePresets)({app:this.model.application.get("app"),owner:this.model.application.get("owner"),count:-1})),this.store.dispatch((0,c.fetchApps)()),this.store.dispatch((0,c.fetchDashboards)({app:this.store.getState().forms[_.LINK_TO_DASHBOARD].activeApp})).then((function(){return e.store.dispatch((0,c.validateLinkToDashboard)())})),this.store.dispatch((0,c.fetchReports)({app:this.store.getState().forms[_.LINK_TO_REPORT].activeApp}))},validate:function(){var e=function(e){return n.default.values(e).some((function(e){return""!==e}))},t=this.store.getState(),i=void 0,s=void 0;switch(t.activeAction){case _.NO_DRILLDOWN:return!0;case _.LINK_TO_SEARCH:return"custom"!==(s=t.forms[_.LINK_TO_SEARCH]).activeOption||(i={searchError:(0,y.stringNotEmpty)(s.search)},s.activeTimeRangeOption===k.TOKEN_OPTION&&Object.assign(i,{earliestTokenError:(0,y.stringNotEmpty)(s.activeTimeRangeToken.earliest),latestTokenError:(0,y.stringNotEmpty)(s.activeTimeRangeToken.latest)}),!e(i))||(this.store.dispatch((0,p.updateLinkToSearchSetting)(i)),!1);case _.LINK_TO_DASHBOARD:return s=t.forms[_.LINK_TO_DASHBOARD],!e(i={activeAppError:(0,y.stringNotEmpty)(s.activeApp),activeDashboardError:(0,y.stringNotEmpty)(s.activeDashboard)})||(this.store.dispatch((0,m.updateLinkToDashboardSetting)(i)),!1);case _.LINK_TO_REPORT:return s=t.forms[_.LINK_TO_REPORT],!e(i={activeAppError:(0,y.stringNotEmpty)(s.activeApp),activeReportError:(0,y.stringNotEmpty)(s.activeReport)})||(this.store.dispatch((0,f.updateLinkToReportSetting)(i)),!1);case _.LINK_TO_CUSTOM_URL:return s=t.forms[_.LINK_TO_CUSTOM_URL],!e(i={urlError:(0,y.stringNotEmpty)(s.url)})||(this.store.dispatch((0,g.updateLinkToURLSetting)(i)),!1);case _.EDIT_TOKENS:return s=t.forms[_.EDIT_TOKENS],0===n.default.filter(s.items,(function(e){return e.type&&e.token})).length&&(i={error:(0,n.default)("Should have at least one token.").t()}),!e(i)||(this.store.dispatch((0,v.updateTokensSetting)(i)),!1);default:return!0}},updateSettingFromState:function(e){var t=this.store.getState();if(t.isSupported){if(!this.validate(t))return;(0,b.applyState)({state:t,settings:this.settings,model:this.model,eventManager:this.eventManager})}e.close()},getComponent:function(){var e=this;return s.default.createElement(r.default,{store:this.store,model:this.model,collection:this.collection},s.default.createElement(u.default,{onApply:this.updateSettingFromState,onClose:function(){n.default.delay(e.remove,300)}}))}}),e.exports=t.default},"views/dashboard/editor/dialogs/EditSearch":function(e,t,i){var n,s;n=[i("require/underscore"),i("shim/jquery"),i("require/backbone"),e,i("views/shared/controls/ControlGroup"),i("views/shared/delegates/ModalTimerangePicker"),i("views/shared/timerangepicker/dialog/Master"),i("views/shared/Modal"),i("models/shared/TimeRange"),i("collections/services/data/ui/Times"),i("shim/splunk.util"),i("splunkjs/mvc/utils"),i("views/Base"),i("uri/route"),i("util/time"),i("shim/bootstrap.tooltip"),i("util/console"),i("splunkjs/mvc"),i("splunkjs/mvc/postprocessmanager"),i("views/shared/FlashMessages"),i("views/shared/controls/SearchTextareaControl"),i("views/dashboard/editor/element/TimeRangePanel"),i("controllers/dashboard/helpers/EditingHelper"),i("controllers/dashboard/helpers/ModelHelper"),i("splunkjs/mvc/tokenawaremodel"),i("util/moment/relative"),i("util/theme_utils"),i("splunkjs/mvc/tokenutils"),i("views/dashboard/editor/dialogs/EditSearch.pcss")],void 0===(s=function(e,t,i,n,s,a,r,o,l,d,h,u,c,p,m,f,g,v,b,_,y,w,k,T,S,x,C,E,M){var R=l.extend({validation:e.extend({earliest_token:function(e,t,i){if("tokens"===i.useTimeFrom&&!e)return"No value specified for earliest token."},latest_token:function(e,t,i){if("tokens"===i.useTimeFrom&&!e)return"No value specified for latest token."}},l.prototype.validation)}),D=S.extend({validation:{search:function(t,i,n){if(!this.get(i,{tokens:!0}))return e("Search string is required").t()},refresh:function(t,i){var n=this.get(i,{tokens:!0});if(n&&!E.hasTokenName(n)&&!x.isRelativeTimeExpression(n))return e("Invalid auto refresh delay").t()}}});return o.extend({moduleId:n.i,className:"modal edit-search-string "+o.CLASS_MODAL_WIDE,initialize:function(t){o.prototype.initialize.apply(this,arguments),this.searchManager=t.searchManager,this.model.searchModel=new D(e.pick(this.searchManager.settings.toJSON({tokens:!0}),["search","earliest_time","latest_time","refresh","refreshType"]),{applyTokensByDefault:!0,retrieveTokensByDefault:!0}),this.model.searchModel.set("refreshDisplay",this.model.report.entry.content.get("dashboard.element.refresh.display")),null!=this.searchManager.settings.get("global_earliest_time",{tokens:!0})&&null!=this.searchManager.settings.get("global_latest_time",{tokens:!0})&&this.model.searchModel.set({earliest_time:this.searchManager.settings.get("global_earliest_time",{tokens:!0}),latest_time:this.searchManager.settings.get("global_latest_time",{tokens:!0})}),this.deferreds=t.deferreds||{},this.children.title=new s({label:e("Title").t(),controlType:"Label",controlOptions:{model:this.model.report.entry.content,modelAttribute:"dashboard.element.title"}}),this.collection=this.collection||{},this.collection.searchBNFs=T.getCachedModel("parsedSearchBNFs",{app:this.model.application.get("app"),owner:this.model.application.get("owner"),count:0}),this.children.searchStringInput=new y({model:{content:this.model.searchModel,user:this.model.user,application:this.model.application},collection:{searchBNFs:this.collection.searchBNFs},syntaxHighlighting:C.getSearchEditorTheme()}),this.listenTo(this.children.searchStringInput,"runSearch",this.runSearch),this.collection.times=new d,this.deferreds.times=this.collection.times.fetch({data:{app:this.model.application.get("app"),owner:this.model.application.get("owner"),count:-1}}),this.model.timeRange=new R,this.children.timeRangePickerView=new r({model:{state:this.model.searchModel,timeRange:this.model.timeRange,application:this.model.application,user:this.model.user,appLocal:this.model.appLocal},collection:this.collection.times,appendSelectDropdownsTo:".modal:visible"}),this.model.timeRange.on("applied",(function(){this.timeRangeDelegate.closeTimeRangePicker()}),this),this.children.panelTimeRangePicker=new w({model:{timeRange:this.model.timeRange,searchModel:this.model.searchModel,state:this.model.state},collection:this.collection.times}),this.listenTo(this.model.timeRange,"change:useTimeFrom",this._updatePanelTimeRangePicker),this.model.refreshProxy=new i.Model;var n=[{label:e("No auto refresh").t(),value:""},{label:e("30 seconds").t(),value:"30s"},{label:e("1 minute").t(),value:"1m"},{label:e("2 minutes").t(),value:"2m"},{label:e("5 minutes").t(),value:"5m"},{label:e("10 minutes").t(),value:"10m"}];this.children.refreshTimeInput=new s({label:e("Auto Refresh Delay").t(),controlType:"SyntheticSelect",tooltip:e("Automatically refresh the search after a specified delay").t(),controlOptions:{model:this.model.refreshProxy,modelAttribute:"selection",items:n.concat({label:e("Custom").t(),value:"_custom"}),popdownOptions:{detachDialog:!0},toggleClassName:"btn"}}),this.children.refreshTimeCustom=new s({controlType:"Text",controlOptions:{model:this.model.searchModel,modelAttribute:"refresh",placeholder:e("eg. 5m").t()}});var a=this.model.searchModel.get("refresh")||"";e(n).chain().pluck("value").contains(a).value()?this.model.refreshProxy.set({selection:a}):this.model.refreshProxy.set({selection:"_custom",customValue:a}),this.listenTo(this.model.refreshProxy,"change",this.updateRefreshInput),this.children.refreshDisplay=new s({label:e("Refresh Indicator").t(),controlType:"SyntheticSelect",controlOptions:{model:this.model.searchModel,modelAttribute:"refreshDisplay",items:[{label:e("None").t(),description:e("Background Search with No Progress Bar").t(),value:"none"},{label:e("Progress bar").t(),description:e("Background Search with Progress Bar").t(),value:"progressbar"},{label:e("Preview and progress bar").t(),description:e("Preview Events with Progress Bar").t(),value:"preview"}],popdownOptions:{detachDialog:!0},toggleClassName:"btn"}}),this.children.flashMessages=new _({model:new i.Model}),this.children.searchFlashMessages=new _({model:this.model.searchModel}),this.openCreateReportDialog=t.openCreateReportDialog},events:t.extend({},o.prototype.events,{"click .modal-btn-primary":function(t){if(t.preventDefault(),this.children.flashMessages.flashMsgCollection.reset(),this.children.searchFlashMessages.flashMsgCollection.reset(),!this.model.searchModel.validate()){var i=this.model.timeRange.validate();if(i)e.each(i,(function(t){this.children.flashMessages.flashMsgCollection.add({key:"token-"+t,type:"error",html:e.escape(e(t).t())})}),this);else{var n=this.model.searchModel.toJSON({tokens:!0});this.trigger("searchUpdated",n),this.model.report.save()}}},"click .btn-convert-to-report":function(e){e.preventDefault(),this.hide();var t=this.openCreateReportDialog({model:this.model,searchManager:this.searchManager}).on("saveAsReport",function(e){this.model.savedReport.entry.set("name",e.entry.content.get("name")),k.saveAsReport(this.searchManager,e,this.model.report,{app:this.model.application.get("app"),owner:this.model.application.get("owner")}).then(function(){this.model.controller.trigger("edit:save-inline-as-report",{searchManagerId:this.searchManager.id}),t.hide()}.bind(this))}.bind(this))}}),runSearch:function(){var e=this.model.searchModel.get("search",{tokens:!1});if(this._mergeSearchIfNecessary(e),e){var t={q:e};this.model.searchModel.has("earliest_time")&&(t.earliest=this.model.searchModel.get("earliest_time",{tokens:!1}||"0"),t.latest=this.model.searchModel.get("latest_time",{tokens:!1})||""),this._redirectToSearchPage(t)}},_redirectToSearchPage:function(e){var t=this.model.application,i=p.search(t.get("root"),t.get("locale"),t.get("app"),{data:e});u.redirect(i,!0)},_isPostProcessSearch:function(){return this.searchManager instanceof b},_mergeSearchIfNecessary:function(e){if(this._isPostProcessSearch()&&this.searchManager&&this.searchManager.parent){var t=this.searchManager.parent.settings.resolve({tokens:!0});return i=t,(n=e)?[i.replace(/[\|\s]$/g,""),n.replace(/^[\|\s]/g,"")].join(" | "):i}var i,n},_updatePanelTimeRangePicker:function(e,t){var i="search"!==(t=t||e.get("useTimeFrom"));this.children.panelTimeRangePicker.$el.toggleClass("hide-time-range-picker",i)},handleSubmitButtonState:function(e){this.$(o.FOOTER_SELECTOR).find(".btn-primary")["pivot"===e.get("elementCreateType")?"addClass":"removeClass"]("disabled")},updateRefreshInput:function(e){var t=e.get("selection");"_custom"==t?this.children.refreshTimeCustom.$el.show():(this.children.refreshTimeCustom.$el.hide(),this.model.searchModel.set("refresh",t,{tokens:!0}))},render:function(){this.$el.html(o.TEMPLATE),this.$(o.HEADER_TITLE_SELECTOR).html(e("Edit Search").t()),this.$(o.BODY_SELECTOR).remove();var i=this.$(o.FOOTER_SELECTOR);i.before('<div class="vis-area"><div class="slide-area"><div class="content-wrapper query-dialog-wrapper"><div class="'+o.BODY_CLASS+'" ></div></div><div class="timerange-picker-wrapper"></div></div></div>'),this.$visArea=this.$(".vis-area").eq(0),this.$slideArea=this.$(".slide-area").eq(0),this.$editSearchContent=this.$(".query-dialog-wrapper").eq(0),this.$timeRangePickerWrapper=this.$(".timerange-picker-wrapper").eq(0),this.$modalParent=this.$el;var n=this.$(o.BODY_SELECTOR);n.prepend(this.children.flashMessages.render().el),n.prepend(this.children.searchFlashMessages.render().el),this.children.searchFlashMessages.$el.addClass("search"),n.append(o.FORM_HORIZONTAL_JUSTIFIED);var s=this.$(o.BODY_FORM_SELECTOR);s.addClass("edit-search-form-main"),this.children.title.render().appendTo(s),this.children.searchStringInput.render().appendTo(s);var r=this.model.timeRange.save({earliest:this.model.searchModel.get("earliest_time",{tokens:!1}||"0"),latest:this.model.searchModel.get("latest_time",{tokens:!1}||"now")});return this._isPostProcessSearch()||(this.children.panelTimeRangePicker.render().appendTo(s),this._updatePanelTimeRangePicker(this.model.timeRange),t.when(this.deferreds.times,r).done(function(){this.children.panelTimeRangePicker.updateTokens(),this.children.panelTimeRangePicker.updateTime()}.bind(this)),this.$timeRangePickerWrapper.append(this.children.timeRangePickerView.render().el),this.timeRangeDelegate=new a({el:this.el,$visArea:this.$visArea,$slideArea:this.$slideArea,$contentWrapper:this.$editSearchContent,$timeRangePickerWrapper:this.$timeRangePickerWrapper,$modalParent:this.$modalParent,$timeRangePicker:this.children.timeRangePickerView.$el,activateSelector:"a.timerange-control",backButtonSelector:"a.btn.back",hideSelectors:[".btn-convert-to-report"]}),this.children.refreshTimeInput.render().appendTo(s),this.children.refreshTimeCustom.render().appendTo(s),this.updateRefreshInput(this.model.refreshProxy)),this.children.refreshDisplay.render().appendTo(s),i.append(o.BUTTON_CANCEL),i.append('<a href="#" class="btn btn-convert-to-report">'+e("Convert to Report").t()+"</a>"),i.append('<a href="#" class="btn btn-primary modal-btn-primary pull-right">'+e("Apply").t()+"</a>"),i.append('<a href="#" class="btn back modal-btn-back pull-left">'+e("Back").t()+"</a>"),this.$(".btn.back").hide(),this}})}.apply(t,n))||(e.exports=s)},"views/dashboard/editor/dialogs/EditSearch.pcss":function(e,t,i){var n=i(545);"string"==typeof n&&(n=[[e.i,n,""]]);var s={sourceMap:!1,hmr:!0,transform:void 0,insertInto:void 0};i(4)(n,s);n.locals&&(e.exports=n.locals)},"views/dashboard/editor/dialogs/SaveAs":function(e,t,i){var n,s;n=[i("shim/jquery"),i("require/underscore"),e,i("views/shared/Modal"),i("views/shared/controls/ControlGroup"),i("models/Base"),i("models/search/Dashboard"),i("views/shared/FlashMessages"),i("util/splunkd_utils"),i("views/shared/controls/TextControl"),i("views/shared/delegates/PairedTextControls")],void 0===(s=function(e,t,i,n,s,a,r,o,l,d,h){return n.extend({moduleId:i.i,initialize:function(){n.prototype.initialize.apply(this,arguments),this.children.flashMessages=new o({model:{dashboard:this.model.dashboard,dashboardMeta:this.model.dashboard.meta}}),this.model.perms=new a({perms:"private"}),this.model.dashboard.meta.set({label:this.model.dashboard.meta.get("label")+t(" Copy").t()}),this.children.titleTextControl=new d({modelAttribute:"label",model:this.model.dashboard.meta,placeholder:t("optional").t(),save:!1}),this.children.filenameTextControl=new d({modelAttribute:"name",model:this.model.dashboard.entry.content,save:!1}),this.children.filenameTextControl.setValue(l.nameFromString(this.model.dashboard.meta.get("label"))),this.children.title=new s({controls:this.children.titleTextControl,label:t("Title").t()}),this.children.filename=new s({controls:this.children.filenameTextControl,label:t("ID").t(),help:t("The dashboard ID can only contain letters, numbers, dashes, and underscores. Do not start the dashboard ID with a period.").t(),tooltip:t("The ID is used as the filename on disk. Cannot be changed later.").t()}),this.children.description=new s({controlType:"Textarea",controlOptions:{modelAttribute:"description",model:this.model.dashboard.meta,placeholder:t("optional").t(),save:!1},label:t("New Description").t()}),this.pairedTextControls=new h({sourceDelegate:this.children.titleTextControl,destDelegate:this.children.filenameTextControl,transformFunction:l.nameFromString});var e=this.model.user.canUseApps()?t("Shared in App").t():t("Shared").t();this.children.permissions=new s({controlType:"SyntheticRadio",controlOptions:{additionalClassNames:"btn-group-2",modelAttribute:"perms",model:this.model.perms,items:[{label:t("Private").t(),value:"private"},{label:e,value:"shared"}],save:!1},label:t("Permissions").t()})},events:e.extend({},n.prototype.events,{"click a.modal-btn-primary":function(e){e.preventDefault(),this.submit()}}),createSuccess:function(){this.trigger("success"),this.hide(),this.remove()},submit:function(){var e=this.model.dashboard;e.meta.validate(),e.meta.isValid()&&("views"===e.entry.content.get("eai:type")&&e.meta.apply(),e.save({},{data:this.model.application.getPermissions(this.model.perms.get("perms")),success:function(e,t){this.createSuccess()}.bind(this)}))},render:function(){return this.$el.html(n.TEMPLATE),this.$(n.HEADER_TITLE_SELECTOR).html(t("Save As Dashboard").t()),this.$(n.BODY_SELECTOR).prepend(this.children.flashMessages.render().el),this.$(n.BODY_SELECTOR).append(n.FORM_HORIZONTAL_JUSTIFIED),this.$(n.BODY_FORM_SELECTOR).append(this.children.title.render().el),this.$(n.BODY_FORM_SELECTOR).append(this.children.filename.render().el),this.$(n.BODY_FORM_SELECTOR).append(this.children.description.render().el),this.$(n.BODY_FORM_SELECTOR).append(this.children.permissions.render().el),this.$(n.FOOTER_SELECTOR).append(n.BUTTON_CANCEL),this.$(n.FOOTER_SELECTOR).append('<a href="#" class="btn btn-primary modal-btn-primary">'+t("Create Dashboard").t()+"</a>"),this}})}.apply(t,n))||(e.exports=s)},"views/dashboard/editor/dialogs/SelectReport":function(e,t,i){var n,s;n=[i("shim/jquery"),i("require/underscore"),i("require/backbone"),e,i("views/shared/controls/ControlGroup"),i("views/shared/Modal"),i("views/shared/FlashMessages"),i("shim/splunk.util"),i("uri/route"),i("collections/search/Reports"),i("splunkjs/mvc/utils"),i("stubs/splunk.config")],void 0===(s=function(e,t,i,n,s,a,r,o,l,d,h,u){return a.extend({moduleId:n.i,initialize:function(e){a.prototype.initialize.apply(this,arguments),this.reportLimit=e.reportLimit,this.model.workingReport=new i.Model,this.model.workingReport.set({title:""}),this.model.workingReport.set("id",this.model.savedReport.get("id")),this.collection.reports.dfd.done(function(){var e=this.collection.reports.map((function(e){return{label:e.entry.get("name"),value:e.id}}));t.some(e,(function(e){return e.value==this.model.savedReport.get("id")}),this)||e.unshift({label:this.model.savedReport.entry.get("name"),value:this.model.savedReport.get("id")});var i=l.reports(this.model.application.get("root"),this.model.application.get("locale"),this.model.application.get("app"));this.collection.reports.length===this.reportLimit?this.children.reportsControlGroup=new s({label:t("Select Report").t(),controlType:"SyntheticSelect",controlOptions:{model:this.model.workingReport,modelAttribute:"id",items:e,toggleClassName:"btn",popdownOptions:{attachDialogTo:".modal:visible",scrollContainer:".modal:visible .modal-body:visible"}},help:t("This does not contain all reports. Add a report that is not listed from ").t()+o.sprintf("<a href=%s>%s</a>.",i,t("Reports").t())}):this.children.reportsControlGroup=new s({label:t("Select Report").t(),controlType:"SyntheticSelect",controlOptions:{model:this.model.workingReport,modelAttribute:"id",items:e,toggleClassName:"btn",popdownOptions:{attachDialogTo:".modal:visible",scrollContainer:".modal:visible .modal-body:visible"}}})}.bind(this)),this.children.panelTitleControlGroup=new s({label:t("Panel Title").t(),controlType:"Text",controlOptions:{model:this.model.workingReport,modelAttribute:"title",placeholder:t("optional").t()}})},events:e.extend({},a.prototype.events,{"click .modal-btn-primary":"onSave"}),onSave:function(e){e.preventDefault(),this.trigger("updateReportID",this.model.workingReport.get("id"),this.model.workingReport.get("title"))},render:function(){this.$el.html(a.TEMPLATE),this.$(a.HEADER_TITLE_SELECTOR).html(t("Select a New Report").t()),this.$(a.BODY_SELECTOR).append(a.FORM_HORIZONTAL_JUSTIFIED),this.$(a.BODY_FORM_SELECTOR).append(a.LOADING_HORIZONTAL),this.$(a.LOADING_SELECTOR).html(t("Loading...").t()),this.collection.reports.dfd.done(t.bind((function(){this.$(a.LOADING_SELECTOR).remove(),this.$(a.BODY_FORM_SELECTOR).append(this.children.reportsControlGroup.render().el),this.$(a.BODY_FORM_SELECTOR).append(this.children.panelTitleControlGroup.render().el)}),this)),this.$(a.FOOTER_SELECTOR).append(a.BUTTON_CANCEL),this.$(a.FOOTER_SELECTOR).append(a.BUTTON_APPLY)}})}.apply(t,n))||(e.exports=s)},"views/dashboard/editor/element/DialogHelper":function(e,t,i){var n,s;n=[i("shim/jquery"),i("require/underscore"),i("shim/splunk.util"),i("views/shared/dialogs/TextDialog"),i("views/dashboard/editor/dialogs/EditDrilldown"),i("views/shared/vizcontrols/trellis/Dialog"),i("views/dashboard/editor/dialogs/EditSearch"),i("views/dashboard/editor/dialogs/CreateReport"),i("views/dashboard/editor/dialogs/SelectReport")],void 0===(s=function(e,t,i,n,s,a,r,o,l){function d(t){var i=new o({model:t.model,searchManager:t.searchManager,onHiddenRemove:!0});return e("body").append(i.render().el),i.show(),i}return{openEditDrilldownDialog:function(t){var i=new s({settings:t.settings,model:t.model,collection:t.collection,eventManager:t.eventManager,onHiddenRemove:!0});return e("body").append(i.render().$el),i},openEditTrellisDialog:function(t){var i=new a({model:t.model,className:"popdown-dialog popdown-dialog-draggable popdown-dialog-trellis",formatterDescription:t.formatterDescription,onHiddenRemove:!0,saveOnApply:t.saveOnApply});return e("body").append(i.render().$el),i.show(t.$target),i},openEditSearchDialog:function(t){var i=new r({model:t.model,searchManager:t.searchManager,openCreateReportDialog:d,onHiddenRemove:!0});return e("body").append(i.render().el),i.show(),i},openCreateReportDialog:d,confirmConvertToInline:function(s){var a=s.isPivot?"Pivot Search":"Inline Search",r=e.Deferred(),o=new n({id:"modal_inline",onHiddenRemove:!0});return o.settings.set("primaryButtonLabel",i.sprintf(t("Clone to %s").t(),a)),o.settings.set("cancelButtonLabel",t("Cancel").t()),o.settings.set("titleLabel",i.sprintf(t("Clone to %s").t(),a)),o.setText("<div>                <p>"+i.sprintf(t("The report will be cloned to %s.").t(),a.toLowerCase())+"</p>                <p>"+i.sprintf(t("The %s:").t(),a.toLowerCase())+"                </p><ul>                <li>"+t("Cannot be scheduled.").t()+"</li>                <li>"+t("Will run every time the dashboard is loaded.").t()+"</li>                <li>"+t("Will use the permissions of the dashboard.").t()+"</li>                </ul>                </div>"),e("body").append(o.render().el),o.once("click:primaryButton",r.resolve),o.once("hide hidden",r.reject),o.show(),r.promise()},openSelectReportDialog:function(t){var i=new l({model:t.model,collection:t.collection,reportLimit:t.reportLimit,onHiddenRemove:!0});return e("body").append(i.render().el),i.show(),i},confirmUseReportSetting:function(i){var s=e.Deferred(),a=new n({id:"modal_use_report_formatting"});return a.settings.set("primaryButtonLabel",t("Use Report's Formatting").t()),a.settings.set("cancelButtonLabel",t("Cancel").t()),a.settings.set("titleLabel",t("Use Report's Formatting").t()),a.setText(t("This will change the content's formatting to the report's formatting. Are you sure you want use the report's formatting?").t()),e("body").append(a.render().el),a.once("click:primaryButton",s.resolve),a.once("hide hidden",s.reject),a.show(),s.promise()}}}.apply(t,n))||(e.exports=s)},"views/dashboard/editor/element/ElementControls":function(e,t,i){var n,s;n=[i("require/underscore"),e,i("views/Base"),i("views/shared/delegates/Popdown"),i("views/dashboard/editor/element/DialogHelper")],void 0===(s=function(e,t,i,n,s){return i.extend({moduleId:t.i,className:"dashboard-element-controls",initialize:function(e){i.prototype.initialize.apply(this,arguments),this.searchManager=e.searchManager,this.eventManager=e.eventManager,this.settings=e.settings},events:{"click a.action-edit-drilldown":function(e){e.preventDefault();var t=s.openEditDrilldownDialog({settings:this.settings,model:this.model,collection:this.collection,eventManager:this.eventManager}).on("drilldownUpdated",function(){this.model.controller.trigger("edit:drilldown",{eventManagerId:this.eventManager.id}),t.hide()}.bind(this));this.children.popdown.hide()}},getTemplateArgs:function(){},render:function(){return this.$el.html(this.compiledTemplate(e.extend({iconClass:this.getIconClass()},this.getTemplateArgs()))),this.children.popdown=new n({el:this.el,mode:"dialog"}),this}})}.apply(t,n))||(e.exports=s)},"views/dashboard/editor/element/InlineSearchControls":function(e,t,i){var n,s;n=[e,i("require/underscore"),i("views/dashboard/editor/element/ElementControls"),i("views/dashboard/editor/element/DialogHelper"),i("controllers/dashboard/helpers/EditingHelper"),i("util/general_utils"),i("shim/bootstrap.tooltip")],void 0===(s=function(e,t,i,n,s,a){return i.extend({moduleId:e.i,events:t.extend(i.prototype.events,{"keydown a.action-edit-search":function(e){13==e.keyCode&&this.onEditSearch(e)},"click a.action-edit-search":"onEditSearch"}),onEditSearch:function(e){e.preventDefault();var i=n.openEditSearchDialog({model:this.model,searchManager:this.searchManager}).on("searchUpdated",function(e){this.searchManager.settings.set(t.omit(e,"refreshDisplay"),{tokens:!0}),this.model.report.entry.content.set("dashboard.element.refresh.display",e.refreshDisplay),this.model.controller.trigger("edit:search",{searchManagerId:this.searchManager.id}),i.hide()}.bind(this));this.children.popdown.hide()},getIconClass:function(){return a.isValidPivotSearch(this.searchManager.settings.resolve())?"icon-pivot":"icon-search-thin"},tooltip:function(e){this.$("a.action-edit-search").tooltip(e)},render:function(){return i.prototype.render.apply(this,arguments),this.tooltip({title:t("Edit search").t()}),this},template:'            <a class="dropdown-toggle action-edit-search btn-pill" href="#">                    <span class="<%- iconClass %>"></span>            </a>        '})}.apply(t,n))||(e.exports=s)},"views/dashboard/editor/element/MiscControlsAdapter":function(e,t,i){"use strict";i(1),Object.defineProperty(t,"__esModule",{value:!0});var n=c(i(0)),s=c(i("shim/jquery")),a=c(i("require/backbone")),r=c(i("views/ReactAdapterBase")),o=c(i("dashboard/components/editor/element/MiscControls")),l=c(i("views/dashboard/editor/element/DialogHelper")),d=c(i("helpers/VisualizationRegistry")),h=c(i("views/shared/viz/schemas/trellis")),u=i("controllers/dashboard/helpers/ReportModelHelper");function c(e){return e&&e.__esModule?e:{default:e}}t.default=r.default.extend({moduleId:e.i,initialize:function(){for(var e,t=arguments.length,i=Array(t),n=0;n<t;n++)i[n]=arguments[n];(e=r.default.prototype.initialize).apply.apply(e,[this].concat(i)),this.state=this.state||new a.default.Model,this.onReportModelChange(),this.listenTo(this.model.report.entry.content,"change",this.onReportModelChange),this.listenTo(this.state,"change",this.render),this.onClickDrilldown=this.onClickDrilldown.bind(this),this.onClickTrellis=this.onClickTrellis.bind(this)},onReportModelChange:function(){var e=d.default.findVisualizationForConfig(this.model.report.entry.content.toJSON());this.state.set("disableDrilldown",!(0,u.isDrilldownSupported)(this.model.report.entry.content.toJSON())||!e||!1===e.supports.drilldown),this.state.set("disableTrellis",!e||!1===e.isSplittable)},onClickDrilldown:function(){var e=this,t=l.default.openEditDrilldownDialog({settings:this.options.settings,model:this.model,collection:this.collection,eventManager:this.options.eventManager});this.listenTo(t,"drilldownUpdated",(function(){e.options.model.controller.trigger("edit:drilldown",{eventManagerId:e.options.eventManager.id}),t.hide()}))},onClickTrellis:function(e){l.default.openEditTrellisDialog({model:this.model,formatterDescription:h.default,saveOnApply:!0,$target:(0,s.default)(e.target)})},getComponent:function(){return n.default.createElement(o.default,{onClickDrilldown:this.onClickDrilldown,onClickTrellis:this.onClickTrellis,disableDrilldown:this.state.get("disableDrilldown"),disableTrellis:this.state.get("disableTrellis")})}}),e.exports=t.default},"views/dashboard/editor/element/SavedSearchControls":function(e,t,i){var n,s;n=[e,i("shim/jquery"),i("require/underscore"),i("views/dashboard/editor/element/ElementControls"),i("views/shared/reportcontrols/details/Master"),i("views/dashboard/editor/element/DialogHelper"),i("controllers/dashboard/helpers/EditingHelper"),i("controllers/dashboard/helpers/ModelHelper"),i("uri/route")],void 0===(s=function(e,t,i,n,s,a,r,o,l){return n.extend({moduleId:e.i,events:i.extend(n.prototype.events,{"click a.viewPanelReport":"onViewPanelReport","click a.edit-schedule, a.edit-acceleration, a.edit-permissions, a.edit-embed":function(e){e.preventDefault(),this.children.popdown.hide()},"click a.cloneSearchReport":function(e){e.preventDefault(),a.confirmConvertToInline({isPivot:this.model.savedReport.isPivotReport()}).then(function(){r.saveAsInlineSearch(this.searchManager,this.model.elementReport,this.model.report,{app:this.model.application.get("app")}),this.model.controller.trigger("edit:save-report-as-inline",{elementId:this.settings.get("id"),searchManagerId:this.searchManager.id})}.bind(this)),this.children.popdown.hide()},"click a.selectNewReport":function(e){e.preventDefault();var t=o.getCachedModel("reports",{app:this.model.application.get("app"),owner:this.model.application.get("owner"),search:"is_visible=1 AND disabled=0",count:100}),n=a.openSelectReportDialog({model:this.model,reportLimit:100,collection:i.extend({},this.collection,{reports:t})}).on("updateReportID",function(e,t){var i=this.settings.get("id");r.updateReportId(this.searchManager,i,this.model.savedReport,e,t,{app:this.model.application.get("app")}).then(function(){this.model.controller.trigger("edit:update-report-id",{searchManagerId:this.searchManager.id,elementId:i}),n.hide()}.bind(this))}.bind(this));this.children.popdown.hide()},"click a.useReportFormatting":function(e){e.preventDefault(),a.confirmUseReportSetting().then(function(){var e=this.settings.get("id");r.useReportSettingsForElement(this.model.elementReport,this.model.savedReport),this.model.controller.trigger("edit:use-report-formatting",{elementId:e})}.bind(this)),this.children.popdown.hide()}}),getIconClass:function(){return this.model.savedReport.isPivotReport()?"icon-report-pivot":"icon-report-search"},getTemplateArgs:function(){return{reportName:this.model.savedReport.entry.get("name")}},tooltip:function(e){this.$("a.viewPanelReport").tooltip(e)},render:function(){return n.prototype.render.apply(this,arguments),this.tooltip({title:i("View report").t()}),this},template:'            <a class="viewPanelReport dropdown-toggle btn-pill" href="#">                    <span class="<%- iconClass %>">            </a>            <div class="dropdown-menu"></div>        ',onViewPanelReport:function(e){e.preventDefault(),e.stopPropagation(),this.tooltip("hide");var n=this.reportDetailsTemplate,a=this.model.application.get("root"),r=this.model.application.get("locale"),o=this.model.application.get("app"),d=this.model.savedReport.openInView(this.model.user),h=l.getViewRouteData(d),u=l.report(a,r,o,{data:{s:this.model.savedReport.get("id")}}),c=h.route(a,r,o,{data:{s:this.model.savedReport.get("id")}});this.$(".dropdown-menu").html(i.template(n,{viewReportLink:u,editReportLink:c,editReportLabel:h.openLabel,_:i})),this.children.reportDetails&&this.children.reportDetails.remove(),this.children.reportDetails=new s({model:{report:this.model.savedReport,application:this.model.application,appLocal:this.model.appLocal,user:this.model.user,serverInfo:this.model.serverInfo},collection:{roles:this.collection.roles,alertActions:this.collection.alertActions}}),this.$(".reportDetails").prepend(t("<li/>").addClass("reportDetailsView").append(this.children.reportDetails.render().el));var p=this.model.savedReport.entry.content.get("description");p&&this.$(".reportDetails").prepend(t("<li/>").addClass("report-description").text(p)),this.$(".reportDetails").prepend(t("<li/>").addClass("report-name").text(this.model.savedReport.entry.get("name"))),this.$(".dropdown-menu").addClass("show-details"),t(window).trigger("resize")},reportDetailsTemplate:'            <div class="arrow"></div>            <ul class="reportDetails">                <li><a target="_blank" rel="noopener noreferrer" href="<%- viewReportLink %>" class="viewSearchReport"><%- _("View").t() %></a></li>                <li><a target="_blank" rel="noopener noreferrer" href="<%- editReportLink %>" class="openSearchReport"><%- editReportLabel %></a></li>                <li><a href="#" class="cloneSearchReport"><%- _("Clone to Inline").t() %></a></li>            </ul>            <ul class="reportActions">                <li><a class="selectNewReport"><%- _("Select New Report").t() %></a></li>                <li><a class="useReportFormatting"><%- _("Use Report\'s Formatting for this Content").t() %></a></li>            </ul>        '})}.apply(t,n))||(e.exports=s)},"views/dashboard/editor/element/TimeRangePanel":function(e,t,i){var n;void 0===(n=function(e,t,n){var s=i("require/underscore"),a=i("views/Base"),r=i("views/shared/controls/ControlGroup"),o=(i("util/console"),i("uri/route"),i("splunkjs/mvc")),l=i("splunkjs/mvc/simpleform/formutils"),d=i("splunkjs/mvc/tokenutils"),h=i("shim/splunk.util"),u=i("views/shared/timerangepicker/Master");return i("views/dashboard/editor/element/TimeRangePanel.pcss"),i("shim/bootstrap.tooltip"),a.extend({moduleId:n.i,className:"control-group",initialize:function(){a.prototype.initialize.apply(this,arguments),this.model.timeRange.on("applied",(function(){this.updateSearchModelTime(),this.updateTime()}),this),!0===this.options.popdownTimeRange&&(this.children.timerange=new u({model:{state:this.model.searchModel,timeRange:this.model.timeRange,appLocal:this.model.appLocal,user:this.model.user,application:this.model.application},collection:this.collection.timeRanges,timerangeClassName:"btn",popdownOptions:{attachDialogTo:".sidebar:not(.first)",scrollContainer:".preview-body"}})),this.initializeUseTimeFrom(),this.children.advancedEarliest=new r({label:s("Earliest Token").t(),controlType:"Text",controlOptions:{model:this.model.timeRange,modelAttribute:"earliest_token"}}),this.children.advancedLatest=new r({label:s("Latest Token").t(),controlType:"Text",controlOptions:{model:this.model.timeRange,modelAttribute:"latest_token"}}),this.listenTo(this.model.timeRange,"change:useTimeFrom change:latest_token change:earliest_token",this.updateTokens,this)},initializeUseTimeFrom:function(){var e=s(o.Components.toJSON()).chain().values().filter((function(e){return!(!l.isFormInput(e)||!e.settings)&&"time"==e.settings.get("type")})).map((function(e){var t=e.settings.get("token")||"global";return{value:t,label:h.sprintf(s("Shared Time Picker (%s)").t(),t)}})).value(),t="search",i=this.model.searchModel.get("earliest_time"),n=this.model.searchModel.get("latest_time");if(d.hasToken(i)&&d.hasToken(n)){var a=d.getTokenName(i),u=a.replace(/\.?earliest$/g,"");u=""===u?"global":u;var c=d.getTokenName(n),p=c.replace(/\.?latest$/g,"");p=""===p?"global":p,this.model.timeRange.set({earliest_token:a,latest_token:c}),t=u===p?s(e).find((function(e){return e.value===u}))?u:"global"===u?"global":"tokens":"tokens"}this.model.timeRange.set({useTimeFrom:t});var m=[[{label:s("Use time picker").t(),value:"search"}],[{label:s("Tokens").t(),value:"tokens"}],[{label:s("Global").t(),value:"global"}]];e.length>0&&m.unshift(e),this.children.timeScope=new r({label:s("Time Range").t(),controlType:"SyntheticSelect",className:"time-range-scope",controlOptions:{additionalClassNames:"time-range-scope-select",toggleClassName:"btn",items:m,model:this.model.timeRange,popdownOptions:{attachDialogTo:".sidebar:not(.first), .modal:visible",scrollContainer:".preview-body, .modal:visible, .modal-body:visible"},modelAttribute:"useTimeFrom",elastic:!0}})},updateSearchModelTime:function(){var e=this.model.timeRange.get("useTimeFrom");if("search"===e)this.model.searchModel.set({earliest_time:this.model.timeRange.get("earliest",{tokens:!0})||0,latest_time:this.model.timeRange.get("latest",{tokens:!0})||""},{tokens:!0});else if("tokens"===e){var t=this.model.timeRange.get("earliest_token"),i=this.model.timeRange.get("latest_token");this.model.searchModel.set({earliest_time:"$"+t+"$",latest_time:"$"+i+"$"},{tokens:!0})}else"global"===e?this.model.searchModel.set({earliest_time:"$earliest$",latest_time:"$latest$"},{tokens:!0}):this.model.searchModel.set({earliest_time:"$"+e+".earliest$",latest_time:"$"+e+".latest$"},{tokens:!0})},updateTokens:function(){this.updateSearchModelTime(),this.toggleTimeRangePicker(),this.toggleAdvancedTokens()},toggleAdvancedTokens:function(){"tokens"===this.model.timeRange.get("useTimeFrom")?(this.children.advancedEarliest.$el.show(),this.children.advancedLatest.$el.show()):(this.children.advancedEarliest.$el.hide(),this.children.advancedLatest.$el.hide())},toggleTimeRangePicker:function(){"search"===this.model.timeRange.get("useTimeFrom")?this.children.timerange?this.children.timerange.$el.show():this.$(".timerange").show():this.children.timerange?this.children.timerange.$el.hide():this.$(".timerange").hide()},updateTime:function(){var e=this.model.timeRange.generateLabel(this.collection);this.$el.find("span.time-label").text(s(e).t())},render:function(){return this.children.timeScope&&this.children.timeScope.render().appendTo(this.el),this.children.advancedEarliest.render().$el.appendTo(this.$el),this.children.advancedLatest.render().$el.appendTo(this.$el),this.children.timerange?this.$el.append(this.children.timerange.render().$el):this.$el.append('<div class="timerange" style="display: block;"><label class="control-label"></label></div>'),this.$("div.timerange").append('<div class="controls"><a href="#" class="btn timerange-control"><span class="time-label"></span><span class="icon-triangle-right-small"></span></a></div>'),this.toggleTimeRangePicker(),this.toggleAdvancedTokens(),this.updateTime(),this}})}.call(t,i,t,e))||(e.exports=n)},"views/dashboard/editor/element/TimeRangePanel.pcss":function(e,t,i){var n=i(544);"string"==typeof n&&(n=[[e.i,n,""]]);var s={sourceMap:!1,hmr:!0,transform:void 0,insertInto:void 0};i(4)(n,s);n.locals&&(e.exports=n.locals)},"views/dashboard/editor/input/InputEditor":function(e,t,i){var n,s;n=[e,i("shim/jquery"),i("require/underscore"),i("views/Base"),i("views/shared/dialogs/TextDialog"),i("views/dashboard/editor/input/InputMenu"),i("shim/splunk.util")],void 0===(s=function(e,t,i,n,s,a,r){return n.extend({moduleId:e.i,initialize:function(e){n.prototype.initialize.apply(this,arguments),this.controller=e.controller,this.inputId=e.inputId,this.inputSettings=e.inputSettings},render:function(){return this.$el.html(this.template),this},events:{"click a.edit-input":"_editInput","click a.delete-input":"_deleteInput"},_editInput:function(e){e.preventDefault();var i=t(e.currentTarget);this.editInputMenu&&this.editInputMenu.shown?this.editInputMenu.hide():(i.addClass("active"),this.editInputMenu=new a({model:this.model,inputSettings:this.inputSettings,onHiddenRemove:!0}),t("body").append(this.editInputMenu.render().el),this.editInputMenu.show(i),this.listenTo(this.editInputMenu,"hide",(function(){i.removeClass("active")})),this.listenTo(this.editInputMenu,"apply",(function(){this.controller.trigger("edit:input",{inputId:this.options.inputId})})))},_deleteInput:function(e){e.preventDefault();var n=new s({id:"modal_delete"});n.settings.set("primaryButtonLabel",i("Delete").t()),n.settings.set("cancelButtonLabel",i("Cancel").t()),n.settings.set("titleLabel",i("Delete").t());var a=t.trim(this.model.get("label"))||r.sprintf(i("the %s input").t(),i(this.model.get("type")).t());n.setText(r.sprintf(i("Are you sure you want to delete %s?").t(),"<em>"+i.escape(a)+"</em>")),n.on("click:primaryButton",function(){this.controller.trigger("edit:delete-input",{inputId:this.inputId}),this.trigger("deleteInput")}.bind(this)),t("body").append(n.render().el),n.show()},template:'<div class="edit-dropdown"><a href="#" class="edit-input" title="'+i("Edit Input").t()+'"><i class="icon-pencil"></i></a><a href="#" class="delete-input" title="'+i("Delete Input").t()+'"><i class="icon-x"></i></a></div>'})}.apply(t,n))||(e.exports=s)},"views/dashboard/editor/input/InputMenu":function(e,t,i){var n,s;n=[e,i("shim/jquery"),i("require/underscore"),i("splunkjs/mvc"),i("splunkjs/mvc/simpleform/edit/editinputmenu"),i("splunkjs/mvc/searchmanager"),i("splunkjs/mvc/savedsearchmanager"),i("splunkjs/mvc/utils"),i("stubs/splunk.config"),i("views/dashboard/editor/input/InputMenu.pcss")],void 0===(s=function(e,t,i,n,s,a,r,o,l,d){return s.extend({moduleId:e.i,className:function(){return i.result(s.prototype,"className")+" dashboard-form-input-editor-popdown"},initialize:function(e){this.inputSettings=e.inputSettings,s.prototype.initialize.apply(this,arguments)},applyChanges:function(){if(this.workingSettings.validate(),this.workingSettings.isValid()){var e=this.model.toJSON({tokens:!0}),t=this.workingSettings.toJSON({tokens:!0});this.model.set(t,{tokens:!0}),this.inputSettings&&this.inputSettings.set(i.pick(t,"search"),{silent:!0,tokens:!0}),this.hide(),this.updateSearchManager(e),this.trigger("apply")}},updateSearchManager:function(e){var t=this.model.get("searchType");if(t&&"inline"!==t&&"postprocess"!==t||null==this.model.get("search",{tokens:!0}))"saved"===t&&this.model.get("searchName")&&(this.model.set("managerid",this.model.get("managerid")||i.uniqueId("populating_saved_search_")),e.searchName!=this.model.get("searchName")&&this.createSavedSearchManager());else{var s=e.managerid,a=n.Components.get(s);!a||a instanceof r?(this.model.set("managerid",this.model.get("managerid")||i.uniqueId("populating_search_")),e.search==this.model.get("search",{tokens:!0})&&e.populating_earliest_time==this.model.get("populating_earliest_time",{tokens:!0})&&e.populating_latest_time==this.model.get("populating_latest_time",{tokens:!0})||this.createInlineSearchManager()):this.updateInlineSearchManager(a)}},updateInlineSearchManager:function(e){e.settings.set({latest_time:this.model.get("populating_latest_time",{tokens:!0}),earliest_time:this.model.get("populating_earliest_time",{tokens:!0}),search:this.model.get("search",{tokens:!0})},{tokens:!0})},createInlineSearchManager:function(){new a({id:this.model.get("managerid"),latest_time:this.model.get("populating_latest_time",{tokens:!0}),earliest_time:this.model.get("populating_earliest_time",{tokens:!0}),search:this.model.get("search",{tokens:!0}),app:o.getCurrentApp(),auto_cancel:90,status_buckets:0,preview:!0,timeFormat:"%s.%Q",wait:0,check_risky_command:l.ENABLE_RISKY_COMMAND_CHECK_DASHBOARD},{replace:!0,tokens:!0})},createSavedSearchManager:function(){new r({id:this.model.get("managerid"),searchname:this.model.get("searchName"),app:o.getCurrentApp(),auto_cancel:90,status_buckets:0,preview:!0,timeFormat:"%s.%Q",wait:0,check_risky_command:l.ENABLE_RISKY_COMMAND_CHECK_DASHBOARD},{replace:!0,tokens:!0})}})}.apply(t,n))||(e.exports=s)},"views/dashboard/editor/input/InputMenu.pcss":function(e,t,i){var n=i(536);"string"==typeof n&&(n=[[e.i,n,""]]);var s={sourceMap:!1,hmr:!0,transform:void 0,insertInto:void 0};i(4)(n,s);n.locals&&(e.exports=n.locals)},"views/dashboard/element/Body":function(e,t,i){var n,s;n=[e,i("shim/jquery"),i("require/underscore"),i("require/backbone"),i("splunkjs/mvc"),i("splunkjs/mvc/tokenawaremodel"),i("views/dashboard/Base"),i("views/dashboard/element/Config"),i("util/dashboard_utils")],void 0===(s=function(e,t,i,n,s,a,r,o,l){return r.extend({moduleId:e.i,viewOptions:{register:!1},className:"panel-body",initialize:function(e){r.prototype.initialize.apply(this,arguments),this.model=i.extend({},e.model),this.deferreds=i.extend({},e.deferreds),this.createVisualization=i.debounce(this.createVisualization),this.listenTo(this.model.report.entry.content,"change:dashboard.element.viz.type",this.createVisualization)},createVisualization:function(){this.deferreds.reportReady.then(function(){this.removeViz();var e=this.model.report.entry.content.get("dashboard.element.viz.type"),n=this.deferreds.vizCreated,s=o[e],a=s.getView();this.applyManagerDefault(s);var r=new a(i.defaults({managerid:this.settings.get("managerid"),reportModel:this.model.report.entry.content,normalizeSettings:!1,el:t("<div />").appendTo(this.$el),resizable:!0,saveOnApply:!0,saveOnResize:!0,enableEditingReportProperty:"dashboard.element.edit",refreshDisplayReportProperty:"dashboard.element.refresh.display"},a.prototype.options));r.render(),this.viz=r,this.listenTo(this.viz,"all",this.trigger),this.trigger("create:visualization",this.viz),n.resolve(r)}.bind(this))},applyManagerDefault:function(e){if(e.managerDefaults){var t=l.getPrimarySearchManager(this.settings.get("managerid"),s.Components);t&&t.settings.set(e.managerDefaults)}},removeViz:function(){this.viz&&(this.stopListening(this.viz),this.viz.remove(),this.viz=null)},remove:function(){this.removeViz(),r.prototype.remove.apply(this,arguments)},render:function(){return this.createVisualization(),this}})}.apply(t,n))||(e.exports=s)},"views/dashboard/element/Config":function(e,t,i){var n;void 0===(n=function(){return{chart:{getView:function(){return i("splunkjs/mvc/chartview")},editable:!0},table:{getView:function(){return i("splunkjs/mvc/tableview")},editable:!0},single:{getView:function(){return i("splunkjs/mvc/singleview")},editable:!0},map:{getView:function(){return i("splunkjs/mvc/splunkmapview")},editable:!0},event:{managerDefaults:{status_buckets:300},getView:function(){return i("splunkjs/mvc/eventsviewerview")},editable:!0},viz:{getView:function(){return i("splunkjs/mvc/visualizationview")},editable:!0}}}.apply(t,[]))||(e.exports=n)},"views/dashboard/element/DashboardElement":function(e,t,i){var n,s;n=[i("shim/jquery"),i("require/underscore"),i("require/backbone"),e,i("views/dashboard/Base"),i("views/dashboard/element/Header"),i("views/dashboard/element/Body"),i("views/dashboard/element/Footer"),i("views/dashboard/element/ElementAutoRefresh"),i("models/search/Report"),i("models/dashboard/DashboardElementReport"),i("models/dashboard/DashboardElementModel"),i("dashboard/mixins/EventManagerMixin"),i("dashboard/mixins/SearchManagerMixin"),i("splunkjs/mvc"),i("splunkjs/mvc/savedsearchmanager"),i("splunkjs/mvc/postprocessmanager"),i("splunkjs/mvc/simplexml/dashboard/tokendeps"),i("splunkjs/mvc/utils"),i("util/dashboard_utils"),i("util/Profiler")],void 0===(s=function(e,t,i,n,s,a,r,o,l,d,h,u,c,p,m,f,g,v,b,_,y){return s.extend(t.extend({},v,c,p,{moduleId:n.i,_isDashboardElement:!0,className:"dashboard-element",omitFromSettings:["reportContent"],constructor:function(e,i){return e=e||{},i=t.extend({tokens:!0,tokenNamespace:"submitted"},i),e.id=e.reportContent["dashboard.element.id"]||e.id,s.prototype.constructor.call(this,e,i)},initialize:function(n){s.prototype.initialize.apply(this,arguments),this.model=t.extend({primarySearchMessages:new i.Model,secondarySearchMessages:new i.Model},n.model),this.collection=t.extend({},n.collection),this.deferreds=t.extend({},n.deferreds),this.model.elementState=new i.Model,this.model.managerReportContent=new i.Model,this.deferreds.vizCreated=e.Deferred(),this._setupReportModel(),this.listenTo(this.model.report.entry.content,"change:dashboard.element.viz.type",this._updateVizTypeClass),this.listenTo(this.model.report.entry.content,"change:dashboard.element.viz.type",(function(){this.deferreds.vizCreated=e.Deferred()})),this.listenTo(this.model.report.entry.content,h.getTypeChangeEvents().join(" "),(function(){this.model.secondarySearchMessages.clear()})),this.children.header=new a({model:this.model,collection:this.collection,settings:this.settings,deferreds:this.deferreds,id:t.uniqueId(this.id+"-header-")}),this.children.body=new r({model:this.model,collection:this.collection,settings:this.settings,deferreds:this.deferreds,id:t.uniqueId(this.id+"-body-")}),this.children.footer=new o({model:this.model,collection:this.collection,settings:this.settings,deferreds:this.deferreds,id:t.uniqueId(this.id+"-footer-")}),this.listenTo(this.children.body,"all",this.trigger),this.listenTo(this.children.body,"searchMessageUpdate",this.onSearchMessagesUpdate),this.listenTo(this.model.state,"change:mode",this.onModeChange),this.setupTokenDependencies(),this.setupSearchManager(),this.setupEventManager(),this.setupProfiler()},onSearchMessagesUpdate:function(e,t,i){"primary"!=e.getType()&&_.updateSearchMessage(this.model.secondarySearchMessages,e.id,t,i)},setupProfiler:function(){if(y.isEnabled()){var e=y.get("Dashboard").module(n.i,{element_id:this.id});e.profileFunctions(this,"_setupReportModel","onSearchManagerChanged","render");var t=e.newTimer();this.componentReady().then(function(){e.log({type:this.getVisualizationType()||"unknown",function:"componentReady",duration:t.fromNow()})}.bind(this))}},_setupReportModel:function(){this.model.elementReport=new u({},{tokenNamespace:"submitted",state:this.model.state}),this.model.elementReport.set(this.options.reportContent,{tokens:!0}),this._settingsSync=b.syncModels(this.settings,this.model.elementReport,{auto:!0,prefix:"dashboard.element."}),this.model.report=new h({delegate:this.model.elementReport}),this.model.savedReport=new d,this.deferreds.reportReady=e.Deferred(),this.settings.has("managerid")||this._applyReportDefaults()},_setupAutoRefresh:function(e){this._autoRefresh&&this._autoRefresh.dispose(),e&&(this._autoRefresh=new l(this.settings,e))},onSearchManagerChanged:function(e){var i=t.find(e,(function(e){return"primary"===e.getType()}));this._setupAutoRefresh(i);var n,s,a,r=this.deferreds.reportReady;if(i){if(i instanceof f){var o=this.model.savedReport,l=i.get("searchname");o.id=["","servicesNS",encodeURIComponent(this.model.application.get("owner")),encodeURIComponent(this.model.application.get("app")),"saved","searches",encodeURIComponent(l)].join("/"),s=o,n=o.entry.content,a=o.fetch()}else s=this.model.reportDefaults,n=this.model.reportDefaults.entry.content,a=this.deferreds.reportDefaults;a.then(function(){this._applyManagerReportProperties(i),this.model.report.setReportDelegate(s);var e=this.model.report.entry.content;e.removeDelegate(this.model.reportDefaults.entry.content,{silent:!0}),e.removeDelegate(this.model.savedReport.entry.content,{silent:!0}),e.addDelegate(n),r.resolve()}.bind(this),this._applyReportDefaults.bind(this))}else this.model.report.clearReportDelegate()},_applyReportDefaults:function(){this.deferreds.reportDefaults.then(function(){this.model.report.setReportDelegate(this.model.reportDefaults),this.model.report.entry.content.addDelegate(this.model.reportDefaults.entry.content),this.deferreds.reportReady.resolve()}.bind(this))},_applyManagerReportProperties:function(e){this.model.report.entry.content.removeDelegate(this.model.managerReportContent,{silent:!0}),this.model.managerReportContent.clear();var i={};e instanceof f?(i["display.general.search.type"]="saved",t.extend(i,{search:e.settings.resolve({tokens:!0})})):(e instanceof g?(i["display.general.search.type"]="postprocess",i["display.general.search.postProcessSearch"]=e.settings.postProcessResolve({tokens:!0})):i["display.general.search.type"]=e.has("metadata")&&e.get("metadata").global?"global":"inline",t.extend(i,{search:e.settings.resolve({tokens:!0}),"dispatch.earliest_time":e.get("earliest_time",{tokens:!0}),"dispatch.latest_time":e.get("latest_time",{tokens:!0})})),this.model.managerReportContent.set(i),this.model.report.entry.content.addDelegate(this.model.managerReportContent,{silent:!0})},_updateVizTypeClass:function(){var e=this.className+" "+(this.getVisualizationType()||"unknown");this.$el.hasClass("hidden")&&(e+=" hidden"),this.$el.attr("class",e)},render:function(){return this.children.header.render().$el.appendTo(this.$el),this.children.body.render().$el.appendTo(this.$el),this.children.footer.render().$el.appendTo(this.$el),this._updateVizTypeClass(),this.onModeChange(),this.setupActiveStateHandler(),this},setupActiveStateHandler:function(){this.$el.attr("tabindex",0),this.$el.hover(this.activate.bind(this),this.deActivate.bind(this)),this.$el.focusin(this.activate.bind(this)),this.$el.focusout(function(t){var i=this.$el.find(".btn-pill:not(.hidden)").last()[0];(null==i&&this.$el[0]===e(t.target)[0]||i===e(t.target)[0])&&this.deActivate()}.bind(this))},activate:function(){this.$el.addClass("active")},deActivate:function(){this.$el.removeClass("active")},onModeChange:function(){this.$el.trigger("elementVisibilityChanged");var e=this.model.state.get("mode");switch(this.model.report.setEditable("edit"===e),e){case"edit":this.listenTo(this.model.report,"save",(function(){this.model.controller.trigger("edit:element",{elementId:this.model.elementReport.get("dashboard.element.id")})}));break;default:this.stopListening(this.model.report,"save")}},getVisualizationType:function(){return this.model.report.entry.content.get("dashboard.element.viz.type")},getVisualization:function(e){var t=this.deferreds.vizCreated;return e&&t.done(e),t},componentReady:function(){return e.when(this.deferreds.reportReady,this.deferreds.vizCreated,this.onEventManagerReady())},remove:function(){this._autoRefresh&&this._autoRefresh.dispose(),this._settingsSync&&this._settingsSync.destroy(),this.stopListeningToTokenDependencyChange(),s.prototype.remove.apply(this,arguments)},show:function(){s.prototype.show.apply(this,arguments),this.children.body.viz&&this.children.body.viz.render()}}))}.apply(t,n))||(e.exports=s)},"views/dashboard/element/ElementAutoRefresh":function(e,t,i){var n,s;n=[i("require/underscore"),i("require/backbone")],void 0===(s=function(e,t){function i(){this.initialize.apply(this,arguments)}return e.extend(i.prototype,t.Events,{initialize:function(e,t){this.settings=e,this.manager=t,this.listenTo(e,"change:refresh.auto.interval",this.refreshAfterTimeout),this.listenTo(t,"search:done"),this.refreshAfterTimeout()},clearTimer:function(){clearTimeout(this.timer)},refreshAfterTimeout:function(){this.clearTimer();var t=parseInt(this.settings.get("refresh.auto.interval"),10);e.isNumber(t)&&!e.isNaN(t)&&t>0&&(this.timer=setTimeout(this.refresh.bind(this),1e3*t))},refresh:function(){this.manager.startSearch("refresh"),this.refreshAfterTimeout()},dispose:function(){this.stopListening(),this.clearTimer()}}),i}.apply(t,n))||(e.exports=s)},"views/dashboard/element/Footer":function(e,t,i){var n,s;n=[e,i("shim/jquery"),i("require/underscore"),i("require/backbone"),i("views/Base"),i("views/dashboard/Base"),i("views/dashboard/element/TimeIndicator"),i("views/shared/jobstatus/buttons/ExportResultsDialog"),i("models/search/Job"),i("splunkjs/mvc/postprocessmanager"),i("splunkjs/mvc/savedsearchmanager"),i("splunkjs/mvc/utils"),i("util/general_utils"),i("util/keyboard"),i("shim/splunk.util"),i("shim/splunk.window"),i("uri/route")],void 0===(s=function(e,t,i,n,s,a,r,o,l,d,h,u,c,p,m,f,g){var v=s.extend({tagName:"a",className:"btn-pill",defaults:{enabled:!0,visible:!0},initialize:function(e){s.prototype.initialize.apply(this,arguments),this.listenTo(this.model,"change",this.render)},render:function(){var e=i.defaults(this.model.toJSON(),this.defaults);return e.clazz=e.clazz||e.id,this.$el[e.enabled?"removeClass":"addClass"]("disabled"),this.$el[e.visible?"removeClass":"addClass"]("hidden"),this.$el[e.visible?"show":"hide"](),this.$el.addClass(e.clazz),this.$el.attr("title",e.text),this.$el.attr("tabindex",0),this.$el.attr("href","#"),this.$el.attr("aria-label",e.text),this.$el.html(this.compiledTemplate(e)),this.$el.tooltip("destroy"),e.visible&&this.$el.tooltip({animation:!1,container:"body"}),this},events:{click:"_onButtonClick",keyup:function(e){e.which===p.KEYS.ENTER&&this._onButtonClick(e)}},_onButtonClick:function(e){if(e.preventDefault(),!1!==this.model.get("enabled")){var t=this.model.get("action")||this.model.get("id");this.trigger(t)}},template:'                <i class="<%- icon %>"></i>                <span class="hide-text"><%- text %></span>                '}),b=s.extend({tagName:"span",className:"search-stopped-indicator",initialize:function(){s.prototype.initialize.apply(this,arguments),this.listenTo(this.model,"change",this.toggle)},toggle:function(){var e=this.model.get("finalizedByUser");this.$el.toggle(e)},render:function(){return this.$el.text(this.model.get("text")),this.toggle(),this}});return a.extend({moduleId:e.i,className:"element-footer",viewOptions:{register:!1},initialize:function(e){a.prototype.initialize.apply(this,arguments),this.model=i.extend({},this.model,{menus:{search:new n.Model({id:"search",icon:"icon-search",text:i("Open in Search").t()}),pivot:new n.Model({id:"pivot",icon:"icon-pivot",text:i("Open in Pivot").t()}),export:new n.Model({id:"export",icon:"icon-export",text:i("Export").t()}),inspect:new n.Model({id:"inspect",icon:"icon-info",text:i("Inspect").t()}),refresh:new n.Model({id:"refresh",icon:"icon-rotate-counter",text:i("Refresh").t()}),searchFinalized:new n.Model({id:"searchFinalized",text:i("Stopped").t(),finalizedByUser:!1}),stopSearch:new n.Model({id:"stopSearch",icon:"icon-stop",text:i("Stop").t(),visible:!1})}}),this.searchJobModel=new l,this.bindToComponentSetting("managerid",this.onManagerChange,this),this.listenTo(this.settings,"change",this.render),this.deferreds=i.extend({},e.deferreds),this.reportReady=this.deferreds.reportReady||t.Deferred().resolve(),"pending"===this.reportReady.state()&&this.reportReady.then(this.render.bind(this))},onManagerChange:function(e){this.manager&&this.stopListening(this.manager);var t=i.find(e,(function(e){return"primary"===e.getType()}));t&&(this.manager=t,this.listenTo(this.manager,"search:start",this._onSearchStart),this.listenTo(this.manager,"search:done",this._onSearchDone),this.manager.hasJob()&&this._onSearchStart(),this.manager.replayLastSearchEvent(this))},render:function(){return"resolved"===this.reportReady.state()&&(this.$el.html(this.compiledTemplate()),this.$menus=this.$el.children(".menus"),this.removeChildren(),this._renderMenus(),this._renderRefreshIndicator(),this.$el[i.isEmpty(this.children)?"addClass":"removeClass"]("hidden")),this},_renderMenus:function(){if(this.model.report.isPivotReport())this.resolveBooleanOptions("link.openPivot.visible","link.visible",!0)&&this.model.user.canPivot()&&(this.children.pivot=new v({model:this.model.menus.pivot}),this._renderMenu(this.children.pivot));else if(this.resolveBooleanOptions("link.openSearch.visible","link.visible",!0)){if(this.settings.get("link.openSearch.text"))this.model.menus.search.set("text",this.settings.get("link.openSearch.text"));else{var e=this.model.report.openInView(this.model.user),t=g.getViewRouteData(e,this.collection.appLocals);this.model.menus.search.set("text",t.openLabel)}this.children.search=new v({model:this.model.menus.search}),this._renderMenu(this.children.search)}this.resolveBooleanOptions("link.exportResults.visible","link.visible",!0)&&this.model.user.canExportResults()&&(this.children.export=new v({model:this.model.menus.export}),this._renderMenu(this.children.export)),this.resolveBooleanOptions("link.inspectSearch.visible","link.visible",!0)&&(this.children.inspect=new v({model:this.model.menus.inspect}),this._renderMenu(this.children.inspect)),this.resolveBooleanOptions("refresh.link.visible","link.visible",!0)&&(this.children.refresh=new v({model:this.model.menus.refresh}),this._renderMenu(this.children.refresh)),this.resolveBooleanOptions("link.stopSearch.visible","link.visible",!0)&&(this.children.searchStoppedIndicator=new b({model:this.model.menus.searchFinalized}),this._renderMenu(this.children.searchStoppedIndicator),this.children.stopSearch=new v({model:this.model.menus.stopSearch}),this._renderMenu(this.children.stopSearch),this.listenTo(this.searchJobModel.entry.content,"change",(function(){var e=!!this.searchJobModel.entry.content.get("isFinalized"),t=!e;this.model.menus.searchFinalized.set("finalizedByUser",e),this.children.refreshIndicator.$el.toggle(t)})))},_renderMenu:function(e){e.render().$el.appendTo(this.$menus),this.listenTo(e,"all",this._handleAction)},_renderRefreshIndicator:function(){this.settings.has("managerid")&&(this.children.refreshIndicator=new r({id:i.uniqueId(this.id+"-refreshtime"),el:t('<div class="refresh-time-indicator"></div>'),managerid:this.settings.get("managerid"),"refresh.time.visible":c.normalizeBoolean(this.settings.get("refresh.time.visible"),{default:!0})}),this.children.refreshIndicator.render().$el.appendTo(this.$menus))},_handleAction:function(e){switch(e){case"search":this._openSearch();break;case"pivot":this._openPivot();break;case"export":this._export();break;case"inspect":this._inspect();break;case"refresh":this._refresh();break;case"stopSearch":this._stopSearch()}},_onSearchStart:function(){var e=this.manager.getSid();this.searchJobModel.set("id",e),i.each(i.omit(this.model.menus,"export"),(function(e,t){e.set("visible",!0)}),this),this.children.export&&(this.manager instanceof d?this.model.menus.export.set({title:i("Export - You cannot export results for post-process jobs.").t(),enabled:!1,visible:!0}):this.model.menus.export.set({enabled:!1,visible:!0})),this.children.stopSearch&&(this.model.menus.searchFinalized.set("finalizedByUser",!1),this.model.menus.stopSearch.set("visible",!0),this.model.menus.refresh.set("visible",!1))},_onSearchDone:function(){var e=this.manager.getJobResponse();this.searchJobModel.setFromSplunkD(e),this.children.export&&(this.manager instanceof d||this.model.menus.export.set({title:i("Export").t(),enabled:!0})),this.children.stopSearch&&(this.model.menus.stopSearch.set("visible",!1),this.model.menus.refresh.set("visible",!0))},_getTimeRange:function(e,t){if(e instanceof d)return this._getTimeRange(e.parent,!0);var i={};if(null!=e.settings.get("global_earliest_time",{tokens:!0})&&null!=e.settings.get("global_latest_time",{tokens:!0})?(i.earliest=e.settings.get("global_earliest_time",{tokens:!1}),i.latest=e.settings.get("global_latest_time",{tokens:!1})):(i.earliest=e.settings.get("earliest_time",{tokens:!1}),i.latest=e.settings.get("latest_time",{tokens:!1})),!t){var n=e.get("data");null!=n.earliestTime&&(i.earliest=m.getEpochTimeFromISO(n.earliestTime)),null!=n.latestTime&&(i.latest=m.getEpochTimeFromISO(n.latestTime))}return i},_openSearch:function(){var e=this.manager,t={},n=this._getTimeRange(this.manager),s={earliest:this.settings.get("link.openSearch.searchEarliestTime"),latest:this.settings.get("link.openSearch.searchLatestTime")};i.defaults(s,n),null!=s.earliest&&(t.earliest=s.earliest),null!=s.latest&&(t.latest=s.latest),this.settings.has("link.openSearch.search")?t.q=this.settings.get("link.openSearch.search"):this.settings.get("link.openSearch.viewTarget")?t={sid:this.searchJobModel.get("id")}:(t.sid=this.searchJobModel.get("id"),t.q=e.settings.resolve(),e instanceof h&&(t.s=e.get("searchname")));var a=this.settings.get("link.openSearch.viewTarget"),r=this.model.report.openInView(this.model.user),o=g.getViewRouteData(r,this.collection.appLocals),l=a?g.page(this.model.application.get("root"),this.model.application.get("locale"),this.model.application.get("app"),a,{data:t}):o.route(this.model.application.get("root"),this.model.application.get("locale"),this.model.application.get("app"),{data:t});u.redirect(l,!0,void 0,!0)},_openPivot:function(){var e,t,i=this.model.application;this.model.report.has("id")?e={s:this.model.report.get("id")}:e={q:this.model.report.entry.content.get("search")};this.model.report.entry.content.has("dispatch.earliest_time")&&(e.earliest=this.model.report.entry.content.get("dispatch.earliest_time"),e.latedst=this.model.report.entry.content.get("dispatch.latest_time")),t=g.pivot(i.get("root"),i.get("locale"),i.get("app"),{data:e}),u.redirect(t,!0,void 0,!0)},_export:function(){var e=new o({model:{searchJob:this.searchJobModel,application:this.model.application,report:this.model.report},usePanelType:!0,onHiddenRemove:!0});e.render().appendTo(t("body")),e.show()},_inspect:function(){var e=this.model.application,t=g.jobInspector(e.get("root"),e.get("locale"),e.get("app"),this.searchJobModel.get("id"));f.open(t,"splunk_job_inspector",{width:870,height:560,menubar:!1})},_refresh:function(){for(var e=this.manager;e instanceof d;)e=e.parent;e.startSearch({refresh:!0})},_stopSearch:function(){for(var e=this.manager;e instanceof d;)e=e.parent;this.model.menus.searchFinalized.set("finalizedByUser",!0),this.model.menus.stopSearch.set("visible",!1),this.model.menus.refresh.set("visible",!0),e.finalize()},resolveBooleanOptions:function(){for(var e,t=this.settings,i=0,n=arguments.length-1;i<n;i++)if(null!=(e=t.get(arguments[i])))return c.normalizeBoolean(e);return c.normalizeBoolean(arguments[arguments.length-1])},template:'<div class="menus"></div>'})}.apply(t,n))||(e.exports=s)},"views/dashboard/element/Header":function(e,t,i){var n,s;n=[e,i("shim/jquery"),i("require/underscore"),i("views/dashboard/Base"),i("views/dashboard/element/Title"),i("views/dashboard/editor/TitleEditor"),i("views/dashboard/editor/ElementEditor"),i("views/dashboard/element/ProgressBar"),i("views/dashboard/element/SearchMessages"),i("views/dashboard/element/Header.pcssm")],void 0===(s=function(e,t,i,n,s,a,r,o,l,d){return n.extend({moduleId:e.i,viewOptions:{register:!1},className:"panel-head",initialize:function(e){n.prototype.initialize.apply(this,arguments),this.deferreds=e.deferreds,this.reportReady=this.deferreds.reportReady||t.Deferred().resolve(),this.searchBNFsReady=this.deferreds.searchBNFs||t.Deferred().resolve(),this.listenTo(this.model.state,"change:mode",this.onModeChange),this.listenTo(this.model.elementState,"edit:title",(function(){this.children.titleEditor&&this.children.titleEditor.focus()}))},render:function(){this.$el.html(this.compiledTemplate()),this._renderProgressBar(),this._renderSearchMessages(),this.onModeChange()},onModeChange:function(){switch(this._resetComponents(),this.model.state.get("mode")){case"view":this._renderTitle();break;case"edit":t.when(this.reportReady,this.searchBNFsReady).done(function(){this._renderTitleEditor(),this._renderElementEditor()}.bind(this))}},_resetComponents:function(){this.$("h3.title-editor-container").length&&this.$("h3.title-editor-container").remove(),this.children.title&&(this.children.title.remove(),this.children.title=null),this.children.titleEditor&&(this.stopListening(this.children.titleEditor),this.children.titleEditor.remove(),this.children.titleEditor=null),this.children.elementEditor&&(this.children.elementEditor.remove(),this.children.elementEditor=null),this.stopListening(this.model.report),this.stopListening(this.model.elementReport)},_renderProgressBar:function(){this.children.progressBar&&this.children.progressBar.remove(),this.children.progressBar=new o({id:i.uniqueId(this.id+"progressbar-"),managerid:this.settings.get("managerid"),model:{report:this.model.report},el:t('<div class="progress-container pull-right"></div>')}),this.children.progressBar.render().$el.appendTo(this.$el)},_renderSearchMessages:function(){this.children.searchMessages&&this.children.searchMessages.remove(),this.children.searchMessages=new l({managerid:this.settings.get("managerid"),model:{application:this.model.application,report:this.model.report,primarySearchMessages:this.model.primarySearchMessages,secondarySearchMessages:this.model.secondarySearchMessages}}),this.children.searchMessages.render().$el.appendTo(this.$el)},_renderTitle:function(){this.children.title=new s({model:this.model.elementReport,attribute:"dashboard.element.title"}),this.children.title.render().appendTo(this.$el)},_renderTitleEditor:function(){this.children.titleEditor=new a({model:this.model.elementReport,attribute:"dashboard.element.title",placeholder:i("No title").t()});var e=t('<h3 class="title-editor-container" />').addClass(d.flexGrow).appendTo(this.$("."+d.container));this.children.titleEditor.render().$el.appendTo(e),this.listenTo(this.children.titleEditor,"change:title",(function(){this.model.controller.trigger("edit:element",{elementId:this.model.elementReport.get("dashboard.element.id")})}))},_renderElementEditor:function(){this.children.elementEditor=new r({model:this.model,collection:this.collection,settings:this.settings}),this.children.elementEditor.render().$el.appendTo(this.$("."+d.container))},template:'<div class="'+d.container+'"></div>'})}.apply(t,n))||(e.exports=s)},"views/dashboard/element/Header.pcssm":function(e,t,i){var n=i(547);"string"==typeof n&&(n=[[e.i,n,""]]);var s={sourceMap:!1,hmr:!0,transform:void 0,insertInto:void 0};i(4)(n,s);n.locals&&(e.exports=n.locals)},"views/dashboard/element/Html":function(e,t,i){var n,s;n=[e,i("shim/jquery"),i("require/underscore"),i("views/dashboard/Base"),i("splunkjs/mvc/tokenawaremodel"),i("splunkjs/mvc/tokenutils"),i("splunkjs/mvc/messages"),i("shim/splunk.util"),i("splunkjs/mvc/utils"),i("splunkjs/mvc/simplexml/dashboard/tokendeps"),i("util/dashboard_utils"),i("uri/route"),i("util/htmlcleaner"),i("util/xml")],void 0===(s=function(e,t,i,n,s,a,r,o,l,d,h,u,c,p){var m={a:["href"],iframe:["src","srcdoc"],img:["src"]};return n.extend(i.extend({},d,{moduleId:e.i,viewOptions:{register:!0},className:"dashboard-element html",initialize:function(){n.prototype.initialize.apply(this,arguments),this.elementModel=new s({},{retainUnmatchedTokens:!0,tokenEscaper:a.getEscaper("html"),allowNoEscape:!1}),l.syncModels(this.settings,this.elementModel,{include:["html","serverSideInclude","tokenDependencies","useTokens"],auto:"push"}),this.listenTo(this.settings,"change:serverSideInclude",this.getStaticFile),this.listenTo(this.model.state,"change:mode",this.handleModeChange),this.settings.has("serverSideInclude")?(this.contentLoadedDfd=t.Deferred(),i.defer(i.bind(this.getStaticFile,this))):this.contentLoadedDfd=t.Deferred().resolve(),this.listenTo(this.elementModel,"change:html change:error",this.render),this.setupTokenDependencies(),this.inlineStyleUsage=[]},getVisualizationType:function(){return"html"},getStaticFile:function(){var e=this.settings.get("serverSideInclude");if(e){var n=h.getAppAndSource(e,this.model.view.entry.acl.get("app")),s=this.model.application.get("root"),a=this.model.application.get("locale"),r=u.appStaticFile(s,a,n.app,n.src),l=this.settings.get("useTokens"),d=this.elementModel,c=this.contentLoadedDfd;/^https?:/.test(e)||/(^|\/)\.\.\//.test(e)||/^\//.test(e)?(d.set("error",i("Error loading HTML panel content: Invalid src attribute value specified.").t()),c.resolve()):t.ajax({dataType:"html",type:"GET",url:r,error:function(t){d.set("error",404===t.status?o.sprintf(i('Error loading HTML panel content: HTML file "%s" not found.').t(),e):o.sprintf(i("Error loading HTML panel content: Error loading HTML file (HTTP status %d).").t(),t.statusCode)),c.resolve()},success:function(e){""!==e&&d.set({error:null,html:e},{tokens:l}),c.resolve()}})}},normalizeLinks:function(e){i(m).each((function(i,n){i.forEach((function(i){var s=o.sprintf("%s[%s]",n,i);e.find(s).each((function(){var e=t(this),n=e.attr(i);n&&"/"===n[0]&&"/"!==n[1]&&e.attr(i,o.make_url(n))}))}))}))},handleModeChange:function(){this.updateDashboardMessage()},updateHtmlContent:function(e){var t=this.elementModel.get("html");try{var i=p.serialize(p.replaceCdataNodes(p.$node("<tmp>"+t+"</tmp>"),!0)).match(/^<tmp>([\s\S]*)<\/tmp>$/i);i&&(t=i[1])}catch(e){}t=c.clean(t,{allowInlineStyles:h.allowInlineStyles(),allowIframes:h.allowIframes(),allowEmbeds:h.allowEmbeds(),wrapEmbedTags:h.allowWrapEmbed(),allowedDomains:h.allowedDomains(),captureInlineStyleUsage:!0}),this.inlineStyleUsage=c.getInlineStyleUsage(),this.updateDashboardMessage(),t=h.localizeHtmlContent(t),e.html(t),this.normalizeLinks(e)},render:function(){var e=this.$el.children(".panel-body");return e.length||(e=t('<div class="panel-body html"></div>').appendTo(this.$el)),this.elementModel.has("error")?r.render({icon:"warning-sign",level:"error",message:this.elementModel.get("error")},e):this.elementModel.has("html")&&this.updateHtmlContent(e),this},updateDashboardMessage:function(){this.isEditMode()&&!h.allowInlineStyles()&&this.inlineStyleUsage&&this.inlineStyleUsage.length>0?this.addDashboardMessage():this.removeDashboardMessage()},addDashboardMessage:function(){var e=this.getVisualizationType()+"_"+this.id,t=this.collection.dashboardMessages.get("inline-style-not-allowed-error");if(t){var n=t.get("components");n.indexOf(e)<0&&n.push(e)}else this.collection.dashboardMessages.add({id:"inline-style-not-allowed-error",components:[this.getVisualizationType()+"_"+this.id],level:"error",dismissable:!0,text:i("This dashboard uses inline CSS styles. Update your dashboard to reference external stylesheets.").t(),linkText:i("Learn more").t(),docsLink:"simpleXML.extension"})},removeDashboardMessage:function(){var e=this.getVisualizationType()+"_"+this.id,t=this.collection.dashboardMessages.get("inline-style-not-allowed-error");if(t){var i=t.get("components"),n=i.indexOf(e);n>-1&&(i.splice(n,1),0===i.length&&this.collection.dashboardMessages.remove("inline-style-not-allowed-error"))}},getExportParams:function(){return{}},componentReady:function(){return this.contentLoadedDfd.promise()},remove:function(){this.removeDashboardMessage(),this.stopListeningToTokenDependencyChange(),n.prototype.remove.apply(this,arguments)}}))}.apply(t,n))||(e.exports=s)},"views/dashboard/element/ProgressBar":function(e,t,i){var n,s;n=[e,i("shim/jquery"),i("require/underscore"),i("require/backbone"),i("views/dashboard/Base"),i("shim/splunk.util"),i("stubs/splunk.config"),i("models/search/Job"),i("views/shared/ProgressBar")],void 0===(s=function(e,t,i,n,s,a,r,o,l){return s.extend({moduleId:e.i,className:"splunk-progressbar",initialize:function(e){s.prototype.initialize.apply(this,arguments),this.bindToComponentSetting("managerid",this.onManagerChange,this),this.model=i.extend({jobState:new n.Model},this.model);var t=i.debounce(this.render);this.model.jobState.on("change",t,this),this.model.searchJob=new o,this.children.progressBar=new l({model:this.model.searchJob,animateRealTime:!1})},onManagerChange:function(e){this.manager&&this.manager.off(null,null,this);var t=i.find(e,(function(e){return"primary"===e.getType()}));t&&(this.manager=t,this.model.jobState.clear(),this.manager.on("search:start",this.onSearchStart,this),this.manager.on("search:progress search:done",this.onSearchProgress,this),this.manager.on("search:error",this.onSearchFail,this),this.manager.on("search:fail",this.onSearchFail,this),this.manager.on("search:cancelled",this.onSearchCancelled,this),this.manager.replayLastSearchEvent(this))},onSearchStart:function(){var e=this.manager.getSid();this.model.searchJob.set("id",e),this.model.jobState.set({progress:!0})},onSearchProgress:function(e){var t=e.content||{};if(this._shouldShowProgress()||t.isDone){this.model.searchJob.setFromSplunkD({entry:[e]});var i=t.dispatchState;void 0===i||"FAILED"===i||"DONE"===t.dispatchState?this.model.jobState.clear():this.manager.isRefresh()||this.model.jobState.set({progress:!0})}},onSearchFail:function(){this.model.jobState.clear()},onSearchCancelled:function(){this.model.jobState.clear()},_shouldShowProgress:function(){return"none"!==this.model.report.entry.content.get("dashboard.element.refresh.display")||!this.manager.isRefresh()},render:function(){return this.model.jobState.has("progress")&&this.$el.is(":empty")&&this.children.progressBar.render().prependTo(this.$el),this},remove:function(){return i(this.children).invoke("remove"),i(this.model).invoke("off"),this.manager&&this.manager.off(null,null,this),s.prototype.remove.call(this)}})}.apply(t,n))||(e.exports=s)},"views/dashboard/element/SearchMessages":function(e,t,i){var n,s;n=[e,i("shim/jquery"),i("require/underscore"),i("require/backbone"),i("views/dashboard/Base"),i("views/shared/delegates/Popdown"),i("views/shared/Modal"),i("views/shared/dialogs/RiskyCommand"),i("models/Base"),i("splunkjs/mvc/messages"),i("splunkjs/mvc/postprocessmanager"),i("util/dashboard_utils"),i("util/splunkd_utils"),i("shim/splunk.util")],void 0===(s=function(e,t,i,n,s,a,r,o,l,d,h,u,c,p){return s.extend({moduleId:e.i,initialize:function(e){s.prototype.initialize.apply(this,arguments),this.bindToComponentSetting("managerid",this.onManagerChange,this),this.model=i.extend({primarySearchMessages:new n.Model,secondarySearchMessages:new n.Model},this.model);var t=i.debounce(this.render);this.model.primarySearchMessages.on("change",t,this),this.model.secondarySearchMessages.on("change",t,this)},onManagerChange:function(e){this.managers&&(i.each(this.managers,(function(e){this.stopListening(e)}),this),this.managers=null),e&&(this.managers=e,i.each(this.managers,(function(e){"primary"===e.getType()?(this.primaryManager=e,this._shouldShowProgress()&&this.model.primarySearchMessages.clear(),this.listenTo(e,"search:progress search:done",this.onPrimarySearchProgress),this.listenTo(e,"search:error",this.onPrimarySearchError.bind(this,e))):(this.listenTo(e,"search:start",i.partial(this.onSecondarySearchStart,e)),this.listenTo(e,"search:fail",i.partial(this.onSecondarySearchFail,e)),this.listenTo(e,"search:error",i.partial(this.onSecondarySearchError,e)),this.listenTo(e,"search:cancelled",i.partial(this.onSecondarySearchCancelled,e))),e.replayLastSearchEvent(this)}),this))},onSecondarySearchStart:function(e,t){this.model.secondarySearchMessages.unset(e.id)},onSecondarySearchCancelled:function(e,t){this.onSecondarySearchStart(e,t)},onSecondarySearchError:function(e,t,i){var n=d.getSearchErrorMessage(i)||t;n=p.sprintf("[%s] %s",e.getType(),n),u.updateSearchMessage(this.model.secondarySearchMessages,e.id,"error",n,{reset:!0})},onSecondarySearchFail:function(e,t){var i=d.getSearchFailureMessage(t);i=p.sprintf("[%s] %s",e.getType(),i),u.updateSearchMessage(this.model.secondarySearchMessages,e.id,"error",i,{reset:!0})},onPrimarySearchProgress:function(e){var t=e.content||{};if((this._shouldShowProgress()||t.isDone)&&t.messages){var n=i(t.messages).chain().where({type:"ERROR"}).pluck("text").value(),s=i(t.messages).chain().where({type:"WARN"}).pluck("text").value();this.model.primarySearchMessages.set("errors",n,{unset:i.isEmpty(n)}),this.model.primarySearchMessages.set("warnings",s,{unset:i.isEmpty(s)})}},onPrimarySearchError:function(e,t,i,n){if(i&&i.data&&i.data.messages&&c.messagesContainsOneOfTypes(i.data.messages,[c.RISKY_COMMAND])){if(c.getParentRiskyError(e.parent))return;this.model.primarySearchMessages.set("errors",i.data.messages),this._updateDashboardMessages(e),this.model.searchJob!==n&&(this.model.searchJob=n,this.riskyWarningDialog&&(this.riskyWarningDialog.remove(),this.riskyWarningDialog=null),!this.model.searchJob.error&&this.model.searchJob.setError&&this.model.searchJob.setError(i))}},getMessages:function(){var e={errors:this.model.primarySearchMessages.get("errors")||[],warnings:this.model.primarySearchMessages.get("warnings")||[]};return i.chain(this.model.secondarySearchMessages.toJSON()).values().each((function(t){e.errors=e.errors.concat(t.errors||[]),e.warnings=e.warnings.concat(t.warnings||[])})),e},render:function(){var e=this.getMessages();if(this._removeError(),0===e.errors.length&&0===e.warnings.length)return this;var t,n=c.messagesContainsOneOfTypes(e.errors,[c.RISKY_COMMAND]);t=n?e.errors.reduce((function(e,t){return t.type===c.RISKY_COMMAND&&(e+=t.text),e}),""):i("Click to see the error details.").t();var s=this.compiledTemplate({errors:e.errors,warnings:e.warnings,isRiskyCommand:n,title:t});this.$el.html(s),this.$errorTooltip=this.$el.find("a.error-indicator"),this.$errorTooltip.tooltip("destroy"),this.$errorTooltip.tooltip({animation:!1,container:"body"}),this.$error=this.$el.find(".error-details");var r={el:this.$error};return n&&(r.mode="dialog",r.detachDialog=!0,r.dialog="> .risky-command-dialog",r.attachDialogTo=!0),this.children.errorPopdown=new a(r),n&&(this.listenTo(this.children.errorPopdown,"show",function(){this.showRiskyWarningDialog()}.bind(this)),this.listenTo(this.children.errorPopdown,"hide",function(){this.hideRiskyWarningDialog()}.bind(this)),this.listenTo(this.children.errorPopdown,"shown",function(){this.riskyWarningDialog&&this.riskyWarningDialog.focus()}.bind(this))),this},_renderRiskyWarningDialog:function(){var e={model:{searchJob:this.model.searchJob,application:this.model.application},hideInvestigateBtn:!0,actionableText:i("Do you want to run the search string?").t(),backdrop:!1};this.primaryManager&&(e.search=this.primaryManager.search.get("search"),e.showSearchQuery=!0,this.primaryManager instanceof h&&(e.search=this.primaryManager.fullSearch)),this.children.errorPopdown&&(e.el=this.children.errorPopdown.delegate().$el);var t=new o(e);return this.listenTo(t,"runSearch",function(){this.primaryManager instanceof h?(this.primaryManager.settings.set("check_risky_command",!1),this.primaryManager.parent.startSearch({refresh:!0})):this.primaryManager&&(this.primaryManager.settings.set("check_risky_command",!1),this._removeDashboardMessages(this.primaryManager)),p.trackEvent({type:"dashboard.telemetry",data:{pageAction:"riskyWarningDialog.runSearch"}})}.bind(this)),this.listenTo(t,"cancel",function(){this.children.errorPopdown&&this.children.errorPopdown.hide(),p.trackEvent({type:"dashboard.telemetry",data:{pageAction:"riskyWarningDialog.cancel"}})}.bind(this)),t.render(),t.$(r.HEADER_TITLE_SELECTOR).children().last().html(i("This search has a potential security risk").t()),t},showRiskyWarningDialog:function(){this.riskyWarningDialog||(this.riskyWarningDialog=this._renderRiskyWarningDialog()),this.riskyWarningDialog.show(),p.trackEvent({type:"dashboard.telemetry",data:{pageAction:"riskyWarningDialog.open"}})},hideRiskyWarningDialog:function(){this.riskyWarningDialog&&this.riskyWarningDialog.hide()},_removeError:function(){this.$errorTooltip&&(this.$errorTooltip.tooltip("destroy"),this.$errorTooltip=null),this.$error&&(this.$error.remove(),this.$error=null),this.children.errorPopdown&&this.children.errorPopdown.remove()},_shouldShowProgress:function(){return"none"!==this.model.report.entry.content.get("dashboard.element.refresh.display")||!this.primaryManager.isRefresh()},remove:function(){return i(this.children).invoke("remove"),i(this.model).invoke("off"),s.prototype.remove.call(this)},_updateDashboardMessages:function(e){var t=e.has("collection")?e.get("collection").dashboardMessages:"";if(t){var n=t.get("warn-risky-commands");if(n){var s=n.get("searchName");-1===s.indexOf(e.name)&&s.push(e.name)}else t.add(new l({id:"warn-risky-commands",searchName:[e.name],level:"warning",text:i("Some visualizations have not loaded since we detected usage of risky commands in the query.").t(),linkText:i("Learn more").t(),docsLink:"learnmore.splsafeguards",dismissable:!0}))}},_removeDashboardMessages:function(e){var t=e.has("collection")?e.get("collection").dashboardMessages:"",i=t&&t.get("warn-risky-commands");if(i){var n=i.get("searchName");if(n){var s=n.indexOf(e.name);-1!==s&&(n.splice(s,1),0===n.length&&t.remove("warn-risky-commands"))}}},template:'                <div class="error-details <%- errors.length ? \'severe\' : \'\' %>">                    <a                         href="#"                         class="dropdown-toggle error-indicator"                         aria-label="<%- title %>"                        title="<%- title %>"                    >                        <i class="icon-warning-sign"></i>                    </a>                    <% if (isRiskyCommand) { %>                        <div class="modal risky-command-dialog"/>                    <% } else { %>                        <div class="dropdown-menu">                            <div class="arrow"></div>                            <ul class="first-group error-list">                                <% errors.forEach(function(error) { %>                                    <li class="error">                                        <i class="icon-warning-sign"></i>                                        <%- error %>                                    </li>                                <% }); %>                                <% warnings.forEach(function(warn) { %>                                    <li class="warning">                                        <i class="icon-warning-sign"></i>                                         <%- warn %>                                    </li>                                <% }); %>                            </ul>                        </div>                    <% } %>                </div>            '})}.apply(t,n))||(e.exports=s)},"views/dashboard/element/TimeIndicator":function(e,t,i){var n,s;n=[e,i("require/underscore"),i("shim/jquery"),i("require/backbone"),i("views/dashboard/Base"),i("util/moment"),i("util/moment/compactFromNow")],void 0===(s=function(e,t,i,n,s,a){var r={callbacks:{},timer:null,registerCallback:function(e,i,n){this.callbacks[e]&&delete this.callbacks[e],this.callbacks[e]=t.bind(i,n),this._startTimer()},removeCallback:function(e){delete this.callbacks[e],t.isEmpty(this.callbacks)&&this._stopTimer()},_startTimer:function(){this.timer||(this.timer=setInterval(function(){t.each(this.callbacks,(function(e){e()}))}.bind(this),1e3))},_stopTimer:function(){this.timer&&(clearInterval(this.timer),delete this.timer)}};return s.extend({moduleId:e.i,className:"splunk-timeindicator",viewOptions:{register:!1},initialize:function(e){s.prototype.initialize.apply(this,arguments),this.bindToComponentSetting("managerid",this.onManagerChange,this),this.listenTo(this.settings,"change",this._setupRefreshTimer),this._timerId=t.uniqueId("timer_"),this._initializeRefreshModel()},_initializeRefreshModel:function(){this.refreshTimeModel=new n.Model({text:""}),this.listenTo(this.refreshTimeModel,"change",this._renderText)},onManagerChange:function(e){this.manager&&this.stopListening(this.manager);var i=t.find(e,(function(e){return"primary"===e.getType()}));i&&(this.manager=i,this.listenTo(this.manager,"search:start",this._clear),this.listenTo(this.manager,"search:progress",this._updateSearchState),this.listenTo(this.manager,"search:done",this._updateSearchState),this.listenTo(this.manager,"search:fail",this._clear),this.listenTo(this.manager,"search:cancelled",this._clear),this.manager.replayLastSearchEvent(this))},_updateSearchState:function(e){var i=(e||{}).content||{};"FAILED"===i.dispatchState||"PARSING"===i.dispatchState||"QUEUED"===i.dispatchState?this._clear():"RUNNING"===i.dispatchState?i.isRealTimeSearch?this.refreshTimeModel.set("text",t("Real-time").t()):this._clear():"DONE"===i.dispatchState&&(this._clear(),this._refreshTime=a(this.manager.get("published")),this._setupRefreshTimer())},_setupRefreshTimer:function(){this._refreshTime&&!1!==this.settings.get("refresh.time.visible")&&r.registerCallback(this._timerId,this._updateRefreshTime,this)},_clearRefreshTimer:function(){r.removeCallback(this._timerId)},_updateRefreshTime:function(){this._refreshTime&&this.refreshTimeModel.set({text:this._refreshTime.compactFromNow()})},_clear:function(){this._clearRefreshTimer(),this.refreshTimeModel.set("text","")},render:function(){return i('<span class="time-freshness"></span>').appendTo(this.$el),this._renderText(),this},_renderText:function(){this.$el.children(".time-freshness").text(this.refreshTimeModel.get("text"))},remove:function(){this._clearRefreshTimer(),s.prototype.remove.apply(this,arguments)}})}.apply(t,n))||(e.exports=s)},"views/dashboard/element/Title":function(e,t,i){var n,s;n=[e,i("shim/jquery"),i("require/underscore"),i("views/dashboard/Base"),i("splunkjs/mvc"),i("splunkjs/mvc/utils"),i("splunkjs/mvc/tokenutils")],void 0===(s=function(e,t,i,n,s,a,r){return n.extend({moduleId:e.i,viewOptions:{register:!1},tagName:"h3",constructor:function(e){n.prototype.constructor.call(this,e,{retainUnmatchedTokens:!0}),this.settings._sync=a.syncModels(this.settings,this.model,{auto:"pull",prefix:"dashboard.element.",include:["title"]}),this.listenTo(this.settings,"change:title",this.render)},render:function(){var e=this.settings.get("title",{tokens:!0});return e&&(e=r.replaceTokens(i(e).t(),s.Components,{tokenNamespace:this.settings._tokenNamespace,escaper:this.settings._tokenEscaper,allowNoEscape:this.settings._allowNoEscape})),e?this.$el.text(i(e).t()).show():this.$el.text("").hide(),this},remove:function(){this.settings&&this.settings._sync&&this.settings._sync.destroy(),n.prototype.remove.apply(this,arguments)}})}.apply(t,n))||(e.exports=s)},"views/dashboard/form/Fieldset":function(e,t,i){var n,s;n=[e,i("shim/jquery"),i("require/underscore"),i("views/dashboard/Base"),i("views/dashboard/editor/FieldsetEditor"),i("views/dashboard/form/Fieldset.pcss")],void 0===(s=function(e,t,i,n,s){return n.extend({moduleId:e.i,viewOptions:{register:!0},className:"fieldset",initialize:function(){n.prototype.initialize.apply(this,arguments),this.listenTo(this.model.state,"change:mode",this._updateState)},addChild:function(e){e.render().$el.appendTo(this.$el),this._updateState(),this.$el.trigger("structureChanged")},render:function(){n.prototype.render.apply(this,arguments),this._updateState()},getInputs:function(){return this.getChildElements(".input")},getHTMLElements:function(){return this.getChildElements(".html")},isEmpty:function(){return 0===this.getInputs().length&&0===this.getHTMLElements().length},events:{updateState:"_updateState"},_updateState:function(){return i.find(this.getInputs(),(function(e){return e.settings.has("label")}),this)?this.$el.removeClass("hide-label"):this.$el.addClass("hide-label"),this.isEmpty()?this.$el.addClass("empty"):this.$el.removeClass("empty"),this.shouldHideFilters()?this.hide():this.show(),this.$el.removeClass("editable"),(!this.model.state.has("editable")||this.model.state.get("editable"))&&this.$el.addClass("editable"),this},shouldHideFilters:function(){return!this.isEditMode()&&this.isEmpty()},resetFieldsetEditor:function(){this.children.fieldsetEditor&&(this.children.fieldsetEditor.remove(),this.children.fieldsetEditor=null)},renderFieldsetEditor:function(){this.resetFieldsetEditor(),this.children.fieldsetEditor=new s({model:this.model,parent:this}),this.children.fieldsetEditor.render().$el.prependTo(this.$el)}})}.apply(t,n))||(e.exports=s)},"views/dashboard/form/Fieldset.pcss":function(e,t,i){var n=i(527);"string"==typeof n&&(n=[[e.i,n,""]]);var s={sourceMap:!1,hmr:!0,transform:void 0,insertInto:void 0};i(4)(n,s);n.locals&&(e.exports=n.locals)},"views/dashboard/form/GlobalFieldset":function(e,t,i){var n,s;n=[i("require/underscore"),i("shim/jquery"),e,i("views/dashboard/form/Fieldset"),i("views/dashboard/form/Submit"),i("views/dashboard/form/GlobalFieldset.pcss")],void 0===(s=function(e,t,i,n,s){return n.extend({moduleId:i.i,initialize:function(){n.prototype.initialize.apply(this,arguments),this.listenTo(this.settings,"change:submitButton",this._updateSubmitButton),this.listenTo(this.model.state,"change:mode",this._recreateToggleLink),this.listenTo(this.model.page,"change:hideFilters",this._updateState)},events:{"click [data-action=hide-filters]":function(e){e.preventDefault(),this.model.controller.trigger("action:hideFilters")}},addChild:function(e){this.children.submit?e.render().$el.insertBefore(this.children.submit.$el):e.render().$el.appendTo(this.$el),this.$el.trigger("structureChanged"),this._recreateToggleLink(),this._updateState()},shouldHideFilters:function(){var e=!this.isEditMode(),t=this.model.page.get("hideFilters")||this.isEmpty();return e&&t},_updateState:function(){n.prototype._updateState.apply(this,arguments),this.model.controller.trigger("state:globalFieldsetChildren",{isEmpty:this.isEmpty()})},isEmpty:function(){return n.prototype.isEmpty.apply(this,arguments)&&!this.children.submit},_updateSubmitButton:function(){this.settings.get("submitButton")?this.children.submit||(this.children.submit=new s({id:"submit",model:e.extend({},this.model),parent:this}),this.children.submit.render().$el.appendTo(this.$el),this.$el.trigger("inputCreated"),this._recreateToggleLink(),this._updateState()):this.children.submit&&(this.children.submit.remove(),this.children.submit=null,this.$el.trigger("inputRemoved"),this._updateState())},show:function(){this.$el.show()},hide:function(){this.$el.hide()},_renderToggleLink:function(){if(!this.isEditMode()){var i=t('<a class="hide-global-filters" data-action="hide-filters" href="#">'+e("Hide Filters").t()+"</a>");this.$el.append(i)}},_recreateToggleLink:function(){var e=this.$el.find(".hide-global-filters");e.length>0&&e.remove(),this._renderToggleLink()},render:function(){return n.prototype.render.apply(this,arguments),this._renderToggleLink(),this._updateSubmitButton(),this}})}.apply(t,n))||(e.exports=s)},"views/dashboard/form/GlobalFieldset.pcss":function(e,t,i){var n=i(551);"string"==typeof n&&(n=[[e.i,n,""]]);var s={sourceMap:!1,hmr:!0,transform:void 0,insertInto:void 0};i(4)(n,s);n.locals&&(e.exports=n.locals)},"views/dashboard/form/Input":function(e,t,i){var n,s;n=[e,i("shim/jquery"),i("require/underscore"),i("views/dashboard/Base"),i("views/dashboard/editor/input/InputEditor"),i("splunkjs/mvc/simpleform/inputsettings"),i("splunkjs/mvc/savedsearchmanager"),i("splunkjs/mvc/postprocessmanager"),i("dashboard/manager/FormManager"),i("splunkjs/mvc/tokenutils"),i("dashboard/DashboardFactory"),i("dashboard/mixins/EventManagerMixin"),i("dashboard/mixins/SearchManagerMixin"),i("splunkjs/mvc/simplexml/dashboard/tokendeps"),i("splunkjs/mvc/utils")],void 0===(s=function(e,t,i,n,s,a,r,o,l,d,h,u,c,p,m){var f=["name","model","collection","el","attributes","deferreds","className","tagName","events","settingsOptions"],g=h.getDefault().getTypeConfigByClass("input"),v={};return i.each(g,(function(e){v[e.settingsToCreate.type]=i.omit(e.settingsToCreate,"type")})),n.extend(i.extend({},p,c,u,{moduleId:e.i,_isDashboardInput:!0,viewOptions:{register:!0},initialize:function(e){n.prototype.initialize.apply(this,arguments),e=e||{},this.inputId=e.inputId||i.uniqueId((this.id||"input")+"_"),this._extractTokenName(),this._normalizeSettings(),this.listenTo(this.settings,"change:label",this._renderLabel),this.listenTo(this.settings,"change:token",this._normalizeLabel),this.listenTo(this.settings,"change:type",this._renderInput),this.listenTo(this.settings,"change:token change:type",this._applyTokenName),this.listenTo(this.settings,"change:choices",this._normalizeChoices),this.listenTo(this.settings,"change:managerid change:manager",this._bindSearchManager),this.listenTo(this.model.state,"change:mode",this._onModeChange),this.setupTokenDependencies(),this.setupSearchManager(),this.setupEventManager()},_normalizeSettings:function(){this._normalizeChoices(),this._normalizeDefaults(),this._normalizeLabel()},_normalizeChoices:function(){if(this.settings.has("choices")){var e=this.settings.get("choices");e=i(e).map((function(e){return i.isUndefined(e.value)?{label:e.label,value:e.label}:e}),this),this.settings.set("choices",e)}},_normalizeDefaults:function(){var e=this.settings.get("default"),t=this.settings.get("initialValue");this.settings.has("choices")&&(e&&(e=this._getChoiceValueFromLabel(e),this.settings.set("default",e,{silent:!0})),t&&(t=this._getChoiceValueFromLabel(t),this.settings.set("initialValue",t,{silent:!0})))},_normalizeLabel:function(){var e=this.settings.get("label",{tokens:!0}),t=this.settings.get("token");null==e&&"time"!=this.settings.get("type")&&this.settings.set("label",t),this.settings.set("labelledBy",this.inputId+"-label")},_getChoiceValueFromLabel:function(e){var t=i.pluck(this.settings.get("choices"),"label"),n=i.pluck(this.settings.get("choices"),"value");if(i.isString(e)){var s=i.indexOf(t,e);e=s<0?e:n[s]}else i.isArray(e)&&(e=i.map(e,(function(e){var s=i.indexOf(t,e);return s<0?e:n[s]})));return e},_bindInputSettings:function(e){this.settings._sync&&this.settings._sync.destroy(),this.vizSettings&&this.vizSettings.dispose(),this.vizSettings=new a(i.extend(e||{},i.omit(this.options,f)),this.options.settingsOptions),this.vizSettings.id=this.inputId,this.settings._sync=m.syncModels(this.settings,this.vizSettings,{auto:!0,exclude:f.concat(["value","earliest_time","latest_time","populating_earliest_time","populating_latest_time"])})},_extractTokenName:function(){var e=function(e,t,i){return 0===e.indexOf(t)?i&&e.slice(-i.length)===i?e.substring(t.length,e.length-i.length):e.substring(t.length):null};if("time"!==this.settings.get("type")){var t=this.settings.get("value",{tokens:!0});if(d.isToken(t)){var i=e(d.getTokenName(t),"form.");i&&this.settings.set("token",i)}}else{var n=this.settings.get("earliest_time",{tokens:!0}),s=this.settings.get("latest_time",{tokens:!0});d.isToken(n)&&d.isToken(s)&&(n=e(d.getTokenName(n),"form.",".earliest"),s=e(d.getTokenName(s),"form.",".latest"),n&&s&&n===s&&this.settings.set("token",n))}},_applyTokenName:function(){var e=this.settings.get("type"),t=this.settings.get("token");if("time"===e){this.settings.unset("value",{tokens:!0});var i={};i.earliest_time=t?"$form."+t+".earliest$":"$earliest$",i.latest_time=t?"$form."+t+".latest$":"$latest$",this.settings.set(i,{tokens:!0}),this.vizSettings&&this.vizSettings.set(i,{tokens:!0})}else{this.settings.set({earliest_time:null,latest_time:null},{unset:!0,tokens:!0});var n="$form."+t+"$";this.settings.set("value",n,{tokens:!0}),this.vizSettings&&this.vizSettings.set("value",n,{tokens:!0})}},onSearchManagerChanged:function(e,t){t instanceof r?this.settings.set({searchName:t.get("searchname"),searchType:"saved"},{tokens:!0}):t instanceof o?this.settings.set({searchType:"postprocess",search:t.get("search",{tokens:!0}),basesearch:t.get("managerid")},{tokens:!0}):t&&this.settings.set({searchType:"inline",search:t.get("search",{tokens:!0}),populating_earliest_time:t.get("earliest_time",{tokens:!0}),populating_latest_time:t.get("latest_time",{tokens:!0})},{tokens:!0})},render:function(){return this._renderLabel(),this._renderInput(),this._onModeChange(),this},_triggerValueChangeEvent:function(){var e=this.children.input,t={value:e._getSelectedValue(),label:e._getSelectedLabel(),data:e._getSelectedData()};this.trigger("valueChange",t)},_resetInput:function(){this.children.input&&(this.stopListening(this.children.input),this.children.input.off(null,null,this),this.children.input.remove(),this.children.input=null)},_renderLabel:function(){var e=this.settings.get("label");this.$label||(this.$label=t("<label></label>").appendTo(this.$el)),e?(this.$label.text(i(e).t()),this.$label.attr("id",this.inputId+"-label")):this.$label.html("&nbsp;")},_renderInput:function(){var e=this.settings.get("type"),n="input input-"+e;this.$el.hasClass("hidden")&&(n+=" hidden"),this.$el.attr("class",n);var s=v[e];if(s){var a=s.getView();this._bindInputSettings(i.omit(s,"view","module")),this._resetInput();var r={id:this.inputId,model:this.model,el:t("<div></div>").appendTo(this.$el),settings:this.vizSettings,label:this.settings.get("label")};this.children.input=new a(r,this.options.settingsOptions),this.children.input.render().$el.appendTo(this.$el),this.children.input.$el.find("[aria-labelledby*='"+this.inputId+"-label']").each((function(e){t(this).attr("id")&&t(this).attr("aria-labelledBy",t(this).attr("aria-labelledBy")+" "+t(this).attr("id"))})),this.listenTo(this.children.input,"all",this.trigger),this.listenTo(this.children.input,"change",(function(){l.handleValueChange(this)})),this.listenTo(this.children.input,"change datachange",(function(){i.defer(this._triggerValueChangeEvent.bind(this))})),this.trigger("create:visualization",this.children.input),i.defer(i.bind((function(){l.handleValueChange(this),this._triggerValueChangeEvent()}),this))}},_onModeChange:function(){switch(this._removeInputEditor(),this.model.state.get("mode")){case"edit":this._renderInputEditor()}},_removeInputEditor:function(){this.children.inputEditor&&(this.children.inputEditor.remove(),this.children.inputEditor=null),this.$(".drag-handle").remove()},_renderInputEditor:function(){t('<div class="drag-handle"></div>').prependTo(this.$el),this.children.inputEditor=new s({model:this.settings,inputSettings:this.vizSettings,controller:this.model.controller,inputId:this.id}),this.children.inputEditor.render().prependTo(this.$el)},hasValue:function(){return!!this.children.input&&this.children.input._hasValueForDashboards()},val:function(e){if(this.children.input)return this.children.input.val.apply(this.children.input,arguments)},onInputReady:function(){return this.children.input&&i.isFunction(this.children.input._onReady)?this.children.input._onReady():t.Deferred().resolve()},getInputView:function(){return this.children.input},remove:function(){this.stopListeningToTokenDependencyChange(),n.prototype.remove.apply(this,arguments)}}))}.apply(t,n))||(e.exports=s)},"views/dashboard/form/Submit":function(e,t,i){var n,s;n=[e,i("shim/jquery"),i("require/underscore"),i("views/dashboard/Base"),i("dashboard/manager/FormManager")],void 0===(s=function(e,t,i,n,s){return n.extend({moduleId:e.i,viewOptions:{register:!0},className:"splunk-submit-button form-submit",initialize:function(e){n.prototype.initialize.apply(this,arguments),this.fieldset=e.parent,this.listenTo(this.model.state,"change:mode",this._onModeChange)},render:function(){return n.prototype.render.apply(this,arguments),this.$button=t('<button class="btn btn-primary"></button>').appendTo(this.$el),this.$button.text(i("Submit").t()),this._onModeChange(),this},events:{"click button":function(e){e.preventDefault(),s.submitForm({replaceState:!1})},"click .delete-input":"_delete"},_submit:function(e){e.preventDefault(),this.model.controller.trigger("action:submit-tokens")},_delete:function(e){e.preventDefault(),this.fieldset.settings.set("submitButton",!1),this.model.controller.trigger("edit:fieldset",{fieldsetId:this.fieldset.id,fieldsetSettings:this.fieldset.settings})},_onModeChange:function(){switch(this.model.state.get("mode")){case"view":this._removeEditor();break;case"edit":this._renderEditor()}},_removeEditor:function(){this.$(".edit-dropdown").remove()},_renderEditor:function(){this._removeEditor();var e=t('<div class="edit-dropdown"><a href="#" class="delete-input"><i class="icon-x"></i></a></div>');e.find(".delete-input").attr("title",i("Delete submit button").t()),e.prependTo(this.$el)}})}.apply(t,n))||(e.exports=s)},"views/dashboard/header/DashboardHeader":function(e,t,i){var n,s;n=[e,i(0),i("shim/jquery"),i("require/underscore"),i("views/dashboard/Base"),i("views/dashboard/header/Title"),i("views/dashboard/header/Description"),i("views/dashboard/header/EditMenu"),i("views/dashboard/header/DashboardModalMessage/DashboardModalMessage"),i("views/dashboard/editor/TitleEditor"),i("views/dashboard/editor/DescriptionEditor"),i("util/react_render")],void 0===(s=function(e,t,i,n,s,a,r,o,l,d,h,u){return s.extend({moduleId:e.i,viewOptions:{register:!1},className:"dashboard-header",initialize:function(e){s.prototype.initialize.apply(this,arguments),this.showMenu=!e.hideMenu,this.showDescription=!!e.showDescription,this.allowEdit=!0===e.allowEdit,this.deferreds=e.deferreds,this.listenTo(this.model.state,"change:mode",this.render),this.listenTo(this.settings,"change",this._handleSettingChange),this.listenTo(this.model.page,"change:theme",(function(e,t){this.settings.set("theme",t)}))},_handleSettingChange:function(){this.model.controller.trigger("edit:dashboard",{dashboardId:this.settings.get("id")})},render:function(){return this.removeTitleView(),this.removeDescriptionView(),this.removeHeaderControlsView(),this.allowEdit&&this.isEditMode()||!this.showMenu?this.allowEdit&&this.isEditMode()?(this.createDescriptionEditor(),this.createDashboardTitleEditor()):(this.createTitleView(),this.showDescription&&this.createDescriptionView()):this.model.page.get("hideTitle")||i.when(this.deferreds.scheduledView,this.deferreds.userPref).then(this.renderMenu.bind(this)),this},renderMenu:function(){this.createHeaderControlsView(),this.createTitleView(),this.showDescription&&this.createDescriptionView()},createHeaderControlsView:function(){if(this.headerControls=document.createElement("div"),this.headerControls.className="header-controls",this.model.page.get("allowTempVersionRevert")){var e=t.createElement(l);this.children.unmountDashboardModalMessageView=u(e,this.headerControls)}this.model.page.get("hideEdit")||(this.children.editMenuView=new o({model:this.model,collection:{apps:this.collection.appLocalsUnfilteredAll}}),this.headerControls.appendChild(this.children.editMenuView.render().$el[0])),this.$el[0].appendChild(this.headerControls)},removeHeaderControlsView:function(){this.children.editMenuView&&(this.children.editMenuView.remove(),this.children.editMenuView=null),this.children.unmountDashboardModalMessageView&&(this.children.unmountDashboardModalMessageView(),this.children.unmountDashboardModalMessageView=null),this.headerControls&&(this.headerControls.remove(),this.headerControls=null)},createTitleView:function(){this.children.titleView=new a({model:this.model}),this.children.titleView.render().$el.appendTo(this.$el)},removeTitleView:function(){this.children.titleView&&(this.children.titleView.remove(),this.children.titleView=null)},createDescriptionView:function(){this.children.descriptionView=new r({model:this.settings}),this.children.descriptionView.render().$el.appendTo(this.$el),this.$el&&this.settings&&this.settings.get("description")&&this.$el.addClass("has-description")},removeDescriptionView:function(){this.children.descriptionView&&(this.children.descriptionView.remove(),this.children.descriptionView=null),this.$el&&this.$el.removeClass("has-description")},createDashboardTitleEditor:function(){this.removeTitleView(),this.children.titleView=new d({model:this.settings,attribute:"label",placeholder:n("No label").t(),tokens:!1}),this.children.titleView.render().$el.prependTo(this.$el)},createDescriptionEditor:function(){this.removeDescriptionView(),this.children.descriptionView=new h({model:this.settings,attribute:"description",placeholder:n("No description").t(),tokens:!1}),this.children.descriptionView.render().$el.prependTo(this.$el)}})}.apply(t,n))||(e.exports=s)},"views/dashboard/header/DashboardMessages":function(e,t,i){var n,s;n=[i("shim/jquery"),i("require/underscore"),e,i("views/dashboard/Base"),i("uri/route"),i("views/dashboard/header/DashboardMessage"),i("views/dashboard/header/DashboardMessages.pcss")],void 0===(s=function(e,t,i,n,s,a){return n.extend({moduleId:i.i,className:"dashboard-messages",initialize:function(){n.prototype.initialize.apply(this,arguments),this.listenTo(this.model.state,"change",this.render),this.listenTo(this.collection.dashboardMessages,"add reset remove change",this.render)},buildMessage:function(e){return new a({model:{message:e,application:this.model.application}})},render:function(){this.$el.empty();var e=this.model.state.get("mode"),i=this.collection.dashboardMessages.filter((function(t){return(!t.has("mode")||t.get("mode")==e)&&!t.get("dismissed")})),n=t(i).chain().map(this.buildMessage,this).invoke("render").pluck("el").value();return this.$el.append(n)[i.length?"show":"hide"](),this}})}.apply(t,n))||(e.exports=s)},"views/dashboard/header/DashboardMessages.pcss":function(e,t,i){var n=i(535);"string"==typeof n&&(n=[[e.i,n,""]]);var s={sourceMap:!1,hmr:!0,transform:void 0,insertInto:void 0};i(4)(n,s);n.locals&&(e.exports=n.locals)},"views/dashboard/header/DashboardModalMessage/DashboardModalMessage":function(e,t,i){"use strict";i(1),Object.defineProperty(t,"__esModule",{value:!0});var n=(0,d(i(55)).default)(["\n    display: inline-block;\n    padding: 5px 14px;\n"],["\n    display: inline-block;\n    padding: 5px 14px;\n"]),s=d(i(0)),a=i(7),r=d(i(9)),o=d(i("views/dashboard/header/DashboardModalMessage/InfoButtonModal")),l=d(i("views/dashboard/header/DashboardModalMessage/DashboardUpdatedMessage"));function d(e){return e&&e.__esModule?e:{default:e}}var h=r.default.div(n);t.default=function(){return s.default.createElement(h,{"data-test":"dashboard-modal-message"},s.default.createElement(o.default,{dialogTitle:(0,a._)("Dashboard Updated")},s.default.createElement(l.default,null)))},e.exports=t.default},"views/dashboard/header/DashboardModalMessage/DashboardUpdatedMessage":function(e,t,i){"use strict";i(1),Object.defineProperty(t,"__esModule",{value:!0});var n=(0,h(i(55)).default)(["\n    width: 400px;\n"],["\n    width: 400px;\n"]),s=h(i(0)),a=i(7),r=h(i(9)),o=h(i(29)),l=h(i(22)),d=i("util/url_parser");function h(e){return e&&e.__esModule?e:{default:e}}var u=r.default.div(n);t.default=function(){var e=(0,d.setURLFlag)(location.href,"xmlv","1.0",!1);return s.default.createElement(u,null,s.default.createElement(o.default,{style:{marginBottom:0}},(0,a._)("This dashboard has been updated. If you have any issues with this dashboard, contact the dashboard's owner. You can also temporarily")," ",s.default.createElement(l.default,{openInNewContext:!0,to:e},(0,a._)("open a previous view of this dashboard."))))},e.exports=t.default},"views/dashboard/header/DashboardModalMessage/InfoButtonModal":function(e,t,i){"use strict";i(1),Object.defineProperty(t,"__esModule",{value:!0});var n=m(i(61)),s=(0,m(i(55)).default)(["\n    font-size: 20px;\n    vertical-align: middle;\n    display: inline-block;\n    color: ",";\n    &:focus {\n        box-shadow: ",";\n        background-color: ",";\n    }\n"],["\n    font-size: 20px;\n    vertical-align: middle;\n    display: inline-block;\n    color: ",";\n    &:focus {\n        box-shadow: ",";\n        background-color: ",";\n    }\n"]),a=i(0),r=m(a),o=m(i(2)),l=m(i(9)),d=i(7),h=m(i(77)),u=m(i(24)),c=m(i(147)),p=m(i(56));function m(e){return e&&e.__esModule?e:{default:e}}var f=(0,l.default)(h.default)(s,p.default.linkColor,p.default.focusShadow,p.default.focusBackgroundColor),g=function(e){var t=e.dialogTitle,i=e.children,s=(0,a.useState)(!1),o=(0,n.default)(s,2),l=o[0],h=o[1],p=(0,a.useRef)(null),m=r.default.createElement(f,{ref:p,"aria-label":(0,d._)("Dashboard Messages"),onClick:function(){return h(!0)}},r.default.createElement(c.default,{screenReaderText:null})),g=function(){h(!1),p.current.focus()};return r.default.createElement(r.default.Fragment,null,m,r.default.createElement(u.default,{onRequestClose:g,open:l},r.default.createElement(u.default.Header,{title:t,onRequestClose:g}),r.default.createElement(u.default.Body,null,i)))};g.propTypes={dialogTitle:o.default.string.isRequired,children:o.default.node.isRequired},t.default=g,e.exports=t.default},"views/dashboard/header/Description":function(e,t,i){var n,s;n=[e,i("shim/jquery"),i("require/underscore"),i("views/dashboard/Base")],void 0===(s=function(e,t,i,n){return n.extend({moduleId:e.i,viewOptions:{register:!1},className:"description",tagName:"p",initialize:function(e){n.prototype.initialize.apply(this,arguments),this.listenTo(this.model,"change:description",this.render)},render:function(){var e=this.model.get("description");return this.$el[e?"removeClass":"addClass"]("hidden"),this.$el.text(i(e||"").t()),this}})}.apply(t,n))||(e.exports=s)},"views/dashboard/header/EditMenu":function(e,t,i){var n,s;n=[e,i("shim/jquery"),i("require/underscore"),i("views/dashboard/Base"),i("views/shared/PopTart"),i("util/pdf_utils"),i("controllers/dashboard/helpers/DashboardV2Helper"),i("views/dashboard/header/ExportMenu"),i("views/dashboard/header/EditMenu.pcssm")],void 0===(s=function(e,t,i,n,s,a,r,o,l){var d={button:!0,showOpenActions:!0,deleteRedirect:!1},h=s.extend({className:"dropdown-menu other-menu",initialize:function(){s.prototype.initialize.apply(this,arguments),i.defaults(this.options,d),this._menuModel={allowEditPermission:this.model.view.entry.acl.get("can_change_perms")&&this.model.view.entry.acl.canWrite(),allowClone:!this.model.view.isHTML()||this.model.user.canEditViewHtml(),allowMakeHome:!this.model.serverInfo.isLite()&&this.model.view.isSimpleXML()&&!(this.model.userPref.entry.content.get("display.page.home.dashboardId")===this.model.view.get("id")),allowDelete:this.model.view.entry.acl.canWrite()&&this.model.view.entry.acl.get("removable"),convertToV2DisplayName:r.isDashboardAppFeatureEnabled()?i("Clone in Dashboard Studio").t():i("Clone in Dashboard App (beta)").t(),convertToV2AndNewAlert:r.isDashboardAppFeatureEnabled()}},events:{"click a.edit-perms":function(e){e.preventDefault(),this._triggerControllerEvent("action:edit-permission")},"click a.clone":function(e){e.preventDefault(),this._triggerControllerEvent("action:clone")},"click a.make-home":function(e){e.preventDefault(),this._triggerControllerEvent("action:make-home")},"click a.delete":function(e){e.preventDefault(),this._triggerControllerEvent("action:delete")},"click a.convert-to-v2":function(e){e.preventDefault(),this._triggerControllerEvent("action:open-in-v2")}},_triggerControllerEvent:function(){this.model.controller.trigger.apply(this.model.controller,arguments),this.hide()},render:function(){return this.$el.html(s.prototype.template_menu),this.$el.append(this.compiledTemplate(this._menuModel)),this},isEmpty:function(){return!i.some(i.values(this._menuModel))},template:'                    <ul class="first-group">                        <% if (allowClone) { %>                        <li><a href="#" class="clone"><%- _("Clone").t() %></a></li>                        <% } %>                        <li><a href="#" class="convert-to-v2"><%- convertToV2DisplayName %>                            <% if(convertToV2AndNewAlert) { %>                            <p class="new-label '+l.newLabel+'"><%- _("NEW").t() %></p>                            <% } %></a>                        </li>                    </ul>                    <ul class="second-group">                        <% if(allowEditPermission) { %>                        <li><a href="#" class="edit-perms"><%- _("Edit Permissions").t() %></a></li>                        <% } %>                        <% if (allowMakeHome) { %>                        <li><a href="#" class="make-home"><%- _("Set as Home Dashboard").t() %></a></li>                        <% } %>                    </ul>                    <ul class="third-group '+l.thirdGroup+'">                        <% if(allowDelete) { %>                        <li><a href="#" class="delete"><%- _("Delete").t() %></a></li>                        <% } %>                    </ul>            '});return n.extend({moduleId:e.i,viewOptions:{register:!1},className:"dashboard-menu",initialize:function(){n.prototype.initialize.apply(this,arguments)},events:{"click a.edit-btn":function(e){e.preventDefault(),this.model.controller.trigger("mode:edit")},"click a.edit-other":function(e){e.preventDefault(),this.children.otherMenu=new h({model:this.model,collection:this.collection}),this.children.otherMenu.once("hide",this.children.otherMenu.remove),t("body").append(this.children.otherMenu.render().$el);var i=t(e.currentTarget);i.addClass("active"),this.children.otherMenu.show(i),this.children.otherMenu.once("hide",(function(){i.removeClass("active")}))}},render:function(){var e={canWrite:this.model.view.entry.acl.canWrite()};return this.$el.html(this.compiledTemplate(e)),null!=this.model.page&&this.model.page.get("hideExport")||(this.children.exportMenu&&(this.children.exportMenu.remove(),this.children.exportMenu=null),this.children.exportMenu=new o({model:this.model,collection:{apps:this.collection.appLocalsUnfilteredAll}}),this.children.exportMenu.render().$el.appendTo(this.$(".dashboard-export-container"))),this},template:'            <span class="dashboard-view-controls">                <% if(canWrite) { %>                    <a class="btn edit-btn" href="#"><%- _("Edit").t() %></a>                <% } %>                <div class="dashboard-export-container '+l.exportButtonContainer+'"></div>                <a aria-label="<%- _("more").t() %>" class="btn edit-other" href="#">...</a>            </span>        '})}.apply(t,n))||(e.exports=s)},"views/dashboard/header/EditMenu.pcssm":function(e,t,i){var n=i(526);"string"==typeof n&&(n=[[e.i,n,""]]);var s={sourceMap:!1,hmr:!0,transform:void 0,insertInto:void 0};i(4)(n,s);n.locals&&(e.exports=n.locals)},"views/dashboard/header/ExportMenu":function(e,t,i){var n,s;n=[e,i("shim/jquery"),i("require/underscore"),i("views/dashboard/Base"),i("views/shared/PopTart"),i("util/pdf_utils")],void 0===(s=function(e,t,i,n,s,a){var r={button:!0,showOpenActions:!0,deleteRedirect:!1},o=s.extend({className:"dropdown-menu export-menu",initialize:function(){s.prototype.initialize.apply(this,arguments),i.defaults(this.options,r)},events:{"click a.edit-export-pdf":function(e){e.preventDefault(),this._triggerControllerEvent("action:export-pdf")},"click a.edit-schedule-pdf":function(e){e.preventDefault(),t(e.currentTarget).is(".disabled")||this._triggerControllerEvent("action:schedule-pdf")},"click a.edit-print":function(e){e.preventDefault(),this._triggerControllerEvent("action:print")}},_triggerControllerEvent:function(){this.model.controller.trigger.apply(this.model.controller,arguments),this.hide()},render:function(){return this.$el.html(s.prototype.template_menu),this.$el.append(this._getTemplate()),this},_getTemplate:function(){var e={canWrite:this.model.view.entry.acl.canWrite(),isSimpleXML:this.model.view.isSimpleXML(),userCanSchedule:this.model.user.canSchedulePDF(),viewSchedulable:this.model.view.canSchedulePDF(),viewPdfSchedulable:a.isPDFGenAvailable()&&this.model.view.canSchedulePDF(),canExport:this.model.view.isSimpleXML()&&a.isPDFGenAvailable(),isForm:this.model.view.isForm()};return this.compiledTemplate(e)},isEmpty:function(){return!1},template:'                <ul class="first-group">                    <% if (canExport) { %>                        <li><a href="#" class="edit-export-pdf"><%- _("Export PDF").t() %></a></li>                    <% } else { %>                        <li><a href="#" class="edit-export-pdf disabled"><%- _("Export PDF").t() %></a></li>                    <% } %>                    <% if (userCanSchedule) { %>                        <% if (viewPdfSchedulable) { %>                            <li><a href="#" class="edit-schedule-pdf"><%- _("Schedule PDF Delivery").t() %></a></li>                        <% } else { %>                            <li><a href="#" class="edit-schedule-pdf disabled"><%- _("Schedule PDF Delivery").t() %></a></li>                        <% } %>                    <% } %>                    <li><a href="#" class="edit-print"><%- _("Print").t() %></a></li>                </ul>            '});return n.extend({moduleId:e.i,ViewOptions:{register:!1},initialize:function(){n.prototype.initialize.apply(this,arguments)},events:{"click a.edit-export":function(e){e.preventDefault(),this.children.exportMenuOptions=new o({model:this.model}),this.children.exportMenuOptions.once("hide",this.children.exportMenuOptions.remove),t("body").append(this.children.exportMenuOptions.render().$el);var i=t(e.currentTarget);i.addClass("active"),this.children.exportMenuOptions.show(i),this.children.exportMenuOptions.once("hide",(function(){i.removeClass("active")}))}},render:function(){return this.$el.html(this.compiledTemplate()),this},template:'                    <a class="btn edit-export" href="#"><%- _("Export").t() %> <span class="caret" aria-hidden="true"></span></a>            '})}.apply(t,n))||(e.exports=s)},"views/dashboard/header/ThemeSwitch":function(e,t,i){"use strict";i(1),Object.defineProperty(t,"__esModule",{value:!0});var n=h(i(0)),s=h(i("require/underscore")),a=h(i(32)),r=h(i(148)),o=h(i(46)),l=h(i("views/ReactAdapterBase")),d=h(i("views/dashboard/header/ThemeSwitch.pcssm"));function h(e){return e&&e.__esModule?e:{default:e}}t.default=l.default.extend({moduleId:e.i,className:d.default.switch,viewOptions:{register:!1},initialize:function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];l.default.prototype.initialize.apply(this,t),this.listenTo(this.model.page,"change:theme",this.render),this.listenTo(this.model.state,"change:themeDirty",this.render),this.handleClick=this.handleClick.bind(this)},handleClick:function(){var e=this.model.page.get("theme")||"light";this.model.page.set("theme","light"===e?"dark":"light")},getComponent:function(){var e=this.model.page.get("theme")||"light",t=this.model.state.get("themeDirty")||!1;return n.default.createElement(a.default,{key:"splunk-theme-switch",onClick:this.handleClick,selected:"dark"===e,appearance:"toggle"},(0,s.default)("Dark Theme").t(),t&&n.default.createElement(o.default,{content:(0,s.default)("To enable theme changes, save and refresh the dashboard.").t()},n.default.createElement(r.default,{style:{color:"#F8BE34",marginLeft:7},size:"15px"})))}}),e.exports=t.default},"views/dashboard/header/ThemeSwitch.pcssm":function(e,t,i){var n=i(2061);"string"==typeof n&&(n=[[e.i,n,""]]);var s={sourceMap:!1,hmr:!0,transform:void 0,insertInto:void 0};i(4)(n,s);n.locals&&(e.exports=n.locals)},"views/dashboard/header/Title":function(e,t,i){var n,s;n=[e,i("shim/jquery"),i("require/underscore"),i("views/dashboard/Base"),i("views/dashboard/header/Title.pcss")],void 0===(s=function(e,t,i,n){return n.extend({moduleId:e.i,viewOptions:{register:!1},className:"dashboard-title",tagName:"h1",initialize:function(e){n.prototype.initialize.apply(this,arguments),this.listenTo(this.model.view.entry.content,"change:label",this.render),this.listenTo(this.model.page,"change:hideFilters change:globalFieldsetEmpty",this.render)},events:{"click [data-action=show-filters]":function(e){e.preventDefault(),this.model.controller.trigger("action:showFilters")}},_renderLink:function(){var e=!this.model.page.has("globalFieldsetEmpty")||this.model.page.get("globalFieldsetEmpty");if(this.model.page.get("hideFilters")&&!e){var n=t('<a class="show-global-filters" data-action="show-filters" href="#">'+i("Show Filters").t()+"</a>");this.$el.append(n)}},render:function(){this.$el.empty();var e=this.model.view.entry.content.has("label")?this.model.view.entry.content.get("label"):this.model.view.entry.get("name");return this.$el[e?"removeClass":"addClass"]("untitled"),e&&this.$el.text(i(e).t()),this._renderLink(),this}})}.apply(t,n))||(e.exports=s)},"views/dashboard/header/Title.pcss":function(e,t,i){var n=i(533);"string"==typeof n&&(n=[[e.i,n,""]]);var s={sourceMap:!1,hmr:!0,transform:void 0,insertInto:void 0};i(4)(n,s);n.locals&&(e.exports=n.locals)},"views/dashboard/layout/BaseLayout":function(e,t,i){var n,s;n=[i("shim/jquery"),i("require/underscore"),i("views/dashboard/Base"),i("views/dashboard/EmptyStatus")],void 0===(s=function(e,t,i,n){return i.extend({initialize:function(e){i.prototype.initialize.apply(this,arguments),this.model=t.extend({},this.model),this.deferreds=t.extend({},e.deferreds)},render:function(){return i.prototype.render.apply(this,arguments),this._updateEmptyMessage(),this},captureStructure:function(){return{}},isEmpty:function(){},_updateEmptyMessage:function(){this.deferreds.componentReady.then(function(){this.isEmpty()?this.children.emptyMessage||(this.children.emptyMessage=new n({model:this.model}),this.children.emptyMessage.render().$el.appendTo(this.$el)):this.children.emptyMessage&&(this.children.emptyMessage.remove(),this.children.emptyMessage=null)}.bind(this))},_onElementCreated:function(){this._updateEmptyMessage()},_onElementRemoved:function(){this._updateEmptyMessage()},_onInputCreated:function(){},_onInputRemoved:function(){},events:{inputCreated:"_onInputCreated",inputRemoved:"_onInputRemoved",elementCreated:"_onElementCreated",elementRemoved:"_onElementRemoved"}})}.apply(t,n))||(e.exports=s)},"views/dashboard/layout/Panel":function(e,t,i){var n,s;n=[e,i("shim/jquery"),i("require/underscore"),i("views/dashboard/Base"),i("splunkjs/mvc"),i("views/dashboard/form/Fieldset"),i("views/dashboard/editor/TitleEditor"),i("views/dashboard/editor/PanelEditor"),i("views/dashboard/element/DashboardElement"),i("views/dashboard/element/Html"),i("views/dashboard/form/Input"),i("views/shared/dialogs/TextDialog"),i("views/dashboard/editor/dialogs/ConvertPanel"),i("splunkjs/mvc/postprocessmanager"),i("splunkjs/mvc/simplexml/dashboard/tokendeps"),i("splunkjs/mvc/tokenutils"),i("shim/splunk.util"),i("views/dashboard/layout/Panel.pcssm")],void 0===(s=function(e,t,i,n,s,a,r,o,l,d,h,u,c,p,m,f,g,v){var b=g.sprintf;return n.extend(i.extend({},m,{moduleId:e.i,className:"dashboard-cell",_uniqueIdPrefix:"panel",initialize:function(){this.options.settingsOptions=i.extend({retainUnmatchedTokens:!0},this.options.settingsOptions),n.prototype.initialize.apply(this,arguments),this.setupTokenDependencies(),this.listenTo(this.settings,"change:title",this._onTitleChange),this.listenTo(this.model.state,"change:mode",this._onModeChange)},render:function(){this.$el.attr("id",this.id),this.$panel=this._createOrFindPanel(),this._renderFieldSet(),this._onModeChange()},remove:function(){this._resetComponents(),i(this.getElements()).invoke("remove"),this.stopListeningToTokenDependencyChange(),n.prototype.remove.apply(this,arguments)},_createOrFindPanel:function(){var e=this.createOrFind("dashboard-panel");return e.addClass(v.dashboardPanel),e.attr("tabindex","0"),e},_onModeChange:function(){switch(this._unbindEventHandler(),this._resetComponents(),this.model.state.get("mode")){case"view":this._renderTitle();break;case"edit":this._renderPanelEditor(),this._renderTitleEditor(),this._renderDragHandle(),this._bindEventHandler()}return this},_onTitleChange:function(){!this.isEditMode()&&this._renderTitle()},_resetComponents:function(){this.$dragHandle&&(this.$dragHandle.remove(),this.$dragHandle=null),this.children.titleEditor&&(this.children.titleEditor.remove(),this.children.titleEditor=null),this.children.panelEditor&&(this.children.panelEditor.remove(),this.children.panelEditor=null)},_renderFieldSet:function(e){e=i.extend({model:i.extend({},this.model,e),id:this.id+"-fieldset"}),this.children.fieldset=new a(e),this.listenTo(this.children.fieldset,"all",this.trigger),this.children.fieldset.render().$el.prependTo(this.$panel)},_renderTitle:function(){var e=this.settings.get("title",{tokens:!0});e&&(e=f.replaceTokens(i(e).t(),s.Components,{tokenNamespace:this.settings._tokenNamespace,escaper:this.settings._tokenEscaper,allowNoEscape:this.settings._allowNoEscape}));var t=this.createOrFind("panel-title",this.$panel,"h2");e?(t.text(i(e).t()).removeClass("empty"),this.$panel.addClass("with-title")):(t.empty().addClass("empty"),this.$panel.removeClass("with-title"))},_renderDragHandle:function(){this.$dragHandle=t('<div class="drag-handle"><a href="#" class="delete-panel"><i class="icon-x"></i></a><div class="handle-inner"></div></div>'),this.$dragHandle.prependTo(this.$panel),this.$dragHandle.find("a.delete-panel:not(.disabled)").off("click").on("click",function(e){e.preventDefault(),this._handleEditEvent("delete")}.bind(this))},_renderPanelEditor:function(){var e=!this._hasChildWithBaseSearch(),t=e?null:i("Unable to convert to prebuilt panel due to dependency on base search.").t();this.children.panelEditor=new o({model:this.settings,icon:"icon-gear",label:i("Inline Panel").t(),actions:[{name:"convert",className:e?"convert-panel":"disabled",label:i("Convert to Prebuilt Panel").t(),tooltip:t}]}),this.children.panelEditor.render().$el.prependTo(this.$panel)},_bindEventHandler:function(){this.children.panelEditor&&this.listenTo(this.children.panelEditor,"all",this._handleEditEvent),this.children.titleEditor&&this.listenTo(this.children.titleEditor,"change:title",this._handleSettingChange),this.listenTo(this.settings,"change",this._handleSettingChange)},_unbindEventHandler:function(){this.children.panelEditor&&this.stopListening(this.children.panelEditor),this.children.titleEditor&&this.stopListening(this.children.titleEditor),this.settings&&this.stopListening(this.settings,"change")},_handleSettingChange:function(){this.model.controller.trigger("edit:panel",{panelId:this.id,panelSettings:this.settings})},_handleEditEvent:function(e){switch(e){case"rename":this.children.titleEditor&&this.children.titleEditor.focus();break;case"convert":this._convertToPrebuiltPanel();break;case"delete":this._deletePanel()}},_hasChildWithBaseSearch:function(){var e=function(e){return s.Components.get(e.settings.get("managerid"))instanceof p};return i(this.getElements()).any(e)||this.children.fieldset&&i(this.children.fieldset.getInputs()).any(e)},_renderTitleEditor:function(){this.children.titleEditor=new r({model:this.settings,attribute:"title",placeholder:i("No title").t()});var e=this.createOrFind("panel-title",this.$panel,"h2");e.empty(),this.children.titleEditor.render().$el.appendTo(e)},addChild:function(e){if(e instanceof l||e instanceof d)this._addElement(e);else{if(!(e instanceof h))throw new Error("Cannot add unknown component as child of panel");this._addInput(e)}},getElements:function(){return this.getChildElements(".dashboard-element")},isEmpty:function(){return 0===this.getElements().length},_addElement:function(e){var i;this.$panel=this.$panel||this._createOrFindPanel(),"single"==e.getVisualizationType()&&(i=this.$panel.children(".panel-element-row:last")).length?0===i.children(".single").length&&(i=t('<div class="panel-element-row" />').appendTo(this.$panel)):i=t('<div class="panel-element-row" />').appendTo(this.$panel),e.render().$el.appendTo(i),this.$el.trigger("structureChanged")},_addInput:function(e){this.children.fieldset.addChild(e)},_convertToPrebuiltPanel:function(){var e=new c({id:"modal_convert_to_ref",model:this.model,panelComponent:this});e.render().appendTo(document.body),e.show()},_deletePanel:function(){var e=new u({id:"modal_delete"});e.settings.set({primaryButtonLabel:i("Delete").t(),cancelButtonLabel:i("Cancel").t(),titleLabel:i("Delete").t()}),this.listenToOnce(e,"click:primaryButton",function(){this.model.controller.trigger("edit:delete-panel",{panelId:this.id,panel:this})}.bind(this));var n=t.trim(this.settings.get("title")),s=n?b("<em>%s</em>",i.escape(n)):i.escape(i("this panel").t());e.setText(b(i("Are you sure you want to delete %s?").t(),s)),e.render().$el.appendTo(document.body),e.show()},captureStructure:function(e){e||(e={});var n=e.omitHidden?function(e){return t(e).is(":visible")}:function(){return!0},s=[];!0!==e.omitFormInputs&&(s=i(this.$el.find(".input")).chain().filter(n).map((function(e){return{type:"input",id:t(e).attr("id")}})).value());var a=i(this.$el.find(".dashboard-element")).chain().filter(n).map((function(e){return{type:"element",id:t(e).attr("id")}})).value();return{id:this.id,type:"panel",children:i.union(s,a)}}}))}.apply(t,n))||(e.exports=s)},"views/dashboard/layout/Panel.pcssm":function(e,t,i){var n=i(550);"string"==typeof n&&(n=[[e.i,n,""]]);var s={sourceMap:!1,hmr:!0,transform:void 0,insertInto:void 0};i(4)(n,s);n.locals&&(e.exports=n.locals)},"views/dashboard/layout/PanelRef":function(e,t,i){var n,s;n=[e,i("shim/jquery"),i("require/underscore"),i("require/backbone"),i("views/dashboard/layout/Panel"),i("views/dashboard/editor/PanelEditor"),i("views/shared/dialogs/TextDialog"),i("models/services/data/ui/Panel"),i("dashboard/DashboardParser"),i("dashboard/DashboardFactory"),i("splunkjs/mvc/messages"),i("controllers/dashboard/helpers/ModelHelper"),i("util/splunkd_utils"),i("shim/splunk.util")],void 0===(s=function(e,t,i,n,s,a,r,o,l,d,h,u,c,p){var m=p.sprintf;return s.extend({moduleId:e.i,className:"dashboard-cell ref-panel",initialize:function(e){s.prototype.initialize.apply(this,arguments),this.deferreds=i.extend({},{panelReady:new t.Deferred,panelRendered:new t.Deferred,panelEditorReady:new t.Deferred},e.deferreds),this.model=i.extend({},this.model),this.model.panel?this.deferreds.panelReady.resolve():this.model.panel=new o,this.components=[],this.managers=[],this.events=[]},applySettings:function(e){this.settings.set(e,{tokens:!0})},render:function(){return s.prototype.render.apply(this,arguments),this.deferreds.panelReady.then(function(){this.build(this.model.panel).then(function(e,t,n,s){this.components=i(n).filter(i.identity),this.managers=t,this.events=s,this.deferreds.panelRendered.resolve()}.bind(this),this.deferreds.panelRendered.reject)}.bind(this)),this},build:function(e,n){n||(n={}),n=i.extend({},{idPrefix:this.id+"_",model:u.getViewOnlyModel(this.model),deferreds:this.deferreds,collection:this.collection},n),this.model.panel=e;var s=this.model.panel.entry.content.get("eai:data");try{var a=l.getDefault().parsePanel(s);return this._removeMessage(),d.getDefault().materializeExisting(this,a,n)}catch(e){return this.onParserError(e),t.Deferred().reject(e)}},onParserError:function(e){this.renderError(i("Error parsing prebuilt dashboard panel.").t())},load:function(e,t,n){if(e){this.model.panel.entry.set("name",e),this.model.panel.entry.acl.set("app",t),this._renderMessage({icon:"info-circle",level:"info",message:i("Loading panel...").t()});var s=this;this.model.panel.fetch({url:c.fullpath(this.model.panel.url+"/"+encodeURIComponent(e),{app:t||this.model.application.get("app"),owner:this.model.application.get("owner")}),success:function(){s.deferreds.panelReady.resolve()},error:function(t,n){var a=404===n.status?m(i('Dashboard panel "%s" not found.').t(),i.escape(e)):m(i('Error loading dashboard panel "%s".').t(),i.escape(e));s.renderError(a),s.deferreds.panelReady.reject(),s.deferreds.panelRendered.reject()}})}else this.renderError(i("Empty panel reference specified.").t())},_renderFieldSet:function(e){return s.prototype._renderFieldSet.call(this,{state:new n.Model({editable:!1,mode:"view"})})},_removeMessage:function(){this.$panel.children(".panel-message").remove()},renderError:function(e){this._renderMessage({icon:"warning-sign",level:"error",message:e})},_renderMessage:function(e){this.$panel=this.$panel||this.createOrFind("dashboard-panel"),this._removeMessage();var i=t('<div class="dashboard-element panel-message"></div>'),n=t('<div class="panel-body"></div>').appendTo(i);h.render(e,n),this.$panel.append(i)},_renderTitleEditor:function(){this._renderTitle()},_onTitleChange:function(){this._renderTitle()},_renderPanelEditor:function(){t.when(this.deferreds.panelReady,this.deferreds.panelRendered).always(function(){var e=!this._hasChildWithBaseSearch()&&"resolved"==this.deferreds.panelReady.state()&&"resolved"==this.deferreds.panelRendered.state(),t=e?null:i("Unable to convert to prebuilt panel due to dependency on base search.").t();this.children.panelEditor=new a({model:this.settings,icon:"icon-lock",label:i("Prebuilt Panel").t(),actions:[{name:"convert",className:e?"convert-panel":"disabled",label:i("Convert to Inline Panel").t(),tooltip:t}]}),this.children.panelEditor.render().$el.prependTo(this.$panel),this.deferreds.panelEditorReady.resolve()}.bind(this))},_bindEventHandler:function(){this.deferreds.panelEditorReady.always(function(){this.children.panelEditor&&this.listenTo(this.children.panelEditor,"all",this._handleEditEvent),this.listenTo(this.settings,"change",this._handleSettingChange)}.bind(this))},_handleEditEvent:function(e){switch(e){case"convert":this._convertToInlinePanel();break;case"delete":this._deletePanel()}},_convertToInlinePanel:function(){var e=this;r.confirm(i("Conversion to an inline panel lets you edit and customize the panel on this dashboard.").t(),{id:"modal_convert_to_inline",title:i("Convert to Inline Panel").t(),primaryButtonLabel:i("Convert").t(),primaryAction:function(){e.model.controller.trigger("edit:make-inline-panel",{panelId:e.id,panelComponent:e})}})},captureStructure:function(){return{type:"panel",id:this.id}},remove:function(){i(this.events).invoke("dispose"),i(this.components).invoke("remove"),i(this.managers).invoke("dispose"),s.prototype.remove.apply(this,arguments)}})}.apply(t,n))||(e.exports=s)},"views/dashboard/layout/row_column/Dragndrop":function(e,t,i){var n,s;n=[i("shim/jquery"),i("require/underscore"),i("require/backbone"),i("splunkjs/mvc"),i("views/dashboard/layout/row_column/Row"),i("shim/jquery.ui.sortable")],void 0===(s=function(e,t,i,n,s){return i.View.extend({initialize:function(){t.bindAll(this,"updateRow")},render:function(){return this.startDragAndDrop(),this},events:{"mouseover .drag-handle":function(t){e(t.target).parents(".dashboard-panel").addClass("drag-hover")},"mouseout .drag-handle":function(t){e(t.target).parents(".dashboard-panel").removeClass("drag-hover")},resetDragAndDrop:"restart"},startDragAndDrop:function(){this.delegateEvents(),this.$el.addClass("dragndrop-enabled"),t.defer(t.bind((function(){this.enablePanelDragAndDrop(),this.enableInputDragAndDrop()}),this))},getDragItemSize:function(){return Math.max(100,Math.min(e(window).width()/3,600))},enablePanelDragAndDrop:function(){var i,n=this,s=t.debounce(n.updateDimensions.bind(this),0),a=t(this.enablePanelDragAndDrop).bind(this),r=t.once((function(){if(i){try{i.sortable("destroy")}catch(e){}n.trigger("sortupdate"),t.defer(a),n.cleanupEmptyRows(),i=null,e(window).trigger("resize"),n.$(".dashboard-row").trigger("panelVisibilityChanged")}}));this.createNewDropRow(),i=this.$(".dashboard-row").sortable({handle:".drag-handle",connectWith:this.$(".dashboard-row"),placeholder:{element:function(){return e('<div class="sortable-placeholder"><div class="dashboard-panel"></div></div>')},update:function(e,t){n.updateRow(t.parents(".dashboard-row"))}},tolerance:"pointer",cursorAt:{left:n.getDragItemSize()/2}}).on("sort",(function(e){s()})).on("sortupdate",(function(e){r()})).on("stop",(function(e){r()})),s(),e(window).trigger("resize")},enableInputDragAndDrop:function(){var i,n=this,s=t.once((function(){if(i){try{i.sortable("destroy")}catch(e){}n.trigger("sortupdate"),t.defer((function(){n.enableInputDragAndDrop()})),i=null}}));i=this.$(".fieldset.editable").sortable({handle:".drag-handle",connectWith:this.$(".fieldset.editable"),items:">.input",tolerance:"pointer",placeholder:{element:function(t){var i=e('<div class="input ui-sortable-placeholder"><div class="placeholder-inner"></div></div>'),n=t.height();return i.height(n-5),i.children().height(n-15),i[0]},update:function(){}},start:function(){e(".dashboard-body").addClass("form-drag"),e("#search_btn").hide()},stop:function(){e(".dashboard-body").removeClass("form-drag");var t=e(".form-submit");t.length&&t.appendTo(t.parent()).show(),e(".fieldset.editable").trigger("updateState")}}).on("sortupdate",s).on("stop",s)},destroy:function(){this.undelegateEvents(),this.$el.removeClass("dragndrop-enabled"),this.cleanupEmptyRows();try{this.$(".dashboard-row").sortable("destroy"),this.$(".fieldset.editable").sortable("destroy")}catch(e){}this.updateDimensions()},restart:function(){this.destroy(),this.render()},updateRow:function(t){var i=e(t),n=i.children().not(".ui-sortable-helper"),s=String(Math.floor(1e4/n.not(".sortable-dragging").length)/100)+"%";n.css({width:s}),i.children(".ui-sortable-helper").css({width:this.getDragItemSize()})},updateDimensions:function(){t(this.$(".dashboard-row")).each(this.updateRow)},createNewDropRow:function(){this.cleanupEmptyRows(),t(this.$(".dashboard-row")).each((function(e){(new s).render().$el.insertAfter(e)}));var e=this.$(".dashboard-row").first();e&&(new s).render().$el.insertBefore(e)},cleanupEmptyRows:function(){t(this.$(".dashboard-row")).chain().map((function(t){return e(t).attr("id")})).map(t.bind(n.Components.get,n.Components)).invoke("removeIfDOMEmpty"),this.$(".dashboard-row.empty").removeClass("empty")},getItemOrder:function(){return t(this.$(".dashboard-row")).map((function(i){return t(e(i).find(".dashboard-panel")).map((function(i){return t(e(i).find(".dashboard-element")).map((function(t){return e(t).attr("id")}))}))}))}})}.apply(t,n))||(e.exports=s)},"views/dashboard/layout/row_column/Row":function(e,t,i){var n,s;n=[e,i("shim/jquery"),i("require/underscore"),i("views/dashboard/Base"),i("splunkjs/mvc/simplexml/dashboard/tokendeps")],void 0===(s=function(e,t,i,n,s){return n.extend(i.extend({},s,{moduleId:e.i,className:"dashboard-row",_uniqueIdPrefix:"row",initialize:function(){n.prototype.initialize.apply(this,arguments),this.setupTokenDependencies()},addChild:function(e){n.prototype.addChild.apply(this,arguments),this._updateState(),this.$el.trigger("structureChanged")},render:function(){return n.prototype.render.apply(this,arguments),this._updateState(),this},_updateState:function(){this.$el[this.isEmpty()?"addClass":"removeClass"]("empty")},getPanels:function(){return this.getChildElements(".dashboard-cell")},isEmpty:function(){return 0==this.getPanels().length},remove:function(){this.stopListeningToTokenDependencyChange(),n.prototype.remove.apply(this,arguments)},removeIfDOMEmpty:function(){this.isEmpty()&&this.remove()}}))}.apply(t,n))||(e.exports=s)},"views/dashboard/layout/row_column/RowColumnLayout":function(e,t,i){var n,s;n=[e,i("shim/jquery"),i("require/underscore"),i("require/backbone"),i("splunkjs/mvc"),i("views/dashboard/form/Input"),i("views/dashboard/layout/BaseLayout"),i("views/dashboard/layout/Panel"),i("views/dashboard/layout/row_column/Row"),i("views/dashboard/form/GlobalFieldset"),i("views/dashboard/layout/row_column/Dragndrop"),i("controllers/dashboard/helpers/EditingHelper")],void 0===(s=function(e,t,i,n,s,a,r,o,l,d,h,u){var c=n.View.extend({initialize:function(e){this.layout=e.layout,this._debouncedRowStructureChange=i.debounce(this._onRowStructureChange.bind(this),10)},enable:function(){this.delegateEvents(),this._listenToRowDOMChange(),this._onRowStructureChange()},disable:function(){this.undelegateEvents(),this._stopListenRowDOMChange()},_listenToRowDOMChange:function(){this._stopListenRowDOMChange(),this.$(".dashboard-panel").length>1&&(this.$el.on("DOMSubtreeModified",this._throttledAlignItemHeights.bind(this)),this._throttledAlignItemHeights())},_stopListenRowDOMChange:function(){this.$el.off("DOMSubtreeModified")},_onRowStructureChange:function(){var e=this.layout.isEditMode();this._stopListenRowDOMChange();var i=this.$el.children(".dashboard-cell");if(0!==i.length){this._updateCellVisibility(i);var n=e?i:i.filter(":not(.hidden)");i.removeClass("last-visible"),n.last().addClass("last-visible");var s=n.length,a=String(100/s)+"%";i.css({width:a}).find(".panel-element-row").each((function(){var i=t(this).find(e?".dashboard-element":".dashboard-element:not(.hidden)");i.css({width:String(100/i.length)+"%"})})),s>0&&this._throttledAlignItemHeights(),this._listenToRowDOMChange()}else this.$el.addClass("empty")},_updateCellVisibility:function(e){i.each(e,(function(e){var i=t(e);if(s.Components.get(i.attr("id")).tokenDependenciesMet()){var n=i.find(".dashboard-element"),a=i.find(".input"),r=n.filter(".hidden");0==a.length&&n.length>0&&r.length==n.length?i.addClass("hidden"):i.removeClass("hidden")}}),this)},_throttledAlignItemHeights:function(){var e=this;if(!e._alignTimer){var t=null==e._lastAlign||+new Date-e._lastAlign>1e3;e._alignTimer=setTimeout((function(){e._alignItemHeights(),e._alignTimer=null}),t?50:1e3)}},_alignItemHeights:function(){var e=this.$el.find(".dashboard-panel");e.css({"min-height":0}),e.length>1&&e.css({"min-height":i.max(i.map(e,(function(e){return t(e).height()})))}),this._lastAlign=+new Date},events:{structureChanged:"_debouncedRowStructureChange",elementVisibilityChanged:"_debouncedRowStructureChange"}});return r.extend({moduleId:e.i,className:"dashboard-layout-row-column",initialize:function(){r.prototype.initialize.apply(this,arguments),this.rowManagers={},this.children.fieldset=null,this.listenTo(this.model.state,"change:mode",this._onModeChange)},addChild:function(e){var t=this.isEditMode()&&"resolved"==this.deferreds.componentReady.state();if(e instanceof l)e.render().$el.appendTo(this.$el),this._bindRowManager(e),t&&(this.dragnDrop&&this.dragnDrop.restart(),u.highlight(e));else if(e instanceof o){var i=new l;i.addChild(e),this.addChild(i)}else if(e instanceof a)this.children.fieldset&&this.children.fieldset.addChild(e);else{if(!(e instanceof d))throw new Error("Cannot add unknown component as child of RowColumnLayout");this.children.fieldset=e,e.render().$el.prependTo(this.$el)}return e},isEmpty:function(){return 0===this.getRows().length},getRows:function(){return this.getChildElements(".dashboard-row")},getFieldset:function(){return this.children.fieldset},render:function(){return r.prototype.render.apply(this,arguments),this._onModeChange(),this},remove:function(){this.children.fieldset&&(this.children.fieldset.remove(),this.children.fieldset=null),r.prototype.remove.apply(this,arguments)},_bindRowManager:function(e){this.rowManagers[e.id]=new c({el:e.el,layout:this}),this.rowManagers[e.id].enable()},_bindRowManagers:function(){this._clearRowManagers(),i.each(this.getRows(),this._bindRowManager,this)},_clearRowManagers:function(){i.each(this.rowManagers,(function(e,t){e.disable(),e=null}),this),this.rowManagers={}},_onModeChange:function(){switch(this._disableDragAndDrop(),this._bindRowManagers(),this.model.state.get("mode")){case"edit":this.deferreds.componentReady.then(function(){this._createFieldset(),this._enableDragAndDrop(),this._updateFieldsetEditor()}.bind(this));break;case"view":this._updateFieldsetEditor()}return this},_disableDragAndDrop:function(){this.dragnDrop&&(this.dragnDrop.off(),this.dragnDrop.destroy(),this.dragnDrop=null)},_enableDragAndDrop:function(){this.dragnDrop=new h({el:this.el}),this.dragnDrop.on("sortupdate",i.debounce(this._updateLayout,0),this),this.dragnDrop.render()},_updateFieldsetEditor:function(){if(this.children.fieldset){var e=this.model.state.get("mode"),t=this.getChildElements(".input"),i=this.getChildElements(".form-submit"),n=t.length+i.length>0;"view"!=e&&n?"edit"==e&&this.children.fieldset.renderFieldsetEditor():this.children.fieldset.resetFieldsetEditor()}},_createFieldset:function(e){if(!this.children.fieldset){e=i.extend({model:this.model,submitButton:!1},e);var t=new d(e,{tokens:!0});this.addChild(t),this.model.controller.trigger("new:fieldset",{fieldsetId:t.id})}},_updateLayout:function(){this.model.controller.trigger("edit:layout")},captureStructure:function(e){e||(e={});var n=e.omitHidden?function(e){return t(e).is(":visible")}:function(){return!0},a=i(this.$el.children(".dashboard-row")).chain().filter((function(e){return t(e).find(".dashboard-cell").length>0})).filter(n).map((function(a){var r=t(a),o=i(r.find(".dashboard-cell")).chain().filter(n).map((function(i){return s.Components.get(t(i).attr("id")).captureStructure(e)})).value();return{type:"row",id:r.attr("id"),children:o}})).value(),r=[];if(!0!==e.omitFormInputs){var o=this.$el.children(".fieldset"),l=[];i(t(o).children()).chain().filter(n).each((function(e){t(e).is(".input")?l.push({type:"input",id:t(e).attr("id")}):t(e).is(".html")&&l.push({type:"element",id:t(e).attr("id")})})),(this.getChildElements(".fieldset > .input").length>0||this.getChildElements(".fieldset > .html").length>0)&&(r=[{type:"fieldset",id:o.attr("id"),children:l}])}return{type:"row-column-layout",children:i.union(r,a)}},_onInputCreated:function(){this._updateFieldsetEditor()},_onInputRemoved:function(){this._updateFieldsetEditor()}})}.apply(t,n))||(e.exports=s)},"views/dashboard/panelEditor.pcss":function(e,t,i){var n=i(2062);"string"==typeof n&&(n=[[e.i,n,""]]);var s={sourceMap:!1,hmr:!0,transform:void 0,insertInto:void 0};i(4)(n,s);n.locals&&(e.exports=n.locals)},"views/dashboard/toolbar.pcss":function(e,t,i){var n=i(2063);"string"==typeof n&&(n=[[e.i,n,""]]);var s={sourceMap:!1,hmr:!0,transform:void 0,insertInto:void 0};i(4)(n,s);n.locals&&(e.exports=n.locals)},"views/dashboards/PanelTimeRangePicker":function(e,t,i){var n;void 0===(n=function(e,t,n){var s=i("require/underscore"),a=i("views/Base"),r=i("views/shared/controls/ControlGroup"),o=(i("util/console"),i("uri/route"),i("splunkjs/mvc")),l=i("splunkjs/mvc/simpleform/formutils"),d=i("splunkjs/mvc/tokenutils"),h=i("shim/splunk.util"),u=i("views/shared/timerangepicker/Master");return i("shim/bootstrap.tooltip"),a.extend({moduleId:n.i,initialize:function(){a.prototype.initialize.apply(this,arguments),this.model.timeRange.on("applied",(function(){this.updateReportTime(),this.updateTime()}),this);var e=s(o.Components.toJSON()).chain().values().filter((function(e){return!(!l.isFormInput(e)||!e.settings)&&"time"==e.settings.get("type")})).map((function(e){var t=e.settings.get("token")||"global";return{value:t,label:h.sprintf(s("Shared Time Picker (%s)").t(),t)}})).value(),t="search",i=d.hasToken(this.model.report.get("dispatch.earliest_time"))&&d.hasToken(this.model.report.get("dispatch.latest_time"));if(i){var n=d.getTokenName(this.model.report.get("dispatch.earliest_time")),c=n.replace(/\.?earliest$/g,"");c=""===c?"global":c;var p=d.getTokenName(this.model.report.get("dispatch.latest_time")),m=p.replace(/\.?latest$/g,"");m=""===m?"global":m,this.model.timeRange.set({earliest_token:n,latest_token:p}),c===m?s(e).find((function(e){return e.value===c}))?t=c:"global"!==c&&(t="tokens"):t="tokens"}if(!0===this.options.popdownTimeRange&&(this.children.timerange=new u({model:{state:this.model.report,timeRange:this.model.timeRange,appLocal:this.model.appLocal,user:this.model.user,application:this.model.application},collection:this.collection.timeRanges,timerangeClassName:"btn",popdownOptions:{attachDialogTo:".sidebar:not(.first)",scrollContainer:".preview-body"}})),this.model.timeRange.set({useTimeFrom:t}),e.length>0||i){var f=[[{label:s("Explicit Selection").t(),value:"search"}],[{label:s("Tokens").t(),value:"tokens"}]];e.length>0&&f.unshift(e),this.children.timeScope=new r({label:s("Time Range").t(),controlType:"SyntheticSelect",className:"time-range-scope",controlOptions:{additionalClassNames:"time-range-scope-select",toggleClassName:"btn",items:f,model:this.model.timeRange,popdownOptions:{attachDialogTo:".sidebar:not(.first), .modal:visible",scrollContainer:".preview-body, .modal:visible, .modal-body:visible"},modelAttribute:"useTimeFrom",elastic:!0}})}else this.model.timeRange.set("useTimeFrom","search");this.children.advancedEarliest=new r({label:s("Earliest Token").t(),controlType:"Text",controlOptions:{model:this.model.timeRange,modelAttribute:"earliest_token"}}),this.children.advancedLatest=new r({label:s("Latest Token").t(),controlType:"Text",controlOptions:{model:this.model.timeRange,modelAttribute:"latest_token"}}),this.listenTo(this.model.timeRange,"change:useTimeFrom",this.updateTokens,this)},updateReportTime:function(){var e=this.model.timeRange.get("useTimeFrom");"tokens"===e||"search"===e?this.model.report.set({"dispatch.earliest_time":this.model.timeRange.get("earliest",{tokens:!0}),"dispatch.latest_time":this.model.timeRange.get("latest",{tokens:!0})},{tokens:!0}):"global"===e?this.model.report.set({"dispatch.earliest_time":"$earliest$","dispatch.latest_time":"$latest$"},{tokens:!0}):this.model.report.set({"dispatch.earliest_time":"$"+e+".earliest$","dispatch.latest_time":"$"+e+".latest$"},{tokens:!0})},updateTokens:function(){this.updateReportTime(),this.toggleTimeRangePicker(),this.toggleAdvancedTokens()},toggleAdvancedTokens:function(){"tokens"===this.model.timeRange.get("useTimeFrom")?(this.children.advancedEarliest.$el.show(),this.children.advancedLatest.$el.show()):(this.children.advancedEarliest.$el.hide(),this.children.advancedLatest.$el.hide())},toggleTimeRangePicker:function(){"search"===this.model.timeRange.get("useTimeFrom")?this.children.timerange?this.children.timerange.$el.show():this.$(".timerange").show():this.children.timerange?this.children.timerange.$el.hide():this.$(".timerange").hide()},updateTime:function(){var e=this.model.timeRange.generateLabel(this.collection);this.$el.find("span.time-label").text(s(e).t())},render:function(){return this.children.timeScope&&this.children.timeScope.render().appendTo(this.el),this.children.advancedEarliest.render().$el.appendTo(this.$el),this.children.advancedLatest.render().$el.appendTo(this.$el),this.children.timerange?this.$el.append(this.children.timerange.render().$el):this.$el.append('<div class="timerange" style="display: block;"><label class="control-label">'+s("Time Range").t()+"</label></div>"),this.$("div.timerange").append('<div class="controls"><a href="#" class="btn timerange-control"><span class="time-label"></span><span class="icon-triangle-right-small"></span></a></div>'),this.toggleTimeRangePicker(),this.toggleAdvancedTokens(),this.updateTime(),this}})}.call(t,i,t,e))||(e.exports=n)},"views/dashboards/panelcontrols/CreateReportDialog":function(e,t,i){var n,s;n=[i("shim/jquery"),i("require/underscore"),i("require/backbone"),e,i("views/shared/controls/ControlGroup"),i("views/shared/Modal"),i("views/shared/FlashMessages")],void 0===(s=function(e,t,i,n,s,a,r){return a.extend({moduleId:n.i,initialize:function(){a.prototype.initialize.apply(this,arguments),this.model.workingReport=new i.Model({name:this.model.report.entry.content.get("display.general.title")}),this.children.flashMessagesReport=new r({model:this.model.report}),this.children.flashMessagesDashboard=new r({model:this.model.dashboard}),this.on("hide",this.model.report.error.clear,this.model.report.error),this.on("hide",this.model.dashboard.error.clear,this.model.dashboard.error),this.children.reportNameControlGroup=new s({label:t("Report Title").t(),controlType:"Text",controlOptions:{model:this.model.workingReport,modelAttribute:"name"}}),this.children.reportDescriptionControlGroup=new s({label:t("Description").t(),controlType:"Textarea",controlOptions:{model:this.model.workingReport,modelAttribute:"description",placeholder:t("optional").t()}}),this.listenTo(this.model.report,"successfulReportSave",this.hide,this)},events:e.extend({},a.prototype.events,{"click .modal-btn-primary":"onSave"}),onSave:function(e){e.preventDefault(),this.model.report.trigger("saveAsReport",this.model.workingReport.get("name"),this.model.workingReport.get("description"))},render:function(){this.$el.html(a.TEMPLATE),this.$(a.HEADER_TITLE_SELECTOR).html(t("Convert to Report").t()),this.$(a.BODY_SELECTOR).prepend(this.children.flashMessagesDashboard.render().el),this.$(a.BODY_SELECTOR).prepend(this.children.flashMessagesReport.render().el),this.$(a.BODY_SELECTOR).append(a.FORM_HORIZONTAL),this.$(a.BODY_FORM_SELECTOR).append(this.children.reportNameControlGroup.render().el),this.$(a.BODY_FORM_SELECTOR).append(this.children.reportDescriptionControlGroup.render().el),this.$(a.FOOTER_SELECTOR).append(a.BUTTON_CANCEL),this.$(a.FOOTER_SELECTOR).append(a.BUTTON_SAVE)}})}.apply(t,n))||(e.exports=s)},"views/dashboards/panelcontrols/Master":function(e,t,i){var n,s;n=[i("require/underscore"),i("views/Base"),i("models/Base"),i("shim/jquery"),e,i("views/shared/controls/SyntheticSelectControl"),i("views/shared/delegates/Popdown"),i("views/shared/reportcontrols/details/Master"),i("collections/services/authorization/Roles"),i("models/shared/Application"),i("views/dashboards/panelcontrols/titledialog/Modal"),i("views/dashboards/panelcontrols/querydialog/Modal"),i("views/dashboards/panelcontrols/ReportDialog"),i("views/dashboards/panelcontrols/CreateReportDialog"),i("uri/route"),i("util/console"),i("shim/splunk.util"),i("views/shared/dialogs/TextDialog"),i("shim/bootstrap.tooltip")],void 0===(s=function(e,t,i,n,s,a,r,o,l,d,h,u,c,p,m,f,g,v,b){return t.extend({moduleId:s.i,initialize:function(e){t.prototype.initialize.apply(this,arguments),this.model.report.on("change:id",this.updateReportView,this),this.model.report.entry.content.on("change",this.updateReportView,this),this.collection=this.collection||{},this.collection.roles=new l({}),this.collection.roles.fetch()},onChangeElementTitle:function(e){e.preventDefault(),this.model.report.trigger("editTitle"),this.children.popdown.hide()},onChangeSearchString:function(e){e.preventDefault(),n(e.currentTarget).is(".disabled")||(this.children.queryDialogModal=new u({model:{report:this.model.report,appLocal:this.model.appLocal,application:this.model.application,user:this.model.user,dashboard:this.model.dashboard,state:this.model.state},onHiddenRemove:!0}),n("body").append(this.children.queryDialogModal.render().el),this.children.queryDialogModal.show(),this.children.popdown.hide())},updateReportView:function(){this.debouncedRender()},render:function(){var e,t={};return e=this.model.report.get("id")?this.model.report.isPivotReport()?"icon-report-pivot":"icon-report-search":this.model.report.isPivotReport()?"icon-pivot":"icon-search-thin",t.panelClass=e,this.$el.html(this.compiledTemplate(t)),this.children.popdown=new r({el:this.el,mode:"dialog"}),this._renderPanelControls(),this},_renderPanelControls:function(){var t;this.$(".dropdown-menu").html(e.template(this._panelControlsTemplate,{_:e})),t=this.model.report.get("id")?this.model.report.isPivotReport()?e("PIVOT REPORT").t():e("SEARCH REPORT").t():this.model.report.isPivotReport()?e("INLINE PIVOT").t():e("INLINE SEARCH").t();var i=e.template('<li class="panelType"><%- panelType %></li>',{panelType:t});if(this.model.report.get("id")){var s=e.template('<ul class="report_actions"><%= panelTypeLI %><li><a class="viewPanelReport" href="#"><%- reportName %><span class="icon-triangle-right-small"></span></a></li></ul>',{panelTypeLI:i,reportName:this.model.report.entry.get("name")});this.$(".panel_actions").before(s),this.$(".panel_actions").prepend('<li><a href="#" class="changeElementTitle">'+e("Edit Title").t()+"</a></li>")}else{var a=n('<li><a class="convertToReport" href="#">'+e("Convert to Report").t()+"</a></li>"),r=n('<li><a href="#" class="changeSearchString">'+e("Edit Search String").t()+"</a></li>");"global"===this.model.report.entry.content.get("display.general.search.type")&&(a.find("a").addClass("disabled").tooltip({animation:!1,title:e("Cannot convert global search to report.").t()}),r.find("a").addClass("disabled").tooltip({animation:!1,title:e("Cannot edit global search.").t()})),this.$(".panel_actions").prepend(a),this.$(".panel_actions").prepend(r),this.$(".panel_actions").prepend('<li><a href="#" class="changeElementTitle">'+e("Edit Title").t()+"</a></li>"),this.$(".panel_actions").prepend(i)}},_panelControlsTemplate:'                <div class="arrow"></div>                <ul class="panel_actions">                    <li><a class="deletePanel" href="#"><%- _("Delete").t() %></a></li>                </ul>        ',template:'            <a class="dropdown-toggle btn-pill" href="#">                    <span class="<%- panelClass %>"></span><span class="caret" aria-hidden="true"></span>            </a>            <div class="dropdown-menu">            </div>        ',onDelete:function(t){t.preventDefault(),this.children.dialog=new v({id:"modal_delete",flashModel:this.model.dashboard}),this.model.report.on("successfulDelete",this.children.dialog.closeDialog,this.children.dialog),this.children.dialog.settings.set("primaryButtonLabel",e("Delete").t()),this.children.dialog.settings.set("cancelButtonLabel",e("Cancel").t()),this.children.dialog.on("click:primaryButton",this._dialogDeleteHandler,this),this.children.dialog.settings.set("titleLabel",e("Delete").t()),this.children.dialog.setText(g.sprintf(e("Are you sure you want to delete %s?").t(),"<em>"+e.escape(this.model.report.entry.content.get("display.general.title"))+"</em>")),n("body").append(this.children.dialog.render().el),this.children.dialog.show(),this.children.popdown.hide()},_dialogDeleteHandler:function(e){e.preventDefault(),this.model.report.trigger("deleteReport"),f.log("deleteReport event triggered")},onViewPanelReport:function(t){t.preventDefault(),t.stopPropagation();var i,s,a=this.reportDetailsTemplate,r=this.model.application.get("root"),l=this.model.application.get("locale"),d=this.model.application.get("app");i=m.report(r,l,d,{data:{s:this.model.report.get("id")}});var h=this.model.savedAlert.openInView(this.model.user),u=m.getViewRouteData(h);s=u.route(r,l,d,{data:{s:this.model.report.get("id")}}),this.$(".dropdown-menu").html(e.template(a,{viewReportLink:i,editReportLink:s,editReportLabel:u.openLabel,_:e})),this.children.reportDetails&&this.children.reportDetails.remove(),this.children.reportDetails=new o({model:{report:this.model.report,application:this.model.application,appLocal:this.model.appLocal,user:this.model.user,serverInfo:this.model.serverInfo},collection:{roles:this.collection.roles}}),this.$(".reportDetails").prepend(n("<li/>").addClass("reportDetailsView").append(this.children.reportDetails.render().el));var c=this.model.report.entry.content.get("description");c&&this.$(".reportDetails").prepend(n("<li/>").addClass("report-description").text(c)),this.$(".reportDetails").prepend(n("<li/>").addClass("report-name").text(this.model.report.entry.get("name"))),this.$(".dropdown-menu").addClass("show-details"),n(window).trigger("resize")},reportDetailsTemplate:'            <div class="arrow"></div>            <a class="dialogBack btn" href="#"><span class="icon-chevron-left"></span> <%- _("Back").t() %></a>            <ul class="reportDetails">                <li><a href="<%- viewReportLink %>" class="viewSearchReport"><%- _("View").t() %></a></li>                <li><a href="<%- editReportLink %>" class="openSearchReport"><%- editReportLabel %></a></li>                <li><a href="#" class="cloneSearchReport"><%- _("Clone to Inline").t() %></a></li>            </ul>            <ul class="reportActions">                <li><a class="selectNewReport"><%- _("Select New Report").t() %></a></li>                <li><a class="useReportFormatting"><%- _("Use Report\'s Formatting for this Content").t() %></a></li>            </ul>        ',onDialogBack:function(e){e.preventDefault(),e.stopPropagation(),this._renderPanelControls(),this.$(".dropdown-menu").removeClass("show-details"),n(window).trigger("resize")},tbd:function(e){e.preventDefault(),alert("Coming soon to a Splunk near you!")},convertToInlineSearch:function(t){t.preventDefault(),this.children.dialog=new v({id:"modal_inline",flashModel:this.model.dashboard}),this.children.dialog.settings.set("primaryButtonLabel",e("Clone to Inline Search").t()),this.children.dialog.settings.set("cancelButtonLabel",e("Cancel").t()),this.children.dialog.on("click:primaryButton",this._convertToInlineSearch,this),this.model.report.on("successfulManagerChange",this.children.dialog.closeDialog,this.children.dialog),this.children.dialog.settings.set("titleLabel",e("Clone to Inline Search").t()),this.children.dialog.setText("<div>                <p>"+e("The report will be cloned to an inline search.").t()+"</p>                <p>"+e("The inline search:").t()+"                </p><ul>                <li>"+e("Cannot be scheduled.").t()+"</li>                <li>"+e("Will run every time the dashboard is loaded.").t()+"</li>                <li>"+e("Will use the permissions of the dashboard.").t()+"</li>                </ul>                </div>"),n("body").append(this.children.dialog.render().el),this.children.dialog.show(),this.children.popdown.hide()},convertToInlinePivot:function(t){t.preventDefault(),this.children.dialog=new v({id:"modal_inline",flashModel:this.model.dashboard}),this.children.dialog.settings.set("primaryButtonLabel",e("Clone to Inline Pivot").t()),this.children.dialog.settings.set("cancelButtonLabel",e("Cancel").t()),this.children.dialog.on("click:primaryButton",this._convertToInlineSearch,this),this.model.report.on("successfulManagerChange",this.children.dialog.closeDialog,this.children.dialog),this.children.dialog.settings.set("titleLabel",e("Clone to Inline Pivot").t()),this.children.dialog.setText("<div>                <p>"+e("The report will be cloned to an inline pivot.").t()+"</p>                <p>"+e("The inline pivot:").t()+"                </p><ul>                <li>"+e("Cannot be scheduled.").t()+"</li>                <li>"+e("Will run every time the dashboard is loaded.").t()+"</li>                <li>"+e("Will use the permissions of the dashboard.").t()+"</li>                </ul>                </div>"),n("body").append(this.children.dialog.render().el),this.children.dialog.show(),this.children.popdown.hide()},_convertToInlineSearch:function(e){e.preventDefault(),this.model.report.trigger("makeInline"),f.log("makeInline event triggered")},useReportFormatting:function(t){t.preventDefault(),this.children.dialog=new v({id:"modal_use_report_formatting",flashModel:this.model.dashboard}),this.children.dialog.settings.set("primaryButtonLabel",e("Use Report's Formatting").t()),this.children.dialog.settings.set("cancelButtonLabel",e("Cancel").t()),this.children.dialog.on("click:primaryButton",this._useReportFormatting,this),this.model.report.on("successfulReportFormatting",this.children.dialog.closeDialog,this.children.dialog),this.children.dialog.settings.set("titleLabel",e("Use Report's Formatting").t()),this.children.dialog.setText(e("This will change the content's formatting to the report's formatting. Are you sure you want use the report's formatting?").t()),n("body").append(this.children.dialog.render().el),this.children.dialog.show(),this.children.popdown.hide()},_useReportFormatting:function(e){e.preventDefault(),this.model.report.trigger("useReportFormatting"),f.log("useReportFormatting event triggered")},selectNewReport:function(e){e.preventDefault(),this.children.newReportDialog=new c({model:{report:this.model.report,dashboard:this.model.dashboard,application:this.model.application},controller:this.options.controller,onHiddenRemove:!0}),n("body").append(this.children.newReportDialog.render().el),this.children.newReportDialog.show(),this.children.popdown.hide()},convertToReport:function(e){e.preventDefault(),n(e.currentTarget).is(".disabled")||(this.children.createReportDialog=new p({model:{report:this.model.report,dashboard:this.model.dashboard},onHiddenRemove:!0}),n("body").append(this.children.createReportDialog.render().el),this.children.createReportDialog.show(),this.children.popdown.hide())},events:{"click a.deletePanel":"onDelete","click a.viewPanelReport":"onViewPanelReport","click a.changeElementTitle":"onChangeElementTitle","click a.changeSearchString":"onChangeSearchString","click a.dialogBack":"onDialogBack","click a.cloneSearchReport":"convertToInlineSearch","click a.clonePivotReport":"convertToInlinePivot","click a.selectNewReport":"selectNewReport","click a.convertToReport":"convertToReport","click a.useReportFormatting":"useReportFormatting","click a":function(e){var t=n(e.currentTarget).attr("href");t&&"#"!==t[t.length-1]&&(e.preventDefault(),window.open(t))},"click li.reportDetailsView a":function(e){this.children.popdown.hide()}}})}.apply(t,n))||(e.exports=s)},"views/dashboards/panelcontrols/ReportDialog":function(e,t,i){var n,s;n=[i("shim/jquery"),i("require/underscore"),i("require/backbone"),e,i("views/shared/controls/ControlGroup"),i("views/shared/Modal"),i("views/shared/FlashMessages"),i("shim/splunk.util"),i("uri/route"),i("collections/search/Reports"),i("splunkjs/mvc/utils"),i("stubs/splunk.config")],void 0===(s=function(e,t,i,n,s,a,r,o,l,d,h,u){return a.extend({moduleId:n.i,initialize:function(){a.prototype.initialize.apply(this,arguments),this.model.workingReport=new i.Model,this.model.workingReport.set({title:""}),this.model.workingReport.set("id",this.model.report.get("id")),this.children.flashMessage=new r({model:this.model.dashboard}),this.on("hide",this.model.dashboard.error.clear,this.model.dashboard.error),this.listenTo(this.model.report,"successfulManagerChange",this.hide,this),this.controller=this.options.controller,this.controller.reportsCollection||this.controller.fetchCollection(),this.controller.reportsCollection.initialFetchDfd.done(t.bind((function(){this.ready=!0;var e=this.controller.reportsCollection.map((function(e){return{label:e.entry.get("name"),value:e.id}})),i=l.reports(this.model.application.get("root"),this.model.application.get("locale"),this.model.application.get("app"));this.controller.reportsCollection.length===this.controller.reportsCollection.REPORTS_LIMIT?this.children.reportsControlGroup=new s({label:t("Select Report").t(),controlType:"SyntheticSelect",controlOptions:{model:this.model.workingReport,modelAttribute:"id",items:e,toggleClassName:"btn",popdownOptions:{attachDialogTo:".modal:visible",scrollContainer:".modal:visible .modal-body:visible"}},help:t("This does not contain all reports. Add a report that is not listed from ").t()+o.sprintf("<a href=%s>%s</a>.",i,t("Reports").t())}):this.children.reportsControlGroup=new s({label:t("Select Report").t(),controlType:"SyntheticSelect",controlOptions:{model:this.model.workingReport,modelAttribute:"id",items:e,toggleClassName:"btn",popdownOptions:{attachDialogTo:".modal:visible",scrollContainer:".modal:visible .modal-body:visible"}}})}),this)),this.children.panelTitleControlGroup=new s({label:t("Panel Title").t(),controlType:"Text",controlOptions:{model:this.model.workingReport,modelAttribute:"title",placeholder:t("optional").t()}})},events:e.extend({},a.prototype.events,{"click .modal-btn-primary":"onSave"}),onSave:function(e){e.preventDefault(),this.model.report.trigger("updateReportID",this.model.workingReport.get("id"),this.model.workingReport.get("title"))},render:function(){this.$el.html(a.TEMPLATE),this.$(a.HEADER_TITLE_SELECTOR).html(t("Select a New Report").t()),this.$(a.BODY_SELECTOR).prepend(this.children.flashMessage.render().el),this.$(a.BODY_SELECTOR).append(a.FORM_HORIZONTAL),this.$(a.BODY_FORM_SELECTOR).append(a.LOADING_HORIZONTAL),this.$(a.LOADING_SELECTOR).html(t("Loading...").t()),this.controller.reportsCollection.initialFetchDfd.done(t.bind((function(){this.$(a.LOADING_SELECTOR).remove(),this.$(a.BODY_FORM_SELECTOR).append(this.children.reportsControlGroup.render().el),this.$(a.BODY_FORM_SELECTOR).append(this.children.panelTitleControlGroup.render().el)}),this)),this.$(a.FOOTER_SELECTOR).append(a.BUTTON_CANCEL),this.$(a.FOOTER_SELECTOR).append(a.BUTTON_SAVE)}})}.apply(t,n))||(e.exports=s)},"views/dashboards/panelcontrols/querydialog/Modal":function(e,t,i){var n,s;n=[i("require/underscore"),i("shim/jquery"),e,i("views/shared/controls/ControlGroup"),i("views/shared/delegates/ModalTimerangePicker"),i("views/shared/timerangepicker/dialog/Master"),i("views/shared/Modal"),i("models/shared/TimeRange"),i("collections/services/data/ui/Times"),i("shim/splunk.util"),i("splunkjs/mvc/utils"),i("views/Base"),i("uri/route"),i("util/time"),i("shim/bootstrap.tooltip"),i("util/console"),i("splunkjs/mvc"),i("views/shared/FlashMessages"),i("views/dashboards/PanelTimeRangePicker"),i("splunkjs/mvc/tokenawaremodel")],void 0===(s=function(e,t,i,n,s,a,r,o,l,d,h,u,c,p,m,f,g,v,b,_){var y=o.extend({validation:e.extend({earliest_token:function(e,t,i){if("tokens"===i.useTimeFrom&&!e)return"No value specified for earliest token."},latest_token:function(e,t,i){if("tokens"===i.useTimeFrom&&!e)return"No value specified for latest token."}},o.prototype.validation)}),w=_.extend({validation:{search:function(t,i,n){if(!this.get(i,{tokens:!0}))return e("Search string is required").t()}}});return r.extend({moduleId:i.i,className:"modal edit-search-string",initialize:function(){r.prototype.initialize.apply(this,arguments),this.model.workingReport=new w(e.pick(this.model.report.entry.content.toJSON({tokens:!0}),["search","dispatch.earliest_time","dispatch.latest_time"]),{applyTokensByDefault:!0,retrieveTokensByDefault:!0}),this.children.title=new n({label:e("Title").t(),controlType:"Label",controlOptions:{model:this.model.report.entry.content,modelAttribute:"display.general.title"}}),this.children.searchStringInput=new n({label:e("Search String").t(),controlType:"Textarea",controlOptions:{model:this.model.workingReport,modelAttribute:"search"}}),this.model.report.isPivotReport()?this.children.searchStringInput.options.help='<a href="#" class="run-pivot">'+e("Run Pivot").t()+' <i class="icon-external"></i></a>':this.children.searchStringInput.options.help='<a href="#" class="run-search">'+e("Run Search").t()+' <i class="icon-external"></i></a>',this.collection=this.collection||{},this.collection.times=new l,this.collection.times.fetch({data:{app:this.model.application.get("app"),owner:this.model.application.get("owner"),count:-1}}),this.model.timeRange=new y,this.children.timeRangePickerView=new a({model:{state:this.model.workingReport,timeRange:this.model.timeRange,application:this.model.application,user:this.model.user,appLocal:this.model.appLocal},collection:this.collection.times,appendSelectDropdownsTo:".modal:visible"}),this.model.timeRange.on("applied",(function(){this.timeRangeDelegate.closeTimeRangePicker()}),this),this.children.panelTimeRangePicker=new b({model:{timeRange:this.model.timeRange,report:this.model.workingReport,state:this.model.state},collection:this.collection.times}),this.children.flashMessages=new v({model:this.model.dashboard}),this.children.searchFlashMessages=new v({model:this.model.workingReport}),this.on("hide",this.model.dashboard.error.clear,this.model.dashboard.error),this.listenTo(this.model.report,"successfulSave",this.hide,this)},events:t.extend({},r.prototype.events,{"click .modal-btn-primary":function(t){t.preventDefault();var i=this.model.timeRange.get("useTimeFrom"),n="global"==i?"":i+".";if(this.children.flashMessages.flashMsgCollection.reset(),this.children.searchFlashMessages.flashMsgCollection.reset(),!this.model.workingReport.validate()){if("tokens"===i){var s=this.model.timeRange.validate();if(s)return void e.each(s,(function(t){this.children.flashMessages.flashMsgCollection.add({key:"token-"+t,type:"error",html:e.escape(e(t).t())})}),this);var a=this.model.timeRange.get("earliest_token"),r=this.model.timeRange.get("latest_token");this.model.workingReport.set({"dispatch.earliest_time":"$"+a+"$","dispatch.latest_time":"$"+r+"$"},{tokens:!0})}else"search"!==i?this.model.workingReport.set({"dispatch.earliest_time":"$"+n+"earliest$","dispatch.latest_time":"$"+n+"latest$"},{tokens:!0}):this.model.workingReport.set({"dispatch.earliest_time":this.model.timeRange.get("earliest")||"0","dispatch.latest_time":this.model.timeRange.get("latest")||""});var o=this.model.workingReport.toJSON();f.log("Applying attributes to report model: %o",o),this.model.report.trigger("updateSearchString",o)}},"click a.run-search":function(e){e.preventDefault();var t,i,n=this.model.workingReport.get("search",{tokens:!1}),s=this.model.report.entry.content;if("postprocess"===s.get("display.general.search.type")){var a=g.Components.get(s.get("display.general.managerid"));if(!a||!a.parent)return;var r=a.parent.settings.resolve();t=r,n=(i=n)?[t.replace(/[\|\s]$/g,""),i.replace(/^[\|\s]/g,"")].join(" | "):t}if(n){var o={q:n};this.model.workingReport.has("dispatch.earliest_time")&&(o.earliest=this.model.workingReport.get("dispatch.earliest_time",{tokens:!1}||"0"),o.latest=this.model.workingReport.get("dispatch.latest_time",{tokens:!1})||"");var l=h.getPageInfo(),d=c.search(l.root,l.locale,l.app,{data:o});h.redirect(d,!0)}},"click a.run-pivot":function(e){e.preventDefault();var t=this.model.workingReport.get("search",{tokens:!1}),i={q:t};if(t){this.model.workingReport.has("dispatch.earliest_time")&&(i.earliest=this.model.workingReport.get("dispatch.earliest_time",{tokens:!1}),i.latest=this.model.workingReport.get("dispatch.latest_time",{tokens:!1}));var n=h.getPageInfo(),s=c.pivot(n.root,n.locale,n.app,{data:i});h.redirect(s,!0)}}}),handleSubmitButtonState:function(e){this.$(r.FOOTER_SELECTOR).find(".btn-primary")["pivot"===e.get("elementCreateType")?"addClass":"removeClass"]("disabled")},render:function(){return this.$el.html(r.TEMPLATE),this.$(r.HEADER_TITLE_SELECTOR).html(e("Edit Search").t()),this.$(r.BODY_SELECTOR).remove(),this.$(r.FOOTER_SELECTOR).before('<div class="vis-area"><div class="slide-area"><div class="content-wrapper query-dialog-wrapper"><div class="'+r.BODY_CLASS+'" ></div></div><div class="timerange-picker-wrapper"></div></div></div>'),this.$visArea=this.$(".vis-area").eq(0),this.$slideArea=this.$(".slide-area").eq(0),this.$editSearchContent=this.$(".query-dialog-wrapper").eq(0),this.$timeRangePickerWrapper=this.$(".timerange-picker-wrapper").eq(0),this.$modalParent=this.$el,this.$(r.BODY_SELECTOR).prepend(this.children.flashMessages.render().el),this.$(r.BODY_SELECTOR).prepend(this.children.searchFlashMessages.render().el),this.$(r.BODY_SELECTOR).append(r.FORM_HORIZONTAL_JUSTIFIED),this.children.title.render().appendTo(this.$(r.BODY_FORM_SELECTOR)),this.children.searchStringInput.render().appendTo(this.$(r.BODY_FORM_SELECTOR)),this.model.timeRange.save({earliest:this.model.workingReport.get("dispatch.earliest_time",{tokens:!1}||"0"),latest:this.model.workingReport.get("dispatch.latest_time",{tokens:!1}||"now")}).done(e.bind((function(){this.$(r.BODY_FORM_SELECTOR).append(this.children.panelTimeRangePicker.render().el)}),this)),this.$timeRangePickerWrapper.append(this.children.timeRangePickerView.render().el),this.timeRangeDelegate=new s({el:this.el,$visArea:this.$visArea,$slideArea:this.$slideArea,$contentWrapper:this.$editSearchContent,$timeRangePickerWrapper:this.$timeRangePickerWrapper,$modalParent:this.$modalParent,$timeRangePicker:this.children.timeRangePickerView.$el,activateSelector:"a.timerange-control",backButtonSelector:"a.btn.back"}),this.$(r.FOOTER_SELECTOR).append(r.BUTTON_CANCEL),this.$(r.FOOTER_SELECTOR).append(r.BUTTON_SAVE),this.$(r.FOOTER_SELECTOR).append('<a href="#" class="btn back modal-btn-back pull-left">'+e("Back").t()+"</a>"),this.$(".btn.back").hide(),this}})}.apply(t,n))||(e.exports=s)},"views/dashboards/panelcontrols/titledialog/Modal":function(e,t,i){var n,s;n=[i("require/underscore"),i("shim/jquery"),i("require/backbone"),e,i("views/shared/controls/ControlGroup"),i("views/shared/Modal"),i("views/shared/FlashMessages")],void 0===(s=function(e,t,i,n,s,a,r){return a.extend({moduleId:n.i,initialize:function(){a.prototype.initialize.apply(this,arguments);var t="display.general.title";this.model.workingReport=new i.Model,this.model.workingReport.set(t,this.model.report.entry.content.get(t,{tokens:!0})),this.children.flashMessages=new r({model:this.model.dashboard}),this.on("hide",this.model.dashboard.error.clear,this.model.dashboard.error),this.children.panelTitleControlGroup=new s({label:e("Title").t(),controlType:"Text",controlOptions:{model:this.model.workingReport,modelAttribute:t,placeholder:e("optional").t()}}),this.listenTo(this.model.report,"successfulSave",this.hide,this)},events:t.extend({},a.prototype.events,{"click .modal-btn-primary":"onSave"}),onSave:function(e){var t=this.model.workingReport.get("display.general.title");e.preventDefault(),this.model.report.trigger("saveTitle",t)},render:function(){this.$el.html(a.TEMPLATE),this.$(a.HEADER_TITLE_SELECTOR).html(e("Edit Title").t()),this.$(a.BODY_SELECTOR).prepend(this.children.flashMessages.render().el),this.$(a.BODY_SELECTOR).append(a.FORM_HORIZONTAL),this.$(a.BODY_FORM_SELECTOR).append(this.children.panelTitleControlGroup.render().el),this.$(a.FOOTER_SELECTOR).append(a.BUTTON_CANCEL),this.$(a.FOOTER_SELECTOR).append(a.BUTTON_SAVE)}})}.apply(t,n))||(e.exports=s)},"views/dashboards/table/controls/CloneToStudio":function(e,t,i){"use strict";i(1),Object.defineProperty(t,"__esModule",{value:!0});var n=r(i(0)),s=i("util/theme_utils"),a=r(i(2066));function r(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return n.default.createElement(s.SplunkThemeProvider,(0,s.getCurrentTheme)(),n.default.createElement(a.default,e))},e.exports=t.default},"views/shared/CanvasTimeline":function(e,t,i){(function(e){var n;void 0===(n=function(e,t,n){var s,a=i("shim/jquery"),r=i("require/underscore"),o=(i("shim/jquery.ui.resizable"),i("shim/splunk"),i("stubs/i18n")),l=o._,d=o.ungettext,h=i("shim/splunk.util"),u=h.sprintf,c=i("shim/splunk.logger"),p=i("shim/splunk.messenger"),m=i("shim/splunk.timerange"),f=i("views/Base"),g=i("views/shared/delegates/Popdown"),v=i("splunk/charting/Timeline"),b=(i("views/shared/CanvasTimeline.pcss"),{swfFile:"timeline.swf",width:"100%",height:"120px",enableResize:"true",maxBucketCount:"1000",minimized:"false",renderer:"auto",minimalMode:"true",minimalHeight:"55px"}),_=f.extend({_CUSTOM_DATE_FORMATS:{"EEE MMM d":{day_before_month:"EEE d MMM",ja_JP:"EEE MMM d日",ko_KR:"EEE MMM d일",zh_CN:"EEE MMM d日",zh_TW:"EEE MMM d日"},MMMM:{},yyyy:{ja_JP:"yyyy年",ko_KR:"yyyy년",zh_CN:"yyyy年",zh_TW:"yyyy年"}},_isInitialized:!1,_selectedEarliestTime:NaN,_selectedLatestTime:NaN,_renderSID:null,_renderStatusBuckets:null,_renderScanCount:null,_renderIsDone:null,moduleId:n.i,initialize:function(){f.prototype.initialize.apply(this,arguments),this.activate(),this.container=this.$el,this.moduleType="Timeline",this.logger=c.getLogger("Timeline.js"),this._prevSID=null,this.updateId=-1,this.renderMonitor=null,this.isEntireRangeSelected=!0,l("Open as image"),l("year"),l("years"),l("month"),l("months"),l("day"),l("days"),l("hour"),l("hours"),l("minute"),l("minutes"),l("second"),l("seconds"),this.renderTemplate()},startListening:function(){this.listenTo(this.model.searchJob,"destroy error",this.render),this.listenTo(this.model.searchJob.entry.content,"change",this.render),this.listenTo(this,"selectionChanged",(function(e){this.model.report.entry.content.set({"display.events.timelineEarliestTime":r.isNaN(e.earliestTime)?"":e.earliestTime,"display.events.timelineLatestTime":r.isNaN(e.latestTime)?"":e.latestTime})}))},activate:function(e){return this.active?f.prototype.activate.apply(this,arguments):(f.prototype.activate.apply(this,arguments),this.showTimeline("deactivate"),this)},deactivate:function(e){return this.active?(f.prototype.deactivate.apply(this,arguments),this.hideTimeline("deactivate"),this):f.prototype.deactivate.apply(this,arguments)},renderTemplate:function(){var e=h.normalizeBoolean(this.getParam("minimized")),t={width:this.getParam("width"),height:this.getParam("height"),wrapperStyle:e?"display:none;":"",formatLabel:l("Format Timeline"),hiddenLabel:l("Hidden"),compactLabel:l("Compact"),fullLabel:l("Full"),linearLabel:l("Linear scale"),logLabel:l("Log scale"),zoomOutLabel:l("Zoom Out"),zoomInLabel:l("Zoom to Selection"),deselectLabel:l("Deselect")};this.container.html(r(this.template).template(t))},initTemplate:function(){this.zoomInLink=a("a.zoomIn",this.container).click(this.zoomIn.bind(this)),this.zoomOutLink=a("a.zoomOut",this.container).click(this.zoomOut.bind(this)),this.selectAllLink=a("a.selectAll",this.container).click(this.selectAll.bind(this)),this.controlLinks=a(".controlLinks",this.container).click(this.controlsBackgroundClick.bind(this)),this.children.popdown=new g({el:this.$(".format-timeline"),attachDialogTo:"body"}),this.formatLinkHidden=a(".format-timeline-hidden a",this.container).click(this.minimizeFull.bind(this)),this.formatLinkCompact=a(".format-timeline-compact a",this.container).click(this.maximizeCompact.bind(this)),this.formatLinkFull=a(".format-timeline-full a",this.container).click(this.maximizeFull.bind(this)),this.formatLinksScale=a(".format-timeline-scale",this.container),this.formatLinkLinear=a(".format-timeline-linear a",this.container).click(this.linScale.bind(this)),this.formatLinkLog=a(".format-timeline-log a",this.container).click(this.logScale.bind(this)),this.iconCheckView=a('<i class="icon-check"></i>'),this.iconCheckScale=a('<i class="icon-check"></i>'),a(".timelineContainer",this.container).append('<div class="messageContainer"></div>'),this._timeline=new _.CanvasTimeline(this),h.normalizeBoolean(this.getParam("minimized"))?this.minimizeFull(!1):h.normalizeBoolean(this.getParam("minimalMode"))?this.maximizeCompact(!1):this.maximizeFull(!1),this.linScale(),this._isInitialized=!0,this.render()},render:function(){if(!this._isInitialized)return this._initTemplateTimeout||(this._initTemplateTimeout=setTimeout(this.initTemplate.bind(this),0)),this;var e=this.model.searchJob;if(!e)return this;var t=e.id,i=e.entry.content.get("statusBuckets"),n=e.entry.content.get("scanCount"),s=e.isDone(),a=e.isRealtime(),r=t!==this._renderSID,o=i!==this._renderStatusBuckets,l=n!==this._renderScanCount,d=s!==this._renderIsDone;return this._renderSID=t,this._renderStatusBuckets=i,this._renderScanCount=n,this._renderIsDone=s,r||o?this.onContextChange():(l||d||a)&&this.onJobProgress(),this},remove:function(){return this._initTemplateTimeout&&clearTimeout(this._initTemplateTimeout),this._timeline&&(this._timeline.dispose(),this._timeline=null),f.prototype.remove.apply(this,arguments)},show:function(e){e=null!=e?""+e:"";var t=this._hideKeys;if(!t)return this;for(e in delete t[e],t)if(t.hasOwnProperty(e))return this;return this._hideKeys=null,this.$el.show(),this.onShow(),this},hide:function(e){e=null!=e?""+e:"";var t=this._hideKeys;return t?(t[e]=!0,this):((t=this._hideKeys={})[e]=!0,this.onHide(),this.$el.hide(),this)},isShowing:function(){return null==this._hideKeys},onShow:function(){this.showTimeline("onHide")},onHide:function(){this.hideTimeline("onHide")},getParam:function(e){var t=this.model.report,i=t?t.entry.content.get("display.prefs.timeline."+e):null;return null==i&&(i=b[e]),null!=i?i:null},setParam:function(e,t){var i=this.model.report;i&&i.entry.content.set("display.prefs.timeline."+e,t)},update:function(){this._timeline&&(this.updateId=this._timeline.update())},minimizeFull:function(e){this.minimize(e),this.iconCheckView.prependTo(this.formatLinkHidden)},maximizeCompact:function(e){this.maximize(e),0!=e&&this.setParam("minimalMode",!0),a(".timelineContainer",this.container).css("height",this.getParam("minimalHeight")),a(".ui-resizable-handle",this.container).css("visibility","hidden"),this.iconCheckView.prependTo(this.formatLinkCompact),this._timeline&&this._timeline.setMinimalMode(!0)},maximizeFull:function(e){this.maximize(e),0!=e&&this.setParam("minimalMode",!1),a(".timelineContainer",this.container).css("height",this.getParam("height")),a(".ui-resizable-handle",this.container).css("visibility",""),this.iconCheckView.prependTo(this.formatLinkFull),this._timeline&&this._timeline.setMinimalMode(!1)},minimize:function(e){0!=e&&(this.setParam("minimized",!0),e.preventDefault&&"function"==typeof e.preventDefault&&e.preventDefault()),this.hideTimeline("minimize"),a(".timelineContainer",this.container).hide(),a(".controlLinks",this.container).hide(),a(this.container).addClass("minimized"),this.formatLinksScale.hide()},maximize:function(e){0!=e&&(this.setParam("minimized",!1),e.preventDefault&&"function"==typeof e.preventDefault&&e.preventDefault()),this.formatLinksScale.show(),a(this.container).removeClass("minimized"),a(".controlLinks",this.container).show(),a(".timelineContainer",this.container).show(),this.showTimeline("minimize")},zoomIn:function(e){if(this.zoomInLink.hasClass("disabled"))return!1;var t=this.getSelectionRange();if(!t||t&&t.equalToRange(this.getTimelineRangeFromUTC())){if(1==t.getDuration())return p.System.getInstance().send("info","splunk",l("The timeline can not zoom in to a single millisecond.")),void this._passTimeRangeToParent(t);this._passTimeRangeToParent(t.zoomIn())}else this._passTimeRangeToParent(t);this.selectAll(),e.preventDefault&&e.preventDefault()},zoomOut:function(e){if(this.zoomOutLink.hasClass("disabled"))return!1;var t=this.getTimelineRangeFromUTC();t?this._passTimeRangeToParent(t.zoomOut()):this.logger.error(this.moduleType," could not zoom out cause we had an undefined timelineRange"),e.preventDefault()},selectAll:function(e){if(this.selectAllLink.hasClass("disabled"))return!1;a(".controlLinks",this.container).addClass("noSelection"),this.clearSelectionRange(),e&&e.preventDefault()},controlsBackgroundClick:function(e){e.currentTarget===e.target&&this.selectAll(e)},logScale:function(e){this.iconCheckScale.prependTo(this.formatLinkLog),this._timeline&&this._timeline.setScaleY("log"),e&&e.preventDefault()},linScale:function(e){this.iconCheckScale.prependTo(this.formatLinkLinear),this._timeline&&this._timeline.setScaleY("linear"),e&&e.preventDefault()},showDataControls:function(e){e?(a(".controlLinks",this.container).removeClass("noData"),this.enableControlLink(this.zoomOutLink)):(a(".controlLinks",this.container).addClass("noData"),this.disableControlLink(this.zoomOutLink))},enableResizable:function(){a("div.timelineContainer",this.container).resizable({autoHide:!0,handles:"s",stop:this.onResizeStop.bind(this)}),a("div.timelineContainer").mouseup((function(e){a(this).width("100%")})),h.normalizeBoolean(this.getParam("minimalMode"))&&a(".ui-resizable-handle",this.container).css("visibility","hidden")},getCSSColor:function(e,t){for(var i,n=0;n<e.length;n++){var s=e[n].css(t);if(i=h.normalizeColor(s))return i}return null},getTimelineRangeFromUTC:function(){if(this._timeline)try{var e=this._timeline.getViewMinimum(),t=this._timeline.getViewMaximum();if(h.isInt(Math.floor(e))&&h.isInt(Math.floor(t)))return new m(e,t);this.logger.error("undefined values "+e+", "+t)}catch(e){this.logger.error(this.moduleType," exception getting earliest and latest selected times - "+e)}return new m},getScaleDescription:function(){var e=this._timeline?this._timeline.getTimelineScale():null;if(!e)return"";var t=e.unit,i=e.value;if(parseFloat(i)<1&&("second"==t?(i*=1e3,t="millisecond"):this.logger.error("error - timelineScale has a fractional unit but not in seconds.")),"millisecond"==t)return u(d("%s millisecond per column","%s milliseconds per column",i),i);if(1==i)switch(t){case"year":return l("1 year per column");case"month":return l("1 month per column");case"day":return l("1 day per column");case"hour":return l("1 hour per column");case"minute":return l("1 minute per column");case"second":return l("1 second per column");default:this.logger.error("received uncaught unit of ",t)}else this.logger.error("received a timelineScale that has >1 unit per bucket. ("+i+"). This should not happen");return""},getSelectionRange:function(e){e||(e=this._timeline?this._timeline.getSelectedBuckets():null);var t=e?e.length:0;if(0==t)return this.logger.error(this.moduleType," getSelectionRange returned an empty selectedBuckets. Returning 'All Time'"),new m;var i=e[0],n=e[t-1],s=new m(i.earliestTime,n.latestTime);return s.setAsSubRangeOfJob(!this.isEntireRangeSelected),s},setSelectionRange:function(e,t,i){isNaN(e)||isNaN(t)?this.clearSelectionRange(i):(this.isEntireRangeSelected=!1,this.selectAllLink&&this.enableControlLink(this.selectAllLink),this.zoomInLink&&this.enableControlLink(this.zoomInLink),this._timeline&&(this._timeline.setSelectionMinimum(e),this._timeline.setSelectionMaximum(t)),this._selectedEarliestTime===e&&this._selectedLatestTime===t||(this._selectedEarliestTime=e,this._selectedLatestTime=t,!1!==i&&this.trigger("selectionChanged",{earliestTime:e,latestTime:t})))},clearSelectionRange:function(e){this.isEntireRangeSelected=!0,this.selectAllLink&&this.disableControlLink(this.selectAllLink),this.zoomInLink&&this.disableControlLink(this.zoomInLink),this._timeline&&(this._timeline.setSelectionMinimum(NaN),this._timeline.setSelectionMaximum(NaN)),isNaN(this._selectedEarliestTime)&&isNaN(this._selectedLatestTime)||(this._selectedEarliestTime=NaN,this._selectedLatestTime=NaN,!1!==e&&this.trigger("selectionChanged",{earliestTime:NaN,latestTime:NaN}))},resetUI:function(){this._timeline&&this._timeline.setJobID(""),this.update(),this.showDataControls(!1),this.hideStatusMessage()},hideTimeline:function(e){return e=null!=e?String(e):"",this._timelineHideKeys?(this._timelineHideKeys[e]=!0,!1):(this._timelineHideKeys={},this._timelineHideKeys[e]=!0,this._timeline&&this._timeline.hide(),!0)},showTimeline:function(e){if(!this._timelineHideKeys)return!1;for(e in e=null!=e?String(e):"",delete this._timelineHideKeys[e],this._timelineHideKeys)if(this._timelineHideKeys.hasOwnProperty(e))return!1;return this._timelineHideKeys=null,this._timeline&&this._timeline.show(),!0},isTimelineShowing:function(){return!this._timelineHideKeys},showStatusMessage:function(e,t){var i="";i+='<p class="resultStatusMessage empty_results">',i+=e,t&&(i+=' <span class="resultStatusHelp">',i+='<a href="#" onclick="Splunk.window.openJobInspector(\''+t.replace("'","")+'\');return false;" class="resultStatusHelpLink">',i+=l("Inspect ..."),i+="</a>",i+="</span>"),i+="</p>",this.hideTimeline("showStatusMessage"),a(".messageContainer",this.container).html(i).show()},hideStatusMessage:function(){a(".messageContainer",this.container).hide().html(""),this.showTimeline("showStatusMessage")},onJobProgress:function(){this.update()},onContextChange:function(){var e=this.model.searchJob,t=e?e.id:null;this.showDataControls(!1),this.clearSelectionRange(),this._timeline&&(t!=this._prevSID&&(this._prevSID=t,this.selectAll()),null!=t?this._timeline.setJobID(encodeURIComponent(encodeURIComponent(t))):this._timeline.setJobID(t),this._timeline.setBucketCount(parseInt(this.getParam("maxBucketCount"),10))),t&&e.entry.content.get("statusBuckets")<1?(this.hideTimeline("statusBuckets"),this.hide("views-shared-CanvasTimeline-statusBuckets")):(this.show("views-shared-CanvasTimeline-statusBuckets"),this.showTimeline("statusBuckets")),this.update()},onDataUpdated:function(e){var t=this.model.searchJob;t&&(!t.isNew()&&t.isDone()&&this.renderMonitor&&e.updateCount>=this.updateId&&(this.renderMonitor.loadComplete(),this.renderMonitor=!1),t.isNew()||(this.showDataControls(!0),a(".bucketSize",this.container).html(this.getScaleDescription())))},onSelectionChanged:function(e){var t=e.selectionMinimum,i=e.selectionMaximum;isNaN(t)||isNaN(i)||t===i?this.selectAll():(this.isEntireRangeSelected=!1,this.enableControlLink(this.selectAllLink),this.enableControlLink(this.zoomInLink),t===this._selectedEarliestTime&&i===this._selectedLatestTime||(this._selectedEarliestTime=t,this._selectedLatestTime=i,this.trigger("selectionChanged",{earliestTime:t,latestTime:i})))},onResizeStop:function(e,t){a(e.target).width("100%"),this.setParam("height",t.size.height+"px")},_passTimeRangeToParent:function(e){if(this.model){var t={"dispatch.earliest_time":e.getEarliestTimeTerms(),"dispatch.latest_time":e.getLatestTimeTerms(),"display.events.timelineEarliestTime":"","display.events.timelineLatestTime":""};this.model.report.entry.content.set(t)}},_hasCanvas:function(){var e=document.createElement("canvas");return!!e&&("function"==typeof e.getContext&&!!e.getContext("2d"))},disableControlLink:function(e){e&&e.addClass&&e.attr&&(e.addClass("disabled"),e.attr("aria-disabled","true"),e.attr("tabindex","-1"))},enableControlLink:function(e){e&&e.removeClass&&e.attr&&(e.removeClass("disabled"),e.attr("aria-disabled","false"),e.removeAttr("tabindex"))},formatTooltip:function(e,t,i,n,s){var a=new m(e,t);return l(u(d(l("%(eventCount)s event %(timeRangeString)s"),l("%(eventCount)s events %(timeRangeString)s"),s),{eventCount:o.format_decimal(s),timeRangeString:a.toConciseString()}))},formatSimpleString:function(e){return l(e)},formatNumericString:function(e,t,i){return u(d(e,t,i),this.formatNumber(i))},formatNumber:function(e){var t=Math.abs(e);return t>0&&(t<.001||t>=1e9)?o.format_scientific(e,"##0E0"):o.format_decimal(e)},formatDate:function(e,t,i){if(i){var n=this._CUSTOM_DATE_FORMATS[i];if(n){var s=locale_name();n[s]?i=n[s]:locale_uses_day_before_month()&&n.day_before_month&&(i=n.day_before_month)}}return o.format_date(this.epochToDateTime(e,t),i)},formatTime:function(e,t,i){return"full"==i?o.format_time_microseconds(this.epochToDateTime(e,t),i):o.format_time(this.epochToDateTime(e,t),i)},formatDateTime:function(e,t,i,n){return"full"==n?o.format_datetime_microseconds(this.epochToDateTime(e,t),i,n):o.format_datetime(this.epochToDateTime(e,t),i,n)},epochToDateTime:function(e,t){var i=new Date(Math.floor(1e3*(e+t))),n=new DateTime({date:i,year:i.getUTCFullYear(),month:i.getUTCMonth()+1,day:i.getUTCDate(),hour:i.getUTCHours(),minute:i.getUTCMinutes(),second:i.getUTCSeconds(),microsecond:1e3*i.getUTCMilliseconds()});return n.weekday=function(){var e=this.date.getUTCDay()-1;return e<0&&(e=6),e},n},template:'            <div class="format-timeline dropdown pull-left">                <a href="#" class="dropdown-toggle btn-pill"><%- formatLabel %><span class="caret" aria-hidden="true"></span></a>                <div class="dropdown-menu dropdown-menu-selectable dropdown-menu-narrow" style="top: 26px; margin-left: -86px;">                    <div class="arrow" style="margin-left: -10px;"></div>                    <ul class="format-timeline-view">                        <li class="format-timeline-hidden"><a href="#"><%- hiddenLabel %></a></li>                        <li class="format-timeline-compact"><a href="#"><%- compactLabel %></a></li>                        <li class="format-timeline-full"><a href="#"><%- fullLabel %></a></li>                    </ul>                    <ul class="format-timeline-scale">                        <li class="format-timeline-linear"><a href="#"><%- linearLabel %></a></li>                        <li class="format-timeline-log"><a href="#"><%- logLabel %></a></li>                    </ul>                </div>            </div>            <div class="controlLinks noData noSelection">                <a href="#" aria-disabled="true" class="zoomOut disabled btn-pill"><span class="icon-minus"></span> <%- zoomOutLabel %></a>                <a href="#" aria-disabled="true" class="zoomIn disabled btn-pill"><span class="icon-plus"></span> <%- zoomInLabel %></a>                <a href="#" aria-disabled="true" class="selectAll disabled btn-pill"><span class="icon-x"></span> <%- deselectLabel %></a>                <span class="bucketSize pull-right"></span>            </div>            <div class="timelineContainer" style="width:<%- width %>; height:<%- height %>; <%- wrapperStyle %>"></div>        '},{DEFAULT_PROPERTY_VALUES:b});return _.CanvasTimeline=((s=function(e){this.initialize(e)}).prototype={initialize:function(e){this.module=e,this.onPrintStart=this.onPrintStart.bind(this),e.onDataUpdated=e.onDataUpdated.bind(e),e.onSelectionChanged=e.onSelectionChanged.bind(e),e.zoomIn=e.zoomIn.bind(e),a(document).bind("PrintStart",this.onPrintStart),this._timeline=new v(h.make_url("/splunkd/__raw/services"),""),this._timeline.externalInterface.formatTooltip=e.formatTooltip.bind(e),this._timeline.externalInterface.formatSimpleString=e.formatSimpleString.bind(e),this._timeline.externalInterface.formatNumericString=e.formatNumericString.bind(e),this._timeline.externalInterface.formatNumber=e.formatNumber.bind(e),this._timeline.externalInterface.formatDate=e.formatDate.bind(e),this._timeline.externalInterface.formatTime=e.formatTime.bind(e),this._timeline.externalInterface.formatDateTime=e.formatDateTime.bind(e),this._timeline.set("timeZone",h.getConfigValue("SERVER_ZONEINFO")),this._timeline.set("enableChartClick",!0),this._timeline.on("updated",e.onDataUpdated),this._timeline.on("selectionChanged",e.onSelectionChanged),this._timeline.on("chartDoubleClicked",e.zoomIn),e.model.serverInfo&&e.model.serverInfo.isLite()&&this._timeline.set("seriesColor",16089632),this._timeline.set("borderColor",16777215),h.normalizeBoolean(e.getParam("minimalMode"))&&this._timeline.set("minimalMode",!0),e.isTimelineShowing()&&this._timeline.appendTo(a(".timelineContainer",e.container)),h.normalizeBoolean(e.getParam("enableResize"))&&e.enableResizable(),e.onContextChange(),e.update()},dispose:function(){this._timeline&&(this._timeline.off("updated",this.module.onDataUpdated),this._timeline.off("selectionChanged",this.module.onSelectionChanged),this._timeline.off("chartDoubleClicked",this.module.zoomIn),this._timeline.dispose(),this._timeline=null),a(document).unbind("PrintStart",this.onPrintStart)},update:function(){if(this._timeline)return this._timeline.update()},setJobID:function(e){this._timeline&&this._timeline.set("jobID",e)},setBucketCount:function(e){this._timeline&&this._timeline.set("bucketCount",e)},setMinimalMode:function(e){this._timeline&&this._timeline.set("minimalMode",e)},setScaleY:function(e){this._timeline&&this._timeline.set("scaleY",e)},setSelectionMinimum:function(e){this._timeline&&this._timeline.set("selectionMinimum",e)},setSelectionMaximum:function(e){this._timeline&&this._timeline.set("selectionMaximum",e)},getViewMinimum:function(){if(this._timeline)return this._timeline.get("viewMinimum")},getViewMaximum:function(){if(this._timeline)return this._timeline.get("viewMaximum")},getSelectedBuckets:function(){if(this._timeline)return this._timeline.getSelectedBuckets()},getTimelineScale:function(){if(this._timeline)return this._timeline.get("timelineScale")},hide:function(){this._timeline&&this._timeline.remove()},show:function(){this._timeline&&(this._timeline.appendTo(a(".timelineContainer",n.container)),this._timeline.updateSize(),this._timeline.validate(),a(".ui-resizable-handle",n.container).appendTo(a(".timelineContainer",n.container)))},onPrintStart:function(){this._timeline&&(this._timeline.updateSize(),this._timeline.validate())}},s),_}.call(t,i,t,e))||(e.exports=n)}).call(this,i(93)(e))},"views/shared/CanvasTimeline.pcss":function(e,t,i){var n=i(2056);"string"==typeof n&&(n=[[e.i,n,""]]);var s={sourceMap:!1,hmr:!0,transform:void 0,insertInto:void 0};i(4)(n,s);n.locals&&(e.exports=n.locals)},"views/shared/Sidebar":function(e,t,i){var n;void 0===(n=function(e,t,n){var s=i("require/underscore"),a=i("shim/jquery"),r=i("views/Base"),o=i("util/keyboard");i("views/shared/Sidebar.pcss");return r.extend({moduleId:n.i,className:"side-bar-master",defaults:{modalize:!0,direction:"right"},initialize:function(e){this.options=e=s.extend({},this.defaults,e),r.prototype.initialize.apply(this,arguments),this.contents=[],a(window).on("keydown",this.keyDown.bind(this))},keyDown:function(e){var t=e.which;t===o.KEYS.TAB?this.$(":focus").length?o.handleCircularTabbing(this.contents[this.contents.length-1],e):(this.contents[this.contents.length-1].find("a").first().focus(),e.preventDefault()):t===o.KEYS.ESCAPE&&(this.popSidebar(),e.stopPropagation())},events:{"click .background-cover":"close","click .accordion-toggle":"checkShouldToggleAccordion"},render:function(){return this.$el.html(this.compiledTemplate({options:this.options})),this},close:function(e){"function"==typeof e.preventDefault&&e.preventDefault(),e.data=1,this.removeSidebars(e)},checkShouldToggleAccordion:function(e){this.trigger("accordionToggleClicked",e)},remove:function(){a(window).off("keydown"),r.prototype.remove.apply(this,arguments)},addSidebar:function(e){if(!e)return null;var t=a(s.template(this.sidebarTemplate,{}));t.find(".sidebar-body").append(e),t.css({visibility:"hidden"}),0==this.contents.length&&t.addClass("first"),this.$el.append(t);var i=t.width()+1;this.contents.push(t),t.find(".close").bind("click",this.contents.length,s.bind(this.removeSidebars,this));var n={visibility:"visible",width:i-1};n[this.options.direction]="-"+i+"px",t.css(n),this.shiftSidebars(i)},removeSidebars:function(e){"function"==typeof e.preventDefault&&e.preventDefault();var t=e.data-1,i=this.contents.slice(t,this.contents.length),n=s.reduce(i,(function(e,t){return e+t.width()+1}),0),r=this.contents.length-t,o={};o[this.options.direction]="-="+n,this.$(".sidebar").animate(o,200,s.bind((function(){a.each(i,(function(){this.remove()})),0==t&&this.remove()}),this)),this.contents=this.contents.slice(0,t),this.trigger("sidebarsRemoved",r)},popSidebar:function(){this.removeSidebars({data:this.contents.length})},shiftSidebars:function(e){var t={};t[this.options.direction]="+="+e+"px",this.$(".sidebar").animate(t,200)},show:function(){this.shiftSidebars()},replaceLastSidebar:function(e){this.contents[this.contents.length-1].find(".sidebar-body").empty().append(e)},template:'<% if (options.modalize) { %>    <div class="background-cover"></div><% } %>',sidebarTemplate:'<div class="sidebar"><a class="close" href="#" aria-label="<%- _(\'Close\').t() %>" ><i class="icon-x"></i></a><div class="sidebar-body"></div></div>'})}.call(t,i,t,e))||(e.exports=n)},"views/shared/Sidebar.pcss":function(e,t,i){var n=i(554);"string"==typeof n&&(n=[[e.i,n,""]]);var s={sourceMap:!1,hmr:!0,transform:void 0,insertInto:void 0};i(4)(n,s);n.locals&&(e.exports=n.locals)},"views/shared/controls/SearchTextareaControl":function(e,t,i){var n,s;n=[i("shim/jquery"),i("require/underscore"),e,i("views/Base"),i("views/shared/searchbarinput/Master"),i("models/services/authentication/User"),i("models/search/SearchBar"),i("views/shared/controls/SearchTextareaControl.pcss")],void 0===(s=function(e,t,i,n,s,a,r,o){return n.extend({moduleId:i.i,className:"control-group",initialize:function(){n.prototype.initialize.apply(this,arguments),t.defaults(this.options,{label:t("Search String").t(),submitOnBlur:!0,minSearchBarLines:3,maxSearchBarLines:12,enabled:!0,readOnly:!1,showRunSearch:!0,showLabel:!0,searchAssistant:this.model.user.getSearchAssistant()===a.SEARCH_ASSISTANT.FULL?a.SEARCH_ASSISTANT.NONE:void 0}),this.model.searchBar=new r,this.listenTo(this.model.searchBar,"change:search",this.updateRunSearchLink)},events:{"click a.run-search":function(e){e.preventDefault(),this.trigger("runSearch",this.model.content.get("search"))}},updateRunSearchLink:function(){this.children.searchField&&this.options.showRunSearch&&(this.children.searchField.getText().length?(this.ENABLED_RUN_SEARCH_LINK.show(),this.DISABLED_RUN_SEARCH_LINK.hide()):(this.ENABLED_RUN_SEARCH_LINK.hide(),this.DISABLED_RUN_SEARCH_LINK.show()))},render:function(){this.$el.html(this.compiledTemplate({label:this.options.label,showLabel:this.options.showLabel}));var i=this.$el.find(".controls");return this.children.searchField=new s({model:{user:this.model.user,content:this.model.content,application:this.model.application,searchBar:this.model.searchBar},collection:{searchBNFs:this.collection.searchBNFs},searchAttribute:this.options.searchAttribute,enabled:this.options.enabled,submitOnBlur:this.options.submitOnBlur,minSearchBarLines:this.options.minSearchBarLines,maxSearchBarLines:this.options.maxSearchBarLines,searchAssistant:this.options.searchAssistant,syntaxHighlighting:this.options.syntaxHighlighting,readOnly:this.options.readOnly}),this.children.searchField.render().appendTo(i),this.options.showRunSearch&&(this.ENABLED_RUN_SEARCH_LINK=e('<a href="#" class="run-search">'+t("Run Search").t()+' <i class="icon-external"></i></a>'),this.DISABLED_RUN_SEARCH_LINK=e('<span class="run-search disabled">'+t("Run Search").t()+' <i class="icon-external"></i></span>'),this.ENABLED_RUN_SEARCH_LINK.appendTo(i),this.DISABLED_RUN_SEARCH_LINK.appendTo(i)),this.updateRunSearchLink(),this},template:'        <% if (showLabel) { %>            <label class="control-label"><%- label %></label>        <% } %>        <div class="controls">        </div>        '})}.apply(t,n))||(e.exports=s)},"views/shared/controls/SearchTextareaControl.pcss":function(e,t,i){var n=i(528);"string"==typeof n&&(n=[[e.i,n,""]]);var s={sourceMap:!1,hmr:!0,transform:void 0,insertInto:void 0};i(4)(n,s);n.locals&&(e.exports=n.locals)}});