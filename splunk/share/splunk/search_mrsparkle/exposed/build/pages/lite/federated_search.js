!function(e){function t(t){for(var r,d,i=t[0],o=t[1],s=t[2],c=0,f=[];c<i.length;c++)d=i[c],Object.prototype.hasOwnProperty.call(n,d)&&n[d]&&f.push(n[d][0]),n[d]=0;for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r]);for(u&&u(t);f.length;)f.shift()();return l.push.apply(l,s||[]),a()}function a(){for(var e,t=0;t<l.length;t++){for(var a=l[t],r=!0,i=1;i<a.length;i++){var o=a[i];0!==n[o]&&(r=!1)}r&&(l.splice(t--,1),e=d(d.s=a[0]))}return e}var r={},n={42:0},l=[];function d(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,d),a.l=!0,a.exports}d.e=function(e){var t=[],a=n[e];if(0!==a)if(a)t.push(a[2]);else{var r=new Promise((function(t,r){a=n[e]=[t,r]}));t.push(a[2]=r);var l,i=document.createElement("script");i.charset="utf-8",i.timeout=120,d.nc&&i.setAttribute("nonce",d.nc),i.src=function(e){return d.p+""+({}[e]||e)+".js"}(e);var o=new Error;l=function(t){i.onerror=i.onload=null,clearTimeout(s);var a=n[e];if(0!==a){if(a){var r=t&&("load"===t.type?"missing":t.type),l=t&&t.target&&t.target.src;o.message="Loading chunk "+e+" failed.\n("+r+": "+l+")",o.name="ChunkLoadError",o.type=r,o.request=l,a[1](o)}n[e]=void 0}};var s=setTimeout((function(){l({type:"timeout",target:i})}),12e4);i.onerror=i.onload=l,document.head.appendChild(i)}return Promise.all(t)},d.m=e,d.c=r,d.d=function(e,t,a){d.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},d.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},d.t=function(e,t){if(1&t&&(e=d(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(d.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)d.d(a,r,function(t){return e[t]}.bind(null,r));return a},d.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return d.d(t,"a",t),t},d.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},d.p="",d.oe=function(e){throw console.error(e),e};var i=window.webpackJsonp=window.webpackJsonp||[],o=i.push.bind(i);i.push=t,i=i.slice();for(var s=0;s<i.length;s++)t(i[s]);var u=o;l.push([2423,0]),a()}({2423:function(e,t,a){var r,n;a.p=function(){function e(e,t){if(window.$C&&window.$C.hasOwnProperty(e))return window.$C[e];if(void 0!==t)return t;throw new Error("getConfigValue - "+e+" not set, no default provided")}return function(){for(var t,a,r="",n=0,l=arguments.length;n<l;n++)(a=(t=arguments[n].toString()).length)>1&&"/"==t.charAt(a-1)&&(t=t.substring(0,a-1)),"/"!=t.charAt(0)?r+="/"+t:r+=t;if("/"!=r){var d=r.split("/"),i=d[1];if("static"==i||"modules"==i){var o=r.substring(i.length+2,r.length);r="/"+i,window.$C.BUILD_NUMBER&&(r+="/@"+window.$C.BUILD_NUMBER),window.$C.BUILD_PUSH_NUMBER&&(r+="."+window.$C.BUILD_PUSH_NUMBER),"app"==d[2]&&(r+=":"+e("APP_BUILD",0)),r+="/"+o}}var s=e("MRSPARKLE_ROOT_PATH","/"),u=e("LOCALE","en-US"),c="/"+u+r;return""==s||"/"==s?c:s+c}("/static/build/pages/lite")+"/"}(),r=[a("routers/FederatedSearch"),a("util/router_utils")],void 0===(n=function(e,t){new e,t.start_backbone_history()}.apply(t,r))||(e.exports=n)},2424:function(e,t,a){e.exports=function(e){var t={};function a(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,a),n.l=!0,n.exports}return a.m=e,a.c=t,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(r,n,function(t){return e[t]}.bind(null,n));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=26)}({0:function(e,t){e.exports=a(0)},1:function(e,t){e.exports=a(7)},2:function(e,t){e.exports=a(21)},26:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return s}));var r=a(0),n=a.n(r),l=a(1),d=a(2),i=a.n(d);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function s(e){return n.a.createElement(i.a,o({screenReaderText:Object(l._)("Box Checked")},e),n.a.createElement("path",{d:"M0 153.082v1193.836C0 1435.274 64.726 1500 153.082 1500h1193.836c88.356 0 153.082-64.726 153.082-153.082V153.082C1500 64.726 1435.274 0 1346.918 0H153.082C64.726 0 0 64.726 0 153.082zm585.616 855.822L1097.26 268.15c46.233-66.78 124.315-80.136 188.014-35.958 64.726 45.205 79.11 123.287 32.877 190.068L719.18 1286.3c-27.74 40.07-66.78 60.618-107.877 61.645-38.012 3.082-78.08-12.33-108.903-43.15l-308.22-309.247c-56.506-56.507-57.533-136.644-2.054-192.123 55.48-55.48 136.644-54.452 192.124 2.054l201.37 203.424z"}))}}})},2425:function(e,t,a){e.exports=function(e){var t={};function a(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,a),n.l=!0,n.exports}return a.m=e,a.c=t,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(r,n,function(t){return e[t]}.bind(null,n));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=28)}({0:function(e,t){e.exports=a(0)},1:function(e,t){e.exports=a(7)},2:function(e,t){e.exports=a(21)},28:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return s}));var r=a(0),n=a.n(r),l=a(1),d=a(2),i=a.n(d);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function s(e){return n.a.createElement(i.a,o({screenReaderText:Object(l._)("Box Unchecked")},e),n.a.createElement("path",{d:"M0 1346.918V153.082c0-44.52 14.384-81.164 43.15-109.93C71.92 14.383 108.563 0 153.083 0h1193.836c44.52 0 81.164 14.384 109.93 43.15C1485.617 71.92 1500 108.563 1500 153.083v1193.836c0 44.52-14.384 81.164-43.15 109.93-28.768 28.768-65.412 43.152-109.932 43.152H153.082c-44.52 0-81.164-14.384-109.93-43.15C14.383 1428.08 0 1391.437 0 1346.917zm225-1045.89v897.945c0 21.917 7.192 40.068 21.575 54.452C260.96 1267.808 279.11 1275 301.027 1275h897.946c21.917 0 40.068-7.192 54.452-21.575 14.383-14.384 21.575-32.535 21.575-54.452V301.027c0-21.917-7.192-40.068-21.575-54.452C1239.04 232.192 1220.89 225 1198.973 225H301.027c-21.917 0-40.068 7.192-54.452 21.575C232.192 260.96 225 279.11 225 301.027z"}))}}})},2426:function(e,t,a){e.exports=function(e){var t={};function a(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,a),n.l=!0,n.exports}return a.m=e,a.c=t,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(r,n,function(t){return e[t]}.bind(null,n));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=118)}({0:function(e,t){e.exports=a(19)},1:function(e,t){e.exports=a(2)},11:function(e,t){e.exports=a(77)},118:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return V}));var r=a(2),n=a.n(r),l=a(1),d=a.n(l),i=a(4),o=a(3),s=a.n(o),u=a(11),c=a.n(u),f=a(0),p={string:Object(f.pick)({enterprise:{dark:"#00b0b3",light:"#00787A"},prisma:f.variables.syntaxTeal}),number:Object(f.pick)({enterprise:{dark:"#8bacfd",light:"#1f5df9"},prisma:f.variables.syntaxBlue}),boolean:Object(f.pick)({enterprise:{dark:"#af8aff",light:f.variables.syntaxPurple},prisma:f.variables.syntaxPurple}),null:Object(f.pick)({enterprise:{dark:"#f0b375",light:"#ad5700"},prisma:f.variables.syntaxBrown}),object:f.variables.contentColorDefault},m=Object(o.css)(["word-break:break-word;word-wrap:break-word;"]),v=Object(o.css)(["white-space:nowrap;"]),h=s.a.span.withConfig({displayName:"TreeNodeStyles__StyledValue",componentId:"sc-1rdul18-0"})(["color:",";",";"],(function(e){var t=e.valueType;return p[t]}),(function(e){return"wrap"===e.overflowType?m:v})),y=s()(h.withComponent(c.a)).withConfig({displayName:"TreeNodeStyles__StyledValueInteractiveClickable",componentId:"sc-1rdul18-1"})(["font-family:inherit;&:focus{box-shadow:0 0 1px 3px ",";outline:0;&:active{box-shadow:none;}}&:hover{background-color:",";}"],f.variables.focusColor,Object(f.pick)({enterprise:f.variables.backgroundColorHover,prisma:f.variables.interactiveColorOverlayHover})),g=s.a.span.withConfig({displayName:"TreeNodeStyles__StyledProperty",componentId:"sc-1rdul18-2"})(["font-weight:bold;color:",";"],Object(f.pick)({enterprise:{dark:"#ec9f98",light:f.variables.syntaxRed},prisma:f.variables.syntaxRed})),b=s()(c.a).withConfig({displayName:"TreeNodeStyles__StyledExpandLinkClickable",componentId:"sc-1rdul18-3"})(["cursor:pointer;color:",";font-family:inherit;&:hover{background-color:",";text-decoration:none;}&:focus{box-shadow:",";&:active{box-shadow:none;}}",""],Object(f.pick)({enterprise:{dark:f.variables.accentColorL20,light:f.variables.accentColorD20},prisma:f.variables.interactiveColorPrimary}),Object(f.pick)({enterprise:f.variables.backgroundColorHover,prisma:f.variables.interactiveColorOverlayHover}),f.variables.focusShadowInset,Object(f.pick)({prisma:Object(o.css)(["border-radius:",";"],f.variables.borderRadius)}));function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e){return function(e){if(Array.isArray(e))return x(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return x(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return x(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function P(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=R(e);if(t){var n=R(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return T(this,a)}}function T(e,t){return!t||"object"!==_(t)&&"function"!=typeof t?O(e):t}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var N={path:d.a.arrayOf(d.a.string),defaultOpen:d.a.bool,expandChildren:d.a.bool,indent:d.a.number,indentLevel:d.a.number,obj:d.a.oneOfType([d.a.object,d.a.array,d.a.number,d.a.string,d.a.bool]).isRequired,onClickValue:d.a.func,overflow:d.a.oneOf(["wrap","scroll"])},A=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(d,e);var t,a,r,l=w(d);function d(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),C(O(t=l.call(this,e)),"regularIndent",void 0),C(O(t),"closingIndent",void 0),C(O(t),"handleExpandClick",(function(){t.setState((function(e){return{open:!e.open}}))})),C(O(t),"handleClickValue",(function(e,a){var r,n,l=t.props.path,d=void 0!==a?[].concat(E(l),[a]):E(l),i=".".concat(d.join("."));null===(r=(n=t.props).onClickValue)||void 0===r||r.call(n,e,{key:i,keyPath:d,value:e.target.textContent})})),t.state={open:e.defaultOpen},t.regularIndent=Object(i.fill)(Array(e.indentLevel),Object(i.repeat)(" ",e.indent)),t.closingIndent=Object(i.fill)(Array(e.indentLevel-1),Object(i.repeat)(" ",e.indent)),t}return t=d,(a=[{key:"renderExpandLink",value:function(){return n.a.createElement(b,{onClick:this.handleExpandClick,"aria-expanded":this.state.open,"data-test":"toggle"}," ",this.state.open?"[-]":"[+]"," ")}},{key:"renderValue",value:function(e){var t=this,a=e.value,r=e.key,l=this.props,o=l.indent,s=l.indentLevel,u=l.onClickValue,c=l.expandChildren,f=l.overflow,p=l.path,m=a;if(Object(i.isObject)(a)?m=Object(i.isEmpty)(a)?Object(i.isArray)(a)?"[]":"{}":n.a.createElement(d,{obj:a,path:void 0!==r?[].concat(E(p),[r]):E(p),defaultOpen:c,expandChildren:c,onClickValue:u,indent:o,indentLevel:s+1,overflow:f}):"string"==typeof a?m='"'.concat(a,'"'):"boolean"==typeof a?m=a.toString():null===a&&(m="null"),Object(i.isString)(m)||Object(i.isNumber)(m)){var v=null===a?"null":_(a);return u?n.a.createElement(y,{valueType:v,overflowType:f,onClick:function(e){t.handleClickValue(e,r)}},m):n.a.createElement(h,{valueType:v,overflowType:f},m)}return m}},{key:"renderObject",value:function(){var e=this,t=this.props,a=t.obj,r=t.path;return Object(i.isObject)(a)||Object(i.isArray)(a)?Object(i.keys)(a).map((function(t,l,d){var o=a[t],s=Object(i.isArray)(a)?parseInt(t,10):t,u=0===r.length?".".concat(s):".".concat(r.join("."),".").concat(s),c=e.renderValue({key:s,value:o}),f=Object(i.isArray)(a)?null:n.a.createElement("span",null,n.a.createElement(g,null,s),":"," ");return n.a.createElement("div",{key:u,role:"treeitem","data-test-path":u},e.regularIndent,f,c,l+1<d.length?",":null)})):n.a.createElement("div",{role:"treeitem","data-test-path":"."},this.renderValue({value:a}))}},{key:"render",value:function(){var e=this.state.open,t=this.props.obj,a=Object(i.isObject)(t)&&!Object(i.isEmpty)(t)||Object(i.isArray)(t)&&t.length>0;return n.a.createElement("span",{"data-test":a?"node":null,"data-test-expanded":a?this.state.open:null},a&&(Object(i.isArray)(t)?"[":"{"),a&&this.renderExpandLink(),!a||e?this.renderObject():null,!a||e?this.closingIndent:null,a&&(Object(i.isArray)(t)?"]":"}"))}}])&&P(t.prototype,a),r&&P(t,r),d}(r.Component);C(A,"propTypes",N),C(A,"defaultProps",{path:[],defaultOpen:!1,expandChildren:!1,indent:4,indentLevel:1,overflow:"scroll"});var I=A,D=Object(o.css)(["",";font-family:",";"],f.mixins.reset("block"),f.variables.monoFontFamily),k=s.a.code.withConfig({displayName:"JSONTreeStyles__StyledScrollCode",componentId:"vrdt21-0"})(["",";overflow-x:auto;white-space:nowrap;"],D),F=s.a.code.withConfig({displayName:"JSONTreeStyles__StyledWrapCode",componentId:"vrdt21-1"})(["",";white-space:pre-wrap;"],D);function M(){return(M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function j(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},l=Object.keys(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var q={elementRef:d.a.oneOfType([d.a.func,d.a.object]),json:d.a.oneOfType([d.a.string,d.a.object,d.a.array,d.a.number,d.a.bool]).isRequired,indent:d.a.number,onClickValue:d.a.func,expandChildren:d.a.bool,overflow:d.a.oneOf(["wrap","scroll"])};function W(e){var t=e.elementRef,a=e.expandChildren,r=void 0!==a&&a,l=e.indent,d=void 0===l?4:l,o=e.json,s=e.onClickValue,u=e.overflow,c=void 0===u?"scroll":u,f=j(e,["elementRef","expandChildren","indent","json","onClickValue","overflow"]),p=Object(i.isString)(o)?JSON.parse(o):o,m="wrap"===c?F:k;return n.a.createElement(m,M({"data-language":"language-json","data-test":"json-tree",ref:t,role:"tree"},f),n.a.createElement(I,{defaultOpen:!0,expandChildren:r,indent:d,obj:p,onClickValue:s,overflow:c}))}W.propTypes=q;var V=W},2:function(e,t){e.exports=a(0)},3:function(e,t){e.exports=a(9)},4:function(e,t){e.exports=a(12)}})},"collections/services/federated_search/FederatedIndexes":function(e,t,a){var r,n;r=[a("models/services/federated_search/FederatedIndex"),a("collections/SplunkDsBase")],void 0===(n=function(e,t){return t.extend({url:"data/federated/index",model:e})}.apply(t,r))||(e.exports=n)},"collections/services/federated_search/FederatedProviders":function(e,t,a){var r,n;r=[a("models/services/federated_search/FederatedProvider"),a("collections/SplunkDsBase")],void 0===(n=function(e,t){return t.extend({url:"data/federated/provider",model:e})}.apply(t,r))||(e.exports=n)},"models/services/configs/StructuredDataService":function(e,t,a){var r,n;r=[a("shim/jquery"),a("require/underscore"),a("models/StaticIdSplunkDBase"),a("shim/splunk.util")],void 0===(n=function(e,t,a,r){return a.extend({urlRoot:"configs/conf-limits",parse:function(r){var n=e.extend(!0,{},r);return n&&n.entry&&n.entry.length&&n.entry[0].content&&t.isUndefined(n.entry[0].content.enabled)&&(n.entry[0].content.enabled=0),a.prototype.parse.call(this,n)},isSDSEnabled:function(){return!!r.normalizeBoolean(this.entry.content.get("enabled"))}},{id:"structured_data_service"})}.apply(t,r))||(e.exports=n)},"models/services/federated_search/FederatedIndex":function(e,t,a){var r,n;r=[a("models/SplunkDBase")],void 0===(n=function(e){return e.extend({url:"data/federated/index",name:function(){return this.entry.get("name")},unprefixedName:function(){return this.entry.get("name").slice("federated:".length)},providerName:function(){return this.entry.content.get("federated.provider")},dataSetType:function(){return this.entry.content.get("federated.dataset").split(":")[0]},dataSetObject:function(){return this.entry.content.get("federated.dataset").split(":")[1]},timeField:function(){return this.entry.content.get("federated.timefield")},timeFormat:function(){return this.entry.content.get("federated.timeformat")},updateAttributes:function(e){this.entry.content.set("federated.provider",e.providerName),this.entry.content.set("federated.dataset",e.dataSetType+":"+e.dataSetObject),this.entry.content.set("federated.timefield",e.timeField),this.entry.content.set("federated.timeformat",e.timeFormat)},setAttributes:function(e){this.entry.content.set("name","federated:"+e.indexName),this.entry.set("name","federated:"+e.indexName),this.updateAttributes(e)}})}.apply(t,r))||(e.exports=n)},"models/services/federated_search/FederatedProvider":function(e,t,a){var r,n;r=[a(7),a("models/SplunkDBase"),a("shim/splunk.util")],void 0===(n=function(e,t,a){return t.extend({url:"data/federated/provider",sync:function(e,a,r){return this.entry.content.unset("data_catalog"),t.prototype.sync.call(this,e,a,r)},name:function(){return this.entry.get("name")},type:function(){return this.entry.content.get("type")},remoteHost:function(){return this.entry.content.get("hostPort")},userName:function(){return this.entry.content.get("serviceAccount")},applicationName:function(){return this.entry.content.get("appContext")},mode:function(){return this.entry.content.get("mode")},agreeWarningConsent:function(){return a.normalizeBoolean(this.entry.content.get("agreeWarningConsent"))},AwsAccountId:function(){return this.entry.content.get("aws_account_id")},AwsRegion:function(){return this.entry.content.get("aws_region")},database:function(){return this.entry.content.get("database")},awsS3PathsAllowlist:function(){return this.entry.content.get("aws_s3_paths_allowlist")},awsGlueTablesAllowlist:function(){return this.entry.content.get("aws_glue_tables_allowlist")},dataCatalog:function(){return this.entry.content.get("data_catalog")},updateAttributes:function(e,t){"aws_s3"==e.type?(this.entry.content.set("type",e.type),this.entry.content.set("aws_account_id",e.aws_account_id),this.entry.content.set("aws_region",e.aws_region),this.entry.content.set("database",e.database),this.entry.content.set("aws_glue_tables_allowlist",e.aws_glue_tables_allowlist),this.entry.content.set("aws_s3_paths_allowlist",e.aws_s3_paths_allowlist)):(this.entry.content.set("type","splunk"),this.entry.content.set("hostPort",e.remoteHost),this.entry.content.set("serviceAccount",e.userName),this.entry.content.set("useFSHKnowledgeObjects","transparent"===e.mode),e.applicationName&&this.entry.content.set("appContext",e.applicationName),e.password&&this.entry.content.set("password",e.password),this.entry.content.set("mode",e.mode),this.entry.content.set("agreeWarningConsent",e.agreeWarningConsent),this.entry.content.set("saveMode",t?"verifyOnly":"saveOnly"))},setAttributes:function(e,t){this.entry.content.set("name",e.providerName),this.entry.set("name",e.providerName),this.updateAttributes(e,t)},generatePolicy:function(t){return this.set("id","data/federated/provider/generatePolicy"),new Promise((a,r)=>this.fetch({data:t,success:(t,n)=>{if(n.entry){const e=n.entry.find(e=>"GluePolicy"==e.name);if(e&&e.content&&e.content.policy){let t=!1;const r=n.entry.filter(e=>"GluePolicy"!=e.name).map(e=>e.name&&e.content&&e.content.policy?{name:e.name,policy:e.content.policy}:(t=!0,null));t||a({gluePolicy:e.content.policy,bucketPolicies:r})}}r(e._("Cannot read policy response."))},error:(t,a)=>{a.responseJSON&&a.responseJSON.messages&&a.responseJSON.messages[0]&&a.responseJSON.messages[0].text&&r(a.responseJSON.messages[0].text),r(e._("Unable to generate policy."))}}))}})}.apply(t,r))||(e.exports=n)},"routers/FederatedSearch":function(e,t,a){"use strict";a(1),Object.defineProperty(t,"__esModule",{value:!0});var r=p(a("require/underscore")),n=p(a("shim/jquery")),l=p(a(0)),d=p(a("util/react_render")),i=p(a("models/services/configs/StructuredDataService")),o=p(a("collections/services/federated_search/FederatedIndexes")),s=p(a("collections/services/federated_search/FederatedProviders")),u=p(a("routers/Base")),c=p(a("views/federated_search/FederatedSearchContainer")),f=p(a("views/federated_search/LicensePage"));function p(e){return e&&e.__esModule?e:{default:e}}var m=u.default.extend({initialize:function(){for(var e,t=arguments.length,a=Array(t),l=0;l<t;l++)a[l]=arguments[l];(e=u.default.prototype.initialize).call.apply(e,[this].concat(a)),this.setPageTitle((0,r.default)("Federated search").t()),this.STATUS_POLLING_DELAY=2e3,this.enableAppBar=!1,this.fetchAppLocals=!0,this.fetchServerInfo=!0,this.collection.federatedProviders=new s.default,this.collection.federatedIndexes=new o.default,this.model.sdsConf=new i.default,this.deferreds.federatedProviders=n.default.Deferred(),this.deferreds.federatedIndexes=n.default.Deferred(),this.deferreds.sdsConf=n.default.Deferred()},page:function(){for(var e,t=this,a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];(e=u.default.prototype.page).call.apply(e,[this].concat(r)),n.default.when(this.deferreds.pageViewRendered,this.deferreds.serverInfo).then((function(){(0,n.default)(".preload").replaceWith(t.pageView.el),(0,d.default)(l.default.createElement(f.default,{status:"loading"}),t.pageView.$(".main-section-body").get(0)),t.model.serverInfo.isFederatedSearchEnabled()?(t.bootstrapFederations(),n.default.when(t.deferreds.federatedProviders,t.deferreds.federatedIndexes,t.deferreds.sdsConf).then((function(){(0,d.default)(l.default.createElement(c.default,{providers:t.collection.federatedProviders,federatedIndexes:t.collection.federatedIndexes,sdsEnabled:t.model.sdsConf.isSDSEnabled()}),t.pageView.$(".main-section-body").get(0))}))):(0,d.default)(l.default.createElement(f.default,{status:"success"}),t.pageView.$(".main-section-body").get(0))}))},bootstrapFederations:function(){var e=this;"resolved"!==this.deferreds.federatedIndexes.state()&&this.collection.federatedIndexes.fetch({data:{count:0},success:function(){e.deferreds.federatedIndexes.resolve()},error:function(){e.deferreds.federatedIndexes.resolve()}}),"resolved"!==this.deferreds.federatedProviders.state()&&this.collection.federatedProviders.fetch({data:{count:0},success:function(){e.deferreds.federatedProviders.resolve()},error:function(){e.deferreds.federatedProviders.resolve()}}),"resolved"!==this.deferreds.sdsConf.state()&&this.model.sdsConf.fetch({success:function(){e.deferreds.sdsConf.resolve()},error:function(){e.deferreds.sdsConf.resolve()}})}});t.default=m,e.exports=t.default},"views/federated_search/AWSS3ProviderModal":function(e,t,a){"use strict";a(1),Object.defineProperty(t,"__esModule",{value:!0});var r=C(a(55)),n=C(a(10)),l=C(a(11)),d=C(a(13)),i=C(a(15)),o=C(a(16)),s=(0,r.default)(["\n    margin-right: 0.5em;\n"],["\n    margin-right: 0.5em;\n"]),u=C(a(0)),c=a(7),f=C(a("shim/splunk.util")),p=C(a(529)),m=C(a(14)),v=C(a(135)),h=C(a(18)),y=C(a(2426)),g=C(a(22)),b=C(a(20)),_=C(a(24)),E=C(a(39)),x=C(a(23)),P=a(26),S=C(a(2)),w=C(a(9)),T=C(a("models/services/federated_search/FederatedProvider")),O=a("views/federated_search/FederatedUtils"),R=a("views/federated_search/FederatedSearch.constants");function C(e){return e&&e.__esModule?e:{default:e}}var N=function(e){function t(e){(0,l.default)(this,t);var a=(0,i.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.updateProviderName=function(e,t){var r=t.value;a.setState({provider:(0,n.default)({},a.state.provider,{providerName:r}),updated:!0})},a.updateAWSAccountId=function(e,t){var r=t.value;a.setState({provider:(0,n.default)({},a.state.provider,{aws_account_id:r}),updated:!0})},a.updateAWSRegion=function(e,t){var r=t.value;a.setState({provider:(0,n.default)({},a.state.provider,{aws_region:r}),updated:!0})},a.updateDatabase=function(e,t){var r=t.value;a.setState({provider:(0,n.default)({},a.state.provider,{database:r}),updated:!0})},a.updateS3PathsAllowList=function(e,t){var r=t.value;a.setState({provider:(0,n.default)({},a.state.provider,{aws_s3_paths_allowlist:r}),updated:!0})},a.updateGlueTablesAllowList=function(e,t){var r=t.value;a.setState({provider:(0,n.default)({},a.state.provider,{aws_glue_tables_allowlist:r}),updated:!0})},a.normalizeList=function(e){return e.split(",").map((function(e){return e.trim()})).filter((function(e){return""!==e})).join(",")},a.normalizeUserInputs=function(){a.state.provider.providerName&&(a.state.provider.providerName=a.state.provider.providerName.trim()),a.state.provider.aws_account_id&&(a.state.provider.aws_account_id=a.state.provider.aws_account_id.trim()),a.state.provider.aws_region&&(a.state.provider.aws_region=a.state.provider.aws_region.trim()),a.state.provider.database&&(a.state.provider.database=a.state.provider.database.trim()),a.state.provider.aws_glue_tables_allowlist&&(a.state.provider.aws_glue_tables_allowlist=a.normalizeList(a.state.provider.aws_glue_tables_allowlist)),a.state.provider.aws_s3_paths_allowlist&&(a.state.provider.aws_s3_paths_allowlist=a.normalizeList(a.state.provider.aws_s3_paths_allowlist))},a.validateAccountID=function(e){return e?/^\d{12}$/g.test(e)?null:(0,c._)("Invalid AWS account ID."):(0,c._)("Provide an AWS account ID.")},a.validateRegion=function(e){return e?R.AWS_REGIONS.some((function(t){return t.value===e}))?null:(0,c._)("Invalid AWS region."):(0,c._)("Select an AWS region.")},a.validateDatabase=function(e){return e?/^([a-z0-9_]*)$/.test(e)?null:(0,c._)("The AWS Glue database name may contain only lowercase letters, numbers, and underscores."):(0,c._)("Provide an AWS Glue database name.")},a.validateGlueTables=function(e){return e?e&&!/^([a-z0-9_,*]*)$/.test(e)?(0,c._)("AWS Glue table names may contain only lowercase letters, numbers, and underscores."):null:(0,c._)("Provide a comma-separated list of AWS Glue tables.")},a.validateS3Paths=function(e){return e?e&&!/^([A-Za-z0-9,:/!.*'()_-]*)$/.test(e)?(0,c._)("AWS S3 locations may contain only alphanumeric characters and the following special characters: /!-_.*'():"):null:(0,c._)("Provide a comma-separated list of AWS S3 locations.")},a.validate=function(){var e=a.state.provider,t=e.providerName,r=e.aws_account_id,n=e.aws_region,l=e.database,d=e.aws_glue_tables_allowlist,i=e.aws_s3_paths_allowlist;return[(0,O.validateProviderName)(t,a.props.existingProviderNames),a.validateAccountID(r),a.validateRegion(n),a.validateDatabase(l),a.validateGlueTables(d),a.validateS3Paths(i)].filter((function(e){return null!==e}))},a.generatePolicy=function(){a.props.clearErrors(),a.normalizeUserInputs();var e=a.validate();if(e.length>0)a.setState({errors:e});else{a.setState({gettingPolicy:!0});var t=new T.default,r={aws_account_id:a.state.provider.aws_account_id,aws_region:a.state.provider.aws_region,database:a.state.provider.database,aws_glue_tables_allowlist:a.state.provider.aws_glue_tables_allowlist,aws_s3_paths_allowlist:a.state.provider.aws_s3_paths_allowlist,output_mode:"json"};t.generatePolicy(r).then((function(e){a.setState({gettingPolicy:!1,gluePolicy:e.gluePolicy,bucketPolicies:e.bucketPolicies.map((function(e){return{name:e.name,policy:e.policy,copiedPolicy:!1}})),errors:[]})})).catch((function(e){var t=[];t.push(e),a.setState({gettingPolicy:!1,errors:t})}))}},a.clearPolicy=function(){a.setState({gluePolicy:"",copiedGluePolicy:!1,bucketPolicies:[]})},a.copyPolicy=function(e){var t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)},a.submit=function(){a.props.clearErrors(),a.setState({updated:!1}),a.props.editMode?a.props.editProvider(a.state.provider):a.props.addProvider(a.state.provider,(function(){f.default.trackEvent({type:"awsS3Provider.interact",data:{action:"provider.save"}}),a.setState({newProviderName:a.state.provider.providerName,addOperationCompleted:!0})}))},a.renderPolicyDisplay=function(){return a.state.gluePolicy?u.default.createElement(u.default.Fragment,null,u.default.createElement(h.default,{label:(0,c._)("AWS Glue Table Policy"),labelWidth:"170px",help:(0,c._)("Copy and paste this policy into your AWS Glue Data Catalog Management console."),"data-test-name":"glue-policy-group"},u.default.createElement(v.default,{style:{maxHeight:150}},u.default.createElement(v.default.Header,{actionPrimary:u.default.createElement(g.default,{"data-test-name":"glue-copy-link",onClick:function(){a.copyPolicy(a.state.gluePolicy),a.setState({copiedGluePolicy:!0})}},a.state.copiedGluePolicy?(0,c._)("Copied"):(0,c._)("Copy"))}),u.default.createElement(v.default.Body,null,u.default.createElement(y.default,{json:a.state.gluePolicy,expandChildren:!0,"data-test-name":"glue-policy-json-tree"})))),u.default.createElement(h.default,{label:a.state.bucketPolicies.length>1?(0,c._)(" AWS S3 Bucket Policies"):(0,c._)(" AWS S3 Bucket Policy"),labelWidth:"170px",help:(0,c._)("Copy and paste each bucket policy into the corresponding Bucket policy field in AWS S3. If the bucket already has a policy in AWS S3, append the copied policy to the existing policy."),"data-test-name":"bucket-policy-group"},u.default.createElement(p.default,{defaultOpenPanelId:void 0,style:{width:300}},a.state.bucketPolicies.map((function(e,t){return u.default.createElement(p.default.Panel,{key:e.name,panelId:t,title:e.name,"data-test-name":e.name+"-panel"},u.default.createElement(v.default,{style:{maxHeight:150,width:410}},u.default.createElement(v.default.Header,{actionPrimary:u.default.createElement(g.default,{"data-test-name":e.name+"-copy-link",onClick:function(){a.copyPolicy(e.policy),a.state.bucketPolicies.length>t&&(a.state.bucketPolicies[t].copiedPolicy=!0,a.setState({bucketPolicies:a.state.bucketPolicies}))}},e.copiedPolicy?(0,c._)("Copied"):(0,c._)("Copy"))}),u.default.createElement(v.default.Body,null,u.default.createElement(y.default,{json:e.policy,expandChildren:!0,"data-test-name":e.name+"-json-tree"}))))}))))):null},a.state={provider:{providerName:"",type:R.PROVIDER_TYPE.AWS_S3.value,aws_account_id:"",aws_region:"",database:"",aws_glue_tables_allowlist:"",aws_s3_paths_allowlist:""},gluePolicy:"",copiedGluePolicy:!1,bucketPolicies:[],updated:!1,newProviderName:"",addOperationCompleted:!1,gettingPolicy:!1,errors:[]},e.provider&&(a.state.provider=(0,n.default)({},a.state.provider,{providerName:e.provider.name(),type:e.provider.type(),aws_account_id:e.provider.AwsAccountId(),aws_region:e.provider.AwsRegion(),database:e.provider.database(),aws_glue_tables_allowlist:e.provider.awsGlueTablesAllowlist(),aws_s3_paths_allowlist:e.provider.awsS3PathsAllowlist()})),a.ref=u.default.createRef(),a}return(0,o.default)(t,e),(0,d.default)(t,[{key:"componentDidUpdate",value:function(e,t){this.state.errors.length>0&&this.state.errors!==t.errors&&this.ref.current&&this.ref.current.scrollIntoView(),this.props.errors.length>0&&this.props.errors!==e.errors&&this.ref.current&&this.ref.current.scrollIntoView()}},{key:"render",value:function(){var e=this,t=this.props.errors.concat(this.state.errors).map((function(e){return e?u.default.createElement(b.default,{key:e,"data-test-name":"error",type:"error"},e):null}));if(this.state.addOperationCompleted){var a=(0,P.createDocsURL)("sds.aws.resources");return u.default.createElement(u.default.Fragment,null,u.default.createElement(_.default.Body,null,u.default.createElement(b.default,{appearance:"fill",type:"success"},u.default.createElement(b.default.Title,null,u.default.createElement("strong",null,(0,c._)("Success! You have created federated provider ")+(this.state.newProviderName+"."))),(0,c._)("To finish this setup, create a federated index.")),u.default.createElement(b.default,{appearance:"fill",type:"info"},u.default.createElement(b.default.Title,null,u.default.createElement("strong",null,(0,c._)("Make sure you have correctly copied and pasted the AWS Glue table policy and the AWS S3 bucket policies into the appropriate AWS consoles."))),(0,c._)("If you find errors or omissions, use the Edit option for this provider to regenerate the policies.")),u.default.createElement(b.default,{appearance:"fill",type:"info"},u.default.createElement(b.default.Title,null,u.default.createElement("strong",null,(0,c._)("You may have to set additional permissions for your Splunk Cloud Platform deployment to allow access to your AWS Glue and S3 resources."))),u.default.createElement(g.default,{"data-test-name":"federated-awsresources-learn-more-link",to:a,openInNewContext:!0},(0,c._)("Learn more")))),u.default.createElement(_.default.Footer,null,u.default.createElement(m.default,{appearance:"secondary",label:(0,c._)("Close"),onClick:this.props.close,"data-test-name":"provider-success-close-btn"}),u.default.createElement(m.default,{appearance:"primary",label:(0,c._)("Create Federated Index"),onClick:function(){f.default.trackEvent({type:"awsS3Provider.interact",data:{action:"index.open"}}),e.props.goToCreateIndex(e.state.newProviderName)},"data-test-name":"provider-success-create-btn"})))}var r=(0,P.createDocsURL)("sds.aws.info"),n=(0,P.createDocsURL)("sds.aws.gluedb"),l=(0,P.createDocsURL)("sds.aws.gluetable");return u.default.createElement(u.default.Fragment,null,u.default.createElement(_.default.Body,null,u.default.createElement(b.default,{"data-test-name":"aws-info-message",type:"info",appearance:"fill"},u.default.createElement(I,null,(0,c._)("Ask your AWS administrator to provide the AWS information required to configure this federated provider.")),u.default.createElement(g.default,{"data-test-name":"federated-aws-learn-more-link",to:r,openInNewContext:!0},(0,c._)("Learn more"))),u.default.createElement("div",{ref:this.ref},t),u.default.createElement(h.default,{label:(0,c._)("Federated Provider Name"),labelWidth:"170px",help:(0,c._)("Enter a unique provider name.")},this.props.editMode?u.default.createElement(A,null,this.state.provider.providerName):u.default.createElement(x.default,{autoComplete:"off",value:this.state.provider.providerName,onChange:this.updateProviderName,disabled:!!this.state.gluePolicy||this.state.gettingPolicy,"data-test-name":"provider-name-text"})),u.default.createElement(h.default,{label:(0,c._)("AWS Account ID"),labelWidth:"170px",help:(0,c._)("Provide a 12 digit AWS Account ID number.")},u.default.createElement(x.default,{autoComplete:"off",value:this.state.provider.aws_account_id,onChange:this.updateAWSAccountId,disabled:!!this.state.gluePolicy||this.state.gettingPolicy,"data-test-name":"provider-accountid-text"})),u.default.createElement(h.default,{label:(0,c._)("AWS Region"),labelWidth:"170px"},u.default.createElement(E.default,{value:this.state.provider.aws_region,onChange:this.updateAWSRegion,disabled:!!this.state.gluePolicy||this.state.gettingPolicy,"data-test-name":"provider-region-select"},R.AWS_REGIONS.map((function(e){return u.default.createElement(E.default.Option,{key:e.value,label:(0,c._)(e.name+" "+e.value),value:e.value})})))),u.default.createElement(h.default,{label:(0,c._)("AWS Glue database name"),labelWidth:"170px",help:u.default.createElement(u.default.Fragment,null,u.default.createElement(I,null,(0,c._)("Provide the database name as it appears in AWS.")),u.default.createElement(g.default,{"data-test-name":"federated-glue-database-learn-more-link",to:n,openInNewContext:!0},(0,c._)("Learn more")))},this.props.editMode?u.default.createElement(A,null,this.state.provider.database):u.default.createElement(x.default,{autoComplete:"off",value:this.state.provider.database,onChange:this.updateDatabase,disabled:!!this.state.gluePolicy||this.state.gettingPolicy,"data-test-name":"provider-database-text"})),u.default.createElement(h.default,{label:(0,c._)("AWS Glue table list"),labelWidth:"170px",help:u.default.createElement(u.default.Fragment,null,u.default.createElement(I,null,(0,c._)("Provide the exact AWS Glue table list as it appears in AWS. Separate paths with commas.")),u.default.createElement(g.default,{"data-test-name":"federated-glue-table-learn-more-link",to:l,openInNewContext:!0},(0,c._)("Learn more")))},u.default.createElement(x.default,{autoComplete:"off",value:this.state.provider.aws_glue_tables_allowlist,onChange:this.updateGlueTablesAllowList,disabled:!!this.state.gluePolicy||this.state.gettingPolicy,multiline:!0,"data-test-name":"provider-gluetable-text"})),u.default.createElement(h.default,{label:(0,c._)("AWS S3 location list"),labelWidth:"170px",help:(0,c._)("Provide the S3 locations for the listed AWS Glue tables, exactly as the locations appear in AWS. Separate the locations with commas.")},u.default.createElement(x.default,{autoComplete:"off",value:this.state.provider.aws_s3_paths_allowlist,onChange:this.updateS3PathsAllowList,disabled:!!this.state.gluePolicy||this.state.gettingPolicy,"data-test-name":"provider-s3path-text",multiline:!0})),this.state.gluePolicy?u.default.createElement(m.default,{style:{marginLeft:545,marginBottom:15},appearance:"secondary",onClick:this.clearPolicy,label:(0,c._)("Edit"),"data-test-name":"clear-policy-btn"}):u.default.createElement(m.default,{style:{marginLeft:465},appearance:"secondary",onClick:this.generatePolicy,label:(0,c._)("Generate Policy"),disabled:this.state.gettingPolicy,"data-test-name":"generate-policy-btn"}),this.renderPolicyDisplay()),u.default.createElement(_.default.Footer,null,u.default.createElement(m.default,{appearance:"secondary",onClick:this.props.close,label:(0,c._)("Cancel"),"data-test-name":"provider-cancel-btn"}),u.default.createElement(m.default,{appearance:"primary",onClick:this.submit,label:this.props.editMode?(0,c._)("Save"):(0,c._)("Create Provider"),disabled:!this.state.gluePolicy||this.props.saving||!this.state.updated,"data-test-name":"provider-create-btn"})))}}]),t}(u.default.Component);function A(e){var t=e.children;return u.default.createElement("span",{className:"input-label"},t)}N.propTypes={close:S.default.func.isRequired,addProvider:S.default.func.isRequired,editProvider:S.default.func.isRequired,clearErrors:S.default.func.isRequired,goToCreateIndex:S.default.func.isRequired,existingProviderNames:S.default.arrayOf(S.default.string).isRequired,editMode:S.default.bool,provider:S.default.instanceOf(T.default),saving:S.default.bool.isRequired,errors:S.default.arrayOf(S.default.string).isRequired},N.defaultProps={provider:null,editMode:!1},A.propTypes={children:S.default.node.isRequired};var I=w.default.span(s);t.default=N,e.exports=t.default},"views/federated_search/AddButton":function(e,t,a){"use strict";a(1),Object.defineProperty(t,"__esModule",{value:!0});var r=(0,i(a(55)).default)(["\n    text-align: right;\n    pointer-events: none;\n    margin: 12px;\n"],["\n    text-align: right;\n    pointer-events: none;\n    margin: 12px;\n"]),n=i(a(0)),l=i(a(9)),d=i(a(14));function i(e){return e&&e.__esModule?e:{default:e}}var o=l.default.div(r);function s(e){return n.default.createElement(o,null,n.default.createElement(d.default,e))}s.propTypes=d.default.propTypes,s.defaultProps=d.default.defaultProps,t.default=s,e.exports=t.default},"views/federated_search/DeleteIndexModal":function(e,t,a){"use strict";a(1),Object.defineProperty(t,"__esModule",{value:!0});var r=u(a(0)),n=u(a(2)),l=a(7),d=a(28),i=u(a(14)),o=u(a(20)),s=u(a(24));function u(e){return e&&e.__esModule?e:{default:e}}function c(e){return r.default.createElement(s.default,{style:{width:"760px"},onRequestClose:e.close,open:!0},r.default.createElement(s.default.Header,{title:(0,l._)("Delete Federated Index"),onRequestClose:e.close}),r.default.createElement(s.default.Body,null,r.default.createElement(o.default,{type:"warning"},(0,d.sprintf)((0,l._)("Are you sure you want to delete the Federated Index: %(name)s?"),{name:e.indexName}))),r.default.createElement(s.default.Footer,null,r.default.createElement(i.default,{appearance:"secondary",onClick:e.close,label:(0,l._)("Cancel")}),r.default.createElement(i.default,{appearance:"primary",label:(0,l._)("Delete"),onClick:e.onDelete})))}c.propTypes={close:n.default.func.isRequired,onDelete:n.default.func.isRequired,indexName:n.default.string.isRequired},t.default=c,e.exports=t.default},"views/federated_search/DeleteProviderModal":function(e,t,a){"use strict";a(1),Object.defineProperty(t,"__esModule",{value:!0});var r=u(a(0)),n=u(a(2)),l=a(7),d=a(28),i=u(a(14)),o=u(a(20)),s=u(a(24));function u(e){return e&&e.__esModule?e:{default:e}}function c(e){return r.default.createElement(s.default,{style:{width:"760px"},onRequestClose:e.close,open:!0},r.default.createElement(s.default.Header,{title:(0,l._)("Delete Federated Provider"),onRequestClose:e.close}),r.default.createElement(s.default.Body,null,r.default.createElement(o.default,{type:"warning"},(0,d.sprintf)((0,l._)("Are you sure you want to delete the Federated Provider: %(name)s?"),{name:e.providerName}))),r.default.createElement(s.default.Footer,null,r.default.createElement(i.default,{appearance:"secondary",onClick:e.close,label:(0,l._)("Cancel"),"data-test-name":"provider-cancel-btn"}),r.default.createElement(i.default,{appearance:"primary",label:(0,l._)("Delete"),onClick:e.onDelete,"data-test-name":"provider-delete-btn"})))}c.propTypes={close:n.default.func.isRequired,onDelete:n.default.func.isRequired,providerName:n.default.string.isRequired},t.default=c,e.exports=t.default},"views/federated_search/FederatedSearch.constants":function(e,t,a){"use strict";a(1),Object.defineProperty(t,"__esModule",{value:!0}),t.AWS_REGIONS=t.TIME_FORMAT_OPTIONS=t.PROVIDER_TYPE=t.PROVIDER_MODE=void 0;var r=a(7);t.PROVIDER_MODE=Object.freeze({STANDARD:{label:(0,r._)("Standard"),value:"standard"},TRANSPARENT:{label:(0,r._)("Transparent"),value:"transparent"}}),t.PROVIDER_TYPE=Object.freeze({SPLUNK:{label:(0,r._)("Splunk"),value:"splunk"},AWS_S3:{label:(0,r._)("Amazon Web Services S3"),value:"aws_s3"}}),t.TIME_FORMAT_OPTIONS=Object.freeze([{label:(0,r._)("Unix timestamp (%s)"),value:"%s"},{label:(0,r._)("Java timestamp (%JT)"),value:"%JT"},{label:(0,r._)("Custom"),value:"custom"}]),t.AWS_REGIONS=Object.freeze([{value:"us-east-1",name:"US East (N. Virginia)"},{value:"us-east-2",name:"US East (Ohio)"},{value:"us-west-1",name:"US West (N. California)"},{value:"us-west-2",name:"US West (Oregon)"},{value:"ca-central-1",name:"Canada (Central)"},{value:"eu-central-1",name:"EU (Frankfurt)"},{value:"eu-west-1",name:"EU (Ireland)"},{value:"eu-west-2",name:"EU (London)"},{value:"eu-west-3",name:"EU (Paris)"},{value:"eu-north-1",name:"EU (Stockholm)"},{value:"ap-northeast-1",name:"Asia Pacific (Tokyo)"},{value:"ap-northeast-2",name:"Asia Pacific (Seoul)"},{value:"ap-south-1",name:"Asia Pacific (Mumbai)"},{value:"ap-southeast-1",name:"Asia Pacific (Singapore)"},{value:"ap-southeast-2",name:"Asia Pacific (Sydney)"},{value:"sa-east-1",name:"South America (Sao Paulo)"}])},"views/federated_search/FederatedSearchContainer":function(e,t,a){"use strict";a(1),Object.defineProperty(t,"__esModule",{value:!0});var r=m(a(11)),n=m(a(13)),l=m(a(15)),d=m(a(16)),i=m(a(0)),o=m(a("require/backbone")),s=m(a(2)),u=m(a(305)),c=m(a("views/federated_search/Indexes")),f=m(a("views/federated_search/Providers")),p=m(a("views/federated_search/PageHeader"));function m(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(e){(0,r.default)(this,t);var a=(0,l.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.goToCreateIndex=function(e){a.setState({activePanelId:"indexes",createdProviderName:e})},a.state={activePanelId:"providers",createdProviderName:""},a.handleTabChange=a.handleTabChange.bind(a),a}return(0,d.default)(t,e),(0,n.default)(t,[{key:"handleTabChange",value:function(e,t){var a=t.activePanelId;this.setState({activePanelId:a,createdProviderName:""})}},{key:"render",value:function(){return i.default.createElement("div",{"data-test-name":"federated-search-container"},i.default.createElement(p.default,null),i.default.createElement(u.default,{activePanelId:this.state.activePanelId,onChange:this.handleTabChange},i.default.createElement(u.default.Panel,{label:"Federated Providers",panelId:"providers"},i.default.createElement(f.default,{providers:this.props.providers,goToCreateIndex:this.goToCreateIndex,sdsEnabled:this.props.sdsEnabled})),i.default.createElement(u.default.Panel,{label:"Federated Indexes",panelId:"indexes"},i.default.createElement(c.default,{providers:this.props.providers,federatedIndexes:this.props.federatedIndexes,providerName:this.state.createdProviderName}))))}}]),t}(i.default.Component);v.propTypes={providers:s.default.instanceOf(o.default.Collection).isRequired,federatedIndexes:s.default.instanceOf(o.default.Collection).isRequired,sdsEnabled:s.default.bool.isRequired},t.default=v,e.exports=t.default},"views/federated_search/FederatedUtils":function(e,t,a){"use strict";(function(e){a(1),Object.defineProperty(t,"__esModule",{value:!0}),t.fetchFederatedData=t.getFederatedUrl=t.FEDERATED_COLLECTION_PATH=void 0;var r=s(a(10));t.validateProviderName=function(e,t){if(!e)return(0,n._)("Federated Provider Name must be defined");if(!/^[a-zA-Z0-9]([a-zA-Z0-9_-]*)$/.test(e))return(0,n._)("Federated Provider Name may contain only letters, numbers, underscores, or hyphens. They must begin with a letter or number.");if(t.includes(e))return(0,n._)("A Federated Provider already exists with this name. Federated Provider Name must be unique");return null},t.isTransparentMode=function(e){return e===o.PROVIDER_MODE.TRANSPARENT.value};var n=a(7),l=s(a(35)),d=a(26),i=a(34),o=a("views/federated_search/FederatedSearch.constants");function s(e){return e&&e.__esModule?e:{default:e}}var u=t.FEDERATED_COLLECTION_PATH=(0,d.createRESTURL)("data/federated/settings/general");t.getFederatedUrl=function(){return(0,d.createRESTURL)(u+"?"+l.default.encode({output_mode:"json"}))},t.fetchFederatedData=function(t){return e(t,(0,r.default)({},i.defaultFetchInit,{method:"GET"})).then((0,i.handleResponse)([200])).catch((0,i.handleError)((0,n._)("Unable to fetch federated data.")))}}).call(this,a(31))},"views/federated_search/FilterControl":function(e,t,a){"use strict";a(1),Object.defineProperty(t,"__esModule",{value:!0});var r=c(a(11)),n=c(a(13)),l=c(a(15)),d=c(a(16)),i=c(a(0)),o=c(a(2)),s=a(7),u=c(a(23));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){(0,r.default)(this,t);var a=(0,l.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handleFilter=function(e,t){var r=t.value;a.setState({filter:r})},a.state={filter:""},a}return(0,d.default)(t,e),(0,n.default)(t,[{key:"render",value:function(){var e=this,t=""===this.state.filter?this.props.items:this.props.items.filter((function(t){return e.props.predicate(t,e.state.filter)}));return this.props.nextElm(t,i.default.createElement(u.default,{placeholder:(0,s._)("Filter"),appearance:"search",canClear:!0,style:{maxWidth:"200px"},onChange:this.handleFilter,"data-test-name":"table-filter-text"}))}}]),t}(i.default.Component);f.propTypes={items:o.default.array.isRequired,predicate:o.default.func.isRequired,nextElm:o.default.func.isRequired},t.default=f,e.exports=t.default},"views/federated_search/IndexModal":function(e,t,a){"use strict";a(1),Object.defineProperty(t,"__esModule",{value:!0});var r=T(a(10)),n=T(a(11)),l=T(a(13)),d=T(a(15)),i=T(a(16));t.AddIndexModal=O,t.EditIndexModal=R;var o=T(a(0)),s=T(a(2)),u=a(7),c=a(12),f=T(a("shim/splunk.util")),p=T(a(14)),m=T(a(18)),v=T(a(38)),h=T(a(20)),y=T(a(24)),g=T(a(29)),b=T(a(39)),_=T(a(23)),E=T(a(32)),x=T(a("models/services/federated_search/FederatedIndex")),P=T(a(22)),S=a(26),w=a("views/federated_search/FederatedSearch.constants");function T(e){return e&&e.__esModule?e:{default:e}}function O(e){return o.default.createElement(y.default,{style:{width:"760px"},onRequestClose:e.close,open:!0},o.default.createElement(y.default.Header,{title:(0,u._)("Create a Federated Index"),onRequestClose:e.close}),o.default.createElement(A,{close:e.close,onSave:e.onSave,providers:e.providers,existingIndexNames:e.existingIndexNames,editMode:!1,providerName:e.providerName}))}function R(e){var t=e.providers.find((function(t){return t.name===e.index.providerName()})),a=t?e.providers.filter((function(e){return e.type===t.type})):e.providers;return o.default.createElement(y.default,{style:{width:"760px"},onRequestClose:e.close,open:!0},o.default.createElement(y.default.Header,{title:(0,u._)("Edit Federated Index"),onRequestClose:e.close}),o.default.createElement(A,{close:e.close,onSave:e.onSave,providers:a,existingIndexNames:[],index:e.index,editMode:!0}))}O.propTypes={close:s.default.func.isRequired,onSave:s.default.func.isRequired,providers:s.default.arrayOf(s.default.shape({name:s.default.string.isRequired,type:s.default.string.isRequired,awsGlueTablesAllowlist:s.default.string.isRequired}).isRequired).isRequired,existingIndexNames:s.default.arrayOf(s.default.string).isRequired,providerName:s.default.string},O.defaultProps={providerName:""},R.propTypes={close:s.default.func.isRequired,onSave:s.default.func.isRequired,providers:s.default.arrayOf(s.default.shape({name:s.default.string.isRequired,type:s.default.string.isRequired,awsGlueTablesAllowlist:s.default.string.isRequired}).isRequired).isRequired,index:s.default.instanceOf(x.default).isRequired};var C=[{label:(0,u._)("Index"),value:"index"},{label:(0,u._)("Saved Search"),value:"savedsearch"},{label:(0,u._)("Data Models"),value:"datamodel"}],N={label:(0,u._)("AWS Glue Table"),value:"aws_glue_table"},A=function(e){function t(e){(0,n.default)(this,t);var a=(0,d.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));if(a.createGlueTableArray=function(e){return!e||e.includes("*")?[]:e.split(",").map((function(e){return e.trim()}))},a.updateIndexName=function(e,t){var n=t.value;a.setState({index:(0,r.default)({},a.state.index,{indexName:n}),updated:!0})},a.toggleExplicitNoTimeField=function(){a.setState({explicitNoTimeField:!a.state.explicitNoTimeField,updated:!0})},a.updateTimeField=function(e,t){var n=t.value;a.setState({index:(0,r.default)({},a.state.index,{timeField:n}),updated:!0})},a.updateTimeFormat=function(e,t){var n=t.value;"custom"===n?a.setState({index:(0,r.default)({},a.state.index,{timeFormat:""}),selectedTimeFormat:n,updated:!0}):a.setState({index:(0,r.default)({},a.state.index,{timeFormat:n}),selectedTimeFormat:n,updated:!0})},a.updateCustomTimeFormat=function(e,t){var n=t.value;a.setState({index:(0,r.default)({},a.state.index,{timeFormat:n}),updated:!0})},a.updateProvider=function(e,t){var n=t.value,l=a.props.providers.find((function(e){return e.name===n})),d=void 0,i=a.state.index.dataSetObject;l.type===w.PROVIDER_TYPE.SPLUNK.value?d="index":(d="aws_glue_table",i=""),a.setState({index:(0,r.default)({},a.state.index,{providerName:n,dataSetType:d,dataSetObject:i,timeField:"",timeFormat:""}),providerType:l.type,glueTables:a.createGlueTableArray(l.awsGlueTablesAllowlist),explicitNoTimeField:!1,selectedTimeFormat:"",updated:!0})},a.updateDataSetType=function(e,t){var n=t.value;a.setState({index:(0,r.default)({},a.state.index,{dataSetType:n}),updated:!0})},a.updateDataSetObject=function(e,t){var n=t.value;a.setState({index:(0,r.default)({},a.state.index,{dataSetObject:n}),updated:!0})},a.validateIndexName=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.trim();return t?/^[a-zA-Z0-9]([a-zA-Z0-9_-]*)$/.test(t)?a.props.existingIndexNames.includes(t)?(0,u._)("A Federated Index already exists with this name. Federated Index Name must be unique"):null:(0,u._)("Index Names may contain only letters, numbers, underscores, or hyphens. They must begin with a letter or number."):(0,u._)("Federated Index Name must be defined")},a.validateProvider=function(e){return e?null:(0,u._)("A Federated Provider must be selected")},a.validateDataSetObject=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.trim();return t?/^[a-zA-Z0-9_]([a-zA-Z0-9_-]*)$/.test(t)?null:(0,u._)("Dataset Name may contain only letters, numbers, underscores, or hyphens. It must begin with a letter, number, or an underscore."):(0,u._)("Dataset Name must be defined")},a.validateTimeOptions=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=e.trim(),r=t.trim();return""===a&&""===r?(0,u._)("If this index does not have a time field, select Time Settings Not Required."):""===r?(0,u._)("If you select a time field you must also provide a time format."):""===a?(0,u._)("If you select a time format you must also provide a time field."):/^([a-z0-9_]*)$/.test(a)?null:(0,u._)("The time field may contain only lowercase letters, numbers, and underscores.")},a.validate=function(){var e=a.state.index,t=e.indexName,r=e.providerName,n=e.dataSetObject,l=e.timeField,d=e.timeFormat,i=[],o=void 0;return a.props.editMode||(o=a.validateIndexName(t))&&i.push(o),(o=a.validateProvider(r))&&i.push(o),(o=a.validateDataSetObject(n))&&i.push(o),a.state.providerType!==w.PROVIDER_TYPE.AWS_S3.value||a.state.explicitNoTimeField||(o=a.validateTimeOptions(l,d))&&i.push(o),i},a.addIndex=function(e){a.setState({saving:!0,errors:[]});var t=new x.default;t.setAttributes(e),t.save({},{success:function(){a.state.providerType===w.PROVIDER_TYPE.AWS_S3.value&&f.default.trackEvent({type:"awsS3Provider.interact",data:{action:"index.save",fromProviderWorkflow:!!a.props.providerName&&a.props.providerName===e.providerName}}),a.props.onSave()},error:function(e,t){var r=[];t.responseJSON&&t.responseJSON.messages&&t.responseJSON.messages[0]?r.push(t.responseJSON.messages[0].text):r.push((0,u._)("An error occurred trying to create the Federated Index")),a.setState({saving:!1,errors:r})}})},a.editIndex=function(e){a.setState({saving:!0,errors:[]}),a.props.index.updateAttributes(e),a.props.index.save({},{success:function(){a.props.onSave()},error:function(e,t){a.props.index.fetch().then((function(e,r){"success"===r&&Object.keys(a.props.index.entry.content.attributes).forEach((function(t){void 0===e.entry[0].content[t]&&(a.props.index.entry.content.attributes[t]=void 0)}));var n=[];t.responseJSON&&t.responseJSON.messages&&t.responseJSON.messages[0]?n.push(t.responseJSON.messages[0].text):n.push((0,u._)("An error occurred trying to update the Federated Index")),a.setState({saving:!1,errors:n})}))}})},a.submit=function(){a.setState({updated:!1});var e=a.validate();if(a.setState({errors:e}),!(e.length>0)){var t={indexName:a.state.index.indexName.trim(),providerName:a.state.index.providerName,dataSetType:a.state.index.dataSetType,dataSetObject:a.state.index.dataSetObject.trim()};a.state.providerType!==w.PROVIDER_TYPE.AWS_S3.value||a.state.explicitNoTimeField||(t.timeField=a.state.index.timeField.trim(),t.timeFormat=a.state.index.timeFormat.trim()),a.props.editMode?a.editIndex(t):a.addIndex(t)}},a.state={index:{indexName:"",providerName:e.providerName,dataSetType:"index",dataSetObject:"",timeField:"",timeFormat:""},providerType:"",glueTables:[],explicitNoTimeField:!1,selectedTimeFormat:"",errors:[],saving:!1,updated:!0},e.index&&(a.state.index=(0,r.default)({},a.state.index,{indexName:e.index.unprefixedName(),providerName:e.index.providerName(),dataSetType:e.index.dataSetType(),dataSetObject:e.index.dataSetObject(),timeField:e.index.timeField()?e.index.timeField():"",timeFormat:e.index.timeFormat()?e.index.timeFormat():""})),""!==a.state.index.providerName){var l=a.props.providers.find((function(e){return e.name===a.state.index.providerName}));l&&(a.state.providerType=l.type,l.type===w.PROVIDER_TYPE.AWS_S3.value&&(a.state.index.dataSetType="aws_glue_table",a.state.glueTables=a.createGlueTableArray(l.awsGlueTablesAllowlist)))}if(a.props.editMode)if(a.state.index.timeField){var i=w.TIME_FORMAT_OPTIONS.find((function(e){return e.value===a.state.index.timeFormat}));a.state.selectedTimeFormat=i?i.value:"custom"}else a.state.explicitNoTimeField=!0;return a.ref=o.default.createRef(),a}return(0,i.default)(t,e),(0,l.default)(t,[{key:"componentDidUpdate",value:function(e,t){this.state.errors.length>0&&this.state.errors!==t.errors&&this.ref.current&&this.ref.current.scrollIntoView()}},{key:"render",value:function(){var e=this.state.errors.map((function(e){return e?o.default.createElement(h.default,{key:e,type:"error"},e):null}));var t=(0,S.createDocsURL)("sds.index.timesettings");return o.default.createElement(o.default.Fragment,null,o.default.createElement(y.default.Body,null,o.default.createElement("div",{ref:this.ref},e),o.default.createElement(v.default,{level:3,style:{marginTop:0}},(0,u._)("Federated Index Details")),o.default.createElement(g.default,{style:{marginBottom:"1.5em"}},(0,u._)("Provide the name of an index that will be created locally on your federated search head. Identify the federated provider and remote dataset to which the index will map.")),o.default.createElement(m.default,{label:(0,u._)("Federated Index Name"),labelWidth:"220px"},this.props.editMode?o.default.createElement(I,null,this.state.index.indexName):o.default.createElement(_.default,{autoComplete:"off",value:this.state.index.indexName,onChange:this.updateIndexName,"data-test-name":"index-name-text"})),o.default.createElement(m.default,{label:(0,u._)("Federated Provider"),labelWidth:"220px"},this.props.editMode&&this.state.providerType===w.PROVIDER_TYPE.AWS_S3.value?o.default.createElement(I,null,this.state.index.providerName):o.default.createElement(b.default,{value:this.state.index.providerName,onChange:this.updateProvider,"data-test-name":"index-provider-select"},this.props.providers&&this.props.providers.map((function(e){return o.default.createElement(b.default.Option,{key:e.name,label:e.name+" ("+(t=e.type,a=(0,c.findKey)(w.PROVIDER_TYPE,{value:t}),(a?w.PROVIDER_TYPE[a].label:t)+")"),value:e.name});var t,a})))),o.default.createElement(m.default,{label:(0,u._)("Remote Dataset"),labelWidth:"220px",controsLayout:"none",help:"Identify a dataset on the selected federated provider."},o.default.createElement(m.default,{label:(0,u._)("Dataset Type"),labelPosition:"top",style:{width:"50%",marginBottom:0}},o.default.createElement(b.default,{value:this.state.index.dataSetType,onChange:this.updateDataSetType,disabled:this.props.editMode&&this.state.providerType===w.PROVIDER_TYPE.AWS_S3.value,"data-test-name":"index-dataset-select"},this.state.providerType===w.PROVIDER_TYPE.AWS_S3.value?o.default.createElement(b.default.Option,{key:N.label,label:N.label,value:N.value}):C.map((function(e){var t=e.label,a=e.value;return o.default.createElement(b.default.Option,{key:t,label:t,value:a})})))),o.default.createElement(m.default,{label:(0,u._)("Dataset Name"),labelPosition:"top",style:{width:"50%",marginBottom:0}},this.state.providerType===w.PROVIDER_TYPE.AWS_S3.value&&this.state.glueTables.length>0?o.default.createElement(b.default,{value:this.state.index.dataSetObject,filter:!0,onChange:this.updateDataSetObject,disabled:this.props.editMode,"data-test-name":"index-dataset-name-select"},this.state.glueTables.map((function(e){return o.default.createElement(b.default.Option,{key:e,label:e,value:e})}))):o.default.createElement(_.default,{autoComplete:"off",value:this.state.index.dataSetObject,onChange:this.updateDataSetObject,disabled:this.props.editMode&&this.state.providerType===w.PROVIDER_TYPE.AWS_S3.value,"data-test-name":"index-dataset-name-text"}))),this.state.providerType===w.PROVIDER_TYPE.AWS_S3.value?o.default.createElement(o.default.Fragment,null,o.default.createElement(v.default,{level:3,style:{marginTop:0}},(0,u._)("Time Settings")),o.default.createElement(g.default,null,(0,u._)("If the remote dataset contains time-series data and you want to use time-based functions and filtering when you search it, you must identify the Time Field in the data and provide a Time Format."),o.default.createElement(P.default,{"data-test-name":"time-format-learn-more-link",to:t,openInNewContext:!0,style:{marginLeft:"5px"}},(0,u._)("Learn more"))),o.default.createElement(m.default,{label:(0,u._)("Time Settings Not Required"),labelWidth:"220px",help:(0,u._)("Time settings are required when this checkbox is not selected.")},o.default.createElement(E.default,{selected:this.state.explicitNoTimeField,onClick:this.toggleExplicitNoTimeField,"data-test-name":"explicit-no-time-switch"})),o.default.createElement(m.default,{label:(0,u._)("Time Field"),labelWidth:"220px",help:(0,u._)("Provide a valid time field for this data, such as _time.")},o.default.createElement(_.default,{autoComplete:"off",value:this.state.index.timeField,onChange:this.updateTimeField,disabled:!!this.state.explicitNoTimeField,"data-test-name":"index-time-field-text"})),o.default.createElement(m.default,{label:(0,u._)("Time Format"),labelWidth:"220px",help:(0,u._)("Select a time format or provide a custom time format string.")},o.default.createElement(b.default,{value:this.state.selectedTimeFormat,onChange:this.updateTimeFormat,disabled:!!this.state.explicitNoTimeField,"data-test-name":"index-time-format-select"},w.TIME_FORMAT_OPTIONS.map((function(e){var t=e.label,a=e.value;return o.default.createElement(b.default.Option,{key:t,label:t,value:a})}))),"custom"===this.state.selectedTimeFormat?o.default.createElement(_.default,{autoComplete:"off",value:this.state.index.timeFormat,onChange:this.updateCustomTimeFormat,disabled:!!this.state.explicitNoTimeField,"data-test-name":"index-time-format-text"}):null)):null),o.default.createElement(y.default.Footer,null,o.default.createElement(p.default,{appearance:"secondary",onClick:this.props.close,label:(0,u._)("Cancel")}),o.default.createElement(p.default,{appearance:"primary",label:(0,u._)("Save"),onClick:this.submit,disabled:this.state.saving||!this.state.updated,"data-test-name":"save-button"})))}}]),t}(o.default.Component);function I(e){var t=e.children;return o.default.createElement("span",{className:"input-label"},t)}A.propTypes={close:s.default.func.isRequired,onSave:s.default.func.isRequired,providers:s.default.arrayOf(s.default.shape({name:s.default.string.isRequired,type:s.default.string.isRequired,awsGlueTablesAllowlist:s.default.string.isRequired}).isRequired).isRequired,existingIndexNames:s.default.arrayOf(s.default.string).isRequired,editMode:s.default.bool.isRequired,index:s.default.instanceOf(x.default),providerName:s.default.string},A.defaultProps={index:null,providerName:""},I.propTypes={children:s.default.node.isRequired}},"views/federated_search/Indexes":function(e,t,a){"use strict";a(1),Object.defineProperty(t,"__esModule",{value:!0});var r=b(a(11)),n=b(a(13)),l=b(a(15)),d=b(a(16)),i=b(a(0)),o=b(a(2)),s=a(7),u=b(a(20)),c=b(a(29)),f=b(a("collections/services/federated_search/FederatedIndexes")),p=b(a("collections/services/federated_search/FederatedProviders")),m=b(a("views/federated_search/IndexesTable")),v=b(a("views/federated_search/AddButton")),h=a("views/federated_search/IndexModal"),y=b(a("views/federated_search/DeleteIndexModal")),g=a("views/federated_search/FederatedSearch.constants");function b(e){return e&&e.__esModule?e:{default:e}}var _=function(e){function t(e){(0,r.default)(this,t);var a=(0,l.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.getProviders=function(){return a.props.providers.filter((function(e){return e.mode()===g.PROVIDER_MODE.STANDARD.value||e.type()===g.PROVIDER_TYPE.AWS_S3.value})).map((function(e){return{name:e.name(),type:e.type(),awsGlueTablesAllowlist:e.awsGlueTablesAllowlist()?e.awsGlueTablesAllowlist():""}})).sort((function(e,t){return e.name<t.name?-1:e.name>t.name?1:0}))},a.showAddIndex=function(){a.setState({showAddIndex:!0})},a.closeAddIndex=function(){a.setState({showAddIndex:!1,providerName:""})},a.showEditIndex=function(e){a.setState({showEditIndex:!0,indexToEdit:e})},a.closeEditIndex=function(){a.setState({showEditIndex:!1,indexToEdit:null})},a.showDeleteIndex=function(e){a.setState({showDeleteIndex:!0,indexToDelete:e})},a.closeDeleteIndexModal=function(){a.setState({showDeleteIndex:!1,indexToDelete:null})},a.deleteIndex=function(e){e.destroy().done((function(){a.setState({})}))},a.state={indexes:a.props.federatedIndexes,providerName:a.props.providerName,showAddIndex:a.props.providerName||!1,showEditIndex:!1,showDeleteIndex:!1,indexToDelete:null,indexToEdit:null,errorMsg:""},a}return(0,d.default)(t,e),(0,n.default)(t,[{key:"render",value:function(){var e=this,t=this.getProviders();return i.default.createElement(i.default.Fragment,null,this.state.showAddIndex&&i.default.createElement(h.AddIndexModal,{close:this.closeAddIndex,onSave:function(){e.state.indexes.fetch().then((function(){e.setState({errorMsg:""}),e.closeAddIndex()}))},providers:t,providerName:this.state.providerName,existingIndexNames:this.state.indexes.map((function(e){return e.unprefixedName()}))}),this.state.showEditIndex&&i.default.createElement(h.EditIndexModal,{close:this.closeEditIndex,onSave:function(){e.setState({indexes:e.state.indexes,errorMsg:""}),e.closeEditIndex()},providers:t,index:this.state.indexToEdit}),this.state.showDeleteIndex&&i.default.createElement(y.default,{close:this.closeDeleteIndexModal,indexName:this.state.indexToDelete.name(),onDelete:function(){e.deleteIndex(e.state.indexToDelete),e.closeDeleteIndexModal()}}),i.default.createElement(v.default,{label:(0,s._)("Add Federated Index"),appearance:"primary",onClick:this.showAddIndex}),this.state.errorMsg&&i.default.createElement(u.default,{type:"error"},this.state.errorMsg),0===this.state.indexes.length?i.default.createElement(c.default,{style:{textAlign:"center",marginTop:120,color:"#5c6773"},"data-test-name":"no-federated-indexes"},(0,s._)("No federated indexes")):i.default.createElement(m.default,{indexes:this.state.indexes.slice(),onEdit:this.showEditIndex,onDelete:this.showDeleteIndex,providers:t}))}}]),t}(i.default.Component);_.propTypes={providers:o.default.instanceOf(p.default).isRequired,providerName:o.default.string,federatedIndexes:o.default.instanceOf(f.default).isRequired},_.defaultProps={providerName:""},t.default=_,e.exports=t.default},"views/federated_search/IndexesTable":function(e,t,a){"use strict";a(1),Object.defineProperty(t,"__esModule",{value:!0});var r=f(a(0)),n=f(a(2)),l=a(7),d=f(a(47)),i=f(a(136)),o=f(a("views/federated_search/Table")),s=f(a("views/federated_search/FilterControl")),u=f(a("views/federated_search/PaginationControl")),c=a("views/federated_search/FederatedSearch.constants");function f(e){return e&&e.__esModule?e:{default:e}}var p={index:(0,l._)("Index"),savedsearch:(0,l._)("Saved Search"),aws_glue_table:(0,l._)("AWS Glue Table")},m=[{key:"name",label:(0,l._)("Federated Index Name"),sortable:!0,itemValue:function(e){return e.name()}},{key:"provider",label:(0,l._)("Federated Provider Name"),sortable:!0,itemValue:function(e){return e.providerName()}},{key:"datatype",label:(0,l._)("Dataset Type"),sortable:!0,itemValue:function(e){return p[e.dataSetType()]||e.dataSetType()}},{key:"dataset",label:(0,l._)("Dataset Name"),sortable:!0,itemValue:function(e){return e.dataSetObject()}}],v=function(e,t){return[e.unprefixedName(),e.providerName(),p[e.dataSetType()],e.dataSetObject()].join("\n").toLowerCase().includes(t.toLowerCase())};function h(e){var t=function(t){var a=e.providers.find((function(e){return e.name===t.providerName()}));if((a?a.type:"")===c.PROVIDER_TYPE.AWS_S3.value){var n=c.TIME_FORMAT_OPTIONS.find((function(e){return e.value===t.timeFormat()})),o=n?n.label:t.timeFormat();return r.default.createElement(d.default.Row,{key:t.name()+"-expansion"},r.default.createElement(d.default.Cell,{style:{borderTop:"none"},colSpan:7},r.default.createElement(i.default,{termWidth:150},r.default.createElement(i.default.Term,null,(0,l._)("Time Field")),r.default.createElement(i.default.Description,{style:{whiteSpace:"pre-wrap"}},t.timeField()),r.default.createElement(i.default.Term,null,(0,l._)("Time Format")),r.default.createElement(i.default.Description,{style:{whiteSpace:"pre-wrap"}},o))))}return null};return r.default.createElement(s.default,{items:e.indexes,predicate:v,nextElm:function(a,n){return r.default.createElement(u.default,{items:a,filterBox:n,toTableElm:function(a){return r.default.createElement(o.default,{columns:m,items:a,onEdit:e.onEdit,onDelete:e.onDelete,defaultSortKey:"name",getExpansion:t})}})}})}h.propTypes={indexes:n.default.arrayOf(n.default.shape({name:n.default.func.isRequired,providerName:n.default.func.isRequired,dataSetType:n.default.func.isRequired,dataSetObject:n.default.func.isRequired,timeField:n.default.func.isRequired,timeFormat:n.default.func.isRequired})).isRequired,providers:n.default.arrayOf(n.default.shape({name:n.default.string.isRequired,type:n.default.string.isRequired}).isRequired).isRequired,onEdit:n.default.func.isRequired,onDelete:n.default.func.isRequired},t.default=h,e.exports=t.default},"views/federated_search/LicensePage":function(e,t,a){"use strict";a(1),Object.defineProperty(t,"__esModule",{value:!0});var r=m(a(55)),n=(0,r.default)(["\n    width: 100%;\n    text-align: center;\n    margin-top: 10%;\n"],["\n    width: 100%;\n    text-align: center;\n    margin-top: 10%;\n"]),l=(0,r.default)(["\n    color: ",";\n    padding-left: 30%;\n    padding-right: 30%;\n"],["\n    color: ",";\n    padding-left: 30%;\n    padding-right: 30%;\n"]),d=m(a(0)),i=m(a(2)),o=m(a(9)),s=a(7),u=m(a(22)),c=m(a(52)),f=a(26),p=m(a("views/federated_search/PageHeader"));function m(e){return e&&e.__esModule?e:{default:e}}var v=o.default.div(n),h=o.default.p(l,"#5c6773"),y=function(e){var t=e.status;return d.default.createElement("div",null,d.default.createElement(p.default,null),d.default.createElement(v,null,"loading"===t?d.default.createElement(g,null):d.default.createElement(_,null)))},g=function(){return d.default.createElement(d.default.Fragment,null,d.default.createElement("h2",{style:{color:"#5c6773"}},(0,s._)("Checking distributed environment health")),d.default.createElement(c.default,{"data-test-name":"checking-license-spinner",size:"medium"}))},b=(0,f.createDocsURL)("dfs.enabledfs_editconfigfile"),_=function(){return d.default.createElement(h,null,d.default.createElement("span",{style:{marginRight:"0.5em"}},(0,s._)("Enable Federated search by changing the “disabled” field to “false”\n                    in the [federated_search] stanza of the server.conf configuration file.")),d.default.createElement(u.default,{to:b,openInNewContext:!0,"data-test-name":"license-learn-more-link"},(0,s._)("Learn more")))};y.propTypes={status:i.default.oneOf(["loading","success"]).isRequired},t.default=y,e.exports=t.default},"views/federated_search/PageHeader":function(e,t,a){"use strict";a(1),Object.defineProperty(t,"__esModule",{value:!0});var r=f(a(55)),n=(0,r.default)(["\n    padding: 15px 20px 5px 20px;\n    margin-top: 0;\n    margin-bottom: 0;\n    font-weight: 500;\n"],["\n    padding: 15px 20px 5px 20px;\n    margin-top: 0;\n    margin-bottom: 0;\n    font-weight: 500;\n"]),l=(0,r.default)(["\n    padding: 0 20px 0;\n    width: 60%;\n    margin-bottom: 20px;\n"],["\n    padding: 0 20px 0;\n    width: 60%;\n    margin-bottom: 20px;\n"]),d=(0,r.default)(["\n    margin-right: 0.5em;\n"],["\n    margin-right: 0.5em;\n"]),i=f(a(0)),o=f(a(9)),s=a(26),u=a(7),c=f(a(22));function f(e){return e&&e.__esModule?e:{default:e}}var p=(0,s.createDocsURL)("learnmore.federated.search"),m=o.default.h1(n),v=o.default.div(l),h=o.default.span(d);t.default=function(){return i.default.createElement(i.default.Fragment,null,i.default.createElement(m,null,(0,u._)("Federated search")),i.default.createElement(v,{"data-test-name":"page-header"},i.default.createElement(h,null,(0,u._)("Conducts searches and joins across multiple federated providers.")),i.default.createElement(c.default,{"data-test-name":"federated-search-learn-more-link",to:p,openInNewContext:!0},(0,u._)("Learn more"))))},e.exports=t.default},"views/federated_search/PaginationControl":function(e,t,a){"use strict";a(1),Object.defineProperty(t,"__esModule",{value:!0});var r=g(a(55)),n=g(a(11)),l=g(a(13)),d=g(a(15)),i=g(a(16)),o=(0,r.default)(["\n    display: flex;\n    justify-content: space-between;\n    margin: 10px 20px;\n"],["\n    display: flex;\n    justify-content: space-between;\n    margin: 10px 20px;\n"]),s=(0,r.default)(["\n    margin-top: 8px;\n    min-width: 160px;\n"],["\n    margin-top: 8px;\n    min-width: 160px;\n"]),u=(0,r.default)(["\n    display: flex;\n    flex-direction: column;\n    align-items: flex-end;\n    justify-content: space-evenly;\n"],["\n    display: flex;\n    flex-direction: column;\n    align-items: flex-end;\n    justify-content: space-evenly;\n"]),c=g(a(0)),f=g(a(9)),p=g(a(2)),m=a(7),v=g(a(513)),h=g(a(39)),y=a(28);function g(e){return e&&e.__esModule?e:{default:e}}var b=function(e){function t(e){(0,n.default)(this,t);var a=(0,d.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.paginateItems=function(){return a.props.items.slice(a.state.recordsPerPage*(a.state.currentPage-1),a.state.recordsPerPage*a.state.currentPage)},a.handleChangePage=function(e,t){var r=t.page;a.setState({currentPage:r})},a.handleChangeRows=function(e,t){var r=t.value;a.setState({recordsPerPage:r,currentPage:1})},a.state={currentPage:1,recordsPerPage:10},a}return(0,i.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=Math.ceil(this.props.items.length/this.state.recordsPerPage);return c.default.createElement(c.default.Fragment,null,c.default.createElement(_,null,c.default.createElement(E,{"data-test-name":"row-count"},(0,y.sprintf)((0,m._)("%(count)s Items"),{count:this.props.items.length})),this.props.filterBox,c.default.createElement(x,null,c.default.createElement(h.default,{style:{maxWidth:"160px",marginBottom:"4px"},value:this.state.recordsPerPage,appearance:"pill",onChange:this.handleChangeRows},[10,20,50,100].map((function(e){return c.default.createElement(h.default.Option,{key:e+"-rows",label:(0,m._)(e+" per page"),value:e})}))),c.default.createElement(v.default,{onChange:this.handleChangePage,current:this.state.currentPage,alwaysShowLastPageLink:!0,totalPages:e}))),this.props.toTableElm(this.paginateItems()))}}]),t}(c.default.Component),_=f.default.div(o),E=f.default.div(s),x=f.default.div(u);b.propTypes={filterBox:p.default.element.isRequired,items:p.default.array.isRequired,toTableElm:p.default.func.isRequired},t.default=b,e.exports=t.default},"views/federated_search/ProviderModal":function(e,t,a){"use strict";a(1),Object.defineProperty(t,"__esModule",{value:!0});var r=E(a(11)),n=E(a(13)),l=E(a(15)),d=E(a(16));t.AddProviderModal=P,t.EditProviderModal=S;var i=E(a(0)),o=E(a(2)),s=a(7),u=E(a("shim/splunk.util")),c=E(a(2424)),f=E(a(2425)),p=E(a(14)),m=E(a(24)),v=E(a(263)),h=E(a(135)),y=E(a("models/services/federated_search/FederatedProvider")),g=E(a("views/federated_search/SplunkProviderModal")),b=E(a("views/federated_search/AWSS3ProviderModal")),_=a("views/federated_search/FederatedSearch.constants");function E(e){return e&&e.__esModule?e:{default:e}}var x=[{label:_.PROVIDER_TYPE.SPLUNK.label,value:_.PROVIDER_TYPE.SPLUNK.value,description:(0,s._)("Designate Splunk as a remote data source and supply requirements for secure data transfer.")},{label:_.PROVIDER_TYPE.AWS_S3.label,subtitle:(0,s._)("(Preview)"),value:_.PROVIDER_TYPE.AWS_S3.value,description:(0,s._)("Designate AWS S3 as a remote data source and supply requirements for secure data transfer.")}];function P(e){return i.default.createElement(w,{close:e.close,onSave:e.onSave,existingProviderNames:e.existingProviderNames,goToCreateIndex:e.goToCreateIndex,sdsEnabled:e.sdsEnabled})}function S(e){return i.default.createElement(w,{close:e.close,onSave:e.onSave,editMode:!0,existingProviderNames:[],provider:e.provider,sdsEnabled:e.sdsEnabled})}P.propTypes={close:o.default.func.isRequired,onSave:o.default.func.isRequired,existingProviderNames:o.default.arrayOf(o.default.string).isRequired,goToCreateIndex:o.default.func.isRequired,sdsEnabled:o.default.bool.isRequired},S.propTypes={close:o.default.func.isRequired,onSave:o.default.func.isRequired,provider:o.default.instanceOf(y.default).isRequired,sdsEnabled:o.default.bool.isRequired};var w=function(e){function t(e){(0,r.default)(this,t);var a=(0,l.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.selectProviderType=function(e,t){var r=t.value;a.setState({selectedProviderType:r})},a.submit=function(){a.state.selectedProviderType===_.PROVIDER_TYPE.AWS_S3.value&&u.default.trackEvent({type:"awsS3Provider.interact",data:{action:"provider.open"}}),a.setState({confirmedProviderType:a.state.selectedProviderType})},a.addProvider=function(e,t){a.setState({saving:!0,errors:[]});var r=new y.default;r.setAttributes(e),r.save({},{success:function(){a.props.onSave(),a.setState({saving:!1,errors:[]}),t()},error:function(e,t){var r=[];t.responseJSON&&t.responseJSON.messages&&t.responseJSON.messages[0]?r.push(t.responseJSON.messages[0].text):r.push((0,s._)("An error occurred trying to create the Federated Provider")),a.setState({saving:!1,errors:r})}})},a.editProvider=function(e){a.setState({saving:!0,errors:[]}),a.props.provider.updateAttributes(e),a.props.provider.save({},{success:function(){a.props.onSave()},error:function(e,t){a.props.provider.fetch().then((function(e,r){"success"===r&&Object.keys(a.props.provider.entry.content.attributes).forEach((function(t){void 0===e.entry[0].content[t]&&(a.props.provider.entry.content.attributes[t]=void 0)}));var n=[];t.responseJSON&&t.responseJSON.messages&&t.responseJSON.messages[0]?n.push(t.responseJSON.messages[0].text):n.push((0,s._)("An error occurred trying to update the Federated Provider")),a.setState({saving:!1,errors:n})}))}})},a.clearErrors=function(){a.setState({errors:[]})},a.state={selectedProviderType:"",confirmedProviderType:"",saving:!1,errors:[]},a.props.provider&&(a.state.confirmedProviderType=a.props.provider.type()),a.props.sdsEnabled||(a.state.confirmedProviderType=_.PROVIDER_TYPE.SPLUNK.value),a}return(0,d.default)(t,e),(0,n.default)(t,[{key:"render",value:function(){var e=this;return this.state.confirmedProviderType===_.PROVIDER_TYPE.SPLUNK.value?i.default.createElement(m.default,{style:{width:"760px"},onRequestClose:this.props.close,open:!0},i.default.createElement(m.default.Header,{title:this.props.editMode?(0,s._)("Edit Federated Splunk Provider"):(0,s._)("Add Federated Splunk Provider"),onRequestClose:this.props.close}),i.default.createElement(g.default,{close:this.props.close,addProvider:this.addProvider,editProvider:this.editProvider,clearErrors:this.clearErrors,existingProviderNames:this.props.existingProviderNames,editMode:this.props.editMode,provider:this.props.provider,saving:this.state.saving,errors:this.state.errors})):this.state.confirmedProviderType===_.PROVIDER_TYPE.AWS_S3.value?i.default.createElement(m.default,{style:{width:"760px"},onRequestClose:this.props.close,open:!0},i.default.createElement(m.default.Header,{title:this.props.editMode?(0,s._)("Edit Amazon Web Services S3 Provider"):(0,s._)("Add Amazon Web Services S3 Provider"),onRequestClose:this.props.close}),i.default.createElement(b.default,{close:this.props.close,addProvider:this.addProvider,editProvider:this.editProvider,clearErrors:this.clearErrors,goToCreateIndex:this.props.goToCreateIndex,existingProviderNames:this.props.existingProviderNames,editMode:this.props.editMode,provider:this.props.provider,saving:this.state.saving,errors:this.state.errors})):i.default.createElement(m.default,{style:{width:"760px"},onRequestClose:this.props.close,open:!0},i.default.createElement(m.default.Header,{title:this.props.editMode?(0,s._)("Edit Federated Provider"):(0,s._)("Add Federated Provider"),onRequestClose:this.props.close}),i.default.createElement(m.default.Body,null,i.default.createElement(v.default,{cardWidth:300,gutterSize:20},x.map((function(t){return i.default.createElement(h.default,{key:t.value,onClick:e.selectProviderType,value:t.value,selected:e.state.selectedProviderType===t.value,style:{minHeight:200},"data-test-name":t.value+"-card"},i.default.createElement(h.default.Header,{title:t.label,subtitle:t.subtitle?t.subtitle:null,actionPrimary:e.state.selectedProviderType===t.value?i.default.createElement(c.default,null):i.default.createElement(f.default,null)}),i.default.createElement(h.default.Body,null,t.description),i.default.createElement(h.default.Footer,{showBorder:!1}))})))),i.default.createElement(m.default.Footer,null,i.default.createElement(p.default,{appearance:"secondary",onClick:this.props.close,label:(0,s._)("Cancel"),"data-test-name":"provider-cancel-btn"}),i.default.createElement(p.default,{appearance:"primary",label:(0,s._)("Next"),onClick:this.submit,disabled:""===this.state.selectedProviderType,"data-test-name":"provider-next-btn"})))}}]),t}(i.default.Component);w.propTypes={close:o.default.func.isRequired,onSave:o.default.func.isRequired,goToCreateIndex:o.default.func,sdsEnabled:o.default.bool.isRequired,existingProviderNames:o.default.arrayOf(o.default.string).isRequired,editMode:o.default.bool,provider:o.default.instanceOf(y.default)},w.defaultProps={provider:null,goToCreateIndex:function(){},editMode:!1}},"views/federated_search/Providers":function(e,t,a){"use strict";a(1),Object.defineProperty(t,"__esModule",{value:!0});var r=g(a(11)),n=g(a(13)),l=g(a(15)),d=g(a(16)),i=g(a(0)),o=g(a(2)),s=a(7),u=g(a(20)),c=g(a(29)),f=a(12),p=g(a("collections/services/federated_search/FederatedProviders")),m=g(a("views/federated_search/AddButton")),v=a("views/federated_search/ProviderModal"),h=g(a("views/federated_search/DeleteProviderModal")),y=g(a("views/federated_search/ProvidersTable"));function g(e){return e&&e.__esModule?e:{default:e}}var b=(0,s._)("An error occurred trying to delete the Federated Provider."),_=function(e){function t(e){(0,r.default)(this,t);var a=(0,l.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showAddProvider=function(){a.setState({showAddProvider:!0,errorMsg:""})},a.closeAddProvider=function(){a.setState({showAddProvider:!1})},a.showEditProvider=function(e){a.setState({showEditProvider:!0,providerToEdit:e,errorMsg:""})},a.closeEditProvider=function(){a.setState({showEditProvider:!1,providerToEdit:null})},a.showDeleteProvider=function(e){a.setState({showDeleteProvider:!0,providerToDelete:e,errorMsg:""})},a.closeDeleteProvider=function(){a.setState({showDeleteProvider:!1,providerToDelete:null})},a.deleteProvider=function(e){e.destroy({wait:!0}).done((function(){a.setState({providers:a.state.providers,errorMsg:""})})).fail((function(e){var t=(0,f.get)(e,"responseJSON.messages[0]",{}),r=t.type,n=t.text,l=void 0===n?"":n;"ERROR"===r&&a.setState({errorMsg:b+" "+l})}))},a.state={providers:a.props.providers,showAddProvider:!1,showEditProvider:!1,showDeleteProvider:!1,providerToDelete:null,providerToEdit:null,errorMsg:""},a}return(0,d.default)(t,e),(0,n.default)(t,[{key:"render",value:function(){var e=this;return i.default.createElement(i.default.Fragment,null,this.state.showAddProvider&&i.default.createElement(v.AddProviderModal,{close:this.closeAddProvider,onSave:function(){e.state.providers.fetch().then((function(){e.setState({providers:e.state.providers})}))},goToCreateIndex:this.props.goToCreateIndex,sdsEnabled:this.props.sdsEnabled,providers:this.props.providers,existingProviderNames:this.state.providers.map((function(e){return e.name()})),errMsg:this.state.errorMsg}),this.state.showEditProvider&&i.default.createElement(v.EditProviderModal,{close:this.closeEditProvider,provider:this.state.providerToEdit,onSave:function(){e.setState({providers:e.state.providers}),e.closeEditProvider()},sdsEnabled:this.props.sdsEnabled,providers:this.props.providers,errMsg:this.state.errorMsg}),this.state.showDeleteProvider&&i.default.createElement(h.default,{close:this.closeDeleteProvider,providerName:this.state.providerToDelete.name(),onDelete:function(){e.deleteProvider(e.state.providerToDelete),e.closeDeleteProvider()}}),i.default.createElement(m.default,{label:(0,s._)("Add Federated Provider"),appearance:"primary",onClick:this.showAddProvider}),this.state.errorMsg&&i.default.createElement(u.default,{type:"error"},this.state.errorMsg),0===this.state.providers.length?i.default.createElement(c.default,{style:{textAlign:"center",marginTop:120,color:"#5c6773"},"data-test-name":"no-federated-providers"},(0,s._)("No federated providers")):i.default.createElement(y.default,{providers:this.state.providers.slice(0),onEdit:this.showEditProvider,onDelete:this.showDeleteProvider}))}}]),t}(i.default.Component);_.propTypes={providers:o.default.instanceOf(p.default).isRequired,goToCreateIndex:o.default.func.isRequired,sdsEnabled:o.default.bool.isRequired},t.default=_,e.exports=t.default},"views/federated_search/ProvidersTable":function(e,t,a){"use strict";a(1),Object.defineProperty(t,"__esModule",{value:!0});var r=v(a(0)),n=v(a(2)),l=a(12),d=a(7),i=v(a(47)),o=v(a(136)),s=v(a(38)),u=v(a("views/federated_search/Table")),c=v(a("views/federated_search/FilterControl")),f=v(a("views/federated_search/PaginationControl")),p=a("views/federated_search/FederatedUtils"),m=a("views/federated_search/FederatedSearch.constants");function v(e){return e&&e.__esModule?e:{default:e}}function h(e){var t=(0,l.findKey)(m.PROVIDER_TYPE,{value:e.type()});return t?m.PROVIDER_TYPE[t].label:e.type()}var y=[{key:"name",label:(0,d._)("Federated Provider Name"),sortable:!0,itemValue:function(e){return e.name()}},{key:"type",label:(0,d._)("Federated Provider Type"),sortable:!0,itemValue:h}],g=function(e,t){return[e.name(),h(e),e.remoteHost(),e.userName(),e.applicationName()].join("\n").toLowerCase().includes(t.toLowerCase())},b=function(e){if(e.type()===m.PROVIDER_TYPE.SPLUNK.value)return r.default.createElement(i.default.Row,{key:e.name()+"-expansion"},r.default.createElement(i.default.Cell,{style:{borderTop:"none"},colSpan:7},r.default.createElement("div",null,r.default.createElement(s.default,{level:"s"},(0,d._)("PROVIDER DETAILS"))),r.default.createElement(o.default,{termWidth:240},r.default.createElement(o.default.Term,null,(0,d._)("Federated Provider Mode")),r.default.createElement(o.default.Description,{style:{whiteSpace:"pre-wrap"}},(n=e,(u=(0,l.findKey)(m.PROVIDER_MODE,{value:n.mode()}))?m.PROVIDER_MODE[u].label:"-")),r.default.createElement(o.default.Term,null,(0,d._)("Remote Host")),r.default.createElement(o.default.Description,{style:{whiteSpace:"pre-wrap"}},e.remoteHost()),r.default.createElement(o.default.Term,null,(0,d._)("Service Account Username")),r.default.createElement(o.default.Description,{style:{whiteSpace:"pre-wrap"}},e.userName()),r.default.createElement(o.default.Term,null,(0,d._)("Application Short Name")),r.default.createElement(o.default.Description,{style:{whiteSpace:"pre-wrap"}},(0,p.isTransparentMode)(e.mode())?(0,d._)("N/A"):e.applicationName()))));if(e.type()===m.PROVIDER_TYPE.AWS_S3.value){var t=e.awsGlueTablesAllowlist()?e.awsGlueTablesAllowlist().split(","):[],a=e.awsS3PathsAllowlist()?e.awsS3PathsAllowlist().split(","):[];return r.default.createElement(i.default.Row,{key:e.name()+"-expansion","data-test":e.name()+"-expanded-row"},r.default.createElement(i.default.Cell,{style:{borderTop:"none"},colSpan:7},r.default.createElement("div",null,r.default.createElement(s.default,{level:"s"},(0,d._)("PROVIDER DETAILS"))),r.default.createElement(o.default,{termWidth:240},r.default.createElement(o.default.Term,null,(0,d._)("AWS Account ID")),r.default.createElement(o.default.Description,{style:{whiteSpace:"pre-wrap"}},e.AwsAccountId()),r.default.createElement(o.default.Term,null,(0,d._)("AWS Region")),r.default.createElement(o.default.Description,{style:{whiteSpace:"pre-wrap"}},e.AwsRegion()),r.default.createElement(o.default.Term,null,(0,d._)("AWS Glue Database Name")),r.default.createElement(o.default.Description,{style:{whiteSpace:"pre-wrap"}},e.database()),r.default.createElement(o.default.Term,null,(0,d._)("AWS Data Catalog")),r.default.createElement(o.default.Description,{style:{whiteSpace:"pre-wrap"}},e.dataCatalog()),r.default.createElement(o.default.Term,null,(0,d._)("AWS Glue Table List")),0===t.length?r.default.createElement(o.default.Description,{style:{whiteSpace:"pre-wrap"}}):t.map((function(e){return r.default.createElement(o.default.Description,{key:e,style:{whiteSpace:"pre-wrap"}},e)})),r.default.createElement(o.default.Term,null,(0,d._)("AWS S3 Location List")),0===a.length?r.default.createElement(o.default.Description,{style:{whiteSpace:"pre-wrap"}}):a.map((function(e){return r.default.createElement(o.default.Description,{key:e,style:{whiteSpace:"pre-wrap"}},e)})))))}var n,u;return null};function _(e){return r.default.createElement(c.default,{items:e.providers,predicate:g,nextElm:function(t,a){return r.default.createElement(f.default,{items:t,filterBox:a,toTableElm:function(t){return r.default.createElement(u.default,{columns:y,items:t,onEdit:e.onEdit,onDelete:e.onDelete,defaultSortKey:"name",getExpansion:b})}})}})}_.propTypes={providers:n.default.arrayOf(n.default.shape({name:n.default.func.isRequired,type:n.default.func.isRequired,remoteHost:n.default.func.isRequired,userName:n.default.func.isRequired,applicationName:n.default.func.isRequired})).isRequired,onEdit:n.default.func.isRequired,onDelete:n.default.func.isRequired},t.default=_,e.exports=t.default},"views/federated_search/SplunkProviderModal":function(e,t,a){"use strict";a(1),Object.defineProperty(t,"__esModule",{value:!0});var r=O(a(61)),n=O(a(10)),l=O(a(11)),d=O(a(13)),i=O(a(15)),o=O(a(16)),s=O(a(0)),u=O(a(2)),c=a(7),f=a(26),p=a(12),m=O(a(14)),v=O(a(18)),h=O(a(38)),y=O(a(22)),g=O(a(20)),b=O(a(24)),_=O(a(29)),E=O(a(32)),x=O(a(23)),P=O(a(102)),S=O(a("models/services/federated_search/FederatedProvider")),w=a("views/federated_search/FederatedUtils"),T=a("views/federated_search/FederatedSearch.constants");function O(e){return e&&e.__esModule?e:{default:e}}var R=[{label:T.PROVIDER_MODE.STANDARD.label,value:T.PROVIDER_MODE.STANDARD.value},{label:T.PROVIDER_MODE.TRANSPARENT.label,value:T.PROVIDER_MODE.TRANSPARENT.value}],C=/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,N=/^(([A-Za-z0-9]|[A-Za-z0-9][A-Za-z0-9-]*[A-Za-z0-9])\.)*([A-Za-z0-9]|[A-Za-z0-9][A-Za-z0-9-]*[A-Za-z0-9])$/,A="success",I="error",D=(0,c._)("Error with the connection."),k=function(e){var t=e.type,a=e.text;if("INFO"===t)return(0,c._)("Connection successful.");switch(a){case"NetworkConnectionError":return(0,c._)("Unable to connect to remote provider. Please check the remote host and port are correct.");case"UnauthorizedError":return(0,c._)("Unable to connect to remote provider. Please check the credentials are correct.");case"BadProviderData":case"RemoteRestError":case"ResponseParseError":default:return D}},F=function(e){function t(e){(0,l.default)(this,t);var a=(0,i.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.getDefaultStateForTestConnectionMessage=function(){return{type:A,message:""}},a.getTestConnectionResult=function(){var e=a.state.testConnectionMessage,t=e.type,r=e.message;return r?s.default.createElement(g.default,{type:t},r):null},a.isTestConnectionBtnDisabled=function(){var e=a.state,t=e.isProcessingTestConnection,r=e.provider,n=r.providerName,l=r.remoteHost,d=r.userName,i=r.password;return!n||!l||!d||!i&&!a.props.editMode||t},a.updateProviderName=function(e,t){var r=t.value;a.setState({provider:(0,n.default)({},a.state.provider,{providerName:r}),updated:!0})},a.updateRemoteHost=function(e,t){var r=t.value;a.setState({provider:(0,n.default)({},a.state.provider,{remoteHost:r}),updated:!0})},a.updateUserName=function(e,t){var r=t.value;a.setState({provider:(0,n.default)({},a.state.provider,{userName:r}),updated:!0})},a.updatePassword=function(e,t){var r=t.value;a.setState({provider:(0,n.default)({},a.state.provider,{password:r}),updated:!0})},a.updateApplicationName=function(e,t){var r=t.value;a.setState({provider:(0,n.default)({},a.state.provider,{applicationName:r}),updated:!0})},a.updateMode=function(e,t){var r=t.value;a.props.editMode||a.setState({provider:(0,n.default)({},a.state.provider,{mode:r,applicationName:(0,w.isTransparentMode)(r)?"":a.state.provider.applicationName}),updated:!0})},a.toggleAgreeWarningConsent=function(){a.setState((function(e){return{provider:(0,n.default)({},a.state.provider,{agreeWarningConsent:!e.provider.agreeWarningConsent}),updated:!0}}))},a.validateRemoteHost=function(e){if(!e)return(0,c._)("A Remote Host must be defined");var t=e.split(":"),a=(0,r.default)(t,2),n=a[0],l=a[1];return N.test(n)||C.test(n)?l&&Number(l)>0&&Number(l)<65536?null:(0,c._)("Invalid port for Remote Host"):(0,c._)("Invalid host name or IP address for Remote Host")},a.validateUserName=function(e){return e&&e.trim()?null:(0,c._)("Service Account Username must be defined")},a.validatePassword=function(e){return e?null:(0,c._)("Service Account Password must be defined")},a.validate=function(){var e=a.state.provider,t=e.providerName,r=e.remoteHost,n=e.userName,l=e.password,d=[],i=void 0;return a.props.editMode||(i=(0,w.validateProviderName)(t,a.props.existingProviderNames))&&d.push(i),(i=a.validateRemoteHost(r))&&d.push(i),(i=a.validateUserName(n))&&d.push(i),a.props.editMode||(i=a.validatePassword(l))&&d.push(i),d},a.submit=function(){a.props.clearErrors(),a.setState({testConnectionMessage:a.getDefaultStateForTestConnectionMessage(),updated:!1});var e=a.validate();a.setState({errors:e}),e.length>0||(a.props.editMode?a.props.editProvider(a.state.provider):a.props.addProvider(a.state.provider,a.props.close))},a.handleTestConnectionClick=function(){if(a.props.clearErrors(),!a.isTestConnectionBtnDisabled()){a.setState({testConnectionMessage:a.getDefaultStateForTestConnectionMessage(),isProcessingTestConnection:!0});var e=a.props.editMode?a.props.provider:new S.default;a.props.editMode?e.updateAttributes(a.state.provider,!0):e.setAttributes(a.state.provider,!0),e.save({},{wait:!0,success:function(e,t){var r=(0,p.get)(t,"messages[0]",{});(0,p.isEmpty)(r)?a.setState({isProcessingTestConnection:!1}):a.setState({testConnectionMessage:{type:"INFO"===r.type?A:I,message:k(r)},isProcessingTestConnection:!1})},error:function(e,t){var r=(0,p.get)(t,"responseJSON.messages[0].text",D);a.setState({testConnectionMessage:{type:I,message:r},isProcessingTestConnection:!1})}})}},a.state={provider:{providerName:"",remoteHost:"",userName:"",password:"",applicationName:"",mode:T.PROVIDER_MODE.STANDARD.value,agreeWarningConsent:!1},errors:[],testConnectionMessage:a.getDefaultStateForTestConnectionMessage(),isProcessingTestConnection:!1,updated:!0},e.provider&&(a.state.provider=(0,n.default)({},a.state.provider,{providerName:e.provider.name(),type:e.provider.type(),remoteHost:e.provider.remoteHost(),userName:e.provider.userName(),password:"",applicationName:e.provider.applicationName(),mode:e.provider.mode()||T.PROVIDER_MODE.STANDARD.value})),a.ref=s.default.createRef(),a}return(0,o.default)(t,e),(0,d.default)(t,[{key:"componentDidUpdate",value:function(e,t){this.state.errors.length>0&&this.state.errors!==t.errors&&this.ref.current&&this.ref.current.scrollIntoView(),this.props.errors.length>0&&this.props.errors!==e.errors&&this.ref.current&&this.ref.current.scrollIntoView()}},{key:"render",value:function(){var e=this.props.errors.concat(this.state.errors).map((function(e){return e?s.default.createElement(g.default,{key:e,"data-test-name":"error",type:"error"},e):null}));return s.default.createElement(s.default.Fragment,null,s.default.createElement(b.default.Body,null,s.default.createElement("div",{ref:this.ref},e),this.getTestConnectionResult(),s.default.createElement(h.default,{level:3,style:{marginTop:0}},(0,c._)("Federated Provider Details")),s.default.createElement(_.default,{style:{marginBottom:"1.5em"}},(0,c._)("Designate a remote data source as a federated provider and supply requirements for secure data transfer.")),s.default.createElement(v.default,{label:(0,c._)("Provider Mode"),labelWidth:"220px",help:s.default.createElement(s.default.Fragment,null,(0,c._)("You cannot change this provider mode selection after you save the federated provider definition. "),s.default.createElement(y.default,{to:(0,f.createDocsURL)("learnmore.federated.providermode"),openInNewContext:!0},(0,c._)("Learn more")))},s.default.createElement(P.default,{direction:"row",value:this.state.provider.mode,disabled:!!this.props.editMode,onChange:this.updateMode,"data-test-name":"radio-list-mode"},R.map((function(e){var t=e.label,a=e.value;return s.default.createElement(P.default.Option,{key:a,value:a},t)})))),s.default.createElement(v.default,{label:(0,c._)("Provider Name"),labelWidth:"220px"},this.props.editMode?s.default.createElement(M,null,this.state.provider.providerName):s.default.createElement(x.default,{autoComplete:"off",value:this.state.provider.providerName,onChange:this.updateProviderName,"data-test-name":"provider-name-text"})),s.default.createElement(v.default,{label:(0,c._)("Remote Host"),labelWidth:"220px",help:(0,c._)("Enter host name with port number or IP address with port number. Example: buttercup.splunkcloud.com:8089 or 127.0.0.1:8089")},s.default.createElement(x.default,{autoComplete:"off",value:this.state.provider.remoteHost,onChange:this.updateRemoteHost,"data-test-name":"provider-host-text"})),s.default.createElement(v.default,{label:(0,c._)("Service Account Username"),labelWidth:"220px"},s.default.createElement(x.default,{autoComplete:"off",value:this.state.provider.userName,onChange:this.updateUserName,"data-test-name":"provider-service-user-text"})),s.default.createElement(v.default,{label:(0,c._)("Service Account Password"),labelWidth:"220px"},s.default.createElement(x.default,{autoComplete:"off",type:"password",value:this.state.provider.password,onChange:this.updatePassword,placeholder:this.props.editMode?(0,c._)("Optional. Set to update password."):"","data-test-name":"provider-service-pwd-text"})),!(0,w.isTransparentMode)(this.state.provider.mode)&&s.default.createElement(v.default,{label:(0,c._)("Application Short Name"),labelWidth:"220px",help:(0,c._)("Set the application context for federated searches on this provider. Defaults to the Search & Reporting application.")},s.default.createElement(x.default,{value:this.state.provider.applicationName,onChange:this.updateApplicationName,placeholder:(0,c._)("Search"),"data-test-name":"provider-shortname-text"})),s.default.createElement(v.default,{label:(0,c._)("Warning and Consent"),labelWidth:"220px",help:s.default.createElement(s.default.Fragment,null,(0,c._)("By using the Federated Search feature you acknowledge and agree that the deployment initiating the federated search will receive and store search result data from the queried remote deployment(s). As such, you acknowledge and agree that you have discussed the risks of your Federated Search feature usage with your company’s appropriate authorities before proceeding, particularly in regard to remote deployments in regulated environments such as HIPAA, PCI-DSS, and GovCloud."))},s.default.createElement(E.default,{selected:this.state.provider.agreeWarningConsent,onClick:this.toggleAgreeWarningConsent,"data-test-name":"warning-consent-switch"},(0,c._)("Agree")))),s.default.createElement(b.default.Footer,null,s.default.createElement(m.default,{appearance:"secondary",label:(0,c._)("Test Connection"),disabled:this.isTestConnectionBtnDisabled(),onClick:this.handleTestConnectionClick,"data-test-name":"test-connection-btn"}),s.default.createElement(m.default,{appearance:"secondary",onClick:this.props.close,label:(0,c._)("Cancel"),"data-test-name":"provider-cancel-btn"}),s.default.createElement(m.default,{appearance:"primary",label:(0,c._)("Save"),disabled:!this.state.provider.agreeWarningConsent||this.props.saving||!this.state.updated,onClick:this.submit,"data-test-name":"provider-save-btn"})))}}]),t}(s.default.Component);function M(e){var t=e.children;return s.default.createElement("span",{className:"input-label"},t)}F.propTypes={close:u.default.func.isRequired,addProvider:u.default.func.isRequired,editProvider:u.default.func.isRequired,clearErrors:u.default.func.isRequired,existingProviderNames:u.default.arrayOf(u.default.string).isRequired,editMode:u.default.bool,provider:u.default.instanceOf(S.default),saving:u.default.bool.isRequired,errors:u.default.arrayOf(u.default.string).isRequired},F.defaultProps={provider:null,editMode:!1},M.propTypes={children:u.default.node.isRequired},t.default=F,e.exports=t.default},"views/federated_search/Table":function(e,t,a){"use strict";a(1),Object.defineProperty(t,"__esModule",{value:!0});var r=f(a(11)),n=f(a(13)),l=f(a(15)),d=f(a(16)),i=f(a(0)),o=f(a(2)),s=f(a(47)),u=f(a(22)),c=a(7);function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e){(0,r.default)(this,t);var a=(0,l.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handleSort=function(e,t){var r=t.sortKey;a.setState((function(e){var t=e.sortKey===r?e.sortDir:"none";return{sortKey:r,sortDir:"asc"===t?"desc":"asc"}}))},a.state={sortKey:e.defaultSortKey,sortDir:"asc"},a}return(0,d.default)(t,e),(0,n.default)(t,[{key:"render",value:function(){var e=this,t=this.props.columns,a=t.find((function(t){return t.sortable&&t.key===e.state.sortKey})).itemValue,r=this.props.items.sort((function(t,r){return"asc"===e.state.sortDir?a(t)>a(r)?1:-1:"desc"===e.state.sortDir?a(t)<a(r)?1:-1:0}));return i.default.createElement(s.default,{rowExpansion:"multi",stripeRows:!0,outerStyle:{margin:"0 20px"}},i.default.createElement(s.default.Head,null,t.map((function(t){return i.default.createElement(s.default.HeadCell,{key:t.key,sortKey:t.sortable&&t.key,sortDir:t.sortable&&e.state.sortKey===t.key?e.state.sortDir:"none",onSort:t.sortable&&e.handleSort,align:t.centered?"center":"left"},t.label)})),i.default.createElement(s.default.HeadCell,{key:"actions"},(0,c._)("Actions"))),i.default.createElement(s.default.Body,{style:{background:"white"}},r.map((function(a){return i.default.createElement(s.default.Row,{key:a.name(),"data-test-name":a.name()+"-row",expansionRow:e.props.getExpansion(a)},t.map((function(e){return i.default.createElement(s.default.Cell,{key:e.key,align:e.centered?"center":"left","data-test-name":e.key+"-cell"},e.itemValue(a))})),i.default.createElement(s.default.Cell,null,i.default.createElement(u.default,{"data-test-name":"edit-link",style:{marginRight:"1em"},onClick:function(){return e.props.onEdit(a)}},(0,c._)("Edit")),i.default.createElement(u.default,{"data-test-name":"delete-link",style:{marginRight:"1em"},onClick:function(){return e.props.onDelete(a)}},(0,c._)("Delete"))))}))))}}]),t}(i.default.Component);p.propTypes={columns:o.default.arrayOf(o.default.shape({key:o.default.string.isRequired,label:o.default.string.isRequired,sortable:o.default.boolean,itemValue:o.default.func.isRequired,centered:o.default.boolean})).isRequired,items:o.default.arrayOf(o.default.shape({name:o.default.func.isRequired})).isRequired,getExpansion:o.default.func,onEdit:o.default.func.isRequired,onDelete:o.default.func.isRequired,defaultSortKey:o.default.string.isRequired},p.defaultProps={getExpansion:function(){}},t.default=p,e.exports=t.default}});